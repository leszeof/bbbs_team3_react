{"version":3,"sources":["contexts/CurrentUserContext.js","contexts/CitiesContext.js","hooks/useClickOutside.js","hooks/useSmoothHorizontalScroll.js","hooks/useScrollToTop.js","config/config.js","utils/auth.js","config/routes.js","api/cities.js","hooks/useDebounce.js","hooks/useCities.js","api/places-page.js","hooks/useActivityTypes.js","hooks/useLocalStorage.js","components/utils/NavItem/NavItem.js","utils/drop-down-menu-link.js","components/utils/DropDownMenu/DropDownMenu.js","components/NavItemWithDropdown/NavItemWithDropdown.js","components/utils/SearchButton/SearchButton.js","components/utils/UserIconButton/UserIconButton.js","components/utils/UserMenuButton/UserMenuButton.js","components/NavBar/NavBar.js","components/Header/Header.js","assets/footer-logo.svg","components/Footer/Footer.js","layout/BasePage.js","components/utils/TitleH3/TitleH3.js","components/utils/Blockquote/Blockquote.js","assets/logo.svg","components/utils/LogoBlue/LogoBlue.js","components/Cards/CardFigure/CardFigure.js","components/utils/TitleH2/TitleH2.js","components/Cards/CardAbout/CardAbout.js","components/utils/Card/Card.js","pages/AboutUs/AboutUs.js","config/constants.js","utils/utils.js","components/Cards/ProfileEventCard/ProfileEventCard.js","utils/rating-captions.js","components/utils/Input/Input.js","components/utils/Caption/Caption.js","components/utils/Rating/Rating.js","components/utils/Button/Button.js","components/utils/ButtonRound/ButtonRound.js","components/ProfileForm/ProfileForm.js","assets/icon-logo-no-text.svg","components/Cards/CardAnnotation/CardAnnotationContainer.js","components/ProfileDiary/ProfileDiary.js","components/Popups/Popup/Popup.js","components/Popups/PopupDeleteDiary/PopupDeleteDiary.js","api/afisha-page.js","components/utils/TitleH1/TitleH1.js","components/utils/ButtonDots/ButtonDots.js","components/Cards/CardCalendar/CardCalendar.js","components/utils/Loader/Loader.js","components/AnimatedPageContainer/AnimatedPageContainer.js","pages/Profile/Profile.js","api/event-participants.js","api/profile-page.js","components/utils/PseudoButtonTag/PseudoButtonTag.js","utils/filter-tags.js","pages/Calendar/Calendar.js","api/main-page.js","components/Cards/CardStub/CardStub.js","components/Cards/CardAnnotation/CardAnnotation.js","components/utils/Rubric/Rubric.js","components/Cards/CardPlace/CardPlace.js","components/Cards/CardArticleBig/CardArticleBig.js","components/Cards/CardFilm/CardFilm.js","components/Cards/CardVideoMain/CardVideoMain.js","components/utils/Widget/Widget.js","components/Cards/CardQuestion/CardQuestion.js","pages/MainPage/MainPage.js","pages/PageNotFound/PageNotFound.js","components/utils/Paginate/Paginate.js","components/Cards/CardsSectionWithLines/CardsSectionWithLines.js","api/catalog-page.js","components/Cards/CardCatalog/CardCatalog.js","pages/Catalog/Catalog.js","api/questions-page.js","pages/Questions/Questions.js","components/FormRecommendation/FormRecommendation.js","components/Popups/PopupConfirmation/PopupConfirmation.js","components/Popups/PopupSuccessfully/PopupSuccessfully.js","components/Popups/PopupRecommendSuccess/PopupRecommendSuccess.js","components/Popups/PopupLogin/PopupLogin.js","components/Popups/PopupAboutEvent/PopupAboutEvent.js","components/Popups/PopupCities/PopupCities.js","api/user.js","components/Popups/PopupError/PopupError.js","components/PlacesRecommend/PlacesRecommend.js","pages/Places/Places.js","api/rights-page.js","components/Cards/CardRights/CardRights.js","pages/Rights/Rights.js","pages/Movies/Movies.js","pages/ReadAndWatch/ReadAndWatch.js","components/ProtectedRoute/ProtectedRoute.js","navigation/Router.js","utils/api.js","App.js","index.js"],"names":["CurrentUserContext","React","createContext","CitiesContext","useClickOutside","callback","ref","useRef","clickListener","useCallback","evt","current","contains","target","useEffect","document","addEventListener","removeEventListener","useSmoothHorizontalScroll","step","scrollByWheel","preventDefault","scrollTo","left","scrollLeft","deltaY","behavior","useLayoutEffect","useScrollToTop","window","top","baseURL","apiUrl","adminUrl","staticImageUrl","AuthApi","accessToken","axios","defaults","headers","get","Authorization","post","patch","delete","console","log","loginData","then","response","data","catch","err","Promise","reject","Error","message","AFISHA_URL","ABOUT_US_URL","QUESTIONS_URL","PROFILE_URL","PLACES_URL","RIGHTS_URL","READ_AND_WATCH_URL","CATALOG_URL","MOVIES_URL","getCities","timer","useCities","useState","cities","setCities","useDebounce","delay","clearTimeout","setTimeout","getPlacesTags","city","params","getPlaces","chosen","tags","min_age","max_age","results","useActivityTypes","activityTypes","setActivityTypes","getlocalStorageData","key","JSON","parse","localStorage","getItem","NavItem","sectionWrapperClass","sectionLinkClass","href","linkText","rel","className","to","defaultProps","dropDownMenuLink","title","url","DropDownMenu","map","item","NavItemWithDropdown","links","text","link","SearchButton","handleClick","type","aria-label","onClick","UserIconButton","sectionClass","isAuthorized","classNames","join","trim","UserMenuButton","NavBar","isMobileMenuOpen","onUserButtonClick","onBurgerButtonClick","onCityChangeClick","onLogout","userCityName","currentUser","useContext","pathname","name","placeholder","Header","onCityChange","useLocation","setUserCityName","currentCity","find","id","setIsMobileMenuOpen","headerRef","handleCloseMobileMenu","classList","isHeaderActive","setIsHeaderActive","prevScrollPos","currentScrollPos","pageYOffset","classNamesHeader","onKeyPress","Footer","src","footerLogoPath","alt","path","BasePage","children","TitleH3","Blockquote","sectionTitleClass","LogoBlue","logoPath","CardFigure","shape","color","TitleH2","CardAbout","Card","role","tabIndex","AboutUs","content","weekdays","months","COLORS","FIGURES","ALL_CATEGORIES","regExpImages","regExpUrl","DELAY_DEBOUNCE","localStUserCity","formatDate","date","parsedDate","Date","day","getDate","weekdayName","getDay","monthName","getMonth","hour","String","getHours","year","getFullYear","minutes","getMinutes","formatWordCase","remainSeats","lastDigit","getCardType","tag","idx","length","toLowerCase","questionForm","titleClass","formVisibilityClass","changeCaseOfFirstLetter","str","toUpperCase","slice","randomizeArray","arr","size","array","Array","splice","Math","floor","random","ProfileEventCard","onOpen","startDay","startAt","captions","good","neutral","bad","Input","register","required","max","min","minLength","maxLength","pattern","error","errorMessage","isTextarea","onFocus","classNamesInput","classNamesTextarea","onChange","undefined","Caption","Rating","value","ratingType","checked","pseudoButtonClassNames","htmlFor","defaultChecked","Button","titleSelected","isSubmittable","isDisabled","isBooked","disabled","ButtonRound","label","isSmall","isSpan","isClick","ProfileForm","isEditMode","isOpen","onClose","onSubmit","inputValues","setInputValues","caption","setCaption","userImage","setUserImage","fileUploaded","setFileUploaded","useForm","handleSubmit","errors","formState","reset","setValue","handleChangeRating","mark","image","place","dateString","month","parseDate","description","values","inputFields","Object","assign","imageUrl","accept","file","test","URL","createObjectURL","handleChangeImage","files","currentTarget","CardAnnotationContainer","renderThumbVertical","ProfileDiary","onEdit","onDelete","eventDay","defaultImage","Popup","typeContainer","withoutCloseButton","PopupDeleteDiary","onCardDelete","cardData","setMonth","formatMonthsGenitiveCase","parseInt","getCalendarPageData","TitleH1","ButtonDots","CardCalendar","isModal","onEventSignUpClick","onEventFullDescriptionClick","booked","endAt","address","contact","startDateParts","endDayParts","Loader","isNested","isCentered","AnimatedPageContainer","is404","titleText","buttonText","animationContainer","Lottie","loadAnimation","container","renderer","loop","autoplay","animationData","animation404","Profile","events","setEvents","diaries","setDiaries","isFormOpen","setIsFormOpen","setIsEditMode","formDataToEdit","setFormDataToEdit","isDeleteDiaryPopupOpen","setIsDeleteDiaryPopupOpen","all","calendarData","eventIds","event","bookedEvents","filter","includes","openEventCard","containerEvents","scrollAnchorRef","openForm","scrollIntoView","closeForm","handleEditMode","createFormData","formData","FormData","append","handleCreateDiary","createDiary","res","finally","handleEditDiary","diaryId","editDiary","diary","handleSubmitDiary","selectedDiary","setSelectedDiary","openDeleteDiaryPopup","closeDeleteDiaryPopup","titleH1","prev","PseudoButtonTag","isActive","renderFilterTags","filterList","handleCheckboxBehavior","setState","inputValue","isChecked","stateFilters","filterItem","handleRadioBehavior","selectOneTag","tagName","deselectOneTag","Calendar","onOpenLoginPopup","isLoading","setIsLoading","isCityChanging","setIsCityChanging","calendarPageData","setCalendarPageData","filters","setFilters","isFiltersUsed","setIsFiltersUsed","dataForCurrentCityExist","getInitialPageData","calendarEvents","handleFilterClick","monthsTags","customFilters","debounceFiltration","activeFilter","monthNumber","filteredEvents","getMainPageData","CardStub","CardAnnotation","info","isMain","Rubric","CardPlace","gender","age","activityType","isBig","isMainPage","cardColor","cardSize","sex","types","reduce","obj","CardArticleBig","CardFilm","CardVideoMain","duration","hours","seconds","format","formatDuration","Widget","allow","CardQuestion","answer","isQuestionsPage","setIsClick","answerRender","MainPage","mainPageData","setMainPageData","randomMovies","movies","randomQuestions","questions","history","articles","video","PageNotFound","Paginate","pageCount","containerClassName","pageClassName","pageLinkClassName","activeLinkClassName","previousClassName","breakClassName","nextClassName","disabledClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","selected","CardsSectionWithLines","pageNumber","setPageNumber","getCatalogPageData","limit","offset","CardCatalog","Catalog","pageSize","setPageSize","setPageCount","catalogPageData","setCatalogPageData","count","ceil","smallQuery","matchMedia","largeQuery","listener","matches","i","getQuestionsPageData","Questions","questionsPageData","setQuestionsPageData","categories","setCategories","questionFormState","setQuestionFormState","setFormState","isError","question","onFormSubmit","postQuestion","changeCategory","activeCategories","allQuestions","query","getQuestionsByFilters","filteredQuestions","questionsData","tagsFilters","slug","FormRecommendation","textAreaPlaceholder","innerWidth","clearErrors","isAnimated","setIsAnimated","formClassNames","noValidate","hidden","PopupConfirmation","onConfirmButtonClick","endDay","PopupSuccessfully","animationSuccess","PopupRecommendSuccess","animationRecommendSuccess","PopupLogin","onLoginFormSubmit","useHistory","location","username","password","push","PopupAboutEvent","PopupCities","dataToUpdate","cityId","nativeEvent","submitter","updatedUser","Event","setItem","stringify","dispatchEvent","setlocalStorageData","isPrimary","PopupError","PlacesRecommend","isSuccessPopupOpen","setIsSuccessPopupOpen","closeSuccessPopup","closeSuccessPopupOnEsc","postPlace","ageFilters","range","mentorTag","Places","openPopupCities","currentAnonymousCity","anonymousCityChanged","localStorageItem","setLocalStorageItem","useLocalStorage","userCity","places","setPlaces","chosenPlace","setChosenPlace","isChosenCardHidden","setIsChosenCardHidden","isFirstRender","setIsFirstRender","ages","setAges","changeAge","definePlaces","placesData","chosenPlaces","chosenPlaceLast","restOfPlaces","ageFilter","category","activeTags","isMentorFlag","some","tagsData","categoriesArray","defineCategories","getRightsData","CardRights","Rights","setArticles","isLoadingPage","setIsLoadingPage","getPageStub","getArticlesData","tagsStr","getArticlesTags","categoriesArr","getPageData","Movies","moviesTags","annotation","ReadAndWatch","ProtectedRoute","Component","component","props","isAuth","Router","handlers","handleEventBooking","handleClickPopupAboutEventOpened","handleClickPopupLoginOpened","handleClickPopupCities","exact","Api","eventId","App","setCurrentUser","isCheckingToken","setIsCheckingToken","isPopupConfirmationOpen","setIsPopupConfirmationOpen","isPopupLoginOpen","setIsPopupLoginOpen","isPopupSuccessfullyOpen","setIsPopupSuccessfullyOpen","isPopupAboutDescriptionOpen","setIsPopupAboutDescriptionOpen","isPopupCitiesOpen","setIsPopupCitiesOpen","isPopupErrorOpen","setIsPopupErrorOpen","selectedCalendarCard","setSelectedCalendarCard","closeAllPopups","handleClickPopupErrorOpened","cardId","isEventBooked","cancelEventRegistration","token","setAuth","getUserData","userData","checkToken","Provider","clearAuth","removeItem","makeEventRegistration","onErrorClick","authorize","access","refresh","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c17f5fa0.chunk.js","sourcesContent":["import React from 'react';\n\nconst CurrentUserContext = React.createContext();\nexport default CurrentUserContext;\n","import React from 'react';\n\nconst CitiesContext = React.createContext();\nexport default CitiesContext;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// отслеживает, что клик произошёл вне контейнера-рефа и запускает колбэк\nconst useClickOutside = (callback) => {\n  const ref = useRef(null);\n\n  const clickListener = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        if (!ref.current.contains(evt.target)) {\n          callback();\n        }\n      }\n    },\n    [ref.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('mousedown', clickListener);\n    return () => document.removeEventListener('mousedown', clickListener);\n  }, []);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","/* eslint-disable consistent-return */\nimport { useCallback, useLayoutEffect, useRef } from 'react';\n\n// горизонтальная плавная прокрутка\n// step: number\nconst useSmoothHorizontalScroll = ({ step }) => {\n  const ref = useRef();\n\n  const scrollByWheel = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        evt.preventDefault();\n        ref.current.scrollTo({\n          left: ref.current.scrollLeft + evt.deltaY * step,\n          behavior: 'smooth',\n        });\n      }\n    },\n    [ref.current]\n  );\n\n  useLayoutEffect(() => {\n    if (ref && ref.current) {\n      ref.current.addEventListener('wheel', scrollByWheel);\n      return () => ref.current.removeEventListener('wheel', scrollByWheel);\n    }\n  }, [ref.current]);\n\n  return ref;\n};\n\nexport default useSmoothHorizontalScroll;\n","import { useEffect } from 'react';\n\nconst useScrollToTop = () => {\n  useEffect(() => {\n    window.scrollTo({ top: 0 });\n  }, []);\n};\n\nexport default useScrollToTop;\n","export const baseURL = 'http://localhost:80';\nexport const apiUrl = '/api/v1';\nexport const adminUrl = 'http://127.0.0.1';\nexport const staticImageUrl = `${adminUrl}/media`;\n","import axios from 'axios';\n// import setMockedAnswers from './mocked-answers';\nimport { apiUrl, baseURL } from '../config/config';\n\n// setMockedAnswers();\n\nexport default class AuthApi {\n  static setAuth(accessToken) {\n    //! подключено к бекенду\n    axios.defaults.headers.get.Authorization = `Bearer ${accessToken}`;\n    axios.defaults.headers.post.Authorization = `Bearer ${accessToken}`;\n    axios.defaults.headers.patch.Authorization = `Bearer ${accessToken}`;\n    axios.defaults.headers.delete.Authorization = `Bearer ${accessToken}`;\n  }\n\n  // очистка при логауте\n  static clearAuth() {\n    //! подключено к бекенду\n    console.log(axios.defaults.headers);\n    axios.defaults.headers.get.Authorization = '';\n    axios.defaults.headers.post.Authorization = '';\n    axios.defaults.headers.delete.Authorization = '';\n    axios.defaults.headers.patch.Authorization = '';\n    console.log(axios.defaults.headers);\n  }\n\n  static authorize(loginData) {\n    //! подключено к бекенду\n    return axios\n      .post(`${baseURL}${apiUrl}/token/`, loginData)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n\n  //! может вынести отсюда в API\n  static getUserData() {\n    //! подключено к бекенду\n    return axios\n      .get(`${baseURL}${apiUrl}/profile/`)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n}\n","export const MAIN_PAGE_URL = '/';\nexport const AFISHA_URL = '/afisha';\nexport const ABOUT_US_URL = '/about-us';\nexport const QUESTIONS_URL = '/questions';\nexport const PROFILE_URL = '/profile';\nexport const PLACES_URL = '/places';\nexport const RIGHTS_URL = '/rights';\nexport const READ_AND_WATCH_URL = '/read-and-watch';\nexport const CATALOG_URL = '/catalog';\nexport const VIDEO_URL = '/video';\nexport const ARTICLES_URL = '/articles';\nexport const MOVIES_URL = '/movies';\nexport const BOOKS_URL = '/books';\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить города\nfunction getCities() {\n  return axios\n    .get(`${baseURL}${apiUrl}/cities/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCities;\n","import { useCallback } from 'react';\n\nlet timer;\nconst useDebounce = (callback, delay) => {\n  const debouncedCallback = useCallback(() => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(() => {\n      callback();\n    }, delay);\n  }, [callback, delay]);\n\n  return debouncedCallback;\n};\n\nexport default useDebounce;\n","import { useEffect, useState } from 'react';\nimport getCities from '../api/cities';\n\nconst useCities = () => {\n  const [cities, setCities] = useState(null);\n\n  useEffect(() => {\n    getCities().then(setCities).catch(console.log);\n  }, []);\n\n  return cities;\n};\n\nexport default useCities;\n","/* eslint-disable camelcase */\n// python was here\nimport axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getPlacesTags({ city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/tags/`, {\n      params: { city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getPlaces({ chosen, tags, min_age, max_age, city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/`, {\n      params: chosen\n        ? { city, chosen, tags, min_age, max_age }\n        : { city, tags, min_age, max_age },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction postPlace(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/places/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getActivityTypes() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/activity-types/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getPlacesTags, getPlaces, postPlace, getActivityTypes };\n","import { useEffect, useState } from 'react';\nimport { getActivityTypes } from '../api/places-page';\n\nconst useActivityTypes = () => {\n  const [activityTypes, setActivityTypes] = useState(null);\n\n  useEffect(() => {\n    getActivityTypes().then(setActivityTypes).catch(console.log);\n  }, []);\n\n  return activityTypes;\n};\n\nexport default useActivityTypes;\n","import { useEffect, useState } from 'react';\n\nexport const setlocalStorageData = (key, value) => {\n  const event = new Event('changeLocalStorage');\n  localStorage.setItem(key, JSON.stringify(value));\n  window.dispatchEvent(event);\n};\n\nexport const getlocalStorageData = (key) =>\n  JSON.parse(localStorage.getItem(key));\n\nexport const useLocalStorage = (key) => {\n  const [localStorageItem, setLocalStorageItem] = useState(null);\n\n  const setItem = () => {\n    setLocalStorageItem(getlocalStorageData(key));\n  };\n\n  useEffect(() => {\n    window.addEventListener('changeLocalStorage', setItem, false);\n    return () =>\n      window.removeEventListener('changeLocalStorage', setItem, false);\n  }, []);\n\n  return localStorageItem;\n};\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavItem({\n  sectionWrapperClass,\n  sectionLinkClass,\n  href,\n  linkText,\n  rel,\n  target,\n}) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className={sectionLinkClass} to={href} rel={rel} target={target}>\n        {linkText}\n      </NavLink>\n    </li>\n  );\n}\n\nNavItem.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  sectionLinkClass: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  linkText: PropTypes.string.isRequired,\n  rel: PropTypes.string,\n  target: PropTypes.string,\n};\n\nNavItem.defaultProps = {\n  rel: '',\n  target: '_self',\n  href: '',\n};\n\nexport default NavItem;\n","import {\n  CATALOG_URL,\n  VIDEO_URL,\n  ARTICLES_URL,\n  MOVIES_URL,\n  BOOKS_URL,\n} from '../config/routes';\n\nconst dropDownMenuLink = [\n  {\n    title: 'Справочник',\n    url: CATALOG_URL,\n  },\n  {\n    title: 'Видео',\n    url: VIDEO_URL,\n  },\n  {\n    title: 'Статьи',\n    url: ARTICLES_URL,\n  },\n  {\n    title: 'Фильмы',\n    url: MOVIES_URL,\n  },\n  {\n    title: 'Книги',\n    url: BOOKS_URL,\n  },\n];\n\nexport default dropDownMenuLink;\n","import PropTypes from 'prop-types';\nimport NavItem from '../NavItem/NavItem';\nimport './DropDownMenu.scss';\nimport dropDownMenuLink from '../../../utils/drop-down-menu-link';\n\nfunction DropDownMenu({ sectionWrapperClass }) {\n  return (\n    <ul className={sectionWrapperClass}>\n      {dropDownMenuLink.map((item) => (\n        <NavItem\n          key={item.title}\n          sectionWrapperClass=\"menu__dropdown-list-item\"\n          sectionLinkClass=\"link menu__dropdown-link\"\n          href={item.url}\n          linkText={item.title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nDropDownMenu.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n};\n\nexport default DropDownMenu;\n","import './NavItemWithDropdown.scss';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport DropDownMenu from '../utils/DropDownMenu/DropDownMenu';\nimport { CATALOG_URL } from '../../config/routes';\n\nfunction NavItemWithDropdown({ sectionWrapperClass, linkText, href }) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className=\"menu__link\" to={href}>\n        {linkText}\n      </NavLink>\n\n      <DropDownMenu\n        sectionWrapperClass=\"menu__dropdown-list\"\n        links={[\n          { text: 'Справочник', link: CATALOG_URL },\n          { text: 'Видео', link: CATALOG_URL },\n          { text: 'Статьи', link: CATALOG_URL },\n          { text: 'Фильмы', link: CATALOG_URL },\n          { text: 'Книги', link: CATALOG_URL },\n        ]}\n      />\n    </li>\n  );\n}\n\nNavItemWithDropdown.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nNavItemWithDropdown.defaultProps = {\n  href: '',\n};\n\nexport default NavItemWithDropdown;\n","import './SearchButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction SearchButton({ handleClick }) {\n  return (\n    <button\n      className=\"search-button search__button\"\n      type=\"submit\"\n      aria-label=\"Поиск\"\n      title=\"Поиск\"\n      onClick={handleClick}\n    />\n  );\n}\n\nSearchButton.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nSearchButton.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default SearchButton;\n","import './UserIconButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserIconButton({ sectionClass, isAuthorized, handleClick }) {\n  const classNames = [\n    'user-button',\n    isAuthorized ? 'user-button_authorized' : 'user-button_unauthorized',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      aria-label=\"Личный кабинет\"\n      title=\"Личный кабинет\"\n      onClick={handleClick}\n    />\n  );\n}\n\nUserIconButton.propTypes = {\n  sectionClass: PropTypes.string,\n  isAuthorized: PropTypes.objectOf(PropTypes.any),\n  handleClick: PropTypes.func,\n};\n\nUserIconButton.defaultProps = {\n  sectionClass: '',\n  isAuthorized: false,\n  handleClick: () => {},\n};\n\nexport default UserIconButton;\n","import './UserMenuButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserMenuButton({ title, handleClick, sectionClass }) {\n  const classNames = ['user-menu-button', sectionClass].join(' ').trim();\n\n  return (\n    <button className={classNames} type=\"button\" onClick={handleClick}>\n      {title}\n    </button>\n  );\n}\n\nUserMenuButton.propTypes = {\n  title: PropTypes.string,\n  handleClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nUserMenuButton.defaultProps = {\n  title: '',\n  handleClick: () => {},\n  sectionClass: '',\n};\n\nexport default UserMenuButton;\n","import './NavBar.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useContext } from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n} from '../../config/routes';\nimport {\n  NavItem,\n  NavItemWithDropdown,\n  SearchButton,\n  UserIconButton,\n  UserMenuButton,\n} from './index';\n\nfunction NavBar({\n  isMobileMenuOpen,\n  onUserButtonClick,\n  onBurgerButtonClick,\n  onCityChangeClick,\n  onLogout,\n  userCityName,\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <nav className=\"menu\">\n      {/* логотип */}\n      <Link to=\"/\" target=\"_self\" className=\"menu__logo mobile-link\">\n        наставники.про\n      </Link>\n      {/* обычное меню */}\n      <div\n        className={`menu__lists-wrap ${\n          !isMobileMenuOpen ? 'menu__lists-wrap_hidden' : ''\n        }`}\n      >\n        <ul className=\"menu__list\">\n          {/* О проекте, скрытый */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item menu__list-item_hidden\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={ABOUT_US_URL}\n            linkText=\"О проекте\"\n          />\n          {/* Календарь */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={AFISHA_URL}\n            linkText=\"Календарь\"\n          />\n          {/* Куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={PLACES_URL}\n            linkText=\"Куда пойти\"\n          />\n          {/* Вопросы */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={QUESTIONS_URL}\n            linkText=\"Вопросы\"\n          />\n          {/* выпадающее меню  \"Читать и смотреть\" */}\n          <NavItemWithDropdown\n            sectionWrapperClass=\"menu__list-item menu__dropdown-item\"\n            linkText=\"Читать и смотреть\"\n            href={READ_AND_WATCH_URL}\n          />\n          {/* Права детей */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={RIGHTS_URL}\n            linkText=\"Права детей\"\n          />\n          {/* Истории */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href=\"#\"\n            linkText=\"Истории\"\n          />\n        </ul>\n\n        <ul\n          className={`menu__list menu__list_type_social ${\n            !isMobileMenuOpen ? 'menu__list_hidden' : ''\n          }`}\n        >\n          {/* facebook */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={{\n              pathname:\n                'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n            }}\n            linkText=\"facebook\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          />\n          {/* vkontakte */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={{ pathname: 'https://vk.com/big.brothers.big.sisters' }}\n            linkText=\"vkontakte\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          />\n          {/* instagram */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={{ pathname: 'https://www.instagram.com/nastavniki_org/' }}\n            linkText=\"instagram\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          />\n          {/* youtube */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={{ pathname: 'https://www.youtube.com/user/Nastavniki/' }}\n            linkText=\"youtube\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          />\n        </ul>\n      </div>\n\n      {currentUser && (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. Изменить город`\n                : 'Изменить ваш город'\n            }\n            handleClick={onCityChangeClick}\n            sectionClass=\"mobile-link\"\n          />\n          <UserMenuButton\n            title=\"Выйти\"\n            sectionClass=\"mobile-link\"\n            handleClick={onLogout}\n          />\n        </div>\n      )}\n\n      <button\n        onClick={onBurgerButtonClick}\n        className={`menu__burger ${\n          isMobileMenuOpen ? 'menu__burger_active' : ''\n        }`}\n        type=\"button\"\n      >\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n      </button>\n\n      <ul className=\"menu__button-list\">\n        <li className=\"menu__button-item\">\n          <form className=\"search\" name=\"search-form\">\n            <SearchButton />\n            <div className=\"search__options menu__search-options\">\n              <input\n                type=\"text\"\n                name=\"search\"\n                placeholder=\"Поиск\"\n                className=\"search__input paragraph\"\n              />\n              <ul className=\"search__option-list\">\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./article.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Причины подростковой агрессии\n                  </a>\n                  <a href=\"./article.html\" className=\"link search__link\">\n                    статьи\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./video.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Агрессивное поведение детей-сирот\n                  </a>\n                  <a href=\"./video.html\" className=\"link search__link\">\n                    видео\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./questions.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Что делать если ваш младший агрессивно себя ведет, решил\n                    закрыть пару?\n                  </a>\n                  <a href=\"./questions.html\" className=\"link search__link\">\n                    вопросы\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./books.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Как реагировать на агрессивное поведения ребенка\n                  </a>\n                  <a href=\"./books.html\" className=\"link search__link\">\n                    книги\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </form>\n        </li>\n        <li className=\"menu__button-item\">\n          <UserIconButton\n            sectionClass=\"mobile-link\"\n            isAuthorized={currentUser}\n            handleClick={onUserButtonClick}\n          />\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nNavBar.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onBurgerButtonClick: PropTypes.func,\n  onCityChangeClick: PropTypes.func,\n  onLogout: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  userCityName: PropTypes.string,\n};\n\nNavBar.defaultProps = {\n  onUserButtonClick: () => {},\n  onBurgerButtonClick: () => {},\n  onCityChangeClick: () => {},\n  onLogout: () => {},\n  isMobileMenuOpen: false,\n  userCityName: '',\n};\n\nexport default NavBar;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n// !onClick в <header> используется исключительно для\n// !делегирования функции закрытия мобильного меню по клику на ссылки\n// !https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/master/docs/rules/no-static-element-interactions.md#case-the-event-handler-is-only-being-used-to-capture-bubbled-events\n\nimport { useState, useEffect, useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport './Header.scss';\nimport PropTypes from 'prop-types';\nimport { CurrentUserContext, CitiesContext } from '../../contexts/index';\nimport { useClickOutside } from '../../hooks/index';\nimport { PROFILE_URL, AFISHA_URL, PLACES_URL } from '../../config/routes';\nimport { NavBar, UserMenuButton } from './index';\n\nfunction Header({ onUserButtonClick, onLogout, onCityChange }) {\n  const { pathname } = useLocation();\n  const currentUser = useContext(CurrentUserContext);\n  const cities = useContext(CitiesContext);\n\n  const [userCityName, setUserCityName] = useState('');\n\n  // определение города пользователя, используется в кнопках\n  useEffect(() => {\n    if (cities && currentUser) {\n      const currentCity = cities.find((city) => city.id === currentUser.city);\n      setUserCityName(currentCity.name);\n    }\n  }, [cities, currentUser]);\n\n  // меню бургер\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  // закрытие мобильного меню по клику вне хедера\n  const headerRef = useClickOutside(() => setIsMobileMenuOpen(false));\n\n  // закрытие мобильного меню по клику на ссылки\n  const handleCloseMobileMenu = (evt) => {\n    const { target } = evt;\n    if (isMobileMenuOpen && target.classList.contains('mobile-link')) {\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  // липкий хедер\n  const [isHeaderActive, setIsHeaderActive] = useState(true);\n  let prevScrollPos = 0;\n\n  useEffect(() => {\n    window.addEventListener('scroll', () => {\n      const currentScrollPos = window.pageYOffset;\n      // если prevScrollPos больше currentScrollPos значит мы скролим наверх\n      if (prevScrollPos > currentScrollPos) {\n        setIsHeaderActive(true);\n      } else {\n        setIsHeaderActive(false);\n        setIsMobileMenuOpen(false);\n      }\n\n      if (currentScrollPos === 0) {\n        setIsHeaderActive(true);\n      }\n      prevScrollPos = currentScrollPos;\n    });\n  }, []);\n\n  const classNamesHeader = [\n    'header',\n    isMobileMenuOpen ? 'header_displayed' : '',\n    !isHeaderActive ? 'header__on-scroll-up' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <header\n      className={classNamesHeader}\n      ref={headerRef}\n      onClick={handleCloseMobileMenu}\n      onKeyPress={handleCloseMobileMenu}\n    >\n      <div className=\"header__container\">\n        <NavBar\n          onUserButtonClick={onUserButtonClick}\n          onBurgerButtonClick={toggleMobileMenu}\n          userCityName={userCityName}\n          onCityChangeClick={onCityChange}\n          onLogout={onLogout}\n          isMobileMenuOpen={isMobileMenuOpen}\n        />\n\n        {pathname === PROFILE_URL && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. Изменить город`\n                  : 'Изменить ваш город'\n              }\n              sectionClass=\"mobile-link\"\n              handleClick={onCityChange}\n            />\n            <UserMenuButton\n              title=\"Выйти\"\n              sectionClass=\"mobile-link\"\n              handleClick={onLogout}\n            />\n          </div>\n        )}\n\n        {(pathname === AFISHA_URL || pathname === PLACES_URL) && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. Изменить город`\n                  : 'Изменить ваш город'\n              }\n              handleClick={onCityChange}\n              sectionClass=\"mobile-link\"\n            />\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n\nHeader.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onCityChange: PropTypes.func,\n  onLogout: PropTypes.func,\n};\n\nHeader.defaultProps = {\n  onUserButtonClick: () => {},\n  onCityChange: () => {},\n  onLogout: () => {},\n};\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/footer-logo.476770b8.svg\";","import { Link } from 'react-router-dom';\nimport './Footer.scss';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n} from '../../config/routes';\nimport { footerLogoPath, NavItem } from './index';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <Link to=\"/\" className=\"footer__logo\" target=\"_self\">\n        <img\n          className=\"footer__logo-image\"\n          src={footerLogoPath}\n          alt=\"Логотип Старшие Братья Старшие Сестры России\"\n        />\n      </Link>\n      <a\n        className=\"button footer__button\"\n        href=\"https://www.nastavniki.org/campaign/pomoch-dengami/\"\n      >\n        Помочь деньгами\n      </a>\n      <div className=\"footer__column footer__column_content_concept\">\n        <p className=\"footer__brand\">&copy; Старшие Братья Старшие Сестры</p>\n        <div className=\"footer__copyright\">\n          <p className=\"footer__authors\">\n            {'Разработка – студенты '}\n            <a\n              href=\"https://praktikum.yandex.ru/\"\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Яндекс.Практикум\n            </a>\n          </p>\n          <p className=\"footer__design\">\n            {'Концепция и дизайн – '}\n            <a\n              href=\"https://krkr.design/\"\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              krkr.design\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"footer__column footer__column_content_info\">\n        <ul className=\"footer__column-list\">\n          {/* о проекте */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={ABOUT_US_URL}\n            linkText=\"о проекте\"\n          />\n          {/* каленарь */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={AFISHA_URL}\n            linkText=\"календарь\"\n          />\n          {/* куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={PLACES_URL}\n            linkText=\"куда пойти\"\n          />\n          {/* вопросы */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={QUESTIONS_URL}\n            linkText=\"вопросы\"\n          />\n          {/* читать и смотреть */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={READ_AND_WATCH_URL}\n            linkText=\"читать и смотреть\"\n          />\n          {/* права детей */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={RIGHTS_URL}\n            linkText=\"права детей\"\n          />\n          {/* истории */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href=\"/\"\n            linkText=\"истории\"\n          />\n        </ul>\n      </div>\n      <div className=\"footer__column footer__column_content_social\">\n        <ul className=\"footer__column-list\">\n          {/* fb */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={{\n              path: 'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n            }}\n            linkText=\"facebook\"\n            rel=\"noreferrer\"\n          />\n          {/* vk */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={{ path: 'https://vk.com/big.brothers.big.sisters' }}\n            linkText=\"vkontakte\"\n            rel=\"noreferrer\"\n          />\n          {/* insta */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={{ path: 'https://www.instagram.com/nastavniki_org/' }}\n            linkText=\"instagram\"\n            rel=\"noreferrer\"\n          />\n          {/* youtube */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={{ path: 'https://www.youtube.com/user/Nastavniki/' }}\n            linkText=\"youtube\"\n            rel=\"noreferrer\"\n          />\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import PropTypes from 'prop-types';\nimport Footer from '../components/Footer/Footer';\n\nfunction BasePage({ children }) {\n  return (\n    <>\n      <main className=\"main\">{children}</main>\n      <Footer />\n    </>\n  );\n}\n\nBasePage.propTypes = {\n  children: PropTypes.node,\n};\n\nBasePage.defaultProps = {\n  children: null,\n};\n\nexport default BasePage;\n","import PropTypes from 'prop-types';\n\nfunction TitleH3({ title, sectionClass }) {\n  return <h3 className={`chapter-title ${sectionClass}`}>{title}</h3>;\n}\n\nTitleH3.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nTitleH3.defaultProps = {\n  sectionClass: '',\n};\n\nexport default TitleH3;\n","import PropTypes from 'prop-types';\n\nfunction Blockquote({ sectionWrapperClass, sectionTitleClass, text }) {\n  return (\n    <blockquote className={sectionWrapperClass}>\n      <h3 className={`chapter-title ${sectionTitleClass}`}>{text}</h3>\n    </blockquote>\n  );\n}\n\nBlockquote.propTypes = {\n  sectionWrapperClass: PropTypes.string,\n  sectionTitleClass: PropTypes.string,\n  text: PropTypes.string,\n};\n\nBlockquote.defaultProps = {\n  sectionWrapperClass: '',\n  sectionTitleClass: '',\n  text: '',\n};\n\nexport default Blockquote;\n","export default __webpack_public_path__ + \"static/media/logo.2968d95e.svg\";","import './LogoBlue.scss';\nimport logoPath from '../../../assets/logo.svg';\n\nfunction LogoBlue() {\n  return (\n    <img\n      src={logoPath}\n      alt=\"Логотип Старшие Братья Старшие Сестры России\"\n      className=\"logo\"\n    />\n  );\n}\n\nexport default LogoBlue;\n","import './CardFigure.scss';\nimport PropTypes from 'prop-types';\n\nfunction CardFigure({ title, shape, color, children, sectionClass }) {\n  return (\n    <div\n      className={`card-figure card-figure_color_${color} card-figure_form_${shape} ${sectionClass}`}\n    >\n      {title && <h2 className=\"section-title\">{title}</h2>}\n      {children}\n    </div>\n  );\n}\n\nCardFigure.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  sectionClass: PropTypes.string,\n};\n\nCardFigure.defaultProps = {\n  title: '',\n  shape: 'square',\n  color: 'yellow',\n  children: null,\n  sectionClass: '',\n};\n\nexport default CardFigure;\n","import PropTypes from 'prop-types';\n\nfunction TitleH2({ title, sectionClass }) {\n  return <h2 className={`section-title ${sectionClass}`}>{title}</h2>;\n}\n\nTitleH2.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH2.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH2;\n","import './CardAbout.scss';\nimport PropTypes from 'prop-types';\nimport TitleH2 from '../../utils/TitleH2/TitleH2';\n\nfunction CardAbout({ title, text, color, linkText, href }) {\n  return (\n    <article className=\"card-container card-about\">\n      <div className={`card-about__heading card-about__heading_color_${color}`}>\n        <TitleH2 title={title} />\n      </div>\n      <div className=\"card-about__container\">\n        <p className=\"paragraph card-about__paragraph\">{text}</p>\n        <a\n          className=\"link card-about__card-link\"\n          href={href}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {linkText}\n        </a>\n      </div>\n    </article>\n  );\n}\n\nCardAbout.propTypes = {\n  title: PropTypes.string,\n  color: PropTypes.string,\n  text: PropTypes.string,\n  linkText: PropTypes.string,\n  href: PropTypes.string,\n};\n\nCardAbout.defaultProps = {\n  title: '',\n  color: '',\n  text: '',\n  linkText: '',\n  href: '#',\n};\n\nexport default CardAbout;\n","import './Card.scss';\nimport PropTypes from 'prop-types';\n\nfunction Card({ color, sectionClass, children, onClick }) {\n  const classNames = ['card', `card_color_${color}`, sectionClass]\n    .join(' ')\n    .trim();\n\n  return (\n    <div\n      className={classNames}\n      onClick={onClick}\n      onKeyPress={onClick}\n      role=\"button\"\n      tabIndex=\"0\"\n    >\n      {children}\n    </div>\n  );\n}\n\nCard.propTypes = {\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n  onClick: PropTypes.func,\n};\n\nCard.defaultProps = {\n  color: 'white',\n  sectionClass: '',\n  children: null,\n  onClick: () => {},\n};\n\nexport default Card;\n","import './AboutUs.scss';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../../hooks/index';\nimport {\n  BasePage,\n  TitleH3,\n  Blockquote,\n  LogoBlue,\n  CardFigure,\n  CardAbout,\n  Card,\n} from './index';\n\nfunction AboutUs() {\n  useScrollToTop();\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>О проекте</title>\n        <meta\n          name=\"description\"\n          content=\"Информация об организации Старшие Братья Старшие Сёстры\"\n        />\n      </Helmet>\n      <section className=\"about page__section fade-in\">\n        <TitleH3\n          sectionClass=\"about__title\"\n          title=\"Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.\"\n        />\n        <a\n          className=\"about__logo\"\n          href=\"https://www.nastavniki.org/o-nas/ob-organizaczii/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n\n        {/* желтый круг + белая карточка */}\n        <div className=\"about__us\">\n          <CardFigure title=\"Об организации\" color=\"yellow\" shape=\"circle\" />\n\n          <Card sectionClass=\"about__annotation\" color=\"white\">\n            <p className=\"paragraph about__paragraph\">\n              «Старшие Братья Старшие Сестры» — межрегиональная общественная\n              организация содействия воспитанию подрастающего поколения. Мы\n              поддерживаем детей, которым требуется внимание: оставшихся без\n              попечения родителей, приемных, детей из неполных, многодетных или\n              неблагополучных семей, детей с ограниченными возможностями.\n            </p>\n            <p className=\"paragraph about__paragraph\">\n              Любому человеку, тем более ребенку, необходимо общение. Без него\n              дети растут неуверенными и замкнутыми. Одиночество токсично, а\n              самое надежное противоядие – дружба.\n            </p>\n            <p className=\"paragraph about__paragraph\">\n              Мы помогаем детям, которым не хватает поддержки взрослого друга,\n              «Младшим». Таким другом становится наш волонтер, «Старший». Он\n              принимает ребенка, какой он есть, поддерживает, помогает раскрыть\n              потенциал, почувствовать уверенность в своих силах, узнать\n              элементарные вещи о жизни, адаптироваться и полноценно участвовать\n              в жизни общества.\n            </p>\n          </Card>\n        </div>\n\n        {/* цитата */}\n        <Blockquote\n          sectionWrapperClass=\"about__quote\"\n          sectionTitleClass=\"about__quote-text\"\n          text=\"Мы хотим, чтобы наставник был у каждого ребенка, который в нем нуждается\"\n        />\n\n        {/* секция из 3 карточек с плашками */}\n        <div className=\"about__cards\">\n          <CardAbout\n            title=\"Пожертвования\"\n            text=\"Деньги пойдут на оплату работы кураторов (профессиональные психологи/социальные работники), которые поддерживают дружбу между ребенком и наставником.\"\n            linkText=\"сделать пожертвование\"\n            href=\"https://www.nastavniki.org/campaign/pomoch-dengami/\"\n            color=\"blue\"\n          />\n\n          <CardAbout\n            title=\"Наставничество\"\n            text=\"Наставник «Старшие Братья Старшие Сестры» — значимый взрослый, который становится для ребенка старшим другом, ролевой моделью, принимает своего «Младшего» таким, какой он есть. «Старший» открывает для ребенка дверь в большой мир и дарит ему надежду на более счастливое и успешное будущее.\"\n            linkText=\"подробнее\"\n            href=\"https://www.nastavniki.org/volontyorstvo/kak-stat-volonterom/\"\n            color=\"pink\"\n          />\n\n          <CardAbout\n            title=\"Партнерство\"\n            text=\"Компании поддерживают нас не только деньгами, но и делами. Мы собрали все возможные способы поддержки и сотрудничества: профессиональная помощь Pro Bono, организационная помощь, корпоративное волонтерство, мастер-классы, лекции, учебные программы.\"\n            linkText=\"подробнее\"\n            href=\"https://www.nastavniki.org/oficzialno/nashi-partneryi/\"\n            color=\"green\"\n          />\n        </div>\n      </section>\n    </BasePage>\n  );\n}\n\nexport default AboutUs;\n","export const weekdays = [\n  'воскресенье',\n  'понедельник',\n  'вторник',\n  'среда',\n  'четверг',\n  'пятница',\n  'суббота',\n];\n\nexport const months = [\n  '', // специально, т.к у бекенда с номера 1 начинается расчет месяцев\n  'январь',\n  'февраль',\n  'март',\n  'апрель',\n  'май',\n  'июнь',\n  'июль',\n  'август',\n  'сентябрь',\n  'октябрь',\n  'ноябрь',\n  'декабрь',\n];\n\nexport const COLORS = [\n  'yellow',\n  'green',\n  'yellow',\n  'pink',\n  'blue',\n  'pink',\n  'green',\n  'yellow',\n  'green',\n  'blue',\n  'pink',\n  'blue',\n];\n\nexport const FIGURES = [\n  'square',\n  'circle',\n  'arch',\n  'circle',\n  'arch',\n  'square',\n  'arch',\n  'square',\n  'circle',\n];\n\nexport const ALL_CATEGORIES = 'Все';\n\nexport const regExpImages = /^[\\W\\w\\S\\s]+\\.(jpe?g|png|webp|jfif|bmp)$/i;\nexport const regExpUrl = /^https?:\\/\\/(w{3}\\.)?\\w+\\S+(\\.[a-z]{2,})?$/;\n\nexport const DELAY_DEBOUNCE = 1500;\n\nexport const localStUserCity = 'userCity';\n","import { months, weekdays } from '../config/constants';\n\n// форматирует секунды в часы, минуты и секунды, принимает на вход number\nexport const formatDuration = (duration) => {\n  const hours = parseInt(duration / (60 * 60), 10);\n  const minutes = parseInt((duration / 60) % 60, 10);\n  const seconds = duration % 60;\n  const format = (value) => (value < 10 ? `0${value}` : `${value}`);\n\n  return {\n    hours: format(hours),\n    minutes: format(minutes),\n    seconds: format(seconds),\n  };\n};\n\n// форматирует дату в объект по разным ключам, принимает на вход string вида \"2021-05-08T21:22:00Z\"\nexport const formatDate = (date) => {\n  const parsedDate = new Date(date);\n  let day = parsedDate.getDate();\n  const weekdayName = weekdays[parsedDate.getDay()];\n  const monthName = months[parsedDate.getMonth() + 1]; // потому что months начинается с 1, а не 0\n  const hour = String(parsedDate.getHours());\n  const year = String(parsedDate.getFullYear());\n  let minutes = parsedDate.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  return {\n    year,\n    day,\n    weekdayName,\n    monthName,\n    hour,\n    minutes,\n  };\n};\n\n// форматирует дату типа \"2021-05-08T21:22:00Z\" в 'YYYY/MM/DD'\nexport const parseDate = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  return `${year}-${month}-${day}`;\n};\n\n// падеж слова \"место\" в зависимости от числа мест\n// принимает на вход количество оставшихся мест из чего формирует падеж слова\n// нужно в карточках, попапах\nexport const formatWordCase = (remainSeats) => {\n  // если кончается на 1 - окончание О\n  // если кончается на 2 3 4 - окончание A\n  // если кончается на другое - окончания нет\n  const lastDigit = remainSeats % 10;\n\n  if (lastDigit === 1) {\n    return 'место';\n  }\n  if (lastDigit === 2 || lastDigit === 3 || lastDigit === 4) {\n    return 'местa';\n  }\n  return 'мест';\n};\n\n// вернет заголовок состоящий из тегов\n// принимает массив тегов\nexport const getCardType = (tags) => {\n  if (tags) {\n    return tags.map((tag, idx) => {\n      if (tags.length === 1) {\n        return `${tag.name}`;\n      }\n      if (idx !== tags.length - 1) {\n        return `${tag.name} + `;\n      }\n      return `${tag.name.toLowerCase()}`;\n    });\n  }\n  return undefined;\n};\n\nexport const questionForm = {\n  beforeSubmit: {\n    title:\n      'Если вы не нашли ответ на свой вопрос — напишите нам, и мы включим его в список',\n    titleClass: '',\n    formVisibilityClass: '',\n  },\n  successSubmit: {\n    title:\n      'Спасибо! Мы приняли ваш вопрос. Ваш вопрос опубликуют, как только он пройдет проверку и модератор даст на него ответ!',\n    titleClass: 'add-question__title_success',\n    formVisibilityClass: 'question-form_invisible',\n  },\n  errorSubmit: {\n    title:\n      'Произошла ошибка при отправке вашего вопроса! Попробуйте повторить позже или обратиться в службу поддержки!',\n    titleClass: 'add-question__title_error',\n  },\n};\n\n// меняет в слове первую букву на заглавную\nexport const changeCaseOfFirstLetter = (str) => {\n  if (!str) return str;\n\n  return str[0].toUpperCase() + str.slice(1);\n};\n\n// управление падежами месяцев\nexport const formatMonthsGenitiveCase = (month) => {\n  if (month === 'март' || month === 'август') return `${month}а`;\n  return `${month.slice(0, -1)}я`;\n};\n\nexport const randomizeArray = (arr, size) => {\n  if (arr && size < arr.length) {\n    const array = arr.slice();\n    return [...Array(size)].map(\n      () => array.splice(Math.floor(Math.random() * array.length), 1)[0]\n    );\n  }\n  return arr;\n};\n","import './ProfileEventCard.scss';\nimport PropTypes from 'prop-types';\nimport { formatDate } from '../../../utils/utils';\nimport Card from '../../utils/Card/Card';\n\nfunction ProfileEventCard({ data, onOpen }) {\n  const startDay = formatDate(data.startAt);\n\n  const handleOpen = () => {\n    onOpen(data);\n  };\n\n  return (\n    <Card sectionClass=\"profile-event-card\" onClick={handleOpen}>\n      <div className=\"profile-event-card__date\">\n        <span className=\"profile-event-card__day\">{startDay.day}</span>\n        <span className=\"profile-event-card__month\">{startDay.monthName}</span>\n      </div>\n      <p className=\"profile-event-card__title\">{data.title}</p>\n    </Card>\n  );\n}\n\nProfileEventCard.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onOpen: PropTypes.func,\n};\n\nProfileEventCard.defaultProps = {\n  onOpen: () => {},\n};\n\nexport default ProfileEventCard;\n","const captions = {\n  good: 'Было классно',\n  neutral: 'Нормально',\n  bad: 'Что-то пошло не так',\n};\n\nexport default captions;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './Input.scss';\nimport PropTypes from 'prop-types';\n\nfunction Input({\n  type,\n  name,\n  placeholder,\n  register,\n  required,\n  max,\n  min,\n  minLength,\n  maxLength,\n  pattern,\n  error,\n  errorMessage,\n  sectionClass,\n  isTextarea,\n  onFocus,\n}) {\n  const message = error ? errorMessage : '';\n\n  const classNamesInput = ['input', message ? 'input__error' : '', sectionClass]\n    .join(' ')\n    .trim();\n  const classNamesTextarea = [\n    'input',\n    message ? 'input__error' : '',\n    'textarea',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  if (isTextarea) {\n    return (\n      <textarea\n        className={classNamesTextarea}\n        type={type}\n        name={name}\n        placeholder={message || placeholder}\n        {...register(name, { required, minLength, maxLength })}\n      />\n    );\n  }\n\n  return (\n    <input\n      className={classNamesInput}\n      type={type}\n      name={name}\n      placeholder={message || placeholder}\n      onFocus={onFocus}\n      {...register(name, { required, max, min, minLength, maxLength, pattern })}\n    />\n  );\n}\n\nInput.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isTextarea: PropTypes.bool,\n  onChange: PropTypes.func,\n  register: PropTypes.func.isRequired,\n  required: PropTypes.bool,\n  max: PropTypes.objectOf(PropTypes.any),\n  min: PropTypes.objectOf(PropTypes.any),\n  maxLength: PropTypes.objectOf(PropTypes.any),\n  minLength: PropTypes.objectOf(PropTypes.any),\n  pattern: PropTypes.objectOf(PropTypes.any),\n  error: PropTypes.objectOf(PropTypes.any),\n  errorMessage: PropTypes.string,\n  onFocus: PropTypes.func,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  sectionClass: '',\n  isTextarea: false,\n  onChange: () => {},\n  required: false,\n  max: undefined,\n  min: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  pattern: undefined,\n  error: undefined,\n  errorMessage: '',\n  onFocus: () => {},\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\n\nfunction Caption({ title, sectionClass }) {\n  return <p className={`caption ${sectionClass}`}>{title}</p>;\n}\n\nCaption.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCaption.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Caption;\n","import './Rating.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rating({\n  type,\n  name,\n  value,\n  ratingType,\n  sectionClass,\n  checked,\n  onClick,\n}) {\n  const classNames = ['rating', sectionClass].join(' ').trim();\n\n  const pseudoButtonClassNames = [\n    'rating__pseudo-button',\n    `rating__pseudo-button_type_${ratingType}_default`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <label className={classNames} htmlFor={`rating-${name}-${value}`}>\n      <input\n        id={`rating-${name}-${value}`}\n        className=\"rating__checkbox\"\n        type={type}\n        name={name}\n        value={value}\n        defaultChecked={checked}\n        onClick={() => onClick(value)}\n      />\n      <span className={pseudoButtonClassNames} />\n    </label>\n  );\n}\n\nRating.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  ratingType: PropTypes.string,\n  sectionClass: PropTypes.string,\n  checked: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nRating.defaultProps = {\n  name: '',\n  value: 'neutral',\n  ratingType: 'neutral',\n  sectionClass: '',\n  checked: false,\n  onClick: () => {},\n};\n\nexport default Rating;\n","import './Button.scss';\nimport PropTypes from 'prop-types';\n\nfunction Button({\n  title,\n  titleSelected,\n  color,\n  isSubmittable,\n  isDisabled,\n  onClick,\n  isBooked,\n  sectionClass,\n}) {\n  const classNames = [\n    'button',\n    `button_color_${color}`,\n    sectionClass,\n    isBooked ? `button_color_${color}_selected` : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type={isSubmittable ? 'submit' : 'button'}\n      disabled={isDisabled}\n      onClick={onClick}\n    >\n      {!isBooked ? title : titleSelected || title}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  title: PropTypes.string,\n  titleSelected: PropTypes.string,\n  color: PropTypes.string,\n  isSubmittable: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  isBooked: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nButton.defaultProps = {\n  title: '',\n  color: 'blue',\n  isSubmittable: false,\n  titleSelected: undefined,\n  onClick: () => {},\n  isDisabled: false,\n  isBooked: false,\n  sectionClass: '',\n};\n\nexport default Button;\n","import './ButtonRound.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonRound({\n  label,\n  sectionClass,\n  color,\n  isSmall,\n  isDisabled,\n  isSpan,\n  onClick,\n  isClick,\n}) {\n  const classNames = [\n    'button-round',\n    `button-round_color_${color}`,\n    isSmall ? 'button-round_small' : '',\n    sectionClass,\n    isClick ? 'button-round_active' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  if (isSpan) {\n    return <span className={classNames} />;\n  }\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={isDisabled}\n      aria-label={label}\n    />\n  );\n}\n\nButtonRound.propTypes = {\n  label: PropTypes.string,\n  sectionClass: PropTypes.string,\n  color: PropTypes.string,\n  isSmall: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isSpan: PropTypes.bool,\n  onClick: PropTypes.func,\n  isClick: PropTypes.bool,\n};\n\nButtonRound.defaultProps = {\n  label: '',\n  sectionClass: '',\n  color: '',\n  isSmall: false,\n  isDisabled: false,\n  isSpan: false,\n  onClick: undefined,\n  isClick: false,\n};\n\nexport default ButtonRound;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './ProfileForm.scss';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useForm } from 'react-hook-form';\nimport { parseDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport { regExpImages } from '../../config/constants';\nimport { Card, Input, Caption, Rating, Button, ButtonRound } from './index';\n\nfunction ProfileForm({\n  data,\n  sectionClass,\n  isEditMode,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  const classNames = ['card-container', 'profile-form', sectionClass]\n    .join(' ')\n    .trim();\n\n  const [inputValues, setInputValues] = useState({});\n  const [caption, setCaption] = useState('');\n  const [userImage, setUserImage] = useState(null);\n  const [fileUploaded, setFileUploaded] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n  } = useForm();\n\n  const onFormSubmit = (values) => {\n    let inputFields = Object.assign(values);\n    inputFields = {\n      ...inputFields,\n      mark: inputValues.mark,\n      id: inputValues.id,\n    };\n    if (fileUploaded && userImage.image) {\n      inputFields = {\n        ...inputFields,\n        image: userImage.image,\n      };\n    }\n    onSubmit(inputFields);\n    setFileUploaded(false);\n  };\n\n  const handleFocusDataInput = (evt) => {\n    // eslint-disable-next-line no-param-reassign\n    evt.currentTarget.type = 'date';\n  };\n\n  const handleChangeRating = (value) => {\n    setInputValues({ ...inputValues, mark: value });\n  };\n\n  const handleChangeImage = (file) => {\n    if (file && regExpImages.test(file.name)) {\n      const imageUrl = URL.createObjectURL(file);\n      setUserImage({ ...userImage, image: file, imageUrl });\n      setFileUploaded(true);\n    }\n  };\n\n  const handleCloseForm = () => {\n    setInputValues({});\n    setUserImage(null);\n    reset();\n    onClose();\n  };\n\n  useEffect(() => {\n    if (inputValues?.mark) setCaption(captions[inputValues.mark]);\n    else setCaption('Оцените проведенное время');\n  }, [inputValues.mark]);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (data) {\n        setInputValues({ ...inputValues, ...data });\n        setUserImage({ image: data.image });\n        setValue('place', data.place);\n        setValue('date', parseDate(data.date));\n        setValue('description', data.description);\n        setValue('mark', data.mark);\n      }\n    }\n  }, [isOpen, data]);\n\n  return (\n    <form\n      name=\"addStoryForm\"\n      onSubmit={handleSubmit(onFormSubmit)}\n      className={classNames}\n    >\n      <Card sectionClass=\"profile-form__photo-upload\">\n        {(userImage?.imageUrl || userImage?.image) && (\n          <img\n            src={userImage.imageUrl || `${staticImageUrl}/${userImage.image}`}\n            alt={data?.place}\n            className=\"profile-form__uploaded-image\"\n          />\n        )}\n\n        <div\n          className={`profile-form__input-upload ${\n            userImage?.imageUrl || userImage?.image\n              ? 'profile-form__input-upload_hidden'\n              : ''\n          }`}\n        >\n          <label htmlFor=\"input-upload\" className=\"profile-form__label-file\">\n            <input\n              id=\"input-upload\"\n              type=\"file\"\n              accept=\"image/png, image/jpeg\"\n              name=\"image\"\n              className=\"profile-form__input-file\"\n              onChange={(evt) => handleChangeImage(evt.target.files[0])}\n            />\n            <ButtonRound\n              sectionClass={`profile-form__pseudo-button ${\n                errors?.image ? 'profile-form__pseudo-button_error' : ''\n              }`}\n              color={`${errors?.image ? 'error' : 'lightGray'}`}\n              isSpan\n            />\n          </label>\n          <Caption\n            title=\"Загрузить фото\"\n            sectionClass={`profile-form__caption ${\n              errors?.image ? 'profile-form__caption_error' : ''\n            }`}\n          />\n        </div>\n      </Card>\n\n      <Card sectionClass=\"profile-form__text-container\">\n        <div className=\"profile-form__texts\">\n          <div className=\"profile-form__input-wrap\">\n            <Input\n              sectionClass=\"profile-form__input\"\n              type=\"text\"\n              name=\"place\"\n              placeholder=\"Место встречи\"\n              register={register}\n              required\n              minLength={{ value: 5, message: 'Минимальная длина 5 символов' }}\n              maxLength={{\n                value: 128,\n                message: 'Максимальная длина 128 символов',\n              }}\n              error={errors?.place}\n              errorMessage=\"Место встречи*\"\n            />\n            {errors?.place && (\n              <span className=\"profile-form__input-error\">\n                {errors?.place?.message}\n              </span>\n            )}\n          </div>\n\n          <Input\n            type=\"text\"\n            name=\"date\"\n            placeholder=\"Дата __.__.____\"\n            onFocus={handleFocusDataInput}\n            sectionClass={`profile-form__input profile-form__input_el_date ${\n              errors.date ? 'profile-form__input_el_date-error' : ''\n            }`}\n            register={register}\n            required\n            error={errors?.date}\n            errorMessage=\"Дата*&emsp;\"\n          />\n          <div className=\"profile-form__input-wrap profile-form__input-wrap_textarea\">\n            <Input\n              type=\"text\"\n              name=\"description\"\n              placeholder=\"Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось\"\n              sectionClass=\"profile-form__input profile-form__input_el_textarea\"\n              register={register}\n              required\n              maxLength={{\n                value: 1024,\n                message: 'Максимальная длина 1024 символа',\n              }}\n              error={errors?.description}\n              errorMessage=\"Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось*\"\n              isTextarea\n            />\n            {errors?.description && (\n              <span className=\"profile-form__input-error\">\n                {errors?.description?.message}\n              </span>\n            )}\n          </div>\n\n          <div className=\"profile-form__submit-zone\">\n            <div className=\"profile-form__ratings\">\n              <Rating\n                type=\"radio\"\n                name=\"rating\"\n                ratingType=\"good\"\n                onClick={handleChangeRating}\n                value=\"good\"\n                sectionClass=\"profile-form__rating\"\n                checked={data?.mark === 'good'}\n              />\n              <Rating\n                type=\"radio\"\n                name=\"rating\"\n                ratingType=\"neutral\"\n                onClick={handleChangeRating}\n                value=\"neutral\"\n                sectionClass=\"profile-form__rating\"\n                checked={data?.mark === 'neutral'}\n              />\n              <Rating\n                type=\"radio\"\n                name=\"rating\"\n                ratingType=\"bad\"\n                onClick={handleChangeRating}\n                value=\"bad\"\n                sectionClass=\"profile-form__rating\"\n                checked={data?.mark === 'bad'}\n              />\n              <Caption\n                title={caption}\n                sectionClass={`profile-form__ratings-text profile-form__ratings-text_type_${inputValues.mark}`}\n              />\n            </div>\n            <div className=\"profile-form__buttons\">\n              <Button\n                title={`${isEditMode ? 'Отмена' : 'Удалить'}`}\n                color=\"gray-borderless\"\n                sectionClass=\"profile-form__button_el_delete\"\n                onClick={handleCloseForm}\n              />\n              <Button\n                title={`${isEditMode ? 'Сохранить' : 'Добавить'}`}\n                sectionClass=\"profile-form__button_el_add\"\n                isDisabled={\n                  !!(errors.place || errors.date || errors.description)\n                }\n                isSubmittable\n              />\n            </div>\n          </div>\n        </div>\n      </Card>\n    </form>\n  );\n}\n\nProfileForm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  isEditMode: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nProfileForm.defaultProps = {\n  data: {},\n  sectionClass: '',\n  onClose: () => {},\n  isOpen: false,\n  isEditMode: false,\n  onSubmit: () => {},\n};\n\nexport default ProfileForm;\n","export default __webpack_public_path__ + \"static/media/icon-logo-no-text.ebdb8e22.svg\";","import PropTypes from 'prop-types';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport Caption from '../../utils/Caption/Caption';\n\nfunction CardAnnotationContainer({ caption, children }) {\n  return (\n    <Scrollbars\n      renderThumbVertical={() => <div className=\"card-annotation__thumb\" />}\n    >\n      {caption && (\n        <Caption sectionClass=\"card-annotation__caption\" title={caption} />\n      )}\n\n      <div className=\"card-annotation__desc\">{children}</div>\n    </Scrollbars>\n  );\n}\n\nCardAnnotationContainer.propTypes = {\n  caption: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCardAnnotationContainer.defaultProps = {\n  caption: null,\n  children: null,\n};\n\nexport default CardAnnotationContainer;\n","import './ProfileDiary.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { formatDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport defaultImage from '../../assets/icon-logo-no-text.svg';\nimport {\n  Card,\n  TitleH2,\n  CardAnnotationContainer,\n  Rating,\n  Caption,\n  Button,\n} from './index';\n\nfunction ProfileDiary({ data, onEdit, onDelete }) {\n  const { image, place, description, mark, date } = data;\n\n  const eventDay = formatDate(date);\n  const [caption, setCaption] = useState('');\n\n  useEffect(() => {\n    setCaption(captions[mark]);\n  }, [mark]);\n\n  const handleEditButtonClick = () => {\n    onEdit(data);\n  };\n\n  const handleDeleteButtonClick = () => {\n    onDelete(data);\n  };\n\n  return (\n    <div className=\"card-container profile-diary\">\n      <Card sectionClass=\"profile-diary__image-container\">\n        <img\n          className={\n            image ? 'profile-diary__image' : 'profile-diary__image_default'\n          }\n          src={image ? `${staticImageUrl}/${image}` : defaultImage}\n          alt={place}\n        />\n      </Card>\n      <Card sectionClass=\"profile-diary__date-container\">\n        <div className=\"profile-diary__text-wrap\">\n          <TitleH2 sectionClass=\"profile-diary__card-title\" title={place} />\n          <div className=\"profile-diary__card-text\">\n            <CardAnnotationContainer>\n              <p className=\"profile-diary__paragraph\">{description}</p>\n            </CardAnnotationContainer>\n          </div>\n        </div>\n        <div className=\"profile-diary__card-date\">\n          <p className=\"profile-diary__weekday\">{`${eventDay.monthName}, ${eventDay.year}`}</p>\n          <p className=\"profile-diary__day\">{eventDay.day}</p>\n        </div>\n        <div className=\"profile-diary__actions\">\n          <div className=\"profile-diary__rating\">\n            <Rating\n              type=\"radio\"\n              ratingType={mark}\n              value={mark}\n              checked\n              sectionClass=\"profile-diary__rate\"\n            />\n            <Caption\n              title={caption}\n              sectionClass={`profile-diary__ratings-text profile-diary__ratings-text_type_${\n                mark || 'neutral'\n              }`}\n            />\n          </div>\n          <div className=\"profile-diary__action-elements\">\n            <Button\n              title=\"Поделиться с куратором\"\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n            />\n            <Button\n              title=\"Редактировать\"\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleEditButtonClick}\n            />\n            <Button\n              title=\"Удалить\"\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleDeleteButtonClick}\n            />\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nProfileDiary.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func,\n};\n\nProfileDiary.defaultProps = {\n  data: {},\n  onEdit: () => {},\n  onDelete: () => {},\n};\n\nexport default ProfileDiary;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport './Popup.scss';\nimport PropTypes from 'prop-types';\n\nfunction Popup({\n  children,\n  type,\n  typeContainer,\n  isOpen,\n  onClose,\n  withoutCloseButton,\n  sectionClass,\n}) {\n  const closeAllPopupsOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n  return (\n    <div\n      className={`popup popup_type_${type} ${isOpen ? 'popup_opened' : ''} `}\n      onClick={closeAllPopupsOnOverlay}\n    >\n      <div\n        className={`popup__container popup__container_type_${typeContainer} ${sectionClass}`}\n      >\n        {!withoutCloseButton && (\n          <button\n            className=\"popup__close\"\n            type=\"button\"\n            aria-label=\"закрыть попап\"\n            onClick={onClose}\n          />\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  typeContainer: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  withoutCloseButton: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nPopup.defaultProps = {\n  children: null,\n  type: '',\n  typeContainer: '',\n  isOpen: false,\n  onClose: () => {},\n  sectionClass: '',\n  withoutCloseButton: false,\n};\n\nexport default Popup;\n","import './PopupDeleteDiary.scss';\nimport PropTypes from 'prop-types';\nimport { useEffect, useState } from 'react';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { Popup, TitleH2, Button } from './index';\n\nfunction PopupDeleteDiary({ isOpen, onClose, onCardDelete, cardData }) {\n  const { place, date } = cardData;\n  const day = formatDate(date);\n  const [month, setMonth] = useState(null);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onCardDelete(cardData);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      setMonth(formatMonthsGenitiveCase(day?.monthName));\n    }\n  }, [isOpen]);\n\n  return (\n    <Popup\n      type=\"confirm-delete-diary\"\n      typeContainer=\"confirm-diary\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n      sectionClass=\"popup-diary\"\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <TitleH2\n          title={`Удалить встречу в ${place} ${parseInt(\n            day.day,\n            10\n          )} ${month} ${day.year}?`}\n          sectionClass=\"popup-diary__title\"\n        />\n        <div className=\"popup-diary__buttons\">\n          <Button\n            color=\"gray\"\n            sectionClass=\"popup-diary__button\"\n            title=\"Удалить\"\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            sectionClass=\"popup-diary__button\"\n            title=\"Отмена\"\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupDeleteDiary.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onCardDelete: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupDeleteDiary.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onCardDelete: () => {},\n  cardData: {},\n};\n\nexport default PopupDeleteDiary;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить дату страницы\nfunction getCalendarPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получить тегсы-месяцы (список фильтров)\nfunction getActiveMonthTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/months/`)\n    .then((response) => response.data.months)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// фильтрация по конкретному месяцу\nfunction getEventsByFilters(monthNumber) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/?months=${monthNumber}`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getCalendarPageData, getActiveMonthTags, getEventsByFilters };\n","import './TitleH1.scss';\nimport PropTypes from 'prop-types';\n\nfunction TitleH1({ title, sectionClass }) {\n  return <h1 className={`main-title ${sectionClass}`}>{title}</h1>;\n}\n\nTitleH1.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH1.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH1;\n","import './ButtonDots.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonDots({ handleClick }) {\n  return (\n    <button className=\"button-dots\" type=\"button\" onClick={handleClick}>\n      &#8226;&#8226;&#8226;\n    </button>\n  );\n}\n\nButtonDots.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nButtonDots.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default ButtonDots;\n","import './CardCalendar.scss';\nimport PropTypes from 'prop-types';\nimport { formatDate, formatWordCase, getCardType } from '../../../utils/utils';\nimport { ButtonDots, Button } from './index';\n\nfunction CardCalendar({\n  cardData,\n  isModal,\n  onEventSignUpClick,\n  onEventFullDescriptionClick,\n  sectionClass,\n}) {\n  const {\n    booked,\n    tags,\n    title,\n    startAt,\n    endAt,\n    address,\n    contact,\n    remainSeats,\n    description,\n  } = cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n\n  // будет ли заблокирована кнопка\n  const isDisabled = remainSeats < 1;\n\n  function changeStateOfEvent() {\n    onEventSignUpClick(cardData, cardData.id, cardData.booked);\n  }\n\n  function prepareDataForAboutEventPopup() {\n    onEventFullDescriptionClick(cardData);\n  }\n\n  const classNames = [\n    'calendar',\n    booked ? 'calendar_selected' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <article className={classNames}>\n      <div className=\"calendar__caption\">\n        <div className=\"calendar__info\">\n          <p className=\"calendar__type\">{getCardType(tags)}</p>\n          <p className=\"calendar__weekday\">\n            {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n          </p>\n        </div>\n        <div className=\"calendar__about\">\n          <h2 className=\"section-title calendar__title\">{title}</h2>\n          <p className=\"calendar__date\">{startDateParts.day}</p>\n        </div>\n      </div>\n      <div className=\"calendar__meetup\">\n        <ul className=\"calendar__info-list\">\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__time\">\n              {`${startDateParts.hour}:${startDateParts.minutes} - ${endDayParts.hour}:${endDayParts.minutes}`}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__place\">{address}</p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__contact\">{contact}</p>\n          </li>\n        </ul>\n        {isModal && (\n          <div className=\"calendar__description\">\n            <p className=\"calendar__desc-paragraph\">{description}</p>\n          </div>\n        )}\n        <div className=\"calendar__submit\">\n          <Button\n            title=\"Записаться\"\n            titleSelected=\"Отменить запись\"\n            color=\"blue\"\n            isDisabled={isDisabled}\n            onClick={changeStateOfEvent}\n            isBooked={booked}\n          />\n          <p className=\"calendar__place-left\">\n            {/* если запись закрыта, то карточка не должна быть выделенной */}\n            {(isDisabled && 'Запись закрыта') ||\n              (!booked &&\n                `Осталось ${remainSeats} ${formatWordCase(remainSeats)}`)}\n          </p>\n          <ButtonDots handleClick={prepareDataForAboutEventPopup} />\n        </div>\n      </div>\n    </article>\n  );\n}\n\nCardCalendar.propTypes = {\n  cardData: PropTypes.objectOf(PropTypes.any),\n  isModal: PropTypes.bool,\n  onEventSignUpClick: PropTypes.func,\n  onEventFullDescriptionClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nCardCalendar.defaultProps = {\n  cardData: {},\n  isModal: false,\n  onEventSignUpClick: () => {},\n  onEventFullDescriptionClick: () => {},\n  sectionClass: '',\n};\n\nexport default CardCalendar;\n","import './Loader.scss';\nimport PropTypes from 'prop-types';\n\nfunction Loader({ isNested, isCentered }) {\n  const classNames = [\n    'spinner',\n    isNested ? 'spinner_waiting-for-data' : '',\n    isCentered ? 'spinner_centered' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <div className=\"spinner__container\">\n        <div className=\"spinner__circle spinner__circle_1\" />\n        <div className=\"spinner__circle spinner__circle_2\" />\n        <div className=\"spinner__circle spinner__circle_3\" />\n        <div className=\"spinner__circle spinner__circle_4\" />\n        <div className=\"spinner__circle spinner__circle_5\" />\n        <div className=\"spinner__circle spinner__circle_6\" />\n        <div className=\"spinner__circle spinner__circle_7\" />\n        <div className=\"spinner__circle spinner__circle_8\" />\n        <div className=\"spinner__circle spinner__circle_9\" />\n        <div className=\"spinner__circle spinner__circle_10\" />\n        <div className=\"spinner__circle spinner__circle_11\" />\n        <div className=\"spinner__circle spinner__circle_12\" />\n      </div>\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  isNested: PropTypes.bool,\n  isCentered: PropTypes.bool,\n};\n\nLoader.defaultProps = {\n  isNested: false,\n  isCentered: false,\n};\n\nexport default Loader;\n","import PropTypes from 'prop-types';\nimport { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport { animation404, TitleH2 } from './index';\n\nfunction AnimatedPageContainer({ is404, titleText, buttonText }) {\n  const animationContainer = useRef();\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation404,\n    });\n  }, []);\n\n  return (\n    <div className=\"animated-section\">\n      <div ref={animationContainer} className=\"animated-section__animation\" />\n      {is404 && <h1 className=\"page-not-found-title\">404</h1>}\n      <TitleH2 title={titleText} sectionClass=\"animated-section__subtitle\" />\n      <Link className=\"button animated-section__link button_color_blue\" to=\"/\">\n        {buttonText}\n      </Link>\n    </div>\n  );\n}\n\nAnimatedPageContainer.propTypes = {\n  is404: PropTypes.bool,\n  titleText: PropTypes.string,\n  buttonText: PropTypes.string,\n};\n\nAnimatedPageContainer.defaultProps = {\n  is404: false,\n  titleText: '',\n  buttonText: 'Вернуться на главную',\n};\n\nexport default AnimatedPageContainer;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport './Profile.scss';\nimport PropTypes from 'prop-types';\nimport { CurrentUserContext } from '../../contexts/index';\nimport { useSmoothHorizontalScroll, useScrollToTop } from '../../hooks/index';\nimport {\n  BasePage,\n  ProfileEventCard,\n  TitleH2,\n  ProfileForm,\n  ProfileDiary,\n  PopupDeleteDiary,\n  ButtonRound,\n} from './index';\nimport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n} from '../../api/profile-page';\nimport { getBookedEvents } from '../../api/event-participants';\nimport { getCalendarPageData } from '../../api/afisha-page';\nimport { Loader } from '../Calendar';\n\nfunction Profile({ onEventFullDescriptionClick }) {\n  useScrollToTop();\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const [events, setEvents] = useState(null);\n  const [diaries, setDiaries] = useState(null);\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [formDataToEdit, setFormDataToEdit] = useState(null);\n  const [isDeleteDiaryPopupOpen, setIsDeleteDiaryPopupOpen] = useState(false);\n\n  useEffect(() => {\n    Promise.all([getCalendarPageData(), getBookedEvents()])\n      .then(([calendarData, participantsData]) => {\n        const eventIds = participantsData.map((event) => event.event);\n        const bookedEvents = calendarData.filter((event) =>\n          eventIds.includes(event.id)\n        );\n        setEvents(bookedEvents);\n      })\n      .catch(console.log);\n  }, [currentUser?.city]);\n\n  useEffect(() => {\n    getProfileDiariesData().then(setDiaries).catch(console.log);\n  }, []);\n\n  // работа с карточками мероприятий календаря\n  const openEventCard = (data) => {\n    onEventFullDescriptionClick(data);\n  };\n\n  // скролл контейнера с карточками мероприятий\n  const containerEvents = useSmoothHorizontalScroll({ step: 3 });\n\n  // работа с формой\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const openForm = (data) => {\n    if (!data) setIsEditMode(false);\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    setIsEditMode(false);\n    setFormDataToEdit(null);\n  };\n\n  const handleEditMode = (data) => {\n    setIsFormOpen(false);\n    //! необходима небольшая задержка перед ререндером\n    setTimeout(() => {\n      setIsEditMode(true);\n      setFormDataToEdit(data);\n      openForm(data);\n    }, 100);\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data.id) formData.append('id', data.id);\n    if (data.image) formData.append('image', data.image);\n    formData.append('date', data.date);\n    formData.append('place', data.place);\n    formData.append('description', data.description);\n    formData.append('mark', data.mark);\n    return formData;\n  };\n\n  const handleCreateDiary = (data) => {\n    createDiary(createFormData(data))\n      .then((res) => setDiaries([res, ...diaries]))\n      .catch(console.log)\n      .finally(() => closeForm());\n  };\n\n  const handleEditDiary = (data) => {\n    editDiary(data.id, createFormData(data))\n      .then((res) =>\n        setDiaries(() =>\n          diaries.map((diary) => (diary.id === res.id ? res : diary))\n        )\n      )\n      .catch(console.log)\n      .finally(() => closeForm());\n  };\n\n  const handleSubmitDiary = (data) => {\n    const diary = data;\n    if (!diary.mark) {\n      diary.mark = 'neutral';\n    }\n    if (isEditMode) handleEditDiary(diary);\n    else handleCreateDiary(diary);\n  };\n\n  // удаление дневника\n  const [selectedDiary, setSelectedDiary] = useState({});\n\n  const openDeleteDiaryPopup = (diary) => {\n    setIsDeleteDiaryPopupOpen(true);\n    setSelectedDiary(diary);\n  };\n\n  const closeDeleteDiaryPopup = () => {\n    setIsDeleteDiaryPopupOpen(false);\n  };\n\n  const handleDeleteDiary = (diary) => {\n    deleteDiary(diary.id, diary)\n      .then(() =>\n        setDiaries(() =>\n          diaries.filter((prev) => (prev.id === diary.id ? null : prev))\n        )\n      )\n      .catch(console.log)\n      .finally(() => closeDeleteDiaryPopup());\n  };\n\n  // функции рендера\n  const titleH1 =\n    events?.length > 0\n      ? 'Вы записаны на мероприятия:'\n      : 'У вас нет записи на мероприятия';\n\n  const renderEventCards = () => {\n    if (events && events.length > 0) {\n      return (\n        <>\n          {events.map((item) => (\n            <ProfileEventCard\n              key={item.id}\n              data={item}\n              onOpen={openEventCard}\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderAddDiaryButton = () => {\n    if (!isFormOpen && diaries && diaries.length > 0) {\n      return (\n        <ButtonRound\n          sectionClass=\"profile__button-add-diary fade-in\"\n          color=\"blue\"\n          isSmall\n          onClick={openForm}\n        />\n      );\n    }\n    return null;\n  };\n\n  const renderDiaryForm = () => {\n    if (isFormOpen || (diaries && diaries.length === 0)) {\n      return (\n        <>\n          {!isEditMode && (\n            <TitleH2\n              sectionClass=\"profile__title fade-in\"\n              title=\"Составьте историю вашей дружбы с младшим. Эта страница доступна только вам.\"\n            />\n          )}\n          <ProfileForm\n            sectionClass=\"profile__diary-form fade-in\"\n            isEditMode={isEditMode}\n            isOpen={isFormOpen}\n            data={formDataToEdit}\n            onClose={closeForm}\n            onSubmit={handleSubmitDiary}\n          />\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderDiaries = () => {\n    if (diaries && diaries.length > 0) {\n      return (\n        <>\n          {diaries.map((diary) => (\n            <ProfileDiary\n              key={diary.id}\n              data={diary}\n              onEdit={handleEditMode}\n              onDelete={openDeleteDiaryPopup}\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  if (!events && !diaries) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Личный кабинет</title>\n        <meta name=\"description\" content=\"Личный кабинет наставника\" />\n      </Helmet>\n      <section className=\"profile fade-in\">\n        <div className=\"profile__events-area page__section\">\n          <TitleH2 sectionClass=\"profile__title\" title={titleH1} />\n          <div className=\"profile__events\" ref={containerEvents}>\n            {renderEventCards()}\n          </div>\n        </div>\n\n        <div className=\"profile__diaries page__section\">\n          <span className=\"profile__scroll-anchor\" ref={scrollAnchorRef} />\n          <div className=\"profile__diaries-container\">\n            <div className=\"profile__form-container\">\n              {renderAddDiaryButton()}\n\n              {renderDiaryForm()}\n            </div>\n\n            {renderDiaries()}\n          </div>\n        </div>\n      </section>\n      <PopupDeleteDiary\n        isOpen={isDeleteDiaryPopupOpen}\n        cardData={selectedDiary}\n        onClose={closeDeleteDiaryPopup}\n        onCardDelete={handleDeleteDiary}\n      />\n    </BasePage>\n  );\n}\n\nProfile.propTypes = {\n  onEventFullDescriptionClick: PropTypes.func,\n};\n\nProfile.defaultProps = {\n  onEventFullDescriptionClick: () => {},\n};\n\nexport default Profile;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// запись на мероприятие\nfunction makeEventRegistration(eventId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n    .then((response) => console.log(response))\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// отписка регистрации на мероприятие\nfunction cancelEventRegistration(eventId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n    .then((response) => console.log(response))\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение списка всех мероприятий на которые записан юзер\nfunction getBookedEvents() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { makeEventRegistration, cancelEventRegistration, getBookedEvents };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getProfileDiariesData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// создать дневник\nfunction createDiary(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// редактировать дневник\nfunction editDiary(diaryId, data) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// удалить дневник\nfunction deleteDiary(diaryId, data) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getProfileDiariesData, createDiary, editDiary, deleteDiary };\n","import './PseudoButtonTag.scss';\nimport PropTypes from 'prop-types';\n\nfunction PseudoButtonTag({ name, value, title, isActive, onClick }) {\n  const id = `filter-button-${value}`;\n\n  function handleClick(event) {\n    onClick(value, event.target.checked);\n  }\n\n  return (\n    <label className=\"pseudo-button-label\" htmlFor={id}>\n      <input\n        id={id}\n        className=\"pseudo-button-checkbox\"\n        type=\"checkbox\"\n        name={name}\n        value={value}\n        checked={isActive}\n        onChange={() => {}}\n        onClick={handleClick}\n      />\n      <span className=\"button pseudo-button\">{title}</span>\n    </label>\n  );\n}\n\nPseudoButtonTag.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nPseudoButtonTag.defaultProps = {\n  name: '',\n  value: '',\n  title: '',\n  isActive: false,\n  onClick: () => {},\n};\n\nexport default PseudoButtonTag;\n","/* eslint-disable no-param-reassign */\nimport PseudoButtonTag from '../components/utils/PseudoButtonTag/PseudoButtonTag';\n\nexport const renderFilterTags = (filterList, name, handleClick) =>\n  filterList.map((item) => (\n    <li className=\"tags__list-item\" key={item.name}>\n      <PseudoButtonTag\n        name={name}\n        value={item.filter}\n        title={item.name}\n        isActive={item.isActive}\n        onClick={handleClick}\n      />\n    </li>\n  ));\n\nexport const handleCheckboxBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const handleRadioBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const selectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = true;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectAllTags = (setState) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      filterItem.isActive = false;\n      return filterItem;\n    })\n  );\n};\n","import './Calendar.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport { months, DELAY_DEBOUNCE } from '../../config/constants';\nimport { renderFilterTags, handleRadioBehavior } from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  getCalendarPageData,\n  getActiveMonthTags,\n  getEventsByFilters,\n} from '../../api/afisha-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardCalendar,\n  AnimatedPageContainer,\n  Loader,\n} from './index';\n\nfunction Calendar({\n  onEventSignUpClick,\n  onEventFullDescriptionClick,\n  onOpenLoginPopup,\n}) {\n  useScrollToTop();\n\n  // переход между фильтрами, лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // переход между городами, лоадер\n  const [isCityChanging, setIsCityChanging] = useState(false);\n\n  const currentUser = useContext(CurrentUserContext);\n\n  // загрузка данных страницы календаря, если ты залогиненный\n  const [calendarPageData, setCalendarPageData] = useState(null);\n\n  // весь список доступных фильтров\n  // { isActive, name, filter }\n  const [filters, setFilters] = useState(null);\n\n  // флаг использования фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n\n  // нужно ли рисовать фильтры (если месяц всего 1 - не рисуем)\n  const dataForCurrentCityExist = calendarPageData?.length > 0;\n\n  function getInitialPageData() {\n    setIsCityChanging(true);\n    getCalendarPageData()\n      .then((calendarEvents) => setCalendarPageData(calendarEvents))\n      .catch((error) => console.log(error))\n      .finally(() => {\n        setIsLoading(false);\n        setIsCityChanging(false);\n      });\n  }\n\n  // загрузка главной страницы при старте\n  useEffect(() => {\n    if (currentUser) {\n      getInitialPageData();\n    } else {\n      onOpenLoginPopup();\n    }\n  }, [currentUser]);\n\n  // загрузка фильтров страницы при старте\n  useEffect(() => {\n    if (currentUser) {\n      getActiveMonthTags()\n        .then((monthsTags) => {\n          const customFilters = monthsTags.map((tag) => {\n            const filterName = changeCaseOfFirstLetter(months[tag]);\n            return {\n              isActive: false,\n              name: filterName,\n              filter: tag,\n            };\n          });\n          setFilters(customFilters);\n        })\n        .catch((error) => console.log(error));\n    }\n  }, [currentUser?.city]);\n\n  function handleFiltration() {\n    if (isFiltersUsed) {\n      const activeFilter = filters.find((filter) => filter.isActive);\n      if (activeFilter) {\n        getEventsByFilters(activeFilter.filter)\n          .then((filteredEvents) => setCalendarPageData(filteredEvents))\n          .catch((error) => console.log(error))\n          .finally(() => setIsLoading(false));\n      } else {\n        getInitialPageData();\n      }\n      setIsFiltersUsed(false);\n    }\n  }\n\n  function handleFilterClick(inputValue, isChecked) {\n    handleRadioBehavior(setFilters, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  }\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  useEffect(() => {\n    // в дальнейшем надо изменить количество секунд\n    if (isFiltersUsed) {\n      setIsLoading(true);\n    }\n    debounceFiltration();\n  }, [isFiltersUsed]);\n\n  // рендеринг\n  // отрисовка заглушки\n  function returnAnimatedContainer() {\n    return (\n      <>\n        {isCityChanging ? (\n          <Loader isNested />\n        ) : (\n          <AnimatedPageContainer\n            titleText=\"Мы работаем над планом мероприятий на ближайшие месяцы.\"\n            buttonText=\"Вернуться на главную\"\n          />\n        )}\n      </>\n    );\n  }\n\n  // отрисовка массива фильтров\n  function renderTagsContainder() {\n    return (\n      <div className=\"tags fade-in\">\n        <ul className=\"tags__list\">\n          {renderFilterTags(filters, 'month', handleFilterClick)}\n        </ul>\n      </div>\n    );\n  }\n\n  // отрисовка карточек ивентов\n  function renderEventCardsContainer() {\n    const cards = calendarPageData.map((cardData) => (\n      <CardCalendar\n        key={cardData.id}\n        cardData={cardData}\n        onEventSignUpClick={onEventSignUpClick}\n        onEventFullDescriptionClick={onEventFullDescriptionClick}\n        sectionClass=\"fade-in\"\n      />\n    ));\n    return cards;\n  }\n\n  // главная функция рендера\n  function renderPageContent() {\n    // залогинен и есть ивенты\n    if (currentUser && dataForCurrentCityExist) {\n      return (\n        <>\n          <TitleH1 title=\"Календарь\" />\n\n          {isCityChanging ? (\n            <Loader isNested />\n          ) : (\n            <div className=\"calendar-page__container\">\n              {filters?.length > 1 && renderTagsContainder()}\n\n              {isLoading ? (\n                <Loader isNested />\n              ) : (\n                <div className=\"calendar-page__grid\">\n                  {renderEventCardsContainer()}\n                </div>\n              )}\n            </div>\n          )}\n        </>\n      );\n    }\n\n    // залогинен и нет ивентов\n    if (currentUser && !dataForCurrentCityExist && calendarPageData) {\n      return returnAnimatedContainer();\n    }\n\n    return null;\n  }\n\n  // глобальный лоадер\n  if (!calendarPageData || !filters) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Календарь</title>\n        <meta\n          name=\"description\"\n          content=\"Календарь событий и мероприятий для наставников\"\n        />\n      </Helmet>\n      <section className=\"calendar-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\nCalendar.propTypes = {\n  onEventSignUpClick: PropTypes.func,\n  onEventFullDescriptionClick: PropTypes.func,\n  onOpenLoginPopup: PropTypes.func,\n};\n\nCalendar.defaultProps = {\n  onEventSignUpClick: () => {},\n  onEventFullDescriptionClick: () => {},\n  onOpenLoginPopup: () => {},\n};\n\nexport default Calendar;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные главной страницы\nfunction getMainPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/main/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getMainPageData;\n","import './CardStub.scss';\nimport { Card, LogoBlue, TitleH2 } from './index';\n\nfunction CardStub() {\n  return (\n    <Card sectionClass=\"stub\" color=\"green\">\n      <div className=\"stub__upper-element\">\n        <a\n          className=\"stub__logo\"\n          href=\"https://www.nastavniki.org/o-nas/ob-organizaczii/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n      </div>\n      <div className=\"stub__content\">\n        <TitleH2\n          sectionClass=\"stub__text\"\n          title=\"Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.\"\n        />\n      </div>\n    </Card>\n  );\n}\n\nexport default CardStub;\n","import './CardAnnotation.scss';\nimport PropTypes from 'prop-types';\nimport Card from '../../utils/Card/Card';\nimport CardAnnotationContainer from './CardAnnotationContainer';\n\nfunction CardAnnotation({ info, description, isMain }) {\n  return (\n    <Card\n      sectionClass={`card-annotation ${isMain ? 'card-annotation_main' : ''}`}\n    >\n      <CardAnnotationContainer caption={info}>\n        <p className=\"paragraph card-annotation__paragraph\">{description}</p>\n      </CardAnnotationContainer>\n    </Card>\n  );\n}\n\nCardAnnotation.propTypes = {\n  info: PropTypes.string,\n  description: PropTypes.string,\n  isMain: PropTypes.bool,\n};\n\nCardAnnotation.defaultProps = {\n  info: undefined,\n  description: undefined,\n  isMain: false,\n};\n\nexport default CardAnnotation;\n","import './Rubric.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rubric({ title, sectionClass }) {\n  return <span className={`rubric ${sectionClass}`}>{title}</span>;\n}\n\nRubric.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nRubric.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Rubric;\n","import './CardPlace.scss';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { PLACES_URL } from '../../../config/routes';\nimport { staticImageUrl } from '../../../config/config';\nimport { CardAnnotation, Rubric, TitleH2, Card, Caption } from './index';\n\nfunction CardPlace({\n  data: {\n    image,\n    title,\n    description,\n    link,\n    chosen,\n    address,\n    gender,\n    age,\n    activityType,\n  },\n  activityTypes,\n  color,\n  sectionClass,\n  isBig,\n  isMainPage,\n}) {\n  const cardColor = isBig ? 'yellow' : color;\n  const cardSize = isBig ? 'card-place_main' : '';\n  const sex = gender === 'male' ? 'Мальчик' : 'Девочка';\n\n  const types = activityTypes\n    ? activityTypes.reduce((obj, { id, name }) => {\n        // eslint-disable-next-line no-param-reassign\n        obj[id] = name;\n        return obj;\n      }, {})\n    : null;\n\n  const renderImage = () => {\n    if (isMainPage) {\n      return (\n        <Link\n          to={PLACES_URL}\n          className=\"card-place__link-wrap card-place__link-wrap_content_article-img\"\n        >\n          <img\n            src={`${staticImageUrl}/${image}`}\n            alt={title}\n            className=\"card-place__image\"\n          />\n        </Link>\n      );\n    }\n    if (!isMainPage && chosen && isBig) {\n      return (\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={title}\n          className=\"card-place__image card-place__image_type_article\"\n        />\n      );\n    }\n    return null;\n  };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass={`card-place ${cardSize}`} color={cardColor}>\n        {chosen && (\n          <Rubric title=\"Выбор наставника\" sectionClass=\"card-place__rubric\" />\n        )}\n\n        <div className=\"card-place__title-wrap\">\n          {isMainPage ? (\n            <Link to={PLACES_URL} className=\"card-place__link-wrap\">\n              <TitleH2 sectionClass=\"card-place__title\" title={title} />\n            </Link>\n          ) : (\n            <TitleH2 sectionClass=\"card-place__title\" title={title} />\n          )}\n          <Caption sectionClass=\"card-place__address\" title={address} />\n        </div>\n\n        {renderImage()}\n\n        {link && (\n          <a\n            href={link}\n            className=\"link card-place__link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            перейти на сайт\n          </a>\n        )}\n      </Card>\n\n      <CardAnnotation\n        info={`${sex}, ${age} лет, ${\n          activityTypes ? types[activityType] : 'Развлекательный'\n        } отдых`}\n        description={description}\n        isMain={isBig}\n      />\n    </article>\n  );\n}\n\nCardPlace.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  chosen: PropTypes.bool,\n  title: PropTypes.string,\n  address: PropTypes.string,\n  image: PropTypes.string,\n  link: PropTypes.string,\n  description: PropTypes.string,\n  gender: PropTypes.string,\n  age: PropTypes.number,\n  activityType: PropTypes.number,\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isBig: PropTypes.bool,\n  isMainPage: PropTypes.bool,\n};\n\nCardPlace.defaultProps = {\n  data: {},\n  chosen: false,\n  title: '',\n  address: '',\n  image: '',\n  link: '',\n  description: '',\n  gender: 'male',\n  age: 18,\n  activityType: 1,\n  activityTypes: [],\n  color: 'white',\n  isBig: false,\n  sectionClass: '',\n  isMainPage: false,\n};\n\nexport default CardPlace;\n","import './CardArticleBig.scss';\nimport PropTypes from 'prop-types';\nimport TitleH3 from '../../utils/TitleH3/TitleH3';\nimport Card from '../../utils/Card/Card';\n\nfunction CardArticleBig({ title, color }) {\n  return (\n    <Card sectionClass=\"card-article\" color={color}>\n      <TitleH3 sectionClass=\"card-article__title\" title={title} />\n      <span className=\"link card-article__link\">читать статью</span>\n    </Card>\n  );\n}\n\nCardArticleBig.propTypes = {\n  color: PropTypes.string,\n  title: PropTypes.string,\n};\n\nCardArticleBig.defaultProps = {\n  color: 'white',\n  title: '',\n};\n\nexport default CardArticleBig;\n","import './CardFilm.scss';\nimport PropTypes from 'prop-types';\nimport { Rubric, TitleH2, Card } from './index';\n\nfunction CardFilm({\n  data: { imageUrl, title, info, link, tags },\n  handleClick,\n}) {\n  return (\n    <Card sectionClass=\"card-film\">\n      <div className=\"card-film__video\">\n        <button\n          className=\"card-film__button\"\n          type=\"button\"\n          onClick={handleClick}\n        >\n          <img\n            src={`${imageUrl}`}\n            alt=\"Превью видео\"\n            className=\"card-film__preview\"\n          />\n          <ul className=\"card-film__rubric-list\">\n            {tags.map((tag) => (\n              <li key={tag.id}>\n                <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n              </li>\n            ))}\n          </ul>\n        </button>\n      </div>\n\n      <div className=\"card-film__video-info\">\n        <div className=\"card-film__title-wrap\">\n          <TitleH2 sectionClass=\"card-film__title\" title={title} />\n          <p className=\"caption card-film__info\">{info}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"link card-film__button\"\n          href={link}\n          onClick={handleClick}\n        >\n          смотреть трейлер\n        </button>\n      </div>\n    </Card>\n  );\n}\n\nCardFilm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  imageUrl: PropTypes.string,\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  handleClick: PropTypes.func,\n};\n\nCardFilm.defaultProps = {\n  data: {},\n  imageUrl: '',\n  title: '',\n  info: '',\n  link: '',\n  tags: [],\n  handleClick: () => {},\n};\n\nexport default CardFilm;\n","import './CardVideoMain.scss';\nimport PropTypes from 'prop-types';\nimport { formatDuration } from '../../../utils/utils';\nimport { Card, TitleH2 } from './index';\n\nfunction CardVideoMain({\n  data: { title, info, link, imageUrl, duration },\n  handleClick,\n}) {\n  const { hours, minutes, seconds } = formatDuration(duration);\n\n  return (\n    <div className=\"card-container card-container_type_main-video\">\n      <Card sectionClass=\"card-video-main\" color=\"yellow\">\n        <div className=\"card-video-main__title-wrap\">\n          <TitleH2 sectionClass=\"card-video-main__title\" title={title} />\n          <p className=\"caption card-video-main__info\">{info}</p>\n        </div>\n        <button\n          href={link}\n          className=\"link card-video-main__button\"\n          type=\"button\"\n          onClick={handleClick}\n        >\n          смотреть видео\n        </button>\n      </Card>\n\n      <Card sectionClass=\"card-video-main__video\">\n        <button\n          className=\"card-video-main__button\"\n          type=\"button\"\n          onClick={handleClick}\n        >\n          <img\n            src={imageUrl}\n            alt=\"Превью видео\"\n            className=\"card-video-main__image\"\n          />\n          {hours > 0 ? (\n            <span className=\"card-video-main__duration paragraph\">{`${hours}:${minutes}:${seconds}`}</span>\n          ) : (\n            <span className=\"card-video-main__duration paragraph\">{`${minutes}:${seconds}`}</span>\n          )}\n        </button>\n      </Card>\n    </div>\n  );\n}\n\nCardVideoMain.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  imageUrl: PropTypes.string,\n  duration: PropTypes.number,\n  handleClick: PropTypes.func,\n};\n\nCardVideoMain.defaultProps = {\n  data: {},\n  title: '',\n  info: '',\n  link: '',\n  imageUrl: '',\n  duration: 0,\n  handleClick: () => {},\n};\n\nexport default CardVideoMain;\n","import './Widget.scss';\nimport PropTypes from 'prop-types';\n\nfunction Widget({ link, title }) {\n  return (\n    <iframe\n      className=\"widget-facebook\"\n      title={title}\n      src={link}\n      allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\n    />\n  );\n}\n\nWidget.propTypes = {\n  link: PropTypes.string,\n  title: PropTypes.string,\n};\n\nWidget.defaultProps = {\n  link: '#',\n  title: '',\n};\n\nexport default Widget;\n","import './CardQuestion.scss';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Rubric, TitleH2, Card, ButtonRound } from './index';\n\nfunction CardQuestion({\n  data: { title, tags, answer },\n  sectionClass,\n  isQuestionsPage,\n}) {\n  const [isClick, setIsClick] = useState(false);\n\n  function handleClickButton() {\n    setIsClick(!isClick);\n  }\n\n  const answerRender = (\n    <div\n      className={`card-question__answer ${\n        isClick ? 'card-question__answer_visible' : ''\n      }`}\n    >\n      <p className=\"paragraph card-question__paragraph\">{answer}</p>\n    </div>\n  );\n\n  return (\n    <Card sectionClass={`card-question ${sectionClass}`}>\n      <TitleH2 sectionClass=\"card-question__title\" title={title} />\n      <div className=\"card-question__wrap\">\n        <ul className=\"card-question__tags\">\n          {tags?.map((tag) => (\n            <li className=\"card-question__tag\" key={tag?.id}>\n              <Rubric title={tag?.name} sectionClass=\"card-question__rubric\" />\n            </li>\n          ))}\n        </ul>\n        {isQuestionsPage && (\n          <ButtonRound\n            label=\"Показать ответ\"\n            sectionClass=\"button-round__questions-page\"\n            color=\"lightblue\"\n            onClick={handleClickButton}\n            isClick={isClick}\n          />\n        )}\n      </div>\n      {isQuestionsPage && isClick && answerRender}\n    </Card>\n  );\n}\n\nCardQuestion.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n  isQuestionsPage: PropTypes.bool,\n  answer: PropTypes.string,\n};\n\nCardQuestion.defaultProps = {\n  data: {},\n  title: '',\n  tags: [],\n  sectionClass: '',\n  isQuestionsPage: false,\n  answer: '',\n};\n\nexport default CardQuestion;\n","import './MainPage.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useState, useContext, useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport { useScrollToTop } from '../../hooks/index';\nimport { QUESTIONS_URL } from '../../config/routes';\nimport { adminUrl } from '../../config/config';\nimport { randomizeArray } from '../../utils/utils';\nimport getMainPageData from '../../api/main-page';\nimport {\n  BasePage,\n  Loader,\n  Card,\n  CardStub,\n  CardCalendar,\n  CardPlace,\n  CardArticleBig,\n  CardFilm,\n  CardVideoMain,\n  Widget,\n  CardQuestion,\n} from './index';\n\n// количество отображаемых карточек с фильмами и вопросами\nconst MOVIES_COUNT = 4;\nconst QUESTIONS_COUNT = 3;\n\nfunction MainPage({ onEventSignUpClick, onEventFullDescriptionClick }) {\n  useScrollToTop();\n\n  const currentUser = useContext(CurrentUserContext);\n  const [mainPageData, setMainPageData] = useState(null);\n  const randomMovies = randomizeArray(mainPageData?.movies, MOVIES_COUNT);\n  const randomQuestions = randomizeArray(\n    mainPageData?.questions,\n    QUESTIONS_COUNT\n  );\n\n  // запрос даты главной страницы при загрузке и при смене города\n  useEffect(() => {\n    getMainPageData()\n      .then(setMainPageData)\n      .catch((error) => console.log(error));\n  }, [currentUser?.city]);\n\n  // глобальный лоадер (без футера)\n  if (!mainPageData) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>наставники.про</title>\n        <meta\n          name=\"description\"\n          content=\"Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.\"\n        />\n      </Helmet>\n      <section className=\"lead page__section fade-in\">\n        <div className=\"card-container card-container_type_identical\">\n          {currentUser && mainPageData?.event ? (\n            <CardCalendar\n              key={mainPageData?.event?.id}\n              cardData={mainPageData?.event}\n              onEventSignUpClick={onEventSignUpClick}\n              onEventFullDescriptionClick={onEventFullDescriptionClick}\n            />\n          ) : (\n            <CardStub />\n          )}\n          <Card sectionClass=\"lead__media\" key={mainPageData?.history?.id}>\n            <img\n              src={`${adminUrl}/media/${mainPageData?.history?.image}`}\n              alt={mainPageData?.history?.title}\n              className=\"card__media-img\"\n            />\n            <Link to=\"/stories\" className=\"lead__link\">\n              {mainPageData?.history?.title}\n            </Link>\n          </Card>\n        </div>\n      </section>\n\n      <section className=\"place main-section page__section fade-in\">\n        <CardPlace\n          key={mainPageData?.place?.id}\n          data={mainPageData?.place}\n          sectionClass=\"card-container_type_main-article\"\n          isBig\n          isMainPage\n        />\n      </section>\n\n      {mainPageData?.articles.length > 0 && (\n        <section className=\"articles main-section page__section fade-in\">\n          <Link to=\"/articles\" className=\"main-section__link\">\n            <CardArticleBig\n              key={mainPageData?.articles[0]?.id}\n              title={mainPageData?.articles[0]?.title}\n              color=\"blue\"\n            />\n          </Link>\n        </section>\n      )}\n\n      <section className=\"movies main-section page__section cards-grid cards-grid_content_small-cards fade-in\">\n        {randomMovies.map((item) => (\n          <Link\n            to=\"/films\"\n            className={`main-section__link ${\n              randomMovies.length > 1\n                ? `movies_pagination movies_pagination_${randomMovies.length}`\n                : ''\n            }`}\n            key={item?.id}\n          >\n            <CardFilm data={item} />\n          </Link>\n        ))}\n      </section>\n\n      <section className=\"video main-section page__section fade-in\">\n        <Link to=\"/video\" className=\"main-section__link\">\n          <CardVideoMain\n            key={mainPageData?.video?.id}\n            data={mainPageData?.video}\n          />\n        </Link>\n      </section>\n\n      <section className=\"main-questions main-section page__section fade-in\">\n        <div className=\"card-container card-container_type_iframe\">\n          <Widget\n            title=\"Facebook\"\n            link=\"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=420&height=627&small_header=false&adapt_container_width=false&hide_cover=false&show_facepile=true&appId\"\n          />\n          <div className=\"main-questions__container\">\n            {randomQuestions.map((item) => (\n              <Link\n                to={QUESTIONS_URL}\n                className={`main-section__link main-section__link_el_question ${\n                  randomQuestions.length > 2 ? ' main-questions_pagination' : ''\n                }`}\n                key={item?.id}\n              >\n                <CardQuestion data={item} />\n              </Link>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {mainPageData?.articles.length > 1 && (\n        <section className=\"articles main-section page__section fade-in\">\n          <Link to=\"/articles\" className=\"main-section__link\">\n            <CardArticleBig\n              key={mainPageData?.articles[1]?.id}\n              title={mainPageData?.articles[1]?.title}\n              color=\"green\"\n            />\n          </Link>\n        </section>\n      )}\n    </BasePage>\n  );\n}\n\nMainPage.propTypes = {\n  onEventSignUpClick: PropTypes.func,\n  onEventFullDescriptionClick: PropTypes.func,\n};\n\nMainPage.defaultProps = {\n  onEventSignUpClick: () => {},\n  onEventFullDescriptionClick: () => {},\n};\n\nexport default MainPage;\n","import './PageNotFound.scss';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../../hooks/index';\nimport { BasePage, AnimatedPageContainer } from './index';\n\nfunction PageNotFound() {\n  useScrollToTop();\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Страницы не существует</title>\n        <meta name=\"description\" content=\"Запрашиваемая страница не найдена\" />\n      </Helmet>\n      <AnimatedPageContainer\n        is404\n        titleText=\"К сожалению, запрашиваемая страница не найдена. Попробуйте перейти на главную страницу\"\n        buttonText=\"Вернуться на главную\"\n      />\n    </BasePage>\n  );\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport './Paginate.scss';\nimport { useScrollToTop } from '../../../hooks/index';\n\nconst Paginate = ({ pageCount, sectionClass, value, onChange }) => {\n  useScrollToTop();\n\n  return (\n    <ReactPaginate\n      containerClassName={`pagination ${sectionClass}`}\n      pageClassName=\"pagination__element\"\n      pageLinkClassName=\"pagination__element-link\"\n      activeLinkClassName=\"pagination__element-link_type_active\"\n      previousClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_previous\"\n      breakClassName=\"pagination__element\"\n      nextClassName=\"pagination__element pagination__arrow-element\"\n      disabledClassName=\"pagination__arrow-element_type_disabled\"\n      pageCount={pageCount}\n      pageRangeDisplayed={3}\n      marginPagesDisplayed={1}\n      forcePage={value}\n      onPageChange={({ selected }) => onChange(selected)}\n    />\n  );\n};\n\nPaginate.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func,\n  pageCount: PropTypes.number.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nPaginate.defaultProps = {\n  onChange: () => {},\n  sectionClass: '',\n};\n\nexport default Paginate;\n","import PropTypes from 'prop-types';\nimport './CardsSectionWithLines.scss';\nimport Paginate from '../../utils/Paginate/Paginate';\n\nfunction CardsSectionWithLines({\n  pageCount,\n  children,\n  pageNumber,\n  setPageNumber,\n  sectionClass,\n}) {\n  return (\n    <>\n      <section className={`cards-section ${sectionClass}`}>\n        <div className=\"cards-section__line\" />\n        <div className=\"cards-section__line\" />\n        <div className=\"cards-section__line\" />\n        {children}\n      </section>\n      {pageCount > 1 && (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      )}\n    </>\n  );\n}\n\nCardsSectionWithLines.propTypes = {\n  pageCount: PropTypes.number,\n  children: PropTypes.node,\n  pageNumber: PropTypes.number,\n  setPageNumber: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nCardsSectionWithLines.defaultProps = {\n  pageCount: 0,\n  children: null,\n  pageNumber: 0,\n  setPageNumber: () => {},\n  sectionClass: '',\n};\n\nexport default CardsSectionWithLines;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы каталога\nfunction getCatalogPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data);\n}\n\nexport default getCatalogPageData;\n","import PropTypes from 'prop-types';\nimport TitleH2 from '../../utils/TitleH2/TitleH2';\nimport CardFigure from '../CardFigure/CardFigure';\nimport './CardCatalog.scss';\n\nfunction CardCatalog({ title, shape, image, sectionClass }) {\n  return (\n    <div className={`card-catalog ${sectionClass}`}>\n      <CardFigure sectionClass=\"card-catalog_type_shaped\" shape={shape}>\n        <img className=\"card-catalog__image\" src={image} alt={title} />\n      </CardFigure>\n      <TitleH2 sectionClass=\"card-catalog__title\" title={title} />\n    </div>\n  );\n}\n\nCardCatalog.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  image: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardCatalog.defaultProps = {\n  title: '',\n  shape: 'square',\n  image: '',\n  sectionClass: '',\n};\n\nexport default CardCatalog;\n","import React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { BasePage, TitleH1, TitleH2, CardsSectionWithLines } from './index';\nimport getCatalogPageData from '../../api/catalog-page';\nimport CardCatalog from '../../components/Cards/CardCatalog/CardCatalog';\nimport { FIGURES } from '../../config/constants';\nimport './Catalog.scss';\n\nfunction Catalog() {\n  const [pageSize, setPageSize] = useState(16);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [catalogPageData, setCatalogPageData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const offset = pageSize * pageNumber;\n    getCatalogPageData({ limit: pageSize, offset }).then(\n      ({ results, count }) => {\n        setCatalogPageData(results);\n        setPageCount(Math.ceil(count / pageSize));\n        setIsLoading(false);\n      }\n    );\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(4);\n      } else if (largeQuery.matches) {\n        setPageSize(9);\n      } else {\n        setPageSize(16);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Справочник</title>\n        <meta name=\"description\" content=\"Справочник полезных статей\" />\n      </Helmet>\n      <section className=\"catalog page__section fade-in\">\n        <TitleH1 sectionClass=\"catalog__title\" title=\"Справочник\" />\n        <TitleH2\n          sectionClass=\"catalog__subtitle\"\n          title=\"Памятка новичка&nbsp;&mdash; наши материалы, где сможете найти всю базовую информацию,\n          рассказанную на вводном тренинге. Если вы захотите освежить свои знания, и&nbsp;напомнить\n          себе о&nbsp;чем-то.\"\n        />\n        {!isLoading && (\n          <CardsSectionWithLines\n            pageCount={pageCount}\n            pageNumber={pageNumber}\n            setPageNumber={setPageNumber}\n            sectionClass=\"catalog__gap\"\n          >\n            {catalogPageData.map((item, i) => (\n              <CardCatalog\n                sectionClass=\"cards-section__item\"\n                key={item.id}\n                title={item.title}\n                image={item.imageUrl}\n                shape={FIGURES[i % FIGURES.length]}\n              />\n            ))}\n          </CardsSectionWithLines>\n        )}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Catalog;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы\nfunction getQuestionsPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получить тагсы (список фильтров)\nfunction getQuestionsPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получить вопросы по фильтрам\nfunction getQuestionsByFilters(query) {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/?tags=${query}`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// постинг вопроса\nfunction postQuestion(question) {\n  return axios\n    .post(`${baseURL}${apiUrl}/questions/`, question)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  getQuestionsByFilters,\n  postQuestion,\n};\n","/* eslint-disable no-unused-vars */\nimport './Questions.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Helmet } from 'react-helmet-async';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport { ALL_CATEGORIES, DELAY_DEBOUNCE } from '../../config/constants';\nimport { questionForm, changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  renderFilterTags,\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport {\n  BasePage,\n  TitleH1,\n  TitleH2,\n  CardQuestion,\n  Input,\n  Button,\n  Loader,\n} from './index';\nimport {\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  getQuestionsByFilters,\n  postQuestion,\n} from '../../api/questions-page';\n\nfunction Questions() {\n  useScrollToTop();\n\n  const currentUser = useContext(CurrentUserContext);\n  // крутилка-лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // начальная дата с API\n  const [questionsPageData, setQuestionsPageData] = useState(null);\n\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // категории фильтрации, состояние кнопок фильтров\n  const [categories, setCategories] = useState(null);\n\n  // форма\n  const [questionFormState, setQuestionFormState] = useState(\n    questionForm.beforeSubmit\n  );\n\n  const {\n    register,\n    reset,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  const setFormState = (isError) => {\n    if (isError) {\n      setQuestionFormState(questionForm.errorSubmit);\n    }\n\n    // успешная надпись\n    setQuestionFormState(questionForm.successSubmit);\n    // почистили форму\n    reset({ question: '' });\n    // вернулись к изначальной\n    setTimeout(() => {\n      setQuestionFormState(questionForm.beforeSubmit);\n    }, 4000);\n  };\n\n  const onFormSubmit = (values) => {\n    const { question } = values;\n    postQuestion({ title: question })\n      .then(() => {\n        setFormState(false);\n      })\n      .catch(() => {\n        setFormState(true);\n      });\n  };\n\n  // хэндлер клика по фильтру\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    }\n    setIsLoading(true);\n    setIsFiltersUsed(true);\n  };\n\n  // фильтрация\n  const handleFiltration = () => {\n    const activeCategories = categories\n      .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n      .map((filter) => filter.filter);\n    // массив вида [\"children\", \"relationship-termination\"]\n    console.log(activeCategories);\n\n    // то есть активных нету и сейчас нажато \"ВСЕ\"\n    if (activeCategories.length === 0) {\n      console.log('TYT');\n      getQuestionsPageData()\n        .then((allQuestions) => {\n          console.log('TYT2');\n          setQuestionsPageData(allQuestions);\n        })\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      const query = activeCategories.join();\n      getQuestionsByFilters(query)\n        .then((filteredQuestions) => setQuestionsPageData(filteredQuestions))\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n  };\n\n  // запуск фильтрации\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  // API\n  useEffect(() => {\n    Promise.all([getQuestionsPageData(), getQuestionsPageTags()])\n      .then(([questionsData, tagsFilters]) => {\n        console.log('TYT3');\n        setQuestionsPageData(questionsData);\n\n        const customFilters = tagsFilters.map((tag) => {\n          const filterName = changeCaseOfFirstLetter(tag.name);\n          return {\n            isActive: false,\n            name: filterName,\n            filter: tag.slug,\n          };\n        });\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...customFilters,\n        ]);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  // рендеринг\n  // форма вопросов\n  const renderQuestionForm = () => (\n    <>\n      <section className=\"add-question fade-in\">\n        <TitleH2\n          sectionClass={`add-question__title ${questionFormState.titleClass}`}\n          title={questionFormState.title}\n        />\n        <form\n          className={`question-form ${questionFormState.formVisibilityClass}`}\n          onSubmit={handleSubmit(onFormSubmit)}\n        >\n          <fieldset className=\"question-form__add-question\">\n            <Input\n              type=\"text\"\n              name=\"question\"\n              placeholder=\"Введите вопрос\"\n              register={register}\n              required\n              error={errors?.question}\n              errorMessage=\"Введите вопрос*\"\n              sectionClass=\"input__question-form\"\n            />\n            <Button\n              title=\"Отправить\"\n              color=\"black\"\n              sectionClass=\"question-form__button\"\n              isSubmittable\n              isDisabled={!!errors.question}\n            />\n          </fieldset>\n        </form>\n      </section>\n    </>\n  );\n\n  // контейнер с вопросами\n  const renderQuestionsContainer = () => (\n    <ul className=\"questions\">\n      {questionsPageData.map((question) => (\n        <li className=\"questions__list-item fade-in\" key={question.id}>\n          <CardQuestion\n            data={question}\n            sectionClass=\"card__questions_type_questions-page\"\n            isQuestionsPage\n          />\n        </li>\n      ))}\n    </ul>\n  );\n\n  // контейнер фильтров\n  const renderTagsContainer = () => (\n    <div className=\"tags tags_content_long-list\">\n      <ul className=\"tags__list tags__list_type_long\">\n        {renderFilterTags(categories, 'tag', changeCategory)}\n      </ul>\n    </div>\n  );\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (questionsPageData.length > 0) {\n      return (\n        <>\n          <TitleH1 title=\"Ответы на вопросы\" />\n\n          {/* рендер фильтров */}\n          {categories?.length > 1 && renderTagsContainer()}\n\n          {/* рендерим сами вопросы */}\n          {isLoading ? <Loader isNested /> : renderQuestionsContainer()}\n          {/* {renderQuestionsContainer()} */}\n\n          {/* если залогинен рендерим форму */}\n          {currentUser && renderQuestionForm()}\n        </>\n      );\n    }\n\n    return null;\n  };\n\n  // глобальный лоадер\n  if (!questionsPageData || !categories) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Ответы на вопросы</title>\n        <meta\n          name=\"description\"\n          content=\"Страница с ответами на основные вопросы\"\n        />\n      </Helmet>\n      <section className=\"questions-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Questions;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './FormRecommendation.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useForm } from 'react-hook-form';\nimport { CitiesContext } from '../../contexts/index';\nimport { regExpImages, regExpUrl } from '../../config/constants';\nimport { Input, Button, ButtonRound } from './index';\n\nfunction FormRecommendation({ isOpen, onSubmit, activityTypes }) {\n  const textAreaPlaceholder =\n    window.innerWidth < 576\n      ? 'Комментарий*'\n      : 'Комментарий* Поделитесь впечатлениями о проведенном времени';\n\n  const cities = useContext(CitiesContext);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    setValue,\n    clearErrors,\n    reset,\n  } = useForm();\n\n  const [isAnimated, setIsAnimated] = useState(false);\n  const [userImage, setUserImage] = useState(null);\n  const [fileUploaded, setFileUploaded] = useState(false);\n\n  const handleChangeImage = (files) => {\n    if (files[0] && regExpImages.test(files[0].name)) {\n      setUserImage(files);\n      setFileUploaded(true);\n      clearErrors('image');\n    } else if (!fileUploaded) {\n      setValue('image', null);\n    } else {\n      setValue('image', userImage);\n    }\n  };\n\n  const onFormSubmit = (values) => {\n    let inputFields = Object.assign(values);\n    if (fileUploaded && userImage) {\n      inputFields = {\n        ...inputFields,\n        image: userImage[0],\n      };\n    }\n    onSubmit(inputFields);\n    setFileUploaded(false);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      reset();\n      setTimeout(() => {\n        setIsAnimated(true);\n      }, 600);\n    } else {\n      setIsAnimated(false);\n    }\n  }, [isOpen]);\n\n  const formClassNames = [\n    'form-recom',\n    isOpen ? 'form-recom_opened' : '',\n    isAnimated ? 'form-recom_animated' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <form\n      className={formClassNames}\n      name=\"formRecomendation\"\n      onSubmit={handleSubmit(onFormSubmit)}\n      noValidate\n    >\n      <div className=\"form-recom__input-container\">\n        <div className=\"form-recom__input-wrap form-recom__input-wrap_meduim form-recom__input-wrap_indentation\">\n          <Input\n            sectionClass=\"form-recom__input\"\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Название*\"\n            register={register}\n            required\n            minLength={{ value: 5, message: 'Минимальная длина 5 символов' }}\n            maxLength={{ value: 50, message: 'Максимальная длина 50 символов' }}\n            error={errors?.title}\n            errorMessage=\"Название*\"\n          />\n          {errors?.title && (\n            <span className=\"form-recom__input-error\">\n              {errors?.title?.message}\n            </span>\n          )}\n        </div>\n\n        <div className=\"form-recom__input-wrap form-recom__input-wrap_meduim\">\n          <Input\n            sectionClass=\"form-recom__input\"\n            type=\"text\"\n            name=\"link\"\n            placeholder=\"Сайт\"\n            register={register}\n            pattern={{\n              value: regExpUrl,\n              message: 'Введена некорректная ссылка',\n            }}\n          />\n          {errors?.link && (\n            <span className=\"form-recom__input-error\">\n              {errors?.link?.message}\n            </span>\n          )}\n        </div>\n      </div>\n\n      <div className=\"form-recom__input-wrap\">\n        <Input\n          sectionClass=\"form-recom__input\"\n          type=\"text\"\n          name=\"address\"\n          placeholder=\"Адрес*\"\n          register={register}\n          required\n          minLength={{ value: 5, message: 'Минимальная длина 5 символов' }}\n          maxLength={{ value: 50, message: 'Максимальная длина 50 символов' }}\n          error={errors?.address}\n          errorMessage=\"Адрес*\"\n        />\n        {errors?.address && (\n          <span className=\"form-recom__input-error\">\n            {errors?.address?.message}\n          </span>\n        )}\n      </div>\n\n      <div className=\"form-recom__input-container\">\n        <label className=\"form-recom__label\" htmlFor=\"formRecommendationBoy\">\n          <input\n            id=\"formRecommendationBoy\"\n            className=\"form-recom__input-radio\"\n            type=\"radio\"\n            name=\"gender\"\n            {...register('gender', { required: 'male' })}\n            value=\"male\"\n          />\n          <span\n            className={`form-recom__pseudo-radio ${\n              errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n            }`}\n          >\n            Мальчик\n          </span>\n        </label>\n        <label className=\"form-recom__label\" htmlFor=\"formRecommendationGirl\">\n          <input\n            id=\"formRecommendationGirl\"\n            className=\"form-recom__input-radio\"\n            type=\"radio\"\n            name=\"gender\"\n            {...register('gender', { required: 'female' })}\n            value=\"female\"\n          />\n          <span\n            className={`form-recom__pseudo-radio ${\n              errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n            }`}\n          >\n            Девочка\n          </span>\n        </label>\n        <div className=\"form-recom__input-wrap form-recom__input-wrap_narrow\">\n          <Input\n            sectionClass=\"form-recom__input\"\n            type=\"number\"\n            name=\"age\"\n            placeholder=\"Возраст*\"\n            register={register}\n            required\n            max={{ value: 25, message: 'Макс. возраст 25 лет' }}\n            min={{ value: 1, message: 'Мин. возраст 1 год' }}\n            error={errors?.age}\n            errorMessage=\"Возраст*\"\n          />\n          {errors?.age && (\n            <span className=\"form-recom__input-error\">\n              {errors?.age?.message}\n            </span>\n          )}\n        </div>\n      </div>\n\n      <select\n        className={`form-recom__select ${\n          errors?.activityType ? 'form-recom__select_error' : ''\n        }`}\n        name=\"activityType\"\n        {...register('activityType', { required: 'Тип отдыха*' })}\n      >\n        <option value=\"\" className=\"form-recom__option\" hidden>\n          Тип отдыха*\n        </option>\n        {activityTypes &&\n          activityTypes.map(({ id, name }) => (\n            <option key={id} value={id} className=\"form-recom__option\">\n              {name}\n            </option>\n          ))}\n      </select>\n\n      <select\n        className={`form-recom__select ${\n          errors?.city ? 'form-recom__select_error' : ''\n        }`}\n        name=\"city\"\n        {...register('city', { required: 'Город*' })}\n      >\n        <option value=\"\" className=\"form-recom__option\" hidden>\n          Город*\n        </option>\n        {cities &&\n          cities.map(({ id, name }) => (\n            <option key={id} value={id} className=\"form-recom__option\">\n              {name}\n            </option>\n          ))}\n      </select>\n\n      <div className=\"form-recom__input-wrap\">\n        <Input\n          sectionClass=\"form-recom__input form-recom__input_textarea\"\n          type=\"text\"\n          name=\"description\"\n          placeholder={textAreaPlaceholder}\n          register={register}\n          required\n          maxLength={{ value: 200, message: 'Максимальная длина 200 символов' }}\n          error={errors?.description}\n          errorMessage={textAreaPlaceholder}\n          isTextarea\n        />\n        {errors?.description && (\n          <span className=\"form-recom__input-error\">\n            {errors?.description?.message}\n          </span>\n        )}\n      </div>\n\n      <div className=\"form-recom__submit-zone\">\n        <label htmlFor=\"formRecomInputUpload\">\n          <input\n            id=\"formRecomInputUpload\"\n            type=\"file\"\n            name=\"image\"\n            accept=\"image/png, image/jpeg\"\n            className=\"form-recom__input-radio\"\n            {...register('image', { required: 'Добавить фото' })}\n            onChange={(evt) => handleChangeImage(evt.target.files)}\n          />\n          <ButtonRound\n            sectionClass={`form-recom__add-photo ${\n              errors?.image ? 'form-recom__add-photo_error' : ''\n            }`}\n            color={`${errors?.image ? 'error' : 'lightGray'}`}\n            isSmall\n            isSpan\n          />\n        </label>\n\n        <Button title=\"Отправить\" color=\"blue\" isSubmittable />\n      </div>\n    </form>\n  );\n}\n\nFormRecommendation.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  isOpen: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nFormRecommendation.defaultProps = {\n  activityTypes: [],\n  isOpen: false,\n  onSubmit: () => {},\n};\n\nexport default FormRecommendation;\n","import './PopupConfirmation.scss';\nimport PropTypes from 'prop-types';\nimport { formatDate } from '../../../utils/utils';\nimport { Popup, Button, TitleH2 } from './index';\n\nfunction PopupConfirmation({\n  isOpen,\n  onClose,\n  onConfirmButtonClick,\n  cardData,\n}) {\n  const { title, startAt, endAt } = cardData;\n  const startDay = formatDate(startAt);\n  const endDay = formatDate(endAt);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onConfirmButtonClick(cardData, cardData.id);\n  };\n\n  return (\n    <Popup\n      type=\"confirmation\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <p className=\"section-title popup__title_type_calendar\">\n          Подтвердить запись на мероприятие\n        </p>\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`«${title}»`}\n        />\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`${startDay.day} ${startDay.monthName} с ${startDay.hour}:${startDay.minutes} - ${endDay.hour}:${endDay.minutes}`}\n        />\n        <div className=\"popup__buttons_type_calendar\">\n          <Button\n            color=\"blue\"\n            title=\"Подтвердить запись\"\n            sectionClass=\"popup__button_type_calendar\"\n            isSubmittable\n          />\n          <Button color=\"black\" title=\"Отменить\" onClick={onClose} />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupConfirmation.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onConfirmButtonClick: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupConfirmation.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onConfirmButtonClick: () => {},\n  cardData: {},\n};\n\nexport default PopupConfirmation;\n","import { useRef, useEffect } from 'react';\nimport './PopupSuccessfully.scss';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport { formatDate } from '../../../utils/utils';\nimport { animationSuccess, Popup, TitleH2, Button } from './index';\n\nfunction PopupSuccessfully({ isOpen, onClose, cardData }) {\n  const { title, startAt, endAt } = cardData;\n  const startDay = formatDate(startAt);\n  const endDay = formatDate(endAt);\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"successfully\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-success\" />\n      <p className=\"section-title popup__title_type_calendar\">\n        Вы записаны на мероприятие\n      </p>\n      <TitleH2 sectionClass=\"popup__title_type_calendar\" title={`«${title}»`} />\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`${startDay.day} ${startDay.monthName} с ${startDay.hour}:${startDay.minutes} - ${endDay.hour}:${endDay.minutes}`}\n      />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_successfully\">\n        Если у вас не получится прийти — отмените, пожалуйста, запись.\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title=\"Вернуться к календарю\"\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupSuccessfully.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupSuccessfully.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  cardData: {},\n};\n\nexport default PopupSuccessfully;\n","import './PopupRecommendSuccess.scss';\nimport { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport { animationRecommendSuccess, Popup, Button } from './index';\n\nfunction PopupRecommendSuccess({ isOpen, onClose }) {\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"recommend-success\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        Спасибо, мы проверим информацию, и скоро все пользователи смогут увидеть\n        вашу рекомендацию\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title=\"Вернуться к рекомендациям\"\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupRecommendSuccess.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupRecommendSuccess.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupRecommendSuccess;\n","import { useEffect } from 'react';\nimport './PopupLogin.scss';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { Popup, Input, Button, TitleH2 } from './index';\n\nfunction PopupLogin({ isOpen, onClose, onLoginFormSubmit }) {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm();\n\n  function onFormSubmit(values) {\n    onLoginFormSubmit(values);\n  }\n\n  //! аварийный перевод на главную, если не хочешь логиниться\n  const history = useHistory();\n  const location = useLocation();\n  function closePopup() {\n    if (location.pathname === AFISHA_URL) {\n      history.push('/');\n    }\n    onClose();\n  }\n\n  useEffect(() => {\n    reset({\n      username: '',\n      password: '',\n    });\n  }, [isOpen]);\n\n  return (\n    <Popup\n      type=\"sign-in\"\n      typeContainer=\"sign-in\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit(onFormSubmit)}>\n        <TitleH2 sectionClass=\"popup__title_type_sign-in\" title=\"Вход\" />\n        <p className=\"paragraph popup__sign-in\">\n          Вход в личный кабинет доступен наставникам программы «Старшие Братья\n          Старшие Сёстры».\n        </p>\n        <p className=\"paragraph popup__sign-in\">\n          Пожалуйста, введите логин и пароль из письма. Если вам не приходило\n          письмо, свяжитесь с вашим куратором.\n        </p>\n        <Input\n          sectionClass=\"popup__input\"\n          type=\"text\"\n          name=\"username\"\n          placeholder=\"Логин\"\n          register={register}\n          required\n          error={errors?.username}\n          errorMessage=\"Логин*\"\n        />\n        <Input\n          sectionClass=\"popup__input\"\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Пароль\"\n          register={register}\n          required\n          error={errors?.password}\n          errorMessage=\"Пароль*\"\n        />\n        <a href=\"/\" className=\"popup__forgot-password\">\n          Забыли пароль?\n        </a>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title=\"Войти\"\n          isDisabled={!!(errors.username || errors.password)}\n          isSubmittable\n        />\n      </form>\n    </Popup>\n  );\n}\n\nPopupLogin.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onLoginFormSubmit: PropTypes.func.isRequired,\n};\n\nexport default PopupLogin;\n","import PropTypes from 'prop-types';\nimport { formatDate, formatWordCase, getCardType } from '../../../utils/utils';\nimport { Popup, Button, TitleH2 } from './index';\n\nfunction PopupAboutEvent({ isOpen, onClose, onEventSignUpClick, cardData }) {\n  const {\n    booked,\n    tags,\n    title,\n    startAt,\n    endAt,\n    address,\n    contact,\n    remainSeats,\n    description,\n  } = cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n  const isDisabled = remainSeats < 1;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onEventSignUpClick(cardData, cardData.id, cardData.booked);\n  }\n\n  return (\n    <Popup\n      type=\"about-event\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <div className=\"calendar__caption\">\n          <div className=\"calendar__info\">\n            <p className=\"calendar__type\">{getCardType(tags)}</p>\n            <p className=\"calendar__weekday\">\n              {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n            </p>\n          </div>\n          <div className=\"calendar__about\">\n            <TitleH2\n              title={title}\n              sectionClass=\"calendar__title calendar__title_type_popup\"\n            />\n            <p className=\"calendar__date\">{startDateParts.day}</p>\n          </div>\n        </div>\n        <div className=\"calendar__meetup\">\n          <ul className=\"calendar__info-list\">\n            <li className=\"calendar__info-item\">\n              <p className=\"calendar__time\">\n                {`${startDateParts.hour}:${startDateParts.minutes} - ${endDayParts.hour}:${endDayParts.minutes}`}\n              </p>\n            </li>\n            <li className=\"calendar__info-item\">\n              <p className=\"calendar__place\">{address}</p>\n            </li>\n            <li className=\"calendar__info-item\">\n              <p className=\"calendar__contact\">{contact}</p>\n            </li>\n          </ul>\n          <div className=\"calendar__description\">\n            <p className=\"paragraph calendar__desc-paragraph\">{description}</p>\n          </div>\n          <div className=\"calendar__submit\">\n            <Button\n              color=\"blue\"\n              title=\"Записаться\"\n              titleSelected=\"Отменить запись\"\n              sectionClass=\"button_action_confirm\"\n              isSubmittable\n              isBooked={booked}\n              isDisabled={isDisabled}\n            />\n            <p className=\"calendar__place-left\">\n              {/* если запись закрыта, то карточка не должна быть выделенной */}\n              {(isDisabled && 'Запись закрыта') ||\n                (!booked &&\n                  `Осталось ${remainSeats} ${formatWordCase(remainSeats)}`)}\n            </p>\n          </div>\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupAboutEvent.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onEventSignUpClick: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupAboutEvent.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onEventSignUpClick: () => {},\n  cardData: {},\n};\n\nexport default PopupAboutEvent;\n","import './PopupCities.scss';\nimport { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { CurrentUserContext, CitiesContext } from '../../../contexts/index';\nimport { Popup, TitleH2 } from './index';\nimport { updateUserProfile } from '../../../api/user';\nimport { setlocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStUserCity } from '../../../config/constants';\n\nfunction PopupCities({ isOpen, onClose, onSubmit }) {\n  const currentUser = useContext(CurrentUserContext);\n  const cities = useContext(CitiesContext);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    const cityId = parseInt(event.nativeEvent.submitter.value, 10);\n    if (currentUser) {\n      updateUserProfile({ city: cityId })\n        .then((updatedUser) => {\n          onSubmit({ ...currentUser, ...updatedUser });\n          onClose();\n        })\n        .catch(console.log);\n    } else {\n      setlocalStorageData(localStUserCity, cityId);\n      onClose();\n    }\n  }\n\n  return (\n    cities && (\n      <Popup\n        type=\"cities\"\n        typeContainer=\"cities\"\n        isOpen={isOpen}\n        withoutCloseButton\n      >\n        <form className=\"popup__form\" onSubmit={handleSubmit}>\n          <TitleH2 title=\"Выберите ваш город\" sectionClass=\"cities__title\" />\n          <div className=\"cities__container\">\n            <ul className=\"cities__list cities__list_type_primary\">\n              {cities &&\n                cities\n                  .filter((item) => item.isPrimary === true)\n                  .map((item) => (\n                    <li className=\"cities__list-item\" key={item.id}>\n                      <button\n                        className=\"cities__city\"\n                        type=\"submit\"\n                        value={item.id}\n                      >\n                        {item.name}\n                      </button>\n                    </li>\n                  ))}\n            </ul>\n            <ul className=\"cities__list\">\n              {cities &&\n                cities\n                  .filter((item) => item.isPrimary !== true)\n                  .map((item) => (\n                    <li className=\"cities__list-item\" key={item.id}>\n                      <button\n                        className=\"cities__city\"\n                        type=\"submit\"\n                        value={item.id}\n                      >\n                        {item.name}\n                      </button>\n                    </li>\n                  ))}\n            </ul>\n          </div>\n        </form>\n      </Popup>\n    )\n  );\n}\n\nPopupCities.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n};\n\nPopupCities.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onSubmit: () => {},\n};\n\nexport default PopupCities;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить юзера с сервера\nfunction getUserData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// обновить профиль пользователя\nfunction updateUserProfile(dataToUpdate) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/`, dataToUpdate)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getUserData, updateUserProfile };\n","import './PopupError.scss';\nimport PropTypes from 'prop-types';\nimport { Popup, Button, TitleH2 } from './index';\n\nfunction PopupError({ isOpen, onClose }) {\n  return (\n    <Popup\n      type=\"error\"\n      typeContainer=\"calendar\"\n      sectionClass=\"popup__container_error\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar popup__title_type_error\"\n        title=\"Что-то пошло не так, попробуйте записаться снова\"\n      />\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title=\"Вернуться к мероприятию\"\n          sectionClass=\"popup__button_type_error\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupError.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupError.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupError;\n","import './PlacesRecommend.scss';\nimport { useEffect, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormRecommendation, PopupRecommendSuccess } from './index';\nimport { postPlace } from '../../api/places-page';\n\nfunction PlacesRecommend({ sectionClass, activityTypes }) {\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isSuccessPopupOpen, setIsSuccessPopupOpen] = useState(false);\n\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n  };\n\n  const openForm = () => {\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const closeSuccessPopup = () => {\n    setIsSuccessPopupOpen(false);\n  };\n\n  const closeSuccessPopupOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      closeSuccessPopup();\n    }\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data.link) formData.append('link', data.link);\n    formData.append('image', data.image);\n    formData.append('title', data.title);\n    formData.append('description', data.description);\n    formData.append('address', data.address);\n    formData.append('gender', data.gender);\n    formData.append('age', data.age);\n    formData.append('city', data.city);\n    formData.append('activityType', data.activityType);\n    return formData;\n  };\n\n  const handleFormSubmit = (data) => {\n    console.log(data);\n    postPlace(createFormData(data))\n      .then(() => {\n        setIsSuccessPopupOpen(true);\n        closeForm();\n      })\n      .catch(console.log);\n  };\n\n  const classNames = [\n    'recommendation',\n    'recommendation_place_page',\n    'fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  useEffect(() => {\n    window.addEventListener('keyup', closeSuccessPopupOnEsc);\n    return () => window.removeEventListener('keyup', closeSuccessPopupOnEsc);\n  }, []);\n\n  return (\n    <>\n      <section className={classNames} ref={scrollAnchorRef}>\n        <div className=\"recommendation__container\">\n          {isFormOpen && (\n            <button\n              className=\"recommendation__close-button\"\n              type=\"button\"\n              aria-label=\"закрыть попап\"\n              onClick={closeForm}\n            />\n          )}\n          <p className=\"section-title recommendation__text\">\n            Если вы были в интересном месте и хотите порекомендовать его\n            другим&nbsp;наставникам –&nbsp;\n            <button\n              className=\"recommendation__text-link\"\n              type=\"button\"\n              onClick={openForm}\n            >\n              заполните&nbsp;форму\n            </button>\n            , и мы добавим вашу&nbsp;рекомендацию.\n          </p>\n          {/* вызов формы */}\n          <FormRecommendation\n            isOpen={isFormOpen}\n            onSubmit={handleFormSubmit}\n            activityTypes={activityTypes}\n          />\n        </div>\n      </section>\n      <PopupRecommendSuccess\n        isOpen={isSuccessPopupOpen}\n        onClose={closeSuccessPopup}\n      />\n    </>\n  );\n}\n\nPlacesRecommend.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n};\n\nPlacesRecommend.defaultProps = {\n  activityTypes: [],\n  sectionClass: '',\n};\n\nexport default PlacesRecommend;\n","/* eslint-disable no-unused-vars */\nimport './Places.scss';\nimport PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { useEffect, useState, useContext } from 'react';\nimport { CurrentUserContext } from '../../contexts/index';\nimport {\n  useDebounce,\n  useActivityTypes,\n  useLocalStorage,\n} from '../../hooks/index';\nimport {\n  COLORS,\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  localStUserCity,\n} from '../../config/constants';\nimport {\n  renderFilterTags,\n  handleCheckboxBehavior,\n  handleRadioBehavior,\n  selectOneTag,\n  deselectOneTag,\n  deselectAllTags,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { getlocalStorageData } from '../../hooks/useLocalStorage';\nimport {\n  BasePage,\n  TitleH1,\n  CardPlace,\n  PlacesRecommend,\n  AnimatedPageContainer,\n} from './index';\nimport { getPlaces, getPlacesTags } from '../../api/places-page';\nimport { Loader } from '../Calendar';\n\nconst ageFilters = [\n  { filter: '8-10 лет', name: '8-10 лет', isActive: false, range: [8, 10] },\n  { filter: '11-13 лет', name: '11-13 лет', isActive: false, range: [11, 13] },\n  { filter: '14-18 лет', name: '14-18 лет', isActive: false, range: [14, 18] },\n  { filter: '18+ лет', name: '18+ лет', isActive: false, range: [18, 100] },\n];\n\nconst mentorTag = 'Выбор наставников';\n\nfunction Places({ openPopupCities }) {\n  const activityTypes = useActivityTypes();\n\n  const currentUser = useContext(CurrentUserContext);\n\n  // сохранённый в localStorage город анонимуса\n  const currentAnonymousCity = getlocalStorageData(localStUserCity);\n  // слушатель localStorage, если анонимус захочет поменять город\n  const anonymousCityChanged = useLocalStorage(localStUserCity);\n  const userCity =\n    currentUser?.city || currentAnonymousCity || anonymousCityChanged;\n\n  // места из API\n  const [places, setPlaces] = useState(null);\n  const [chosenPlace, setChosenPlace] = useState(null);\n\n  // переход между фильтрами, лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // переход между городами, лоадер\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  // триггер для useEffect\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // видна ли главная карточка\n  const [isChosenCardHidden, setIsChosenCardHidden] = useState(false);\n  // стейт для определения первой отрисовки страницы\n  const [isFirstRender, setIsFirstRender] = useState(false);\n  // категории фильтрации\n  const [ages, setAges] = useState(ageFilters); // состояние кнопок фильтра возраста\n  const [categories, setCategories] = useState([]); // состояние кнопок фильтра категорий\n\n  // хэндлер клика по фильтру КАТЕГОРИИ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // хэндлер клика по фильтру ВОЗРАСТ\n  const changeAge = (inputValue, isChecked) => {\n    handleRadioBehavior(setAges, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Выбор наставника\"\n  const defineCategories = (tags, chosenPlaceLast) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n    if (chosenPlaceLast) {\n      return [\n        { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n        { filter: mentorTag, name: mentorTag, isActive: false },\n        ...categoriesArray,\n      ];\n    }\n    return [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n  };\n\n  // функция, определяющая карточки по флагу \"Выбор наставника\"\n  // chosenPlaceLast - самая \"свежая\" карточка \"Выбор наставника\"\n  // restOfPlaces - массив без этой карточки\n  const definePlaces = (placesData) => {\n    const chosenPlaces = placesData.filter((place) => place?.chosen);\n    const chosenPlaceLast = chosenPlaces[chosenPlaces.length - 1];\n    const restOfPlaces = chosenPlaceLast\n      ? placesData.filter((place) => place?.id !== chosenPlaceLast?.id)\n      : placesData;\n    return { chosenPlaceLast, restOfPlaces };\n  };\n\n  // функция-фильтратор\n  const handleFiltration = () => {\n    const ageFilter = ages.find((filter) => filter.isActive);\n\n    const activeCategories = categories.filter(\n      (category) => category.isActive && category.filter !== ALL_CATEGORIES\n    );\n\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== mentorTag)\n      .map((tag) => tag.filter)\n      .join(',');\n\n    const isMentorFlag = activeCategories.some(\n      (tag) => tag.filter === mentorTag\n    );\n\n    // ВСЕ\n    if (activeCategories.length === 0) {\n      if (!ageFilter) {\n        // + БЕЗ ВОЗРАСТА (по умолчанию)\n        getPlaces({ city: userCity })\n          .then((res) => {\n            const { chosenPlaceLast, restOfPlaces } = definePlaces(res);\n            setChosenPlace(chosenPlaceLast);\n            setPlaces(restOfPlaces);\n            setIsChosenCardHidden(false);\n          })\n          .catch(console.log)\n          .finally(() => setIsLoading(false));\n      } else {\n        // + ВОЗРАСТ\n        getPlaces({\n          min_age: ageFilter.range[0],\n          max_age: ageFilter.range[1],\n          city: userCity,\n        })\n          .then((res) => {\n            setPlaces(res);\n            setIsChosenCardHidden(true);\n          })\n          .catch(console.log)\n          .finally(() => setIsLoading(false));\n      }\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      return;\n    }\n\n    // КАТЕГОРИИ + ВОЗРАСТ (или без него)\n    if (activeCategories.length > 0) {\n      getPlaces({\n        chosen: isMentorFlag,\n        tags: activeTags,\n        min_age: ageFilter?.range[0],\n        max_age: ageFilter?.range[1],\n        city: userCity,\n      })\n        .then((res) => {\n          setPlaces(res);\n          setIsChosenCardHidden(true);\n        })\n        .catch(console.log)\n        .finally(() => setIsLoading(false));\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  // запуск фильтрации\n  useEffect(() => {\n    if (isFiltersUsed) {\n      setIsLoading(true);\n      debounceFiltration();\n    }\n    setIsFiltersUsed(false);\n    setIsFirstRender(false);\n  }, [isFiltersUsed]);\n\n  // открытие попапа \"города\" для незарегистрированного\n  useEffect(() => {\n    if (!userCity) {\n      openPopupCities();\n    }\n  }, []);\n\n  // Promise.all нужен для формирования тега \"Выбор наставников\" по метке на карточках\n  useEffect(() => {\n    if (userCity) {\n      window.scrollTo({ top: 0 });\n      deselectAllTags(setAges);\n      setIsFirstRender(true);\n      setIsCityChanging(true);\n      Promise.all([\n        getPlaces({ city: userCity }),\n        getPlacesTags({ city: userCity }),\n      ])\n        .then(([placesData, tagsData]) => {\n          const { chosenPlaceLast, restOfPlaces } = definePlaces(placesData);\n          setChosenPlace(chosenPlaceLast);\n          setPlaces(restOfPlaces);\n          setCategories(defineCategories(tagsData, chosenPlaceLast));\n          setIsChosenCardHidden(false);\n        })\n        .catch(console.log)\n        .finally(() => setIsCityChanging(false));\n    }\n  }, [userCity]);\n\n  // функции рендера\n  const renderTags = () => (\n    <div className=\"tags\">\n      <ul className=\"tags__list\">\n        {renderFilterTags(categories, 'category', changeCategory)}\n      </ul>\n      <ul className=\"tags__list\">{renderFilterTags(ages, 'age', changeAge)}</ul>\n    </div>\n  );\n\n  const renderPlaces = () => {\n    if (places?.length > 0) {\n      return (\n        <>\n          {chosenPlace && !isChosenCardHidden && (\n            <section className=\"places__main fade-in\">\n              <CardPlace\n                key={chosenPlace?.id}\n                data={chosenPlace}\n                activityTypes={activityTypes}\n                sectionClass=\"card-container_type_main-article\"\n                isBig\n              />\n            </section>\n          )}\n\n          <section className=\"places__cards-grid\">\n            {places.map((place, i) => (\n              <CardPlace\n                key={place?.id}\n                data={place}\n                activityTypes={activityTypes}\n                color={COLORS[i % COLORS.length]}\n                sectionClass=\"card-container_type_article fade-in\"\n              />\n            ))}\n          </section>\n        </>\n      );\n    }\n    return (\n      <p className=\"places__paragraph\">По вашему запросу ничего не нашлось</p>\n    );\n  };\n\n  const renderAnimatedContainer = () => (\n    <>\n      {!isCityChanging ? (\n        <>\n          <AnimatedPageContainer\n            titleText=\"Рекомендуемых мест для вашего города ещё нет, но они обязательно появятся!\"\n            buttonText=\"Вернуться на главную\"\n          />\n          {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n        </>\n      ) : (\n        <Loader isNested />\n      )}\n    </>\n  );\n\n  const renderPageContent = () => {\n    if (isFirstRender && places?.length === 0) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        <TitleH1 title=\"Куда пойти\" />\n        {!isCityChanging ? (\n          <>\n            {renderTags()}\n            {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n\n            {!isLoading ? <>{renderPlaces()}</> : <Loader isNested />}\n          </>\n        ) : (\n          <Loader isNested />\n        )}\n      </>\n    );\n  };\n\n  if (!places) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Куда пойти</title>\n        <meta\n          name=\"description\"\n          content=\"Куда вы можете пойти, что рекомендуют наши наставники\"\n        />\n      </Helmet>\n      <section className=\"places page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nPlaces.propTypes = {\n  openPopupCities: PropTypes.func,\n};\n\nPlaces.defaultProps = {\n  openPopupCities: () => {},\n};\n\nexport default Places;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение всех \"прав\" на странице Права\nfunction getRightsData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data);\n}\n\n// получение категорий прав (список фильтров)\nfunction getRightsTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/tags/`)\n    .then((response) => response.data);\n}\n\nexport { getRightsData, getRightsTags };\n","import React from 'react';\nimport './CardRights.scss';\n\nimport PropTypes from 'prop-types';\n\nimport { CardFigure, Rubric } from './index';\n\nfunction CardRights({ title, tags, shape, color }) {\n  return (\n    <div className=\"rights__card\">\n      <a href=\"/\" className=\"rights__link\">\n        <CardFigure shape={shape} title={title} color={color}>\n          <div className=\"rights__block\">\n            {tags.map((tag) => (\n              <Rubric\n                key={tag.id}\n                sectionClass=\"rights__rubric\"\n                title={tag.name}\n              />\n            ))}\n          </div>\n        </CardFigure>\n      </a>\n    </div>\n  );\n}\n\nCardRights.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  tags: PropTypes.arrayOf(Array),\n  color: PropTypes.string,\n};\n\nCardRights.defaultProps = {\n  title: '',\n  shape: 'square',\n  tags: [],\n  color: '',\n};\n\nexport default CardRights;\n","import React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport './Rights.scss';\nimport { ALL_CATEGORIES, FIGURES, COLORS } from '../../config/constants';\nimport {\n  renderFilterTags,\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport { getRightsData, getRightsTags } from '../../api/rights-page';\nimport {\n  BasePage,\n  Loader,\n  TitleH1,\n  CardRights,\n  CardsSectionWithLines,\n  AnimatedPageContainer,\n} from './index';\n\nconst Rights = () => {\n  useScrollToTop();\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(16);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными Статьи, Теги\n  const [articles, setArticles] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Загрузка данных\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n\n  // хэндлер клика по фильтру КАТЕГОРИЯ\n  const changeCategory = (inputValue, isChecked) => {\n    handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  };\n\n  // отрисовка массива фильтров\n  const renderTagsContainder = () => (\n    <div className=\"tags\">\n      <ul className=\"tags__list\">\n        {renderFilterTags(categories, 'checkbox', changeCategory)}\n      </ul>\n    </div>\n  );\n\n  // отрисовка контента страницы\n  const renderMainContent = () => (\n    <>\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        sectionClass=\"rights page__section\"\n      >\n        {articles.map((item, i) => (\n          <CardRights\n            key={item.id}\n            title={item.title}\n            tags={item.tags}\n            shape={FIGURES[i % FIGURES.length]}\n            color={COLORS[i % COLORS.length]}\n          />\n        ))}\n      </CardsSectionWithLines>\n    </>\n  );\n\n  // Заглушка на страницу\n  const getPageStub = (text) => (\n    <AnimatedPageContainer titleText={text} buttonText=\"Вернуться на главную\" />\n  );\n\n  const getArticlesData = (tagsStr = '', offset = 0) => {\n    getRightsData({\n      limit: pageSize,\n      offset,\n      tags: tagsStr,\n    })\n      .then(({ results, count }) => {\n        setArticles(results);\n        setPageCount(Math.ceil(count / pageSize));\n      })\n      .catch(getPageStub('Ошибка обработки запроса попробуйте чуть позже'))\n      .finally(() => {\n        setIsLoadingPage(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const getArticlesTags = () => {\n    getRightsTags()\n      .then((tags) => {\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag.name),\n          isActive: false,\n        }));\n        setCategories([\n          {\n            filter: ALL_CATEGORIES,\n            name: ALL_CATEGORIES,\n            isActive: true,\n          },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(getPageStub('Ошибка обработки запроса попробуйте чуть позже'));\n  };\n\n  const getPageData = (tagsStr) => {\n    const offset = pageSize * pageNumber;\n\n    if (isLoadingPage) {\n      getArticlesData();\n      getArticlesTags();\n    } else if (isFiltersUsed) {\n      getArticlesData(tagsStr);\n    } else {\n      getArticlesData(tagsStr, offset);\n    }\n  };\n\n  // функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (!isLoadingPage && isFiltersUsed) {\n      const activeCategories = categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter);\n\n      if (activeCategories.length === 0) {\n        getPageData();\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      } else {\n        const tagsStr = activeCategories.join(',');\n        getPageData(tagsStr);\n        deselectOneTag(setCategories, ALL_CATEGORIES);\n      }\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, 1500);\n  // запуск фильтрации\n  useEffect(() => {\n    debounceFiltration();\n  }, [isFiltersUsed]);\n\n  // Отрисовка страницы\n  useEffect(() => {\n    getPageData();\n  }, [pageSize, pageNumber]);\n\n  // Юз эффект для пагинации\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(4);\n      } else if (largeQuery.matches) {\n        setPageSize(9);\n      } else {\n        setPageSize(16);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // залогинен и нет ивентов\n  if (!articles && !isLoadingPage) {\n    return getPageStub(\n      'В данный момент статей о правах детей нет, приносим свои извинения.'\n    );\n  }\n\n  // глобальный лоадер\n  if (isLoadingPage || !articles || !categories) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Права детей</title>\n        <meta\n          name=\"description\"\n          content=\"Информационные рубрики о правах детей\"\n        />\n      </Helmet>\n      <section className=\"lead page__section fade-in\">\n        <TitleH1 title=\"Права детей\" />\n        {categories?.length > 1 && renderTagsContainder()}\n      </section>\n      {isFiltersUsed ? <Loader isNested /> : renderMainContent()}\n    </BasePage>\n  );\n};\n\nexport default Rights;\n","/* eslint-disable no-undef */\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router-dom';\nimport { useScrollToTop } from '../../hooks';\nimport {\n  BasePage,\n  TitleH1,\n  PseudoButtonTag,\n  CardFilm,\n  CardAnnotation,\n} from './index';\n\nfunction Movies() {\n  useScrollToTop();\n  return (\n    <BasePage>\n      <Helmet>\n        <title>Фильмы</title>\n        <meta\n          name=\"description\"\n          content=\"Подборка фильмов, которые можно посмотреть, с аннотацией к ним\"\n        />\n      </Helmet>\n      <section className=\"lead page__section\">\n        <TitleH1 title=\"Фильмы\" />\n        <div className=\"tags\">\n          <ul className=\"tags__list\">\n            {moviesTags.map((item) => (\n              <li className=\"tags__list-item\" key={item.name}>\n                <PseudoButtonTag\n                  name={item.name}\n                  value={item.filter}\n                  title={item.name}\n                  isActive={item.isActive}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n      </section>\n      <section className=\"cards-grid cards-grid_content_small-cards page__section\">\n        {movies.results.map((item) => (\n          <article className=\"card-container card-pagination\">\n            <Link\n              to=\"/films\"\n              className=\"main-section__link card-pagination_page_main\"\n              key={item.id}\n            >\n              <CardFilm data={item} />\n            </Link>\n            <CardAnnotation description={item.annotation} />\n          </article>\n        ))}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Movies;\n","function ReadAndWatch() {\n  return <section className=\"section\" />;\n}\n\nexport default ReadAndWatch;\n","/* eslint-disable react/jsx-props-no-spreading */\n//! не дает использовать spread на пропсах, в дальнейшем заменить!\nimport PropTypes from 'prop-types';\nimport { Redirect, Route } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() => (props.isAuth ? <Component {...props} /> : <Redirect to=\"/\" />)}\n    </Route>\n  );\n}\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n  isAuth: PropTypes.bool,\n  path: PropTypes.string.isRequired,\n};\n\nProtectedRoute.defaultProps = {\n  isAuth: false,\n};\n\nexport default ProtectedRoute;\n","import { useContext } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  AboutUs,\n  Profile,\n  Calendar,\n  MainPage,\n  PageNotFound,\n  Catalog,\n  Questions,\n  Places,\n  Rights,\n  Movies,\n  ReadAndWatch,\n} from '../pages/index';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport {\n  MAIN_PAGE_URL,\n  ABOUT_US_URL,\n  AFISHA_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  MOVIES_URL,\n  READ_AND_WATCH_URL,\n  CATALOG_URL,\n  PROFILE_URL,\n} from '../config/routes';\n\nfunction Router({\n  handlers: {\n    handleEventBooking,\n    handleClickPopupAboutEventOpened,\n    handleClickPopupLoginOpened,\n    handleClickPopupCities,\n  },\n}) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <Switch>\n      <Route exact path={MAIN_PAGE_URL}>\n        <MainPage\n          onEventSignUpClick={handleEventBooking}\n          onEventFullDescriptionClick={handleClickPopupAboutEventOpened}\n        />\n      </Route>\n      <Route exact path={ABOUT_US_URL}>\n        <AboutUs />\n      </Route>\n      <Route path={AFISHA_URL}>\n        <Calendar\n          onEventSignUpClick={handleEventBooking}\n          onEventFullDescriptionClick={handleClickPopupAboutEventOpened}\n          onOpenLoginPopup={handleClickPopupLoginOpened}\n        />\n      </Route>\n      <Route path={QUESTIONS_URL}>\n        <Questions />\n      </Route>\n      <ProtectedRoute\n        exact\n        path={PROFILE_URL}\n        component={Profile}\n        onEventFullDescriptionClick={handleClickPopupAboutEventOpened}\n        isAuth={!!currentUser}\n      />\n      <Route exact path={PLACES_URL}>\n        <Places openPopupCities={handleClickPopupCities} />\n      </Route>\n      <Route exact path={RIGHTS_URL}>\n        <Rights />\n      </Route>\n      <Route exact path={MOVIES_URL}>\n        <Movies />\n      </Route>\n      <Route exact path={READ_AND_WATCH_URL}>\n        <ReadAndWatch />\n      </Route>\n      <Route exact path={CATALOG_URL}>\n        <Catalog />\n      </Route>\n      <Route path=\"*\">\n        <PageNotFound />\n      </Route>\n    </Switch>\n  );\n}\n\nRouter.propTypes = {\n  handlers: PropTypes.objectOf(PropTypes.any),\n};\n\nRouter.defaultProps = {\n  handlers: {},\n};\n\nexport default Router;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\naxios.defaults.headers.get['Content-Type'] = 'application/json';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\nexport default class Api {\n  // регистрация на мероприятие\n  //! подключено к бекенду\n  static makeEventRegistration(eventId) {\n    console.log('registerOnEvent');\n    return axios\n      .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n      .then((response) => console.log(response))\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n\n  // удаление регистрации на мероприятие\n  //! подключено к бекенду\n  static cancelEventRegistration(eventId) {\n    console.log('registerOnEvent');\n    console.log(eventId);\n    return axios\n      .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n      .then((response) => console.log(response))\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n\n  // ПЕРЕДЕЛАТЬ и отключить\n  // работа со страницей ЛК\n  //! подключено к бекенду\n  static getBookedEvents() {\n    return axios\n      .get(`${baseURL}${apiUrl}/afisha/event-participants/`)\n      .then((response) => response.data.results)\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n\n  // получить дневник\n  static getProfileDiariesData() {\n    //! подключено к бекенду\n    return axios\n      .get(`${baseURL}${apiUrl}/profile/diaries/`)\n      .then((response) => response.data.results)\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n\n  // создать дневник\n  static createDiary(data) {\n    //! подключено к бекенду\n    return axios\n      .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      })\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n\n  // редактировать дневник\n  static editDiary(diaryId, data) {\n    //! подключено к бекенду\n    return axios\n      .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n\n  // удалить дневник\n  static deleteDiary(diaryId, data) {\n    //! подключено к бекенду\n    return axios\n      .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(new Error(`${err.message}`)));\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { useHistory } from 'react-router-dom';\nimport { HelmetProvider } from 'react-helmet-async';\nimport Header from './components/Header/Header';\nimport Router from './navigation/Router';\nimport Loader from './components/utils/Loader/Loader';\nimport { MAIN_PAGE_URL, PROFILE_URL } from './config/routes';\n// попапы\nimport {\n  PopupConfirmation,\n  PopupSuccessfully,\n  PopupLogin,\n  PopupAboutEvent,\n  PopupCities,\n  PopupError,\n} from './components/Popups/index';\n// логины, авторизация\nimport { CurrentUserContext, CitiesContext } from './contexts/index';\n// API\nimport AuthApi from './utils/auth';\nimport Api from './utils/api';\nimport { useCities } from './hooks/index';\n\nfunction App() {\n  const history = useHistory();\n\n  // текущий юзер/контекст\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\n\n  // список городов/контекст\n  const cities = useCities();\n\n  // стейт переменные попапов\n  const [isPopupConfirmationOpen, setIsPopupConfirmationOpen] = useState(false);\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = useState(false);\n  const [isPopupSuccessfullyOpen, setIsPopupSuccessfullyOpen] = useState(false);\n  const [isPopupAboutDescriptionOpen, setIsPopupAboutDescriptionOpen] =\n    useState(false);\n  const [isPopupCitiesOpen, setIsPopupCitiesOpen] = useState(false);\n  const [isPopupErrorOpen, setIsPopupErrorOpen] = useState(false);\n\n  // выбранная карточка при открытии попапа (календарь)\n  const [selectedCalendarCard, setSelectedCalendarCard] = useState({});\n\n  // управление попапами (открыть/закрыть)\n  function closeAllPopups() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(false);\n    setIsPopupLoginOpen(false);\n    setIsPopupAboutDescriptionOpen(false);\n    setIsPopupErrorOpen(false);\n  }\n\n  function handleClickPopupConfirmationOpened() {\n    setIsPopupConfirmationOpen(true);\n  }\n\n  function handleClickPopupSuccessfullyOpened() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(true);\n  }\n\n  function handleClickPopupLoginOpened() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function handleClickPopupAboutEventOpened(cardData) {\n    // запоминаем карточку\n    setSelectedCalendarCard(cardData);\n    // открываем попап подтвердить\n    setIsPopupAboutDescriptionOpen(true);\n  }\n\n  function handleClickPopupCities() {\n    setIsPopupCitiesOpen(true);\n  }\n\n  function closePopupCities() {\n    setIsPopupCitiesOpen(false);\n  }\n\n  function handleClickPopupErrorOpened() {\n    setIsPopupErrorOpen(true);\n  }\n\n  //! api\n  function handleLogin(loginData) {\n    AuthApi.authorize(loginData)\n      .then((token) => {\n        const { access, refresh } = token;\n        if (refresh && access) {\n          AuthApi.setAuth(access);\n          localStorage.setItem('jwt', access);\n          AuthApi.getUserData()\n            .then((userData) => setCurrentUser(userData))\n            .then(() => closeAllPopups())\n            .catch((error) => console.log(error)); // при получении данных юзера произошла ошибка\n        }\n      })\n      .catch((error) => console.log(error)); // авторизация (работа с сервером) закончилась ошибкой\n  }\n\n  function handleLogout() {\n    AuthApi.clearAuth();\n    setCurrentUser(null);\n    localStorage.removeItem('jwt');\n    history.push(MAIN_PAGE_URL);\n  }\n\n  // проверка токена между сессиями\n  function checkToken() {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      AuthApi.setAuth(token);\n      AuthApi.getUserData()\n        .then((userData) => setCurrentUser(userData))\n        .then(() => setIsCheckingToken(false))\n        .catch((error) => console.log(error)); // при получении userData возникла проблема\n    } else {\n      setIsCheckingToken(false);\n    }\n  }\n\n  // работает с запросом Api (booked)\n  function registerOnEvent(cardData, cardId) {\n    Api.makeEventRegistration({ event: cardId })\n      //! нужна перекраска карточки без подзагрузок (в идеале)\n      .then(() => setSelectedCalendarCard(cardData))\n      .then(() => handleClickPopupSuccessfullyOpened())\n      .catch((error) => console.log(error));\n    // или переносить это в карточку + юзать стейт\n    // или использовать контекст\n  }\n\n  function cancelEventRegistration(cardData, cardId) {\n    Api.cancelEventRegistration(cardId)\n      //! нужна перекраска карточки без подзагрузок (в идеале)\n      .then(() => console.log('Успешно!'))\n      .catch((error) => console.log(error));\n    // или переносить это в карточку + юзать стейт\n    // или использовать контекст\n  }\n\n  function handleEventBooking(cardData, cardId, isEventBooked) {\n    console.log('bookingHandler');\n    console.log(cardData);\n    console.log(cardId);\n    console.log(isEventBooked);\n    // console.log(cardData.id);\n    // console.log(isEventBooked);\n    if (isEventBooked) {\n      console.log('мы не записаны');\n      // мы записаны на ивент, надо отписаться\n      cancelEventRegistration(cardData, cardId);\n    } else {\n      console.log('мы не записаны');\n      // мы НЕ записаны на ивент, надо открыть попап \"подтвердите\"\n      setSelectedCalendarCard(cardData); // отмечаем карточку\n      setIsPopupAboutDescriptionOpen(false); // закрываем попап подробно\n      handleClickPopupConfirmationOpened(); // открываем попап \"подтвердите\"\n    }\n  }\n\n  function handleUserButtonClick() {\n    if (currentUser) {\n      history.push(PROFILE_URL);\n    } else {\n      handleClickPopupLoginOpened();\n    }\n  }\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  // эффект закрытия модалок по Escape\n  useEffect(() => {\n    window.addEventListener('keyup', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    });\n  }, []);\n\n  const handlers = {\n    handleEventBooking,\n    handleClickPopupAboutEventOpened,\n    handleClickPopupLoginOpened,\n    handleClickPopupCities,\n  };\n\n  return (\n    <HelmetProvider>\n      <CitiesContext.Provider value={cities}>\n        <CurrentUserContext.Provider value={currentUser}>\n          <div className=\"page\">\n            <Header\n              onLogout={handleLogout}\n              onUserButtonClick={handleUserButtonClick}\n              onCityChange={handleClickPopupCities}\n            />\n            {!isCheckingToken ? (\n              <Router handlers={handlers} />\n            ) : (\n              <Loader isCentered />\n            )}\n            <PopupConfirmation\n              isOpen={isPopupConfirmationOpen}\n              onClose={closeAllPopups}\n              onConfirmButtonClick={registerOnEvent}\n              onErrorClick={handleClickPopupErrorOpened}\n              cardData={selectedCalendarCard}\n            />\n            <PopupSuccessfully\n              isOpen={isPopupSuccessfullyOpen}\n              onClose={closeAllPopups}\n              cardData={selectedCalendarCard}\n            />\n            <PopupLogin\n              isOpen={isPopupLoginOpen}\n              onClose={closeAllPopups}\n              onLoginFormSubmit={handleLogin}\n            />\n            <PopupAboutEvent\n              isOpen={isPopupAboutDescriptionOpen}\n              onClose={closeAllPopups}\n              onEventSignUpClick={handleEventBooking}\n              onErrorClick={handleClickPopupErrorOpened}\n              cardData={selectedCalendarCard}\n            />\n            <PopupCities\n              isOpen={isPopupCitiesOpen}\n              onClose={closePopupCities}\n              onSubmit={setCurrentUser}\n            />\n            <PopupError isOpen={isPopupErrorOpen} onClose={closeAllPopups} />\n          </div>\n        </CurrentUserContext.Provider>\n      </CitiesContext.Provider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}