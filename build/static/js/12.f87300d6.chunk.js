(this.webpackJsonpbbbs_team3_react=this.webpackJsonpbbbs_team3_react||[]).push([[12],{180:function(t,e,n){"use strict";var c=n(2),i=(n(182),n(0));function a(t){var e=t.filterList,n=t.name,a=t.handleClick,r=["tags",t.sectionClass].join(" ").trim(),u=["tags__list",e.length>3?"tags__list_mobile":""].join(" ").trim();return Object(i.jsx)("div",{className:r,children:Object(i.jsx)("ul",{className:u,children:e.map((function(t){return Object(i.jsx)("li",{className:"tags__list-item",children:Object(i.jsx)(c.r,{name:n,value:null===t||void 0===t?void 0:t.filter,title:null===t||void 0===t?void 0:t.name,isActive:null===t||void 0===t?void 0:t.isActive,onClick:a})},null===t||void 0===t?void 0:t.name)}))})})}a.defaultProps={filterList:[],sectionClass:"",name:"",handleClick:function(){}},e.a=a},181:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return u}));var c=function(t,e){var n=e.inputValue,c=e.isChecked;t((function(t){return t.map((function(t){return t.filter===n&&(t.isActive=c),t}))}))},i=function(t,e){var n=e.inputValue,c=e.isChecked;t((function(t){return t.map((function(t){return t.filter===n?t.isActive=c:t.isActive=!1,t}))}))},a=function(t,e){t((function(t){return t.map((function(t){return t.filter===e?t.isActive=!0:t.isActive=!1,t}))}))},r=function(t,e){t((function(t){return t.map((function(t){return t.filter===e&&(t.isActive=!1),t}))}))},u=function(t){t((function(t){return t.map((function(t){return t.isActive=!1,t}))}))}},182:function(t,e,n){},192:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return s}));var c=n(14),i=n.n(c),a=n(6);function r(t){var e=t.limit,n=t.offset,c=t.tags;return i.a.get("".concat(a.b).concat(a.a,"/movies/"),{params:{tags:c,limit:e,offset:n}}).then((function(t){return t.data})).catch((function(t){return Promise.reject(new Error("".concat(t.message)))}))}function u(){return i.a.get("".concat(a.b).concat(a.a,"/movies/tags/")).then((function(t){return t.data})).catch((function(t){return Promise.reject(new Error("".concat(t.message)))}))}function s(t){return i.a.get("".concat(a.b).concat(a.a,"/movies/").concat(t)).then((function(t){return t.data})).catch((function(t){return Promise.reject(new Error("".concat(t.message)))}))}},226:function(t,e,n){},261:function(t,e,n){"use strict";n.r(e);var c=n(46),i=n(5),a=n(1),r=n(16),u=n(3),s={headTitle:"".concat(u.l," | ").concat(u.n),headDescription:"\u041f\u043e\u0434\u0431\u043e\u0440\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u0441 \u0430\u043d\u043d\u043e\u0442\u0430\u0446\u0438\u0435\u0439 \u043a \u043d\u0438\u043c.",title:u.n,textStubNoData:"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 c \u0444\u0438\u043b\u044c\u043c\u0430\u043c\u0438 \u043f\u0443\u0441\u0442\u0430. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u043e\u0437\u0436\u0435!"},o=n(8),l=n(7),f=n(192),j=n(44),d=n(47),b=n(28),m=n(45),O=n(180),v=n(2),h=n(58),g=n(11),p=n(4),x=n(181),_=n(10),C=(n(226),n(0)),E=8,w=12,k=16,A=1216,S=1451,L=s.headTitle,N=s.headDescription,P=s.title,D=s.textStubNoData;e.default=function(){var t=Object(r.h)().state,e=Object(a.useContext)(o.c).setError,n=Object(a.useContext)(o.d),u=n.openPopupError,s=n.openPopupVideo,M=Object(a.useState)(!0),T=Object(i.a)(M,2),V=T[0],F=T[1],J=Object(a.useState)(!1),y=Object(i.a)(J,2),q=y[0],z=y[1],B=Object(a.useState)(null),G=Object(i.a)(B,2),H=G[0],I=G[1],K=Object(a.useState)(null),Q=Object(i.a)(K,2),R=Q[0],U=Q[1],W=Object(a.useState)(!1),X=Object(i.a)(W,2),Y=X[0],Z=X[1],$=Object(a.useState)(null),tt=Object(i.a)($,2),et=tt[0],nt=tt[1],ct=Object(a.useState)(0),it=Object(i.a)(ct,2),at=it[0],rt=it[1],ut=Object(a.useState)(0),st=Object(i.a)(ut,2),ot=st[0],lt=st[1],ft=Object(a.useState)(!1),jt=Object(i.a)(ft,2),dt=jt[0],bt=jt[1],mt=function(){return R?R.filter((function(t){return t.isActive&&t.filter!==p.a})).map((function(t){return t.filter})).join(","):null},Ot=function(t){var n=Y?0:et*ot,c=t||mt();Object(f.b)({limit:et,offset:n,tags:c}).then((function(t){var e=t.results,n=t.count;return rt(Math.ceil(n/et)),e})).then((function(t){return I(t)})).catch((function(){Y?(e(p.g.filterErrorMessage),u()):bt(!0)})).finally((function(){F(!1),z(!1),Z(!1)}))},vt=function(t,e){t===p.a?Object(x.e)(U,p.a):(Object(x.c)(U,{inputValue:t,isChecked:e}),Object(x.b)(U,p.a)),Z(!0)};Object(a.useEffect)((function(){t&&Object(f.a)(t.id).then((function(t){Object(_.e)(p.l,t),s()})).catch((function(){return bt(!0)}))}),[t]);var ht=Object(l.f)((function(){if(R&&Y){var t=mt();0===t.length&&Object(x.e)(U,p.a),Ot(t)}}),p.d),gt=Object(l.f)(Ot,p.d);return Object(a.useEffect)((function(){Y&&ht()}),[Y]),Object(a.useEffect)((function(){V&&et&&(Ot(),Object(f.c)().then((function(t){var e=t.map((function(t){return{filter:null===t||void 0===t?void 0:t.slug.toLowerCase(),name:Object(g.a)(null===t||void 0===t?void 0:t.name),isActive:!1}}));U([{filter:p.a,name:p.a,isActive:!0}].concat(Object(c.a)(e)))})).catch((function(){return bt(!0)}))),V||Y||(z(!0),gt())}),[et,ot]),Object(a.useEffect)((function(){var t=window.matchMedia("(max-width: ".concat(A,"px)")),e=window.matchMedia("(max-width: ".concat(S,"px)")),n=function(){t.matches?nt(E):e.matches?nt(w):nt(k)};return n(),t.addEventListener("change",n),e.addEventListener("change",n),function(){t.removeEventListener("change",n),e.removeEventListener("change",n)}}),[]),V?Object(C.jsx)(v.k,{isCentered:!0}):Object(C.jsx)(j.a,{headTitle:L,headDescription:N,children:Object(C.jsx)("section",{className:"movies page__section fade-in",children:function(){if(dt)return Object(C.jsx)(m.a,{titleText:p.g.generalErrorMessage.title});return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(v.w,{title:P,sectionClass:"movies__title"}),(null===R||void 0===R?void 0:R.length)>1&&Object(C.jsx)(O.a,{filterList:R,name:"tag",handleClick:vt}),Y?Object(C.jsx)(v.k,{isPaginate:!0}):pt()]})}()})});function pt(){return H||V?Object(C.jsxs)(C.Fragment,{children:[q?Object(C.jsx)(v.k,{isPaginate:!0}):Object(C.jsx)("ul",{className:"movies__cards cards-grid cards-grid_content_small-cards fade-in",children:H.map((function(t){return Object(C.jsxs)("li",{className:"card-container scale-in",children:[Object(C.jsx)(d.a,{data:t}),Object(C.jsx)(b.a,{description:t.annotation})]},t.id)}))}),at>1&&Object(C.jsx)(h.a,{sectionClass:"cards-section__pagination",pageCount:at,value:ot,onChange:lt})]}):Object(C.jsx)(m.a,{titleText:D})}}}}]);
//# sourceMappingURL=12.f87300d6.chunk.js.map