{"version":3,"sources":["utils/external-links.js","config/routes.js","pages/AboutUs/locales/RU.js","hooks/useClickOutside.js","hooks/useScrollToTop.js","contexts/CurrentUserContext.js","contexts/CitiesContext.js","contexts/PopupsContext.js","contexts/ErrorsContext.js","config/config.js","api/auth.js","api/user.js","hooks/useLocalStorage.js","config/constants.js","hooks/useAuth.js","api/cities.js","hooks/useDebounce.js","hooks/useCities.js","api/places-page.js","hooks/useActivityTypes.js","hooks/useEventBooking.js","api/event-participants.js","hooks/useFormWithValidation.js","hooks/useInfiniteScroll.js","components/Header/locales/RU.js","components/NavBar/locales/RU.js","components/utils/Blockquote/Blockquote.js","components/utils/Button/Button.js","components/utils/ButtonDots/ButtonDots.js","components/utils/ButtonRound/ButtonRound.js","components/utils/Caption/Caption.js","components/utils/Card/Card.js","components/utils/NavItem/NavItem.js","utils/drop-down-menu-link.js","components/utils/DropDownMenu/DropDownMenu.js","components/utils/DropDownSelect/locales/RU.js","components/utils/DropDownSelect/DropDownSelect.js","components/utils/Input/Input.js","components/utils/LinkableHeading/LinkableHeading.js","components/utils/Loader/Loader.js","assets/logo.svg","components/utils/LogoBlue/locales/RU.js","components/utils/LogoBlue/LogoBlue.js","components/utils/ModificatedScrollbars/ModificatedScrollbars.js","components/utils/NoDataNotificationBox/locales/RU.js","components/utils/NoDataNotificationBox/NoDataNotificationBox.js","components/utils/Paginate/Paginate.js","components/utils/PseudoButtonTag/PseudoButtonTag.js","components/utils/Rating/Rating.js","components/utils/Rubric/Rubric.js","components/utils/ScrollableContainer/locales/RU.js","components/utils/ScrollableContainer/ScrollableContainer.js","components/utils/SearchButton/locales/RU.js","components/utils/SearchButton/SearchButton.js","components/utils/TitleH1/TitleH1.js","components/utils/TitleH2/TitleH2.js","components/utils/TitleH3/TitleH3.js","components/utils/UserIconButton/UserIconButton.js","components/utils/UserMenuButton/UserMenuButton.js","components/utils/Widget/locales/RU.js","components/utils/Widget/Widget.js","components/utils/NextArticleLink/NextArticleLink.js","components/NavItemWithDropdown/NavItemWithDropdown.js","components/Search/locales/RU.js","api/search.js","components/Search/Search.js","components/NavBar/NavBar.js","components/Header/Header.js","components/Footer/locales/RU.js","assets/footer-logo.svg","components/Footer/Footer.js","layout/BasePage.js","components/Cards/CardFigure/CardFigure.js","components/Cards/CardAbout/CardAbout.js","pages/AboutUs/AboutUs.js","pages/Profile/locales/RU.js","components/Cards/ProfileEventCard/locales/RU.js","utils/utils.js","components/Cards/ProfileEventCard/ProfileEventCard.js","components/ProfileForm/locales/RU.js","utils/rating-captions.js","utils/form-errors.js","components/ProfileForm/ProfileForm.js","components/ProfileDiary/locales/RU.js","assets/icon-logo-no-text.svg","components/Cards/CardAnnotation/CardAnnotationContainer.js","components/ProfileDiary/ProfileDiary.js","components/Popups/PopupDeleteDiary/locales/RU.js","components/Popups/Popup/locales/RU.js","components/Popups/Popup/Popup.js","components/Popups/PopupDeleteDiary/PopupDeleteDiary.js","components/AnimatedPageContainer/locales/RU.js","components/AnimatedPageContainer/AnimatedPageContainer.js","pages/Profile/Profile.js","api/profile-page.js","pages/Calendar/locales/RU.js","utils/filter-tags.js","components/Cards/CardCalendar/locales/RU.js","components/Cards/CardCalendar/CardCalendar.js","components/TagsList/TagsList.js","pages/Calendar/Calendar.js","api/afisha-page.js","pages/MainPage/locales/RU.js","api/main-page.js","components/Cards/CardStub/locales/RU.js","components/Cards/CardStub/CardStub.js","components/Cards/CardPlace/locales/RU.js","components/Cards/CardAnnotation/CardAnnotation.js","components/Cards/CardPlace/CardPlace.js","components/Cards/CardArticleBig/locales/RU.js","components/Cards/CardArticleBig/CardArticleBig.js","components/Cards/CardFilm/locales/RU.js","utils/parser-link-youtube.js","components/Cards/CardFilm/CardFilm.js","components/Cards/CardVideoMain/locales/RU.js","components/Cards/CardVideoMain/CardVideoMain.js","components/Cards/CardQuestion/locales/RU.js","components/Cards/CardQuestion/CardQuestion.js","components/Cards/CardAnimatedPlug/CardAnimatedPlug.js","pages/MainPage/MainPage.js","pages/PageNotFound/locales/RU.js","pages/PageNotFound/PageNotFound.js","pages/Catalog/locales/RU.js","utils/render-lines.js","components/CardsSectionWithLines/CardsSectionWithLines.js","components/Cards/CardCatalog/CardCatalog.js","api/catalog-page.js","pages/Catalog/Catalog.js","pages/Questions/locales/RU.js","utils/question-form.js","api/questions-page.js","pages/Questions/Questions.js","pages/Places/locales/RU.js","pages/Places/constants.js","components/PlacesRecommend/locales/RU.js","components/FormRecommendation/locales/RU.js","components/FormRecommendation/FormRecommendation.js","components/PlacesRecommend/PlacesRecommend.js","pages/Places/Places.js","pages/Rights/locales/RU.js","api/rights-page.js","components/Cards/CardRights/CardRights.js","pages/Rights/Rights.js","pages/Movies/locales/RU.js","api/movies-page.js","pages/Movies/Movies.js","pages/Articles/locales/RU.js","components/Cards/CardArticle/locales/RU.js","components/Cards/CardArticle/CardArticle.js","api/articles-page.js","pages/Articles/Articles.js","pages/ReadAndWatch/locales/read-and-watch-page-RU.js","components/Cards/CardBook/CardBook.js","pages/ReadAndWatch/constants.js","components/ReadAndWatchSection/ReadAndWatchSection.js","components/ReadAndWatchSection/constants.js","api/video-page.js","api/books-page.js","pages/ReadAndWatch/ReadAndWatch.js","pages/Video/locales/RU.js","pages/Video/Video.js","pages/Books/locales/RU.js","pages/Books/Books.js","pages/CatalogArticle/locales/RU.js","pages/CatalogArticle/CatalogArticle.js","pages/RightsArticle/locales/RU.js","pages/RightsArticle/RightsArticle.js","pages/Stories/locales/RU.js","components/Popups/PopupConfirmation/locales/RU.js","components/Popups/PopupConfirmation/PopupConfirmation.js","components/Popups/PopupSuccessfully/locales/RU.js","components/Popups/PopupSuccessfully/PopupSuccessfully.js","components/Popups/PopupRecommendSuccess/locales/RU.js","components/Popups/PopupRecommendSuccess/PopupRecommendSuccess.js","components/Popups/PopupLogin/locales/RU.js","components/Popups/PopupLogin/PopupLogin.js","components/Popups/PopupAboutEvent/locales/RU.js","components/Popups/PopupAboutEvent/PopupAboutEvent.js","components/Popups/PopupCities/locales/RU.js","components/Popups/PopupCities/PopupCities.js","components/Popups/PopupError/PopupError.js","components/Popups/PopupVideo/PopupVideo.js","components/Popups/PopupPhoto/PopupPhoto.js","components/Popups/PopupArticle/PopupArticle.js","components/Popups/PopupBook/PopupBook.js","components/Popups/PopupPlace/PopupPlace.js","pages/Stories/Stories.js","api/stories-page.js","components/ProtectedRoute/ProtectedRoute.js","navigation/Router.js","App.js","index.js"],"names":["socialLinks","url","title","bbbsLinks","developmentLinks","AFISHA_URL","ABOUT_US_URL","QUESTIONS_URL","PROFILE_URL","PLACES_URL","RIGHTS_URL","READ_AND_WATCH_URL","CATALOG_URL","VIDEO_URL","ARTICLES_URL","MOVIES_URL","BOOKS_URL","STORIES_URL","NOT_FOUND_URL","MAIN_PAGE_TITLE","AFISHA_TITLE","ABOUT_US_TITLE","QUESTIONS_TITLE","PROFILE_TITLE","PLACES_TITLE","RIGHTS_TITLE","READ_AND_WATCH_TITLE","CATALOG_TITLE","VIDEO_TITLE","ARTICLES_TITLE","MOVIES_TITLE","BOOKS_TITLE","STORIES_TITLE","aboutUsTexts","headTitle","headDescription","logoLink","aboutTitle","aboutParagraphs","text","blockquote","cards","linkText","href","color","useClickOutside","callback","ref","useRef","clickListener","useCallback","evt","current","contains","target","useEffect","document","addEventListener","removeEventListener","useScrollToTop","deps","window","scrollTo","top","CurrentUserContext","createContext","CitiesContext","PopupsContext","ErrorsContext","baseURL","apiUrl","staticImageUrl","AuthApi","accessToken","axios","defaults","headers","common","Authorization","loginData","post","then","response","data","catch","err","Promise","reject","refreshToken","getUserData","get","setLocalStorageData","key","value","localStorage","setItem","JSON","stringify","removeLocalStorageData","removeItem","getLocalStorageData","parse","getItem","dispatchLocalStorageEvent","event","Event","dispatchEvent","useLocalStorage","getLocalStorageItem","weekdays","months","COLORS","FIGURES","ALL_CATEGORIES","regExpImages","DELAY_DEBOUNCE","localStUserCity","localStAfishaEvent","jwt","jwtRefresh","localStChosenVideo","localStChosenBook","localStChosenPlace","localStChosenArticle","ERROR_MESSAGES","button","ERROR_CODES","useAuth","setCurrentUser","generalErrorMessage","unauthorized","badRequest","useState","isCheckingToken","setIsCheckingToken","popups","useContext","errors","history","useHistory","handleError","status","setError","message","handleTokenError","handleLogout","clearAuth","clear","push","handleLogin","authorize","token","access","refresh","Error","setAuth","userData","closePopupLogin","checkToken","finally","getCities","timer","useCities","cities","setCities","defaultCity","setDefaultCity","citiesData","mainCity","find","city","name","console","error","useDebounce","delay","args","clearTimeout","setTimeout","getPlaces","chosen","tags","age_restriction","limit","offset","query","params","getChosenPlace","useActivityTypes","activityTypes","setActivityTypes","activityTypesSimplified","reduce","obj","id","results","openPopupError","useEventBooking","openPopupSuccessfully","openPopupConfirmation","closeAllPopups","selectedEvent","setSelectedEvent","listenCancel","newEvent","booked","listenRegister","registerOnEvent","card","eventId","register","setRegisterEvent","cancelRegistration","delete","cancel","setCancelRegisterEvent","handleEventBooking","noConfirm","useFormWithValidation","values","setValues","setErrors","isValid","setIsValid","resetForm","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","handleChangeFiles","pattern","file","files","test","useInfiniteScroll","parentRef","childRef","callbackOnIntersect","callbackOnHide","observer","useLayoutEffect","options","root","rootMargin","threshold","IntersectionObserver","isIntersecting","observe","unobserve","texts","changeCity","changeCityDefault","logoutText","searchPlaceholder","Blockquote","sectionWrapperClass","sectionTitleClass","className","defaultProps","Button","titleSelected","isSubmittable","isDisabled","onClick","isBooked","sectionClass","classNames","join","trim","type","disabled","undefined","ButtonDots","handleClick","ButtonRound","label","isSmall","isSpan","isClick","aria-label","Caption","Card","children","NavItem","sectionLinkClass","rel","to","dropDownMenuLink","DropDownMenu","map","item","buttonAriaLabel","DropDownSelect","placeholder","inputName","onChange","isFormOpen","isOpen","setIsOpen","optionSelected","setOptionSelected","classNamesButton","classNamesDropDown","classNamesArrow","dropdownRef","viewBox","fill","xmlns","d","aria-hidden","option","htmlFor","Input","required","max","min","minLength","maxLength","isTextarea","onFocus","errorMessage","classNamesWrap","classNamesInput","classNamesTextarea","LinkableHeading","HeadingComponent","Component","path","titleSectionClass","linkSectionClass","Loader","isNested","isCentered","isSmallGrid","isPaginate","altText","LogoBlue","src","logoPath","alt","ModificatedScrollbars","horizontalScrollClass","renderTrackHorizontal","style","opacity","renderThumbVertical","defaultText","NoDataNotificationBox","Paginate","props","pageCount","containerClassName","pageClassName","pageLinkClassName","activeLinkClassName","previousClassName","breakClassName","nextClassName","disabledClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","selected","initialPage","PseudoButtonTag","isActive","checked","Rating","ratingType","pseudoButtonClassNames","defaultChecked","Rubric","ariaLabelPrevButton","ariaLabelNextButton","ScrollableContainer","reference","step","onScrollCallback","useButtons","disableMouseDrag","prevButtonClass","nextButtonClass","firstChildRef","lastChildRef","isPrevButtonDisabled","setIsPrevButtonDisabled","isNextButtonDisabled","setIsNextButtonDisabled","isScrolling","clientX","scrollX","state","setState","scrollHandler","deltaY","left","scrollLeft","behavior","scrollByWheel","preventDefault","scrollByButtons","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","ariaLabelText","SearchButton","handleClickButton","TitleH1","TitleH2","TitleH3","UserIconButton","isAuthorized","UserMenuButton","textStub","Widget","link","allow","NextArticleLink","width","height","fillRule","clipRule","NavItemWithDropdown","notFoundText","searchText","ariaLabelCloseButton","search","Search","isOpenSearch","setIsOpenSearch","isMobileMenuOpen","setIsMobileMenuOpen","currentUser","currentAnonymousCity","userCity","searchResults","setSearchResults","isVoidSearch","setIsVoidSearch","isLoadingSearch","setIsLoadingSearch","inputRef","getPathName","animateListItem","idx","animation","animateLink","handleClickLink","handleDebouncedRequest","a","searchParams","currentRequest","count","focus","onSubmit","autoComplete","length","pathname","page","modelName","toLowerCase","NavBar","onUserButtonClick","onBurgerButtonClick","onCityChangeClick","onLogout","userCityName","useLocation","React","Children","toArray","Header","isTransparentOnTop","updateUser","openPopupCities","openPopupLogin","setUserCityName","currentCity","debounceTimer","headerRef","handleCloseMobileMenu","classList","isHeaderActive","setIsHeaderActive","isHeaderOnTop","setIsHeaderOnTop","prevScrollPos","detectScrollUp","scrollY","currentScrollPos","pageYOffset","debouncedScrollUp","classNamesHeader","onKeyPress","renderExitButton","logoAlt","helpButtonText","helpButtonLink","devText","devLink","devOrg","designText","designLink","designOrg","copyright","Footer","footerLogoPath","BasePage","scrollUpDeps","isNoFooter","isHeaderTransparentOnTop","sectionClassMain","classNamesMain","content","CardFigure","shape","CardAbout","AboutUs","profilePageTexts","eventsTitle","eventsTitleArchive","eventsArchiveButton","eventsCurrentButton","eventsTitleNoResults","eventsTitleNoResultsArchive","formTitle","buttonLabel","eventCanceled","formatDuration","duration","hours","Math","floor","minutes","seconds","format","formatDate","date","parsedDate","Date","day","getDate","month","getMonth","weekdayName","getDay","monthName","hour","String","getHours","year","getFullYear","getMinutes","formatWordCase","remainSeats","lastTwoDigits","lastDigit","changeCaseOfFirstLetter","str","toUpperCase","slice","formatMonthsGenitiveCase","randomizeArray","arr","size","array","Array","splice","random","formatPhoneNumber","phoneNum","str1","str2","str3","str4","str5","ProfileEventCard","onOpen","startDay","startAt","buttonClassNames","cardClassNames","canceled","dayClassNames","titleClassNames","rateCaptionText","uploadCaptionText","placePlaceholder","datePlaceholder","datePlaceholderError","descrPlaceholder","buttonAddText","buttonDeleteText","buttonCancelText","buttonSaveText","captions","good","neutral","bad","getServerErrors","serverErrorObj","isArray","Object","validationSettings","ProfileForm","isEditMode","onClose","serverError","clearError","errorsString","caption","setCaption","userImage","setUserImage","handleSubmit","mark","image","imageUrl","URL","createObjectURL","handleChangeImage","place","description","noValidate","accept","currentTarget","buttonShareText","buttonTextShared","buttonEditText","CardAnnotationContainer","classNamesDesc","ProfileDiary","onEdit","onDelete","onShare","sentToCurator","eventDay","defaultImage","submitButtonText","cancelButtonText","closeButtonLabel","Popup","typeContainer","withoutCloseButton","PopupDeleteDiary","onCardDelete","cardData","parseInt","title404","buttonText","AnimatedPageContainer","is404","titleText","staticPage","urlBack","animationContainer","Lottie","loadAnimation","container","renderer","loop","autoplay","animationData","animation404","Profile","openPopupAboutEvent","events","setEvents","archivedEvents","setArchivedEvents","eventsOffset","setEventsOffset","diaries","setDiaries","isArchiveOpen","setIsArchiveOpen","setIsFormOpen","setIsEditMode","formDataToEdit","setFormDataToEdit","isDeleteDiaryPopupOpen","setIsDeleteDiaryPopupOpen","isLoadingEvents","setIsLoadingEvents","isPageError","setIsPageError","titleH1Current","titleH1Archive","setPageCount","pageIndex","setPageIndex","isLoadingPaginate","setIsLoadingPaginate","getArchiveOfEvents","getArchiveOfBookedEvents","eventsData","prevEvents","prevOffset","getCurrentBookedEvents","getBookedEvents","updatedEvents","updatedEvent","getDiaries","getProfileDiariesData","ceil","filter","openEventCard","openArchiveOfEvents","openCurrentEvents","scrollAnchorRef","openForm","scrollIntoView","closeForm","handleEditMode","createFormData","formData","FormData","append","handleErrorOnFormSubmit","handleCreateDiary","createDiary","newDiary","prevDiaries","handleEditDiary","diaryId","patch","editDiary","diary","handleSubmitDiary","selectedDiary","setSelectedDiary","openDeleteDiaryPopup","closeDeleteDiaryPopup","handleShareDiary","shareDiary","renderEventCards","renderAddDiaryButton","renderDiaryForm","renderDiaries","renderPageContent","prevDiary","renderingEvents","calendarPageTexts","textStubNoData","handleCheckboxBehavior","inputValue","isChecked","stateFilters","filterItem","handleRadioBehavior","selectOneTag","tagName","deselectOneTag","deselectAllTags","buttonTitle","buttonTitleSelected","buttonTitleDisabled","remainSeatsText","CardCalendar","onEventSignUpClick","onEventDescriptionClick","endAt","address","contact","phoneNumber","startDateParts","endDayParts","changeStateOfEvent","prepareDataForAboutEventPopup","TagsList","filterList","classNamesList","PAGE_SIZE_PAGINATE","maxScreenWidth","Calendar","isLoading","setIsLoading","isGlobalLoader","setIsGlobalLoader","calendarPageData","setCalendarPageData","filters","setFilters","isFiltersUsed","setIsFiltersUsed","pageSize","setPageSize","totalPages","setTotalPages","isFirstRender","setIsFirstRender","small","matchMedia","medium","listener","matches","areThereEventsMoreForOneMonth","getActiveFilters","getPageData","activeFilters","getCalendarPageData","handleFilterButtonClick","res","monthsTags","customFilters","tag","debounceFiltration","activeMonths","debouncePaginate","mainPageTexts","CardAnimatedPlugText","getMainPageData","CardStub","genderMale","genderFemale","chosenTagText","activityTypeDefault","CardAnnotation","info","isMain","CardPlace","gender","age","activityType","isBig","isMainPage","cardColor","cardSize","sexType","imageClassNames","renderImage","CardArticleBig","articleUrl","linkTextMovie","linkTextVideo","parserLinkYoutube","idVideo","getYouTubeID","frameSrc","imagePreview","CardFilm","isVideo","openPopupVideo","renderVideoPlayback","durationString","draggable","renderPreview","childrenElem","imageAlt","CardVideoMain","labelText","CardQuestion","childElement","answer","isQuestionsPage","isOpenByDefault","isOpened","setIsOpened","isAnimated","setIsAnimated","tagsClassNames","answerWrapperClassNames","role","tabIndex","minHeight","clientHeight","CardAnimatedPlug","MainPage","mainPageData","setMainPageData","randomQuestions","setRandomQuestions","randomMovies","setRandomMovies","isCityChanging","setIsCityChanging","isPageLoading","setIsPageLoading","prevData","questions","movies","renderEventsBlock","renderHistoryBlock","fromMainPage","question","renderPlaceSection","articles","renderArticleSection","renderMoviesSection","video","renderVideoSection","article","additionalMoviesClasses","movie","page404Texts","animatedContainerText","PageNotFound","catalogPageTexts","subtitle","renderThoseDamnedLines","dataLength","isTablet","renderOneLine","renderTwoLines","renderThreeLines","CardsSectionWithLines","pageNumber","setPageNumber","setIsTablet","tablet","CardCatalog","getCatalogPageData","Catalog","catalogPageData","setCatalogPageData","isLoadingPage","setIsLoadingPage","smallQuery","largeQuery","i","questionsPageTexts","formPlaceholder","formSubmitButton","questionForm","beforeSubmit","titleClass","formVisibilityClass","successSubmit","errorSubmit","getQuestionsPageData","Questions","mainQuestion","setMainQuestion","chosenQuestion","searchQuestionId","questionsPageData","setQuestionsPageData","isChosenQuestionVisible","setIsChosenQuestionVisible","categories","setCategories","questionFormState","setQuestionFormState","setFormState","isError","postQuestion","changeCategory","getActiveCategories","getQuestionsData","activeCategories","activeTags","all","filteredResult","categoriesArr","slug","renderQuestionsWithPaginate","isDataForPage","placesPageTexts","paragraphNoContent","mentorTag","ageFilterNames","ageFilters","closeButtonlabel","recommendadionTextPart1","recommendadionButton","recommendadionTextPart2","titlePlaceholder","linkPlaceholder","addressPlaceholder","agePlaceholder","activityPlaceholder","cityPlaceholder","descPlaceholder","descPlaceholderMobile","addPhotoBtnDefault","addPhotoBtnChange","addPhotoAdded","FormRecommendation","textAreaPlaceholder","setTextAreaPlaceholder","formClassNames","PlacesRecommend","openPopupRecommendSuccess","postPlace","Places","searchPlaceId","openPopupPlace","places","setPlaces","chosenPlace","setChosenPlace","isChosenOnPageOne","setIsChosenOnPageOne","isLoadingFilters","setIsLoadingFilters","isChosenCardHidden","setIsChosenCardHidden","ages","setAges","changeAge","definePlaces","placesData","isFiltered","mainCard","chosenCard","restOfPlaces","pop","defineActiveTags","category","activeAges","isMentorFlag","some","getFilteredPlaces","isFiltersActive","fixedPageSize","fixedOffset","debouncePagination","predefinedParams","scroll","tagsData","chosenPlaceData","categoriesArray","defineCategories","renderPlaces","rightsPageTexts","getRightsData","CardRights","getActiveTags","fromRightsPage","Rights","setArticles","getArticlesData","renderTagsContainer","renderMainContent","moviesPageTexts","getMoviesPageData","Movies","moviesPageData","setMoviesPageData","getMoviesData","getMoviesFilter","renderMoviesContainer","annotation","articlesPageTexts","CardArticle","getArticlesPageData","Articles","articlesPageData","setArticlesPageData","mainArticle","setMainCard","searchArticleId","openPopupArticle","pinnedFullSize","articlesData","renderPagination","renderAnimatedContainer","readAndWatchPageTexts","pageTitles","catalogTitle","articlesTitle","moviesTitle","videosTitle","booksTitle","CardBook","author","backgroundColor","RAW_DELAY_SLIDER_TRANSITION","RAW_SLIDER_PADDINGS","RAW_SLIDER_BREAKPOINTS","S","M","L","XL","ELEMS_PER_SLIDE","ReadAndWatchSection","getDataFromApi","CardTemplateComponent","sectionTitle","breakpoints","elemPaddings","transitionDelay","paragraphNoContentText","sectionData","setSectionData","isSectionError","setIsSectionError","breakPoints","itemsToShow","itemsToScroll","slideBackHandler","prevIndex","slideNextHandler","currentItem","newPageIndex","pagesLoadedNow","getNumOfPages","addNewData","previousData","transitionMs","pagination","outerSpacing","itemPadding","disableArrowsOnEnd","showEmptySlots","onNextEnd","onPrevEnd","enableMouseSwipe","renderCardsForSlider","renderSliderSection","getVideoPageData","resource_group","getBooksPageData","types","one","two","three","four","ReadAndWatch","querySizeS","querySizeM","querySizeL","videoPageTexts","resourceGroupTag","Video","mainVideo","setMainVideo","setVideo","isShowMainCard","setIsShowMainCard","isResourceGroup","getVideoData","getFirstPageData","videoData","tagsWithoutResorceGroup","tagsWithResourseGroup","resourceGroupData","loadingContentPagination","booksPageTexts","Books","openPopupBook","searchBookId","booksPageData","setBooksPageData","getBooksData","getBooksFilter","renderBooksContainer","books","catalogArticlePageTexts","stubButtonText","CatalogArticle","articleId","useParams","catalogArticlePageData","setCatalogArticlePageData","nextPageLink","nextArticle","getCatalogArticlePageData","imageCaption","body","renderPage","rightsArticlePageTexts","RightsArticle","articleData","setArticleData","getArticleData","getRightsArticle","renderNextPageBlock","storiesPageTexts","PopupConfirmation","endDay","popupTitle","paragraph","buttonTextCalendarPage","buttonTextDefault","PopupSuccessfully","actionOnButtonClick","animationSuccess","PopupRecommendSuccess","animationRecommendSuccess","firstParagraph","secondParagraph","loginPlaceholder","passwordPlaceholder","forgotButtonText","titleForgotForm","paragraphForgotForm","emailPlaceholder","backButtonText","submitButtonTextForgot","PopupLogin","isForgotPassword","setIsForgotPassword","isSuccess","setIsSuccess","successMessage","setSuccessMessage","handleClickForgotPassword","successForgotPassword","handleSubmitForgotPassword","email","closePopup","closePopupOnEsc","classNameAuth","classForgotPassword","classNameSuccess","username","password","PopupAboutEvent","isWithoutRegister","PopupCities","currentUserCity","debounceSubmitCity","dataToUpdate","cityId","isPrimary","renderCityItem","PopupError","closeOnEsc","PopupVideo","frameBorder","allowFullScreen","seamless","PopupPhoto","currentPhoto","photoSrc","PopupArticle","PopupBook","book","PopupPlace","carouselItemPaddings","Stories","storyId","isStoryLoading","setIsStoryLoading","storiesTags","setStoriesTags","tagsOffset","setTagsOffset","currentStory","setCurrentStory","isPopupPhotoOpen","setIsPopupPhotoOpen","setCurrentPhoto","photoCarouselRef","carouselItemPadding","setCarouselItemPaddings","openFullPhoto","imageSrc","currentStoryId","pairTitle","mentor","firstName","child","togetherSince","handleFilters","fetchTags","getStoriesPageTags","storiesTagsData","pair","prevTags","fetchTagsOnNextLink","mobile","listenWindowWidth","tagToBeActive","uperBody","renderPhotosCarousel","lowerBody","renderLinksBlock","inclineFirstname","initialActiveIndex","images","goTo","ProtectedRoute","component","Router","exact","App","isPopupConfirmationOpen","setIsPopupConfirmationOpen","isPopupSuccessfullyOpen","setIsPopupSuccessfullyOpen","isPopupAboutDescriptionOpen","setIsPopupAboutDescriptionOpen","isPopupErrorOpen","setIsPopupErrorOpen","isPopupLoginOpen","setIsPopupLoginOpen","isPopupCitiesOpen","setIsPopupCitiesOpen","isPopupRecommendSuccessOpen","setIsPopupRecommendSuccessOpen","isVideoPopupOpen","setIsVideoPopupOpen","isBookPopupOpen","setIsBookPopupOpen","isPlacePopupOpen","setIsPlacePopupOpen","isArticlePopupOpen","setIsArticlePopupOpen","setIsWithoutRegister","closePopupError","closePopupCities","popupsContextValue","withoutRegister","currentUserContextValue","useMemo","citiesContextValue","setServerError","errorsContextValue","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e09db32c.chunk.js","sourcesContent":["export const socialLinks = [\n  {\n    url: 'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n    title: 'facebook',\n  },\n  {\n    url: 'https://vk.com/big.brothers.big.sisters',\n    title: 'vkontakte',\n  },\n  {\n    url: 'https://www.instagram.com/nastavniki_org/',\n    title: 'instagram',\n  },\n  {\n    url: 'https://www.youtube.com/user/Nastavniki/',\n    title: 'youtube',\n  },\n];\n\nexport const bbbsLinks = {\n  about: 'https://www.nastavniki.org/o-nas/ob-organizaczii/',\n  donations: 'https://www.nastavniki.org/campaign/pomoch-dengami/',\n  volunteering: 'https://www.nastavniki.org/volontyorstvo/kak-stat-volonterom/',\n  partners: 'https://www.nastavniki.org/oficzialno/nashi-partneryi/',\n};\n\nexport const developmentLinks = {\n  praktikum: {\n    title: 'Яндекс.Практикум',\n    url: 'https://praktikum.yandex.ru/',\n  },\n  design: {\n    title: 'krkr.design',\n    url: 'https://krkr.design/',\n  },\n};\n","export const MAIN_PAGE_URL = '/';\nexport const AFISHA_URL = '/afisha';\nexport const ABOUT_US_URL = '/about-us';\nexport const QUESTIONS_URL = '/questions';\nexport const PROFILE_URL = '/profile';\nexport const PLACES_URL = '/places';\nexport const RIGHTS_URL = '/rights';\nexport const RIGHTS_ARTICLE_URL = '/rights/:articleId';\nexport const READ_AND_WATCH_URL = '/read-and-watch';\nexport const CATALOG_URL = '/catalog';\nexport const CATALOG_ITEM_URL = '/catalog/:articleId';\nexport const VIDEO_URL = '/video';\nexport const ARTICLES_URL = '/articles';\nexport const MOVIES_URL = '/movies';\nexport const BOOKS_URL = '/books';\nexport const STORIES_URL = '/stories';\nexport const NOT_FOUND_URL = '/*';\n\nexport const MAIN_PAGE_TITLE = 'наставники.про';\nexport const AFISHA_TITLE = 'Календарь';\nexport const ABOUT_US_TITLE = 'О проекте';\nexport const QUESTIONS_TITLE = 'Вопросы';\nexport const PROFILE_TITLE = 'Личный кабинет';\nexport const PLACES_TITLE = 'Куда пойти';\nexport const RIGHTS_TITLE = 'Права детей';\nexport const READ_AND_WATCH_TITLE = 'Читать и смотреть';\nexport const CATALOG_TITLE = 'Справочник';\nexport const VIDEO_TITLE = 'Видео';\nexport const ARTICLES_TITLE = 'Статьи';\nexport const MOVIES_TITLE = 'Фильмы';\nexport const BOOKS_TITLE = 'Книги';\nexport const STORIES_TITLE = 'Истории';\nexport const NOT_FOUND_TITLE = 'Страницы не существует';\n","import { bbbsLinks } from '../../../utils/external-links';\nimport { ABOUT_US_TITLE, MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst aboutUsTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${ABOUT_US_TITLE}`,\n  headDescription: 'Информация об организации Старшие Братья Старшие Сёстры.',\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  logoLink: bbbsLinks.about,\n  aboutTitle: 'Об организации',\n  aboutParagraphs: [\n    {\n      text: '«Старшие Братья Старшие Сестры» — межрегиональная общественная организация содействия воспитанию подрастающего поколения. Мы поддерживаем детей, которым требуется внимание: оставшихся без попечения родителей, приемных, детей из неполных, многодетных или неблагополучных семей, детей с ограниченными возможностями.',\n    },\n    {\n      text: 'Любому человеку, тем более ребенку, необходимо общение. Без него дети растут неуверенными и замкнутыми. Одиночество токсично, а самое надежное противоядие – дружба.',\n    },\n    {\n      text: 'Мы помогаем детям, которым не хватает поддержки взрослого друга, «Младшим». Таким другом становится наш волонтер, «Старший». Он принимает ребенка, какой он есть, поддерживает, помогает раскрыть потенциал, почувствовать уверенность в своих силах, узнать элементарные вещи о жизни, адаптироваться и полноценно участвовать в жизни общества.',\n    },\n  ],\n  blockquote:\n    'Мы хотим, чтобы наставник был у каждого ребенка, который в нем нуждается',\n  cards: [\n    {\n      title: 'Пожертвования',\n      text: 'Деньги пойдут на оплату работы кураторов (профессиональные психологи/социальные работники), которые поддерживают дружбу между ребенком и наставником.',\n      linkText: 'сделать пожертвование',\n      href: bbbsLinks.donations,\n      color: 'blue',\n    },\n    {\n      title: 'Наставничество',\n      text: 'Наставник «Старшие Братья Старшие Сестры» — значимый взрослый, который становится для ребенка старшим другом, ролевой моделью, принимает своего «Младшего» таким, какой он есть. «Старший» открывает для ребенка дверь в большой мир и дарит ему надежду на более счастливое и успешное будущее.',\n      linkText: 'подробнее',\n      href: bbbsLinks.volunteering,\n      color: 'pink',\n    },\n    {\n      title: 'Партнерство',\n      text: 'Компании поддерживают нас не только деньгами, но и делами. Мы собрали все возможные способы поддержки и сотрудничества: профессиональная помощь Pro Bono, организационная помощь, корпоративное волонтерство, мастер-классы, лекции, учебные программы.',\n      linkText: 'подробнее',\n      href: bbbsLinks.partners,\n      color: 'green',\n    },\n  ],\n};\n\nexport default aboutUsTexts;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// отслеживает, что клик произошёл вне контейнера-рефа и запускает колбэк\nconst useClickOutside = (callback) => {\n  const ref = useRef(null);\n\n  const clickListener = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        if (!ref.current.contains(evt.target)) {\n          callback();\n        }\n      }\n    },\n    [ref.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('mousedown', clickListener);\n    return () => document.removeEventListener('mousedown', clickListener);\n  }, []);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","import { useEffect } from 'react';\n\n// прокрутка к верху страницы\nconst useScrollToTop = (...deps) => {\n  useEffect(() => {\n    window.scrollTo({ top: 0 });\n  }, [...deps]);\n};\n\nexport default useScrollToTop;\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import { createContext } from 'react';\n\nconst CitiesContext = createContext();\nexport default CitiesContext;\n","import { createContext } from 'react';\n\nconst PopupsContext = createContext();\nexport default PopupsContext;\n","import { createContext } from 'react';\n\nconst ErrorsContext = createContext();\nexport default ErrorsContext;\n","export const baseURL = 'http://178.154.192.53';\nexport const apiUrl = '/api/v1';\nexport const adminUrl = 'http://178.154.192.53';\nexport const staticImageUrl = `${adminUrl}/media`;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nclass AuthApi {\n  // установить заголовки авторизации\n  static setAuth(accessToken) {\n    axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\n  }\n\n  // очистить заголовки авторизации\n  static clearAuth() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n\n  // функция авторизации\n  static authorize(loginData) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/`, loginData)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n\n  // функция рефреша токена\n  static refreshToken(refreshToken) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/refresh/`, refreshToken)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n}\n\nexport default AuthApi;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить юзера с сервера\nfunction getUserData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// обновить профиль пользователя\nfunction updateUserProfile(dataToUpdate) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/`, dataToUpdate)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// восстановить пароль\nfunction recoverPassword(email) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/send_password/`, email)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getUserData, updateUserProfile, recoverPassword };\n","import { useCallback, useEffect } from 'react';\n\n// вспомогательные функции\nexport const setLocalStorageData = (key, value) =>\n  localStorage.setItem(key, JSON.stringify(value));\n\nexport const removeLocalStorageData = (key) => localStorage.removeItem(key);\n\nexport const clearLocalStorage = () => localStorage.clear();\n\nexport const getLocalStorageData = (key) =>\n  JSON.parse(localStorage.getItem(key));\n\nexport const dispatchLocalStorageEvent = (key, value) => {\n  const event = new Event('changeLocalStorage');\n  setLocalStorageData(key, value);\n  window.dispatchEvent(event);\n};\n\n// хук слушает изменение определённого ключа в localStorage и возвращает его значение при любом изменении\n// работает в связке с dispatchLocalStorageEvent\nexport const useLocalStorage = (key) => {\n  const getLocalStorageItem = useCallback(\n    () => getLocalStorageData(key),\n    [key]\n  );\n\n  useEffect(() => {\n    window.addEventListener('changeLocalStorage', getLocalStorageItem);\n    return () =>\n      window.removeEventListener('changeLocalStorage', getLocalStorageItem);\n  }, []);\n\n  return getLocalStorageItem;\n};\n","export const weekdays = [\n  'воскресенье',\n  'понедельник',\n  'вторник',\n  'среда',\n  'четверг',\n  'пятница',\n  'суббота',\n];\n\nexport const months = [\n  'январь',\n  'февраль',\n  'март',\n  'апрель',\n  'май',\n  'июнь',\n  'июль',\n  'август',\n  'сентябрь',\n  'октябрь',\n  'ноябрь',\n  'декабрь',\n];\n\nexport const COLORS = [\n  'yellow',\n  'green',\n  'yellow',\n  'pink',\n  'blue',\n  'pink',\n  'green',\n  'yellow',\n  'green',\n  'blue',\n  'pink',\n  'blue',\n];\n\nexport const FIGURES = [\n  'square',\n  'circle',\n  'arch',\n  'circle',\n  'arch',\n  'square',\n  'arch',\n  'square',\n  'circle',\n];\n\nexport const ALL_CATEGORIES = 'Все';\nexport const DEFAULT_CITY = 'Москва';\n\nexport const regExpImages = /^[\\W\\w\\S\\s]+\\.(jpe?g|png|webp|jfif|bmp)$/i;\n\nexport const DELAY_DEBOUNCE = 400;\nexport const DELAY_RENDER = 100;\n\nexport const localStUserCity = 'userCity';\nexport const localStAfishaEvent = 'afishaEvent';\nexport const jwt = 'jwt';\nexport const jwtRefresh = 'jwtRefresh';\nexport const localStChosenVideo = 'chosenVideo';\nexport const localStChosenBook = 'chosenBook';\nexport const localStChosenPlace = 'chosenPlace';\nexport const localStChosenArticle = 'chosenArticle';\n\nexport const ERROR_MESSAGES = {\n  generalErrorMessage: {\n    title: 'При передаче данных произошла ошибка. Повторите попытку позже.',\n    button: 'Вернуться',\n  },\n  eventAddErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте записаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  eventCancelErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте отписаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  citiesErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать город снова',\n    button: 'Вернуться',\n  },\n  filterErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать фильтр снова',\n    button: 'Вернуться',\n  },\n};\n\nexport const ERROR_CODES = {\n  badRequest: 400,\n  unauthorized: 401,\n  notFound: 404,\n};\n","import { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport AuthApi from '../api/auth';\nimport { getUserData } from '../api/user';\nimport { MAIN_PAGE_URL } from '../config/routes';\nimport {\n  clearLocalStorage,\n  getLocalStorageData,\n  removeLocalStorageData,\n  setLocalStorageData,\n} from './useLocalStorage';\nimport {\n  ERROR_CODES,\n  ERROR_MESSAGES,\n  jwt,\n  jwtRefresh,\n} from '../config/constants';\n\nconst useAuth = (setCurrentUser) => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\n\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const history = useHistory();\n\n  const handleError = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized)\n      errors.setError(err?.data);\n    else\n      errors.setError({\n        message: generalErrorMessage.title,\n      });\n  };\n\n  const handleLogout = () => {\n    AuthApi.clearAuth();\n    setCurrentUser(null);\n    clearLocalStorage();\n    history.push(MAIN_PAGE_URL);\n  };\n\n  const handleLogin = (loginData) => {\n    AuthApi.authorize(loginData)\n      .then((token) => {\n        const { access, refresh } = token;\n        if (refresh && access) {\n          AuthApi.setAuth(access);\n          setLocalStorageData(jwt, access);\n          setLocalStorageData(jwtRefresh, refresh);\n          getUserData()\n            .then((userData) => setCurrentUser(userData))\n            .then(() => popups.closePopupLogin())\n            .catch((err) => handleError(err));\n        } else {\n          throw new Error(generalErrorMessage.title);\n        }\n      })\n      .catch((err) => handleError(err)); // авторизация (работа с сервером) закончилась ошибкой\n  };\n\n  const handleTokenError = () => {\n    removeLocalStorageData(jwt);\n    removeLocalStorageData(jwtRefresh);\n    setIsCheckingToken(false);\n  };\n\n  const checkRefreshToken = (refresh) => {\n    AuthApi.refreshToken({ refresh })\n      .then(({ access }) => {\n        AuthApi.setAuth(access);\n        setLocalStorageData(jwt, access);\n        getUserData()\n          .then((userData) => setCurrentUser(userData))\n          .catch((err) => handleError(err))\n          .finally(() => setIsCheckingToken(false));\n      })\n      .catch(() => handleTokenError());\n  };\n\n  const checkToken = () => {\n    const token = getLocalStorageData(jwt);\n    const refreshToken = getLocalStorageData(jwtRefresh);\n    if (token) {\n      AuthApi.setAuth(token);\n      getUserData()\n        .then((userData) => {\n          setCurrentUser(userData);\n          setIsCheckingToken(false);\n        })\n        .catch((err) => {\n          // токен просрочен\n          AuthApi.clearAuth();\n          if (err?.status === unauthorized && refreshToken) {\n            checkRefreshToken(refreshToken);\n          } else {\n            handleTokenError();\n          }\n        });\n    } else {\n      handleTokenError();\n    }\n  };\n\n  return {\n    isCheckingToken,\n    handleLogout,\n    handleLogin,\n    checkToken,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить города\nfunction getCities() {\n  return axios\n    .get(`${baseURL}${apiUrl}/cities/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCities;\n","import { useCallback } from 'react';\n\nlet timer;\nconst useDebounce = (callback, delay) =>\n  useCallback(\n    (...args) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(() => {\n        callback(...args);\n      }, delay);\n    },\n    [callback, delay]\n  );\n\nexport default useDebounce;\n","import { useEffect, useState } from 'react';\nimport getCities from '../api/cities';\nimport { DEFAULT_CITY } from '../config/constants';\n\nconst useCities = () => {\n  const [cities, setCities] = useState(null);\n  const [defaultCity, setDefaultCity] = useState({});\n\n  useEffect(() => {\n    getCities()\n      .then((citiesData) => {\n        setCities(citiesData);\n        const mainCity = citiesData.find((city) => city?.name === DEFAULT_CITY);\n        setDefaultCity(mainCity);\n      })\n      .catch(console.error);\n  }, []);\n\n  return { cities, defaultCity };\n};\n\nexport default useCities;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getPlacesTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// python was here :)\n// eslint-disable-next-line camelcase\nfunction getPlaces({ chosen, tags, age_restriction, city, limit, offset }) {\n  const query = chosen\n    ? { city, chosen, tags, age_restriction, limit, offset }\n    : { city, tags, age_restriction, limit, offset };\n  return axios\n    .get(`${baseURL}${apiUrl}/places/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getChosenPlace({ city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/first/`, {\n      params: { city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction postPlace(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/places/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getActivityTypes() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/activity-types/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получение одного места\nfunction getPlace(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  getPlacesTags,\n  getPlaces,\n  postPlace,\n  getActivityTypes,\n  getChosenPlace,\n  getPlace,\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { getActivityTypes } from '../api/places-page';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport { ERROR_MESSAGES } from '../config/constants';\n\nconst useActivityTypes = () => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const [activityTypes, setActivityTypes] = useState(null);\n  // для карточек Куда пойти\n  const activityTypesSimplified = activityTypes?.reduce(\n    (obj, { id, name }) => ({\n      ...obj,\n      [id]: name,\n    }),\n    {}\n  );\n\n  useEffect(() => {\n    getActivityTypes()\n      .then(setActivityTypes)\n      .catch(() => {\n        errors.setError(generalErrorMessage);\n        popups.openPopupError();\n      });\n  }, []);\n\n  return { activityTypes, activityTypesSimplified };\n};\n\nexport default useActivityTypes;\n","import { useContext, useEffect, useState } from 'react';\nimport {\n  cancelEventRegistration,\n  makeEventRegistration,\n} from '../api/event-participants';\nimport { ErrorsContext, PopupsContext } from '../contexts';\nimport { getLocalStorageData } from './useLocalStorage';\nimport { ERROR_MESSAGES, localStAfishaEvent } from '../config/constants';\n\n// хук отслеживает события записи и отписки от ивента\nconst useEventBooking = () => {\n  const {\n    openPopupSuccessfully,\n    openPopupConfirmation,\n    closeAllPopups,\n    openPopupError,\n  } = useContext(PopupsContext);\n\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const { setError } = useContext(ErrorsContext);\n\n  // события отписки и регистрации на мероприятие\n  const setRegisterEvent = () => {\n    const register = new Event('registerEvent');\n    window.dispatchEvent(register);\n  };\n\n  const setCancelRegisterEvent = () => {\n    const cancel = new Event('cancelRegisterEvent');\n    window.dispatchEvent(cancel);\n  };\n\n  // объект кладётся в localStorage при клике на карточку на странице\n  // обработчики событий берут объект произошедшего события из localStorage и меняют им свойство booked\n  // затем этот объект передается на страницу для отрисовки\n  const listenCancel = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = false;\n    setSelectedEvent(newEvent);\n  };\n\n  const listenRegister = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = true;\n    setSelectedEvent(newEvent);\n  };\n\n  useEffect(() => {\n    window.addEventListener('cancelRegisterEvent', listenCancel);\n    window.addEventListener('registerEvent', listenRegister);\n    return () => {\n      window.removeEventListener('cancelRegisterEvent', listenCancel);\n      window.removeEventListener('registerEvent', listenRegister);\n    };\n  }, []);\n\n  // функции-утилиты, запускающие события, их используют компоненты\n  const registerOnEvent = (card) => {\n    makeEventRegistration({ event: card.id })\n      .then(() => setRegisterEvent())\n      .then(() => openPopupSuccessfully())\n      .catch(() => {\n        setError(ERROR_MESSAGES.eventAddErrorMessage);\n        openPopupError();\n      });\n  };\n\n  const cancelRegistration = (card) => {\n    cancelEventRegistration(card.id)\n      .then(() => setCancelRegisterEvent())\n      .then(() => closeAllPopups())\n      .catch(() => {\n        setError(ERROR_MESSAGES.eventCancelErrorMessage);\n        openPopupError();\n      });\n  };\n\n  const handleEventBooking = (card, noConfirm) => {\n    if (card.booked) {\n      // мы записаны на ивент, надо отписаться\n      cancelRegistration(card);\n    } else if (noConfirm) {\n      closeAllPopups();\n      registerOnEvent(card);\n    } else {\n      // мы НЕ записаны на ивент\n      closeAllPopups(); // закрываем попап подробно\n      openPopupConfirmation(); // открываем попап \"подтвердите\"\n    }\n  };\n\n  return { handleEventBooking, registerOnEvent, selectedEvent };\n};\n\nexport default useEventBooking;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// запись на мероприятие\nfunction makeEventRegistration(eventId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// отписка регистрации на мероприятие\nfunction cancelEventRegistration(eventId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение списка всех мероприятий на которые записан юзер\nfunction getBookedEvents({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getArchiveOfBookedEvents({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/archive/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  makeEventRegistration,\n  cancelEventRegistration,\n  getBookedEvents,\n  getArchiveOfBookedEvents,\n};\n","import { useCallback, useState } from 'react';\n\nconst useFormWithValidation = () => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { name, value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const handleChangeFiles = (evt, pattern) => {\n    const file = evt.target.files[0];\n    const { name } = evt.target;\n\n    if (!file) {\n      return;\n    }\n\n    if (file && pattern.test(file.name)) {\n      setValues({ ...values, [name]: file });\n      setErrors({ ...errors, [name]: '' });\n    } else {\n      setErrors({ ...errors, [name]: 'Некорректный формат файла' });\n    }\n    setIsValid(evt.target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return {\n    values,\n    handleChange,\n    handleChangeFiles,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n  };\n};\n\nexport default useFormWithValidation;\n","import { useLayoutEffect, useRef } from 'react';\n\n// хук используется для подгрузки данных и других манипуляций при появлении childRef в parentRef\nconst useInfiniteScroll = (\n  parentRef,\n  childRef,\n  callbackOnIntersect,\n  callbackOnHide\n) => {\n  const observer = useRef();\n\n  // eslint-disable-next-line consistent-return\n  useLayoutEffect(() => {\n    if (parentRef && parentRef.current && childRef && childRef.current) {\n      const options = {\n        root: parentRef.current,\n        rootMargin: '0px',\n        threshold: 0,\n      };\n\n      observer.current = new IntersectionObserver(([target]) => {\n        if (target.isIntersecting) {\n          callbackOnIntersect();\n        } else if (callbackOnHide) {\n          callbackOnHide();\n        }\n      }, options);\n\n      observer.current.observe(childRef.current);\n\n      return () => {\n        observer.current.unobserve(childRef.current);\n      };\n    }\n  }, [callbackOnIntersect, callbackOnHide, parentRef, childRef]);\n};\n\nexport default useInfiniteScroll;\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n};\n\nexport default texts;\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n  searchPlaceholder: 'Поиск',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\n\nfunction Blockquote({ sectionWrapperClass, sectionTitleClass, text }) {\n  return (\n    <blockquote className={sectionWrapperClass}>\n      <h3 className={`chapter-title ${sectionTitleClass}`}>{text}</h3>\n    </blockquote>\n  );\n}\n\nBlockquote.propTypes = {\n  sectionWrapperClass: PropTypes.string,\n  sectionTitleClass: PropTypes.string,\n  text: PropTypes.string,\n};\n\nBlockquote.defaultProps = {\n  sectionWrapperClass: '',\n  sectionTitleClass: '',\n  text: '',\n};\n\nexport default Blockquote;\n","import './Button.scss';\nimport PropTypes from 'prop-types';\n\nfunction Button({\n  title,\n  titleSelected,\n  color,\n  isSubmittable,\n  isDisabled,\n  onClick,\n  isBooked,\n  sectionClass,\n}) {\n  const classNames = [\n    'button',\n    `button_color_${color}`,\n    sectionClass,\n    isBooked ? `button_color_${color}_selected` : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type={isSubmittable ? 'submit' : 'button'}\n      disabled={isDisabled}\n      onClick={onClick}\n    >\n      {!isBooked ? title : titleSelected || title}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  title: PropTypes.string,\n  titleSelected: PropTypes.string,\n  color: PropTypes.string,\n  isSubmittable: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  isBooked: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nButton.defaultProps = {\n  title: '',\n  color: 'blue',\n  isSubmittable: false,\n  titleSelected: undefined,\n  onClick: () => {},\n  isDisabled: false,\n  isBooked: false,\n  sectionClass: '',\n};\n\nexport default Button;\n","import './ButtonDots.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonDots({ handleClick }) {\n  return (\n    <button className=\"button-dots\" type=\"button\" onClick={handleClick}>\n      &#8226;&#8226;&#8226;\n    </button>\n  );\n}\n\nButtonDots.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nButtonDots.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default ButtonDots;\n","import './ButtonRound.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonRound({\n  label,\n  sectionClass,\n  color,\n  isSmall,\n  isDisabled,\n  isSpan,\n  onClick,\n  isClick,\n}) {\n  const classNames = [\n    'button-round',\n    `button-round_color_${color}`,\n    isSmall ? 'button-round_small' : '',\n    sectionClass,\n    isClick ? 'button-round_active' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  if (isSpan) {\n    return <span className={classNames} />;\n  }\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={isDisabled}\n      aria-label={label}\n    />\n  );\n}\n\nButtonRound.propTypes = {\n  label: PropTypes.string,\n  sectionClass: PropTypes.string,\n  color: PropTypes.string,\n  isSmall: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isSpan: PropTypes.bool,\n  onClick: PropTypes.func,\n  isClick: PropTypes.bool,\n};\n\nButtonRound.defaultProps = {\n  label: '',\n  sectionClass: '',\n  color: '',\n  isSmall: false,\n  isDisabled: false,\n  isSpan: false,\n  onClick: undefined,\n  isClick: false,\n};\n\nexport default ButtonRound;\n","import PropTypes from 'prop-types';\n\nfunction Caption({ title, sectionClass }) {\n  return <p className={`caption ${sectionClass}`}>{title}</p>;\n}\n\nCaption.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCaption.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Caption;\n","import './Card.scss';\nimport PropTypes from 'prop-types';\n\nfunction Card({ color, sectionClass, children }) {\n  const classNames = ['card', `card_color_${color}`, sectionClass]\n    .join(' ')\n    .trim();\n\n  return <div className={classNames}>{children}</div>;\n}\n\nCard.propTypes = {\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCard.defaultProps = {\n  color: 'white',\n  sectionClass: '',\n  children: null,\n};\n\nexport default Card;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavItem({\n  sectionWrapperClass,\n  sectionLinkClass,\n  href,\n  linkText,\n  rel,\n  target,\n}) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className={sectionLinkClass} to={href} rel={rel} target={target}>\n        {linkText}\n      </NavLink>\n    </li>\n  );\n}\n\nNavItem.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  sectionLinkClass: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  linkText: PropTypes.string.isRequired,\n  rel: PropTypes.string,\n  target: PropTypes.string,\n};\n\nNavItem.defaultProps = {\n  rel: '',\n  target: '_self',\n  href: '',\n};\n\nexport default NavItem;\n","import {\n  ARTICLES_TITLE,\n  ARTICLES_URL,\n  BOOKS_TITLE,\n  BOOKS_URL,\n  CATALOG_TITLE,\n  CATALOG_URL,\n  MOVIES_TITLE,\n  MOVIES_URL,\n  VIDEO_TITLE,\n  VIDEO_URL,\n} from '../config/routes';\n\nconst dropDownMenuLink = [\n  {\n    title: CATALOG_TITLE,\n    url: CATALOG_URL,\n  },\n  {\n    title: VIDEO_TITLE,\n    url: VIDEO_URL,\n  },\n  {\n    title: ARTICLES_TITLE,\n    url: ARTICLES_URL,\n  },\n  {\n    title: MOVIES_TITLE,\n    url: MOVIES_URL,\n  },\n  {\n    title: BOOKS_TITLE,\n    url: BOOKS_URL,\n  },\n];\n\nexport default dropDownMenuLink;\n","import PropTypes from 'prop-types';\nimport NavItem from '../NavItem/NavItem';\nimport './DropDownMenu.scss';\nimport dropDownMenuLink from '../../../utils/drop-down-menu-link';\n\nfunction DropDownMenu({ sectionWrapperClass }) {\n  return (\n    <ul className={sectionWrapperClass}>\n      {dropDownMenuLink.map((item) => (\n        <NavItem\n          key={item.title}\n          sectionWrapperClass=\"menu__dropdown-list-item\"\n          sectionLinkClass=\"link menu__dropdown-link\"\n          href={item.url}\n          linkText={item.title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nDropDownMenu.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n};\n\nexport default DropDownMenu;\n","const texts = {\n  buttonAriaLabel: 'Выберите опцию',\n};\n\nexport default texts;\n","import './DropDownSelect.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useClickOutside } from '../../../hooks';\n\nfunction DropDownSelect({\n  placeholder,\n  options,\n  inputName,\n  onChange,\n  error,\n  sectionClass,\n  isFormOpen,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [optionSelected, setOptionSelected] = useState(null);\n\n  const classNames = ['select', sectionClass].join(' ').trim();\n  const classNamesButton = [\n    'select__button',\n    isOpen ? 'select__button_pressed' : '',\n    optionSelected ? 'select__button_selected' : '',\n    error ? 'select__button_error' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesDropDown = [\n    'select__dropdown',\n    isOpen ? 'select__dropdown_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesArrow = [\n    'select__arrow',\n    isOpen ? 'select__arrow_pressed' : '',\n    error ? 'select__arrow_error' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dropdownRef = useClickOutside(() => setIsOpen(false));\n\n  useEffect(() => {\n    if (isFormOpen) {\n      setOptionSelected(null);\n      setIsOpen(false);\n    }\n  }, [isFormOpen]);\n\n  return (\n    <div className={classNames}>\n      <button\n        aria-label={`${texts.buttonAriaLabel} ${placeholder}`}\n        className={classNamesButton}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      >\n        {optionSelected || placeholder}\n        <svg\n          viewBox=\"0 0 24 19\"\n          fill=\"none\"\n          className={classNamesArrow}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M5 7L11.8814 14L19 7\" />\n        </svg>\n      </button>\n      <ul className={classNamesDropDown} ref={dropdownRef}>\n        <li aria-hidden=\"true\">\n          <button\n            className=\"select__option_hidden\"\n            aria-hidden=\"true\"\n            type=\"button\"\n            onClick={() => setIsOpen(false)}\n          />\n        </li>\n        {options &&\n          options.map((option) => (\n            <li key={option?.id} className=\"select__option\">\n              <label\n                aria-label={option?.name}\n                htmlFor={`${option?.id}-${option?.name}`}\n                className=\"select__label\"\n              >\n                <input\n                  id={`${option?.id}-${option?.name}`}\n                  className=\"select__input\"\n                  type=\"radio\"\n                  name={inputName}\n                  value={option?.id}\n                  onClick={() => {\n                    setOptionSelected(option?.name);\n                    setIsOpen(!isOpen);\n                  }}\n                  onChange={onChange}\n                />\n                <span className=\"select__span\">{option?.name}</span>\n              </label>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nDropDownSelect.propTypes = {\n  placeholder: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.any),\n  inputName: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isFormOpen: PropTypes.bool,\n};\n\nDropDownSelect.defaultProps = {\n  placeholder: '',\n  options: [],\n  inputName: '',\n  onChange: () => {},\n  error: undefined,\n  sectionClass: '',\n  isFormOpen: false,\n};\n\nexport default DropDownSelect;\n","import './Input.scss';\nimport PropTypes from 'prop-types';\n\nfunction Input({\n  id,\n  type,\n  name,\n  placeholder,\n  value,\n  required,\n  max,\n  min,\n  minLength,\n  maxLength,\n  pattern,\n  error,\n  sectionClass,\n  isTextarea,\n  onFocus,\n  onChange,\n}) {\n  const errorMessage = error ? `${placeholder}*` : '';\n\n  const classNamesWrap = ['input-wrap', sectionClass].join(' ').trim();\n\n  const classNamesInput = ['input', error ? 'input__error' : '']\n    .join(' ')\n    .trim();\n  const classNamesTextarea = ['input', error ? 'input__error' : '', 'textarea']\n    .join(' ')\n    .trim();\n\n  if (isTextarea) {\n    return (\n      <label className={classNamesWrap} htmlFor={id}>\n        <textarea\n          id={id}\n          className={classNamesTextarea}\n          name={name}\n          placeholder={errorMessage || placeholder}\n          onFocus={onFocus}\n          onChange={onChange}\n          value={value}\n          maxLength={maxLength}\n          minLength={minLength}\n          required={required}\n        />\n        {error && <span className=\"input__error-message\">{error}</span>}\n      </label>\n    );\n  }\n\n  return (\n    <label className={classNamesWrap} htmlFor={id}>\n      <input\n        id={id}\n        className={classNamesInput}\n        type={type}\n        name={name}\n        placeholder={errorMessage || placeholder}\n        onFocus={onFocus}\n        onChange={onChange}\n        value={value}\n        maxLength={maxLength}\n        minLength={minLength}\n        max={max}\n        min={min}\n        pattern={pattern}\n        required={required}\n      />\n      {error && <span className=\"input__error-message\">{error}</span>}\n    </label>\n  );\n}\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  sectionClass: PropTypes.string,\n  isTextarea: PropTypes.bool,\n  onChange: PropTypes.func,\n  required: PropTypes.bool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  maxLength: PropTypes.number,\n  minLength: PropTypes.number,\n  pattern: PropTypes.string,\n  error: PropTypes.string,\n  onFocus: PropTypes.func,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  value: '',\n  sectionClass: '',\n  isTextarea: false,\n  onChange: () => {},\n  required: false,\n  max: undefined,\n  min: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  pattern: undefined,\n  error: undefined,\n  onFocus: () => {},\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction LinkableHeading({\n  Component: HeadingComponent,\n  title,\n  path,\n  titleSectionClass,\n  linkSectionClass,\n}) {\n  return (\n    <Link className={linkSectionClass} to={path}>\n      <HeadingComponent title={title} sectionClass={titleSectionClass} />\n    </Link>\n  );\n}\n\nLinkableHeading.propTypes = {\n  Component: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  titleSectionClass: PropTypes.string,\n  linkSectionClass: PropTypes.string,\n};\n\nLinkableHeading.defaultProps = {\n  titleSectionClass: '',\n  linkSectionClass: '',\n};\n\nexport default LinkableHeading;\n","import './Loader.scss';\nimport PropTypes from 'prop-types';\n\nfunction Loader({ isNested, isCentered, isSmallGrid, isPaginate }) {\n  const classNames = [\n    'spinner',\n    isNested ? 'spinner_nested' : '',\n    isCentered ? 'spinner_centered' : '',\n    isSmallGrid ? 'spinner_small-grid' : '',\n    isPaginate ? 'spinner_paginate' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <div className=\"spinner__container\">\n        <div className=\"spinner__circle spinner__circle_1\" />\n        <div className=\"spinner__circle spinner__circle_2\" />\n        <div className=\"spinner__circle spinner__circle_3\" />\n        <div className=\"spinner__circle spinner__circle_4\" />\n        <div className=\"spinner__circle spinner__circle_5\" />\n        <div className=\"spinner__circle spinner__circle_6\" />\n        <div className=\"spinner__circle spinner__circle_7\" />\n        <div className=\"spinner__circle spinner__circle_8\" />\n        <div className=\"spinner__circle spinner__circle_9\" />\n        <div className=\"spinner__circle spinner__circle_10\" />\n        <div className=\"spinner__circle spinner__circle_11\" />\n        <div className=\"spinner__circle spinner__circle_12\" />\n      </div>\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  isNested: PropTypes.bool,\n  isCentered: PropTypes.bool,\n  isSmallGrid: PropTypes.bool,\n  isPaginate: PropTypes.bool,\n};\n\nLoader.defaultProps = {\n  isNested: false,\n  isCentered: false,\n  isSmallGrid: false,\n  isPaginate: false,\n};\n\nexport default Loader;\n","export default __webpack_public_path__ + \"static/media/logo.35cca11c.svg\";","const texts = {\n  altText: 'Логотип Старшие Братья Старшие Сестры России',\n};\n\nexport default texts;\n","import './LogoBlue.scss';\nimport logoPath from '../../../assets/logo.svg';\nimport texts from './locales/RU';\n\nfunction LogoBlue() {\n  return <img src={logoPath} alt={texts.altText} className=\"logo\" />;\n}\n\nexport default LogoBlue;\n","import { Scrollbars } from 'react-custom-scrollbars';\nimport { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ModificatedScrollbars({ horizontalScrollClass, children }) {\n  const ref = useRef();\n\n  return (\n    <Scrollbars\n      ref={ref}\n      renderTrackHorizontal={() => <div style={{ opacity: 'none' }} />}\n      renderThumbVertical={() => <div className={horizontalScrollClass} />}\n    >\n      {children}\n    </Scrollbars>\n  );\n}\n\nModificatedScrollbars.propTypes = {\n  children: PropTypes.node,\n  horizontalScrollClass: PropTypes.string,\n};\n\nModificatedScrollbars.defaultProps = {\n  children: null,\n  horizontalScrollClass: '',\n};\n\nexport default ModificatedScrollbars;\n","const texts = {\n  defaultText: 'Данных нет',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport './NoDataNotificationBox.scss';\nimport texts from './locales/RU';\n\nfunction NoDataNotificationBox({ text, sectionClass }) {\n  return <p className={`no-data-text ${sectionClass}`}>{text}</p>;\n}\n\nNoDataNotificationBox.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nNoDataNotificationBox.defaultProps = {\n  text: texts.defaultText,\n  sectionClass: '',\n};\n\nexport default NoDataNotificationBox;\n","import './Paginate.scss';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport { useScrollToTop } from '../../../hooks';\n\nconst Paginate = (props) => {\n  const { pageCount, sectionClass, value, onChange } = props;\n\n  useScrollToTop(value);\n\n  return (\n    <ReactPaginate\n      containerClassName={`pagination ${sectionClass}`}\n      pageClassName=\"pagination__element\"\n      pageLinkClassName=\"pagination__element-link\"\n      activeLinkClassName=\"pagination__element-link_type_active\"\n      previousClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_previous\"\n      breakClassName=\"pagination__element\"\n      nextClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_next\"\n      disabledClassName=\"pagination__arrow-element_type_disabled\"\n      pageCount={pageCount}\n      pageRangeDisplayed={3}\n      marginPagesDisplayed={1}\n      forcePage={value}\n      onPageChange={({ selected }) => onChange(selected)}\n      initialPage={0}\n    />\n  );\n};\n\nPaginate.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func,\n  pageCount: PropTypes.number.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nPaginate.defaultProps = {\n  onChange: () => {},\n  sectionClass: '',\n};\n\nexport default Paginate;\n","import './PseudoButtonTag.scss';\nimport PropTypes from 'prop-types';\n\nfunction PseudoButtonTag({\n  name,\n  value,\n  title,\n  isActive,\n  onClick,\n  sectionClass,\n}) {\n  const id = `filter-button-${value}`;\n\n  const classNames = ['pseudo-button-label', sectionClass].join(' ').trim();\n\n  function handleClick(event) {\n    onClick(value, event.target.checked);\n  }\n\n  return (\n    <label className={classNames} htmlFor={id}>\n      <input\n        id={id}\n        className=\"pseudo-button-checkbox\"\n        type=\"checkbox\"\n        name={name}\n        value={value}\n        checked={isActive}\n        onChange={() => {}}\n        onClick={handleClick}\n      />\n      <span className=\"button pseudo-button\">{title}</span>\n    </label>\n  );\n}\n\nPseudoButtonTag.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nPseudoButtonTag.defaultProps = {\n  name: '',\n  value: '',\n  title: '',\n  isActive: false,\n  onClick: () => {},\n  sectionClass: '',\n};\n\nexport default PseudoButtonTag;\n","import './Rating.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rating({\n  type,\n  name,\n  value,\n  ratingType,\n  sectionClass,\n  checked,\n  onChange,\n}) {\n  const classNames = ['rating', sectionClass].join(' ').trim();\n\n  const pseudoButtonClassNames = [\n    'rating__pseudo-button',\n    `rating__pseudo-button_type_${ratingType}_default`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <label className={classNames} htmlFor={`rating-${name}-${value}`}>\n      <input\n        id={`rating-${name}-${value}`}\n        className=\"rating__checkbox\"\n        type={type}\n        name={name}\n        value={value}\n        defaultChecked={checked}\n        onChange={onChange}\n      />\n      <span className={pseudoButtonClassNames} />\n    </label>\n  );\n}\n\nRating.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  ratingType: PropTypes.string,\n  sectionClass: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nRating.defaultProps = {\n  name: '',\n  value: 'neutral',\n  ratingType: 'neutral',\n  sectionClass: '',\n  checked: false,\n  onChange: () => {},\n};\n\nexport default Rating;\n","import './Rubric.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rubric({ title, sectionClass }) {\n  return <span className={`rubric ${sectionClass}`}>{title}</span>;\n}\n\nRubric.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nRubric.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Rubric;\n","const texts = {\n  ariaLabelPrevButton: 'Предыдущие',\n  ariaLabelNextButton: 'Следующие',\n};\n\nexport default texts;\n","import './ScrollableContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useCallback, useLayoutEffect, useRef, useState } from 'react';\nimport texts from './locales/RU';\nimport { useInfiniteScroll } from '../../../hooks';\n\nconst DELAY_NO_POINTER_EVENTS = 150;\nconst DEFAULT_DELTA_Y = 100;\n\nfunction ScrollableContainer({\n  reference,\n  children,\n  step,\n  sectionClass,\n  onScrollCallback,\n  useButtons,\n  disableMouseDrag,\n  prevButtonClass,\n  nextButtonClass,\n}) {\n  const parentRef = reference ?? useRef(null);\n  const firstChildRef = useRef(null);\n  const lastChildRef = useRef(null);\n\n  const [isPrevButtonDisabled, setIsPrevButtonDisabled] = useState(true);\n  const [isNextButtonDisabled, setIsNextButtonDisabled] = useState(false);\n\n  const disablePrevButton = () => {\n    setIsPrevButtonDisabled(true);\n  };\n\n  const enablePrevButton = () => {\n    setIsPrevButtonDisabled(false);\n  };\n\n  const disableNextButton = () => {\n    setIsNextButtonDisabled(true);\n  };\n\n  const enableNextButton = () => {\n    setIsNextButtonDisabled(false);\n  };\n\n  // колбэк при достижении правой границы скролла (для подгрузки данных, например)\n  if (onScrollCallback) {\n    useInfiniteScroll(parentRef, lastChildRef, onScrollCallback);\n  }\n\n  // скрытие стрелки Prev\n  if (useButtons) {\n    useInfiniteScroll(\n      parentRef,\n      firstChildRef,\n      disablePrevButton,\n      enablePrevButton\n    );\n  }\n\n  // скрытие стрелки Next\n  if (useButtons) {\n    useInfiniteScroll(\n      parentRef,\n      lastChildRef,\n      disableNextButton,\n      enableNextButton\n    );\n  }\n\n  const [state, setState] = useState({\n    isScrolling: false,\n    clientX: 0,\n    scrollX: 0,\n  });\n\n  const scrollHandler = (deltaY) => {\n    parentRef.current.scrollTo({\n      left: parentRef.current.scrollLeft + deltaY * step,\n      behavior: 'smooth',\n    });\n  };\n\n  const scrollByWheel = useCallback(\n    (evt) => {\n      if (parentRef && parentRef.current) {\n        evt.preventDefault();\n        scrollHandler(evt.deltaY);\n      }\n    },\n    [parentRef.current]\n  );\n\n  const scrollByButtons = (type) => {\n    const deltaY = type === 'prev' ? -DEFAULT_DELTA_Y : DEFAULT_DELTA_Y;\n    scrollHandler(deltaY);\n  };\n\n  // eslint-disable-next-line consistent-return\n  useLayoutEffect(() => {\n    if (parentRef && parentRef.current) {\n      parentRef.current.addEventListener('wheel', scrollByWheel);\n      return () =>\n        parentRef.current.removeEventListener('wheel', scrollByWheel);\n    }\n  }, [parentRef.current]);\n\n  const onMouseDown = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setTimeout(() => {\n      setState({\n        ...state,\n        isScrolling: true,\n        clientX: evt.clientX,\n      });\n    }, DELAY_NO_POINTER_EVENTS);\n  };\n\n  const onMouseUp = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const onMouseMove = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    const { clientX, scrollX, isScrolling } = state;\n    if (isScrolling) {\n      parentRef.current.scrollLeft = scrollX - evt.clientX + clientX;\n      setState({\n        ...state,\n        scrollX: scrollX - evt.clientX + clientX,\n        clientX: evt.clientX,\n      });\n    }\n  };\n\n  const onMouseLeave = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const classNames = [\n    'scrollable-container',\n    state.isScrolling && !disableMouseDrag\n      ? 'scrollable-container_scrolling'\n      : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <>\n      {useButtons && renderButtons()}\n\n      {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n      <div\n        className={classNames}\n        onMouseDown={disableMouseDrag ? undefined : onMouseDown}\n        onMouseMove={disableMouseDrag ? undefined : onMouseMove}\n        onMouseUp={disableMouseDrag ? undefined : onMouseUp}\n        onMouseLeave={disableMouseDrag ? undefined : onMouseLeave}\n        ref={parentRef}\n      >\n        <div\n          className=\"scrollable-container__callback-anchor\"\n          ref={firstChildRef}\n          aria-hidden\n        >\n          .\n        </div>\n        {children}\n        <div\n          className=\"scrollable-container__callback-anchor\"\n          ref={lastChildRef}\n          aria-hidden\n        >\n          .\n        </div>\n      </div>\n    </>\n  );\n\n  function renderButtons() {\n    return (\n      <>\n        <button\n          className={`scrollable-container__button scrollable-container__button_prev ${prevButtonClass}`}\n          type=\"button\"\n          aria-label={texts.ariaLabelPrevButton}\n          onClick={() => scrollByButtons('prev')}\n          disabled={isPrevButtonDisabled}\n        />\n        <button\n          className={`scrollable-container__button scrollable-container__button_next ${nextButtonClass}`}\n          type=\"button\"\n          aria-label={texts.ariaLabelNextButton}\n          onClick={() => scrollByButtons('next')}\n          disabled={isNextButtonDisabled}\n        />\n      </>\n    );\n  }\n}\n\nScrollableContainer.propTypes = {\n  reference: PropTypes.node,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n  step: PropTypes.number,\n  onScrollCallback: PropTypes.func,\n  useButtons: PropTypes.bool,\n  prevButtonClass: PropTypes.string,\n  nextButtonClass: PropTypes.string,\n  disableMouseDrag: PropTypes.bool,\n};\n\nScrollableContainer.defaultProps = {\n  reference: null,\n  sectionClass: '',\n  children: null,\n  step: 1,\n  onScrollCallback: undefined,\n  useButtons: false,\n  prevButtonClass: '',\n  nextButtonClass: '',\n  disableMouseDrag: false,\n};\n\nexport default ScrollableContainer;\n","const texts = {\n  ariaLabelText: 'Поиск',\n};\n\nexport default texts;\n","import './SearchButton.scss';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction SearchButton({ handleClickButton }) {\n  return (\n    <button\n      className=\"search-button search__button\"\n      type=\"button\"\n      aria-label={texts.ariaLabelText}\n      title={texts.ariaLabelText}\n      onClick={handleClickButton}\n    />\n  );\n}\n\nSearchButton.propTypes = {\n  handleClickButton: PropTypes.func,\n};\n\nSearchButton.defaultProps = {\n  handleClickButton: () => {},\n};\n\nexport default SearchButton;\n","import './TitleH1.scss';\nimport PropTypes from 'prop-types';\n\nfunction TitleH1({ title, sectionClass }) {\n  return <h1 className={`main-title ${sectionClass}`}>{title}</h1>;\n}\n\nTitleH1.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH1.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH1;\n","import PropTypes from 'prop-types';\n\nfunction TitleH2({ title, sectionClass }) {\n  return <h2 className={`section-title ${sectionClass}`}>{title}</h2>;\n}\n\nTitleH2.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH2.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH2;\n","import PropTypes from 'prop-types';\n\nfunction TitleH3({ title, sectionClass }) {\n  return <h3 className={`chapter-title ${sectionClass}`}>{title}</h3>;\n}\n\nTitleH3.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nTitleH3.defaultProps = {\n  sectionClass: '',\n};\n\nexport default TitleH3;\n","import './UserIconButton.scss';\nimport PropTypes from 'prop-types';\nimport { PROFILE_TITLE } from '../../../config/routes';\n\nfunction UserIconButton({ sectionClass, isAuthorized, handleClick }) {\n  const classNames = [\n    'user-button',\n    isAuthorized ? 'user-button_authorized' : 'user-button_unauthorized',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      aria-label={PROFILE_TITLE}\n      title={PROFILE_TITLE}\n      onClick={handleClick}\n    />\n  );\n}\n\nUserIconButton.propTypes = {\n  sectionClass: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  handleClick: PropTypes.func,\n};\n\nUserIconButton.defaultProps = {\n  sectionClass: '',\n  isAuthorized: false,\n  handleClick: () => {},\n};\n\nexport default UserIconButton;\n","import './UserMenuButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserMenuButton({ title, handleClick, sectionClass }) {\n  const classNames = ['user-menu-button', sectionClass].join(' ').trim();\n\n  return (\n    <button className={classNames} type=\"button\" onClick={handleClick}>\n      {title}\n    </button>\n  );\n}\n\nUserMenuButton.propTypes = {\n  title: PropTypes.string,\n  handleClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nUserMenuButton.defaultProps = {\n  title: '',\n  handleClick: () => {},\n  sectionClass: '',\n};\n\nexport default UserMenuButton;\n","const texts = {\n  textStub: 'Ваш браузер случайно заблокировал наш виджет',\n};\n\nexport default texts;\n","import './Widget.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Widget({ link, title }) {\n  return (\n    <div className=\"widget\">\n      <iframe\n        className=\"widget__iframe\"\n        title={title}\n        src={link}\n        allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\n      />\n      <p className=\"widget__stub\">{texts.textStub}</p>\n    </div>\n  );\n}\n\nWidget.propTypes = {\n  link: PropTypes.string,\n  title: PropTypes.string,\n};\n\nWidget.defaultProps = {\n  link: '#',\n  title: '',\n};\n\nexport default Widget;\n","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './NextArticleLink.scss';\n\nfunction NextArticleLink({ text, href, sectionClass, onClick }) {\n  const classNames = ['next-article-link', sectionClass].join(' ').trim();\n\n  return (\n    <Link className={classNames} to={href} onClick={onClick}>\n      <span className=\"next-article-link__text\">{text}</span>\n      <svg\n        className=\"next-article-link__arrow\"\n        width=\"30\"\n        height=\"30\"\n        viewBox=\"0 0 30 30\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M16.5916 0L30 14.3793L15.5318 30H13.4987L23.3441 19.3448C25.5145 17.1724 24.9357 15.3103 22.1865 15.1552H0V13.6034H22.0418C24.791 13.4483 25.3698 11.8966 23.6334 9.72414L14.5659 0H16.5916Z\"\n          fill=\"#224CFF\"\n        />\n      </svg>\n    </Link>\n  );\n}\n\nNextArticleLink.propTypes = {\n  text: PropTypes.string,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  sectionClass: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nNextArticleLink.defaultProps = {\n  text: 'Link',\n  href: '/',\n  sectionClass: '',\n  onClick: () => {},\n};\n\nexport default NextArticleLink;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { DropDownMenu } from '../utils';\nimport './NavItemWithDropdown.scss';\n\nfunction NavItemWithDropdown({ sectionWrapperClass, linkText, href }) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className=\"menu__link\" to={href}>\n        {linkText}\n      </NavLink>\n\n      <DropDownMenu sectionWrapperClass=\"menu__dropdown-list\" />\n    </li>\n  );\n}\n\nNavItemWithDropdown.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nNavItemWithDropdown.defaultProps = {\n  href: '',\n};\n\nexport default NavItemWithDropdown;\n","const texts = {\n  notFoundText: 'По вашему запросу ничего не найдено',\n  searchText: 'Введите свой запрос',\n  ariaLabelCloseButton: 'Закрыть',\n};\n\nexport default texts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nconst search = ({ text = '', city }) =>\n  axios\n    .get(`${baseURL}${apiUrl}/search/`, {\n      params: { text, city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n\nexport default search;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport texts from './locales/RU';\nimport { Loader, SearchButton } from '../utils';\nimport { useDebounce, useFormWithValidation } from '../../hooks';\nimport { getLocalStorageData } from '../../hooks/useLocalStorage';\nimport search from '../../api/search';\nimport { CATALOG_URL, RIGHTS_URL, STORIES_URL } from '../../config/routes';\nimport { CurrentUserContext } from '../../contexts';\nimport { DELAY_DEBOUNCE, localStUserCity } from '../../config/constants';\nimport './Search.scss';\n\nfunction Search({\n  isOpenSearch,\n  setIsOpenSearch,\n  isMobileMenuOpen,\n  setIsMobileMenuOpen,\n}) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  // приоритет города у авторизованного, затем у выбранного на странице Куда пойти\n  const currentAnonymousCity = getLocalStorageData(localStUserCity);\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  const { values, handleChange, resetForm } = useFormWithValidation();\n  const [searchResults, setSearchResults] = useState([]);\n  const [isVoidSearch, setIsVoidSearch] = useState(false);\n  const [isLoadingSearch, setIsLoadingSearch] = useState(false);\n\n  const inputRef = useRef(null);\n\n  const getPathName = (url, id) => {\n    if (`/${url}` === RIGHTS_URL) return `/${url}/${id}`;\n    if (`/${url}` === CATALOG_URL) return `/${url}/${id}`;\n    if (`/${url}` === STORIES_URL) return `/${url}/${id}`;\n    return `/${url}`;\n  };\n\n  const animateListItem = (idx) => ({\n    opacity: '0',\n    animation: `fade-in 0.5s ease-out ${idx / 12}s forwards`,\n  });\n\n  const animateLink = (idx) => ({\n    opacity: '0',\n    animation: `slide-in 0.5s ease-out ${idx / 10}s forwards`,\n  });\n\n  const handleClickButton = () => {\n    setIsOpenSearch(!isOpenSearch);\n    resetForm();\n    setSearchResults([]);\n    setIsVoidSearch(false);\n  };\n\n  const handleClickLink = () => {\n    setIsOpenSearch(!isOpenSearch);\n  };\n\n  const handleSearchRequest = async () => {\n    const searchParams = userCity\n      ? { text: values.search, city: userCity }\n      : { text: values.search };\n    const currentRequest = search(searchParams);\n    const { count, results } = await currentRequest;\n    setSearchResults(results);\n    setIsLoadingSearch(false);\n    return count === 0 ? setIsVoidSearch(true) : setIsVoidSearch(false);\n  };\n\n  const handleDebouncedRequest = useDebounce(\n    handleSearchRequest,\n    DELAY_DEBOUNCE\n  );\n\n  useEffect(() => {\n    // проверка на пустой запрос и запрос из пробелов\n    if (values.search && values.search.trim()) {\n      setIsLoadingSearch(true);\n      handleDebouncedRequest();\n    }\n  }, [values]);\n\n  useEffect(() => {\n    if (isMobileMenuOpen) setIsOpenSearch(false);\n  }, [isMobileMenuOpen]);\n\n  useEffect(() => {\n    if (isOpenSearch) setIsMobileMenuOpen(false);\n    // автофокус при открытии поиска\n    if (isOpenSearch && inputRef && inputRef.current) inputRef.current.focus();\n  }, [isOpenSearch]);\n\n  return (\n    <form\n      className=\"search\"\n      name=\"search-form\"\n      onSubmit={(evt) => evt.preventDefault()}\n    >\n      <SearchButton\n        isOpenSearch={isOpenSearch}\n        handleClickButton={handleClickButton}\n      />\n      <div\n        className={`search__options menu__search-options ${\n          isOpenSearch ? 'search__options_visible' : ''\n        }`}\n      >\n        <div className=\"search__container-input\">\n          <div className=\"search__input-wrap\">\n            <input\n              ref={inputRef}\n              type=\"text\"\n              name=\"search\"\n              placeholder=\"\"\n              className=\"search__input paragraph\"\n              autoComplete=\"off\"\n              onChange={handleChange}\n              value={values.search || ''}\n            />\n            <button\n              type=\"button\"\n              aria-label={texts.ariaLabelCloseButton}\n              className=\"search__close-button\"\n              onClick={handleClickButton}\n            />\n          </div>\n          <span className=\"search__input-border\" />\n        </div>\n\n        {renderSearchContent()}\n      </div>\n    </form>\n  );\n\n  function renderSearchItems() {\n    if (isVoidSearch)\n      return <p className=\"search__content_type_void\">{texts.notFoundText}</p>;\n\n    if (searchResults.length > 0) {\n      return (\n        <ul className=\"search__option-list\">\n          {searchResults.map((item, idx) => (\n            <li\n              key={item.page + item.id}\n              className=\"search__option-item\"\n              style={animateListItem(idx)}\n            >\n              <Link\n                onClick={handleClickLink}\n                to={{\n                  pathname: getPathName(item.page, item.id),\n                  state: { id: item.id },\n                }}\n                className=\"section-title section-title_clickable search__title-link\"\n                style={animateLink(idx)}\n              >\n                {item.title}\n              </Link>\n              <Link\n                to={`/${item.page}`}\n                className=\"link search__link\"\n                style={animateLink(idx)}\n                onClick={handleClickLink}\n              >\n                {item.modelName.toLowerCase()}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      );\n    }\n\n    return <p className=\"search__content_type_ask\">{texts.searchText}</p>;\n  }\n\n  function renderSearchContent() {\n    return isLoadingSearch ? <Loader isNested /> : renderSearchItems();\n  }\n}\n\nSearch.propTypes = {\n  isOpenSearch: PropTypes.bool,\n  setIsOpenSearch: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  setIsMobileMenuOpen: PropTypes.func,\n};\n\nSearch.defaultProps = {\n  isOpenSearch: false,\n  setIsOpenSearch: () => {},\n  isMobileMenuOpen: false,\n  setIsMobileMenuOpen: () => {},\n};\n\nexport default Search;\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts';\nimport texts from './locales/RU';\nimport {\n  ABOUT_US_TITLE,\n  ABOUT_US_URL,\n  AFISHA_TITLE,\n  AFISHA_URL,\n  MAIN_PAGE_TITLE,\n  PLACES_TITLE,\n  PLACES_URL,\n  QUESTIONS_TITLE,\n  QUESTIONS_URL,\n  READ_AND_WATCH_TITLE,\n  READ_AND_WATCH_URL,\n  RIGHTS_TITLE,\n  RIGHTS_URL,\n  STORIES_TITLE,\n  STORIES_URL,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport NavItemWithDropdown from '../NavItemWithDropdown/NavItemWithDropdown';\nimport Search from '../Search/Search';\nimport { NavItem, UserIconButton, UserMenuButton } from '../utils';\nimport './NavBar.scss';\n\nfunction NavBar({\n  isMobileMenuOpen,\n  onUserButtonClick,\n  onBurgerButtonClick,\n  onCityChangeClick,\n  onLogout,\n  userCityName,\n  setIsMobileMenuOpen,\n  isOpenSearch,\n  setIsOpenSearch,\n}) {\n  const { pathname } = useLocation();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const handleClick = () => {\n    setIsOpenSearch(false);\n  };\n\n  return (\n    <nav className={`menu ${isOpenSearch ? 'menu_state_search' : ''}`}>\n      {/* логотип */}\n      <Link\n        to=\"/\"\n        target=\"_self\"\n        className=\"menu__logo mobile-link\"\n        onClick={handleClick}\n      >\n        {MAIN_PAGE_TITLE}\n      </Link>\n      {/* обычное меню */}\n      <div\n        className={`menu__lists-wrap ${\n          !isMobileMenuOpen ? 'menu__lists-wrap_hidden' : ''\n        }`}\n      >\n        <ul className=\"menu__list\">\n          {/* О проекте, скрытый */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item menu__list-item_hidden\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* Календарь */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* Куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* Вопросы */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* выпадающее меню  \"Читать и смотреть\" */}\n          <NavItemWithDropdown\n            sectionWrapperClass=\"menu__list-item menu__dropdown-item\"\n            linkText={READ_AND_WATCH_TITLE}\n            href={READ_AND_WATCH_URL}\n          />\n          {/* Права детей */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* Истории */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n\n        <ul\n          className={`menu__list menu__list_type_social ${\n            !isMobileMenuOpen ? 'menu__list_hidden' : ''\n          }`}\n        >\n          {React.Children.toArray(\n            socialLinks.map((link) => (\n              <li className=\"menu__list-item\">\n                <a\n                  className=\"menu__link mobile-link\"\n                  href={link.url}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {link.title}\n                </a>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n\n      {renderUserMenuButtons()}\n\n      <button\n        onClick={onBurgerButtonClick}\n        className={`menu__burger ${\n          isMobileMenuOpen ? 'menu__burger_active' : ''\n        }`}\n        type=\"button\"\n      >\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n      </button>\n\n      <ul className=\"menu__button-list\">\n        <li className=\"menu__button-item\">\n          <Search\n            isOpenSearch={isOpenSearch}\n            setIsOpenSearch={setIsOpenSearch}\n            isMobileMenuOpen={isMobileMenuOpen}\n            setIsMobileMenuOpen={setIsMobileMenuOpen}\n          />\n        </li>\n        <li className=\"menu__button-item\">\n          <UserIconButton\n            sectionClass=\"mobile-link\"\n            isAuthorized={!!currentUser}\n            handleClick={onUserButtonClick}\n          />\n        </li>\n      </ul>\n    </nav>\n  );\n\n  function renderLogoutButton() {\n    return (\n      <UserMenuButton\n        title={texts.logoutText}\n        sectionClass=\"mobile-link\"\n        handleClick={onLogout}\n      />\n    );\n  }\n\n  function renderUserMenuButtons() {\n    return (\n      <div\n        className={`menu__user-info ${\n          !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n        }`}\n      >\n        <UserMenuButton\n          title={\n            userCityName\n              ? `${userCityName}. ${texts.changeCity}`\n              : texts.changeCityDefault\n          }\n          handleClick={onCityChangeClick}\n          sectionClass={`mobile-link ${\n            !currentUser && pathname === PLACES_URL\n              ? 'menu__user-info_center'\n              : ''\n          }`}\n        />\n        {currentUser && renderLogoutButton()}\n      </div>\n    );\n  }\n}\n\nNavBar.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onBurgerButtonClick: PropTypes.func,\n  onCityChangeClick: PropTypes.func,\n  onLogout: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  userCityName: PropTypes.string,\n  setIsMobileMenuOpen: PropTypes.func,\n  isOpenSearch: PropTypes.bool,\n  setIsOpenSearch: PropTypes.func,\n};\n\nNavBar.defaultProps = {\n  onUserButtonClick: () => {},\n  onBurgerButtonClick: () => {},\n  onCityChangeClick: () => {},\n  onLogout: () => {},\n  isMobileMenuOpen: false,\n  userCityName: '',\n  setIsMobileMenuOpen: () => {},\n  isOpenSearch: false,\n  setIsOpenSearch: () => {},\n};\n\nexport default NavBar;\n","import { useContext, useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  PopupsContext,\n} from '../../contexts';\nimport { useAuth, useClickOutside, useLocalStorage } from '../../hooks';\nimport { AFISHA_URL, PLACES_URL, PROFILE_URL } from '../../config/routes';\nimport { localStUserCity } from '../../config/constants';\nimport NavBar from '../NavBar/NavBar';\nimport { UserMenuButton } from '../utils';\nimport './Header.scss';\n\nconst onScrollUpDelay = 100;\n\nfunction Header({ isTransparentOnTop }) {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupLogin } = useContext(PopupsContext);\n  const { cities } = useContext(CitiesContext);\n\n  const { handleLogout } = useAuth(updateUser);\n\n  const [userCityName, setUserCityName] = useState('');\n  let currentAnonymousCity;\n\n  if (pathname === PLACES_URL) {\n    const getLocalStorageItem = useLocalStorage(localStUserCity);\n    currentAnonymousCity = getLocalStorageItem();\n  }\n\n  // сохранённый в localStorage город анонимуса\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  // определение города пользователя, используется в кнопках\n  useEffect(() => {\n    if (cities && userCity) {\n      const currentCity = cities.find((city) => city?.id === userCity);\n      setUserCityName(currentCity?.name);\n    }\n  }, [cities, userCity]);\n\n  // клик по иконке человечка\n  const handleUserButtonClick = () => {\n    if (currentUser) history.push(PROFILE_URL);\n    else openPopupLogin();\n  };\n\n  // меню бургер\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  // закрытие мобильного меню по клику вне хедера\n  const headerRef = useClickOutside(() => setIsMobileMenuOpen(false));\n\n  // закрытие мобильного меню по клику на ссылки\n  const handleCloseMobileMenu = (evt) => {\n    const { target } = evt;\n    if (isMobileMenuOpen && target.classList.contains('mobile-link')) {\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  // состояние поиска\n  const [isOpenSearch, setIsOpenSearch] = useState(false);\n\n  // состояния хедера\n  const [isHeaderActive, setIsHeaderActive] = useState(true);\n  const [isHeaderOnTop, setIsHeaderOnTop] = useState(true);\n  let prevScrollPos = 0;\n\n  const detectHeaderOnTop = () => {\n    if (window.scrollY === 0) setIsHeaderOnTop(true);\n    else if (window.scrollY > 0 && isHeaderOnTop) setIsHeaderOnTop(false);\n  };\n\n  const detectScrollUp = () => {\n    if (isTransparentOnTop) detectHeaderOnTop();\n\n    const currentScrollPos = window.pageYOffset;\n    // если prevScrollPos больше currentScrollPos значит мы скролим наверх\n    if (prevScrollPos > currentScrollPos) {\n      setIsHeaderActive(true);\n    } else {\n      setIsHeaderActive(false);\n      setIsMobileMenuOpen(false);\n    }\n\n    if (currentScrollPos === 0) {\n      setIsHeaderActive(true);\n    }\n    prevScrollPos = currentScrollPos;\n  };\n\n  let debounceTimer;\n  const debouncedScrollUp = () => {\n    if (debounceTimer) {\n      clearTimeout(debounceTimer);\n    }\n    debounceTimer = setTimeout(() => {\n      detectScrollUp();\n    }, onScrollUpDelay);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', debouncedScrollUp);\n    return () => window.removeEventListener('scroll', debouncedScrollUp);\n  }, []);\n\n  const classNamesHeader = [\n    'header',\n    isTransparentOnTop && isHeaderOnTop && !isOpenSearch\n      ? 'header_transparent'\n      : '',\n    isMobileMenuOpen ? 'header_displayed' : '',\n    !isHeaderActive && !isOpenSearch ? 'header__on-scroll-up' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <header\n      className={classNamesHeader}\n      ref={headerRef}\n      onClick={handleCloseMobileMenu}\n      onKeyPress={handleCloseMobileMenu}\n    >\n      <div className=\"header__container\">\n        <NavBar\n          onUserButtonClick={handleUserButtonClick}\n          onBurgerButtonClick={toggleMobileMenu}\n          userCityName={userCityName}\n          onCityChangeClick={openPopupCities}\n          onLogout={handleLogout}\n          isMobileMenuOpen={isMobileMenuOpen}\n          setIsMobileMenuOpen={setIsMobileMenuOpen}\n          isOpenSearch={isOpenSearch}\n          setIsOpenSearch={setIsOpenSearch}\n        />\n\n        {(pathname === AFISHA_URL ||\n          pathname === PLACES_URL ||\n          pathname === PROFILE_URL) && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              handleClick={openPopupCities}\n              sectionClass=\"mobile-link\"\n            />\n            {renderExitButton()}\n          </div>\n        )}\n      </div>\n    </header>\n  );\n\n  function renderExitButton() {\n    if (pathname === PROFILE_URL) {\n      return (\n        <UserMenuButton\n          title={texts.logoutText}\n          sectionClass=\"mobile-link\"\n          handleClick={handleLogout}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nHeader.propTypes = {\n  isTransparentOnTop: PropTypes.bool,\n};\n\nHeader.defaultProps = {\n  isTransparentOnTop: false,\n};\n\nexport default Header;\n","import { bbbsLinks, developmentLinks } from '../../../utils/external-links';\n\nconst texts = {\n  logoAlt: 'Логотип Старшие Братья Старшие Сестры России',\n  logoLink: bbbsLinks.about,\n  helpButtonText: 'Помочь деньгами',\n  helpButtonLink: bbbsLinks.donations,\n  devText: 'Разработка – студенты ',\n  devLink: developmentLinks.praktikum.url,\n  devOrg: developmentLinks.praktikum.title,\n  designText: 'Концепция и дизайн – ',\n  designLink: developmentLinks.design.url,\n  designOrg: developmentLinks.design.title,\n  copyright: `${'\\u00A9'} Старшие Братья Старшие Сестры`,\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/footer-logo.476770b8.svg\";","import React from 'react';\nimport texts from './locales/RU';\nimport {\n  ABOUT_US_TITLE,\n  ABOUT_US_URL,\n  AFISHA_TITLE,\n  AFISHA_URL,\n  PLACES_TITLE,\n  PLACES_URL,\n  QUESTIONS_TITLE,\n  QUESTIONS_URL,\n  READ_AND_WATCH_TITLE,\n  READ_AND_WATCH_URL,\n  RIGHTS_TITLE,\n  RIGHTS_URL,\n  STORIES_TITLE,\n  STORIES_URL,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport footerLogoPath from '../../assets/footer-logo.svg';\nimport { NavItem } from '../utils';\nimport './Footer.scss';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <a\n        href={texts.logoLink}\n        className=\"footer__logo\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <img\n          className=\"footer__logo-image\"\n          src={footerLogoPath}\n          alt={texts.logoAlt}\n        />\n      </a>\n      <a\n        className=\"button footer__button\"\n        href={texts.helpButtonLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.helpButtonText}\n      </a>\n      <div className=\"footer__column footer__column_content_concept\">\n        <p className=\"footer__brand\">{texts.copyright}</p>\n        <div className=\"footer__copyright\">\n          <p className=\"footer__authors\">\n            {texts.devText}\n            <a\n              href={texts.devLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.devOrg}\n            </a>\n          </p>\n          <p className=\"footer__design\">\n            {texts.designText}\n            <a\n              href={texts.designLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.designOrg}\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"footer__column footer__column_content_info\">\n        <ul className=\"footer__column-list\">\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={READ_AND_WATCH_URL}\n            linkText={READ_AND_WATCH_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n      </div>\n      <div className=\"footer__column footer__column_content_social\">\n        <ul className=\"footer__column-list\">\n          {React.Children.toArray(\n            socialLinks.map((link) => (\n              <li className=\"footer__column-links\">\n                <a\n                  className=\"footer__column-link\"\n                  href={link.url}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {link.title}\n                </a>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../hooks/index';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction BasePage({\n  children,\n  headTitle,\n  headDescription,\n  scrollUpDeps,\n  isNoFooter,\n  isHeaderTransparentOnTop,\n  sectionClassMain,\n}) {\n  useScrollToTop(scrollUpDeps);\n\n  const classNamesMain = ['main', sectionClassMain].join(' ').trim();\n\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header isTransparentOnTop={isHeaderTransparentOnTop} />\n      <main className={classNamesMain}>{children}</main>\n      {!isNoFooter && <Footer />}\n    </>\n  );\n}\n\nBasePage.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n  scrollUpDeps: PropTypes.arrayOf(PropTypes.any),\n  isNoFooter: PropTypes.bool,\n  isHeaderTransparentOnTop: PropTypes.bool,\n  sectionClassMain: PropTypes.string,\n};\n\nBasePage.defaultProps = {\n  children: null,\n  scrollUpDeps: [],\n  isNoFooter: false,\n  isHeaderTransparentOnTop: false,\n  sectionClassMain: '',\n};\n\nexport default BasePage;\n","import './CardFigure.scss';\nimport PropTypes from 'prop-types';\n\nfunction CardFigure({ title, shape, color, children, sectionClass }) {\n  return (\n    <div\n      className={`card-figure card-figure_color_${color} card-figure_form_${shape} ${sectionClass}`}\n    >\n      {title && <h2 className=\"section-title\">{title}</h2>}\n      {children}\n    </div>\n  );\n}\n\nCardFigure.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string.isRequired,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  sectionClass: PropTypes.string,\n};\n\nCardFigure.defaultProps = {\n  title: '',\n  color: 'yellow',\n  children: null,\n  sectionClass: '',\n};\n\nexport default CardFigure;\n","import PropTypes from 'prop-types';\nimport { TitleH2 } from '../../utils';\nimport './CardAbout.scss';\n\nfunction CardAbout({ title, text, color, linkText, href }) {\n  return (\n    <article className=\"card-container card-about\">\n      <div className={`card-about__heading card-about__heading_color_${color}`}>\n        <TitleH2 title={title} />\n      </div>\n      <div className=\"card-about__container\">\n        <p className=\"paragraph card-about__paragraph\">{text}</p>\n        <a\n          className=\"link card-about__card-link\"\n          href={href}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {linkText}\n        </a>\n      </div>\n    </article>\n  );\n}\n\nCardAbout.propTypes = {\n  title: PropTypes.string,\n  color: PropTypes.string,\n  text: PropTypes.string,\n  linkText: PropTypes.string,\n  href: PropTypes.string,\n};\n\nCardAbout.defaultProps = {\n  title: '',\n  color: '',\n  text: '',\n  linkText: '',\n  href: '#',\n};\n\nexport default CardAbout;\n","import React from 'react';\nimport aboutUsTexts from './locales/RU';\nimport {\n  BasePage,\n  Blockquote,\n  Card,\n  CardAbout,\n  CardFigure,\n  LogoBlue,\n  TitleH3,\n} from './index';\nimport './AboutUs.scss';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  logoLink,\n  aboutTitle,\n  aboutParagraphs,\n  blockquote,\n  cards,\n} = aboutUsTexts;\n\nfunction AboutUs() {\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"about page__section fade-in\">\n        <TitleH3 sectionClass=\"about__title\" title={title} />\n        <a\n          className=\"about__logo\"\n          href={logoLink}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n\n        <div className=\"about__us\">\n          <CardFigure title={aboutTitle} color=\"yellow\" shape=\"circle\" />\n\n          <Card sectionClass=\"about__annotation\" color=\"white\">\n            {React.Children.toArray(\n              aboutParagraphs.map((item) => (\n                <p className=\"paragraph about__paragraph\">{item?.text}</p>\n              ))\n            )}\n          </Card>\n        </div>\n\n        <Blockquote\n          sectionWrapperClass=\"about__quote\"\n          sectionTitleClass=\"about__quote-text\"\n          text={blockquote}\n        />\n\n        <div className=\"about__cards\">\n          {React.Children.toArray(cards.map((item) => <CardAbout {...item} />))}\n        </div>\n      </section>\n    </BasePage>\n  );\n}\n\nexport default AboutUs;\n","import { MAIN_PAGE_TITLE, PROFILE_TITLE } from '../../../config/routes';\n\nconst profilePageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${PROFILE_TITLE}`,\n  headDescription: 'Личный кабинет наставника.',\n  eventsTitle: 'Вы записаны на мероприятия:',\n  eventsTitleArchive: 'Ваши прошлые мероприятия:',\n  eventsArchiveButton: 'Архив мероприятий',\n  eventsCurrentButton: 'Текущие мероприятия',\n  eventsTitleNoResults: 'У вас нет записи на мероприятия',\n  eventsTitleNoResultsArchive: 'Вы ещё не участвовали в мероприятиях',\n  formTitle:\n    'Составьте историю вашей дружбы с младшим. Эта страница доступна только вам.',\n};\n\nexport default profilePageTexts;\n","const texts = {\n  buttonLabel: 'Открыть карточку',\n  eventCanceled: 'Мероприятие отменено',\n};\n\nexport default texts;\n","import { months, weekdays } from '../config/constants';\n\n// форматирует секунды в часы, минуты и секунды, принимает на вход number\nexport const formatDuration = (duration) => {\n  const hours = Math.floor(duration / (60 * 60));\n  const minutes = Math.floor((duration / 60) % 60);\n  const seconds = duration % 60;\n  const format = (value) => (value < 10 ? `0${value}` : `${value}`);\n\n  return {\n    hours: format(hours),\n    minutes: format(minutes),\n    seconds: format(seconds),\n  };\n};\n\n// форматирует дату в объект по разным ключам, принимает на вход string вида \"2021-05-08T21:22:00Z\"\nexport const formatDate = (date) => {\n  const parsedDate = new Date(date);\n  let day = parsedDate.getDate();\n  let month = parsedDate.getMonth() + 1;\n  const weekdayName = weekdays[parsedDate.getDay()];\n  const monthName = months[parsedDate.getMonth()];\n  const hour = String(parsedDate.getHours());\n  const year = String(parsedDate.getFullYear());\n  let minutes = parsedDate.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  if (month < 10) {\n    month = `0${month}`;\n  }\n\n  return {\n    year,\n    day,\n    month,\n    weekdayName,\n    monthName,\n    hour,\n    minutes,\n  };\n};\n\n// форматирует дату типа \"2021-05-08T21:22:00Z\" в 'YYYY/MM/DD'\nexport const parseDate = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  return `${year}-${month}-${day}`;\n};\n\n// падеж слова \"место\" в зависимости от числа мест\n// принимает на вход количество оставшихся мест из чего формирует падеж слова\n// нужно в карточках, попапах\nexport const formatWordCase = (remainSeats) => {\n  // промежуток 11 - 14\n  const lastTwoDigits = remainSeats % 100;\n  if (lastTwoDigits > 10 && lastTwoDigits < 15) {\n    return 'мест';\n  }\n  // если кончается на 1 - окончание О\n  // если кончается на 2 3 4 - окончание A\n  // если кончается на другое - окончания нет\n  const lastDigit = remainSeats % 10;\n\n  if (lastDigit === 1) {\n    return 'место';\n  }\n  if (lastDigit === 2 || lastDigit === 3 || lastDigit === 4) {\n    return 'местa';\n  }\n  return 'мест';\n};\n\n// меняет в слове первую букву на заглавную\nexport const changeCaseOfFirstLetter = (str) => {\n  if (!str) return str;\n\n  return str[0].toUpperCase() + str.slice(1);\n};\n\n// управление падежами месяцев\nexport const formatMonthsGenitiveCase = (month) => {\n  if (month) {\n    if (month === 'март' || month === 'август') return `${month}а`;\n    return `${month.slice(0, -1)}я`;\n  }\n  return month;\n};\n\nexport const randomizeArray = (arr, size) => {\n  if (arr && size < arr.length) {\n    const array = arr.slice();\n    return [...Array(size)].map(\n      () => array.splice(Math.floor(Math.random() * array.length), 1)[0]\n    );\n  }\n  return arr;\n};\n\nexport const formatPhoneNumber = (phoneNum) => {\n  if (phoneNum?.length === 12) {\n    const str1 = phoneNum.slice(0, 2);\n    const str2 = phoneNum.slice(2, 5);\n    const str3 = phoneNum.slice(5, 8);\n    const str4 = phoneNum.slice(8, 10);\n    const str5 = phoneNum.slice(10, 12);\n    return `${str1} ${str2} ${str3}-${str4}-${str5}`;\n  }\n  return phoneNum;\n};\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport { formatDate } from '../../../utils/utils';\nimport { Card } from '../../utils';\nimport './ProfileEventCard.scss';\n\nfunction ProfileEventCard({ data, onOpen, sectionClass }) {\n  const startDay = formatDate(data?.startAt);\n\n  const handleOpen = () => {\n    setLocalStorageData(localStAfishaEvent, data);\n    onOpen();\n  };\n\n  const buttonClassNames = ['profile-event-card', sectionClass]\n    .join(' ')\n    .trim();\n\n  const cardClassNames = [\n    'profile-event-card__card',\n    data?.canceled ? 'profile-event-card__card_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dayClassNames = [\n    'profile-event-card__day',\n    data?.canceled ? 'profile-event-card__day_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const titleClassNames = [\n    'profile-event-card__title',\n    data?.canceled ? 'profile-event-card__title_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={buttonClassNames}\n      type=\"button\"\n      aria-label={texts.buttonLabel}\n      onClick={handleOpen}\n    >\n      <Card sectionClass={cardClassNames}>\n        {data?.canceled && (\n          <p className=\"profile-event-card__text-canceled\">\n            {texts.eventCanceled}\n          </p>\n        )}\n        <p className={dayClassNames}>{`${startDay?.day}.${startDay?.month}`}</p>\n        <p className={titleClassNames}>{data?.title}</p>\n      </Card>\n    </button>\n  );\n}\n\nProfileEventCard.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onOpen: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileEventCard.defaultProps = {\n  onOpen: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileEventCard;\n","const texts = {\n  rateCaptionText: 'Оцените проведенное время',\n  uploadCaptionText: 'Загрузить фото',\n  placePlaceholder: 'Место встречи',\n  datePlaceholder: 'Дата __.__.____',\n  datePlaceholderError: 'Дата* ',\n  descrPlaceholder:\n    'Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось',\n  buttonAddText: 'Добавить',\n  buttonDeleteText: 'Удалить',\n  buttonCancelText: 'Отмена',\n  buttonSaveText: 'Сохранить',\n};\n\nexport default texts;\n","const captions = {\n  good: 'Было классно!',\n  neutral: 'Нормально',\n  bad: 'Что-то пошло не так',\n};\n\nexport default captions;\n","const getServerErrors = (serverErrorObj) => {\n  if (\n    !(\n      typeof serverErrorObj === 'object' &&\n      !Array.isArray(serverErrorObj) &&\n      serverErrorObj !== null\n    )\n  ) {\n    throw Error('Invalid input');\n  }\n\n  return Object.values(serverErrorObj)\n    .map((err) => err)\n    .join(' ')\n    .trim();\n};\n\nexport default getServerErrors;\n","import { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { ErrorsContext } from '../../contexts';\nimport { useFormWithValidation } from '../../hooks';\nimport captions from '../../utils/rating-captions';\nimport getServerErrors from '../../utils/form-errors';\nimport { staticImageUrl } from '../../config/config';\nimport { regExpImages } from '../../config/constants';\nimport { Button, ButtonRound, Caption, Card, Input, Rating } from '../utils';\nimport './ProfileForm.scss';\n\nconst {\n  rateCaptionText,\n  uploadCaptionText,\n  placePlaceholder,\n  datePlaceholder,\n  descrPlaceholder,\n  buttonAddText,\n  buttonDeleteText,\n  buttonCancelText,\n  buttonSaveText,\n} = texts;\n\nconst validationSettings = {\n  place: {\n    minLength: 5,\n    maxLength: 128,\n  },\n  description: {\n    maxLength: 1024,\n  },\n};\n\nfunction ProfileForm({\n  data,\n  sectionClass,\n  isEditMode,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  const classNames = ['card-container', 'profile-form', sectionClass]\n    .join(' ')\n    .trim();\n\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  const [caption, setCaption] = useState(rateCaptionText);\n  const [userImage, setUserImage] = useState(null);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!values?.mark) {\n      values.mark = 'neutral';\n    }\n    onSubmit(values);\n  };\n\n  const handleFocusDataInput = (evt) => {\n    // eslint-disable-next-line no-param-reassign\n    evt.currentTarget.type = 'date';\n  };\n\n  const handleChangeImage = () => {\n    if (values?.image) {\n      // ссылка-блоб для отображения загруженной картинки\n      const imageUrl = URL.createObjectURL(values.image);\n      setUserImage({ ...userImage, imageUrl });\n    }\n  };\n\n  const handleCloseForm = () => {\n    setUserImage(null);\n    resetForm();\n    clearError();\n    setCaption(rateCaptionText);\n    onClose();\n  };\n\n  useEffect(() => {\n    if (values?.mark) setCaption(captions[values.mark]);\n    else setCaption(rateCaptionText);\n  }, [values.mark]);\n\n  useEffect(() => {\n    handleChangeImage();\n  }, [values.image]);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (data) {\n        setUserImage({ image: data.image });\n        setValues({\n          id: data?.id,\n          date: data?.date,\n          place: data?.place,\n          description: data?.description,\n          mark: data?.mark,\n        });\n      }\n    }\n  }, [isOpen, data]);\n\n  return (\n    <form\n      name=\"addStoryForm\"\n      onSubmit={(evt) => handleSubmit(evt)}\n      className={classNames}\n      noValidate\n    >\n      <Card sectionClass=\"profile-form__photo-upload\">\n        {(userImage?.imageUrl || userImage?.image) && (\n          <img\n            src={userImage.imageUrl || `${staticImageUrl}/${userImage.image}`}\n            alt={data?.place}\n            className=\"profile-form__uploaded-image\"\n          />\n        )}\n\n        <div\n          className={`profile-form__input-upload ${\n            (userImage?.imageUrl || userImage?.image) && !errors?.image\n              ? 'profile-form__input-upload_hidden'\n              : ''\n          } ${errors?.image ? 'profile-form__input-upload_error' : ''}\n          `}\n        >\n          <label htmlFor=\"input-upload\" className=\"profile-form__label-file\">\n            <input\n              id=\"input-upload\"\n              type=\"file\"\n              accept=\"image/*\"\n              name=\"image\"\n              className=\"profile-form__input-file\"\n              onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n            />\n            <ButtonRound\n              sectionClass={`profile-form__pseudo-button ${\n                errors?.image ? 'profile-form__pseudo-button_error' : ''\n              }`}\n              color={`${errors?.image ? 'error' : 'lightGray'}`}\n              isSpan\n            />\n            <Caption\n              title={errors?.image || uploadCaptionText}\n              sectionClass={`profile-form__caption ${\n                errors?.image ? 'profile-form__caption_error' : ''\n              }`}\n            />\n          </label>\n        </div>\n      </Card>\n\n      <Card sectionClass=\"profile-form__text-container\">\n        <div className=\"profile-form__texts\">\n          <Input\n            id=\"profileInputPlace\"\n            type=\"text\"\n            name=\"place\"\n            placeholder={placePlaceholder}\n            onChange={handleChange}\n            value={values.place}\n            required\n            minLength={validationSettings.place.minLength}\n            maxLength={validationSettings.place.maxLength}\n            error={errors?.place}\n          />\n\n          <Input\n            id=\"profileInputDate\"\n            type=\"text\"\n            name=\"date\"\n            placeholder={datePlaceholder}\n            onFocus={handleFocusDataInput}\n            onChange={handleChange}\n            value={values.date}\n            required\n            error={errors?.date}\n          />\n\n          <Input\n            id=\"profileInputTextarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={descrPlaceholder}\n            sectionClass=\"profile-form__input-wrap profile-form__input-wrap_textarea\"\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength={validationSettings.description.maxLength}\n            error={errors?.description}\n            isTextarea\n          />\n\n          <div className=\"profile-form__submit-zone\">\n            <span className=\"form-error-message\">{errorsString}</span>\n            <div className=\"profile-form__ratings-buttons\">\n              <div className=\"profile-form__ratings\">\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"good\"\n                  onChange={handleChange}\n                  value=\"good\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'good'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"neutral\"\n                  onChange={handleChange}\n                  value=\"neutral\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'neutral'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"bad\"\n                  onChange={handleChange}\n                  value=\"bad\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'bad'}\n                />\n                <Caption\n                  title={caption}\n                  sectionClass={`profile-form__ratings-text profile-form__ratings-text_type_${values.mark}`}\n                />\n              </div>\n              <div className=\"profile-form__buttons\">\n                <Button\n                  title={`${isEditMode ? buttonCancelText : buttonDeleteText}`}\n                  color=\"gray-borderless\"\n                  sectionClass=\"profile-form__button_el_delete\"\n                  onClick={handleCloseForm}\n                />\n                <Button\n                  title={`${isEditMode ? buttonSaveText : buttonAddText}`}\n                  sectionClass=\"profile-form__button_el_add\"\n                  isDisabled={!isValid}\n                  isSubmittable\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card>\n    </form>\n  );\n}\n\nProfileForm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  isEditMode: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nProfileForm.defaultProps = {\n  data: {},\n  sectionClass: '',\n  onClose: () => {},\n  isOpen: false,\n  isEditMode: false,\n  onSubmit: () => {},\n};\n\nexport default ProfileForm;\n","const texts = {\n  buttonShareText: 'Поделиться с куратором',\n  buttonTextShared: 'Открыто куратору',\n  buttonEditText: 'Редактировать',\n  buttonDeleteText: 'Удалить',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/icon-logo-no-text.ebdb8e22.svg\";","import PropTypes from 'prop-types';\nimport { Caption, ModificatedScrollbars } from '../../utils';\n\nfunction CardAnnotationContainer({ caption, children }) {\n  const classNamesDesc = [\n    'card-annotation__desc',\n    caption ? '' : 'card-annotation__desc_center',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n      {caption && (\n        <Caption sectionClass=\"card-annotation__caption\" title={caption} />\n      )}\n\n      <div className={classNamesDesc}>{children}</div>\n    </ModificatedScrollbars>\n  );\n}\n\nCardAnnotationContainer.propTypes = {\n  caption: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCardAnnotationContainer.defaultProps = {\n  caption: null,\n  children: null,\n};\n\nexport default CardAnnotationContainer;\n","import { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport defaultImage from '../../assets/icon-logo-no-text.svg';\nimport CardAnnotationContainer from '../Cards/CardAnnotation/CardAnnotationContainer';\nimport { Button, Caption, Card, Rating, TitleH2 } from '../utils';\nimport './ProfileDiary.scss';\n\nfunction ProfileDiary({ data, onEdit, onDelete, onShare, sectionClass }) {\n  const { image, place, description, mark, date, sentToCurator } = data;\n\n  const eventDay = formatDate(date);\n  const [caption, setCaption] = useState('');\n\n  useEffect(() => {\n    setCaption(captions[mark]);\n  }, [mark]);\n\n  const handleEditButtonClick = () => {\n    onEdit(data);\n  };\n\n  const handleDeleteButtonClick = () => {\n    onDelete(data);\n  };\n\n  const handleShareButtonClick = () => {\n    if (!sentToCurator) {\n      onShare(data?.id);\n    }\n  };\n\n  return (\n    <div className={`card-container profile-diary ${sectionClass}`}>\n      <Card sectionClass=\"profile-diary__image-container\">\n        <img\n          className={\n            image ? 'profile-diary__image' : 'profile-diary__image_default'\n          }\n          src={image ? `${staticImageUrl}/${image}` : defaultImage}\n          alt={place}\n        />\n      </Card>\n      <Card sectionClass=\"profile-diary__date-container\">\n        <div className=\"profile-diary__text-wrap\">\n          <TitleH2 sectionClass=\"profile-diary__card-title\" title={place} />\n          <div className=\"profile-diary__card-text\">\n            <CardAnnotationContainer>\n              <p className=\"profile-diary__paragraph\">{description}</p>\n            </CardAnnotationContainer>\n          </div>\n        </div>\n        <div className=\"profile-diary__card-date\">\n          <p className=\"profile-diary__weekday\">{`${eventDay.monthName}, ${eventDay.year}`}</p>\n          <p className=\"profile-diary__day\">{eventDay.day}</p>\n        </div>\n        <div className=\"profile-diary__actions\">\n          <div className=\"profile-diary__rating\">\n            <Rating\n              type=\"radio\"\n              ratingType={mark}\n              value={mark}\n              checked\n              sectionClass=\"profile-diary__rate\"\n            />\n            <Caption\n              title={caption}\n              sectionClass={`profile-diary__ratings-text profile-diary__ratings-text_type_${\n                mark || 'neutral'\n              }`}\n            />\n          </div>\n          <div className=\"profile-diary__action-elements\">\n            <Button\n              title={\n                sentToCurator ? texts.buttonTextShared : texts.buttonShareText\n              }\n              color=\"gray-borderless\"\n              sectionClass={`profile-diary__button ${\n                sentToCurator ? 'profile-diary__button_shared' : ''\n              }`}\n              onClick={handleShareButtonClick}\n            />\n            <Button\n              title={texts.buttonEditText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleEditButtonClick}\n            />\n            <Button\n              title={texts.buttonDeleteText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleDeleteButtonClick}\n            />\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nProfileDiary.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func,\n  onShare: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileDiary.defaultProps = {\n  data: {},\n  onEdit: () => {},\n  onDelete: () => {},\n  onShare: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileDiary;\n","const texts = {\n  title: 'Удалить встречу в',\n  submitButtonText: 'Удалить',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","const texts = {\n  closeButtonLabel: 'Закрыть попап',\n};\n\nexport default texts;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport './Popup.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Popup({\n  children,\n  type,\n  typeContainer,\n  isOpen,\n  onClose,\n  withoutCloseButton,\n  sectionClass,\n}) {\n  const closeAllPopupsOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div\n      className={`popup popup_type_${type} ${isOpen ? 'popup_opened' : ''} `}\n      onClick={closeAllPopupsOnOverlay}\n    >\n      <div\n        className={`popup__container popup__container_type_${typeContainer} ${sectionClass}`}\n      >\n        {!withoutCloseButton && (\n          <button\n            className={`popup__close popup__close_type_${typeContainer}`}\n            type=\"button\"\n            aria-label={texts.closeButtonLabel}\n            onClick={onClose}\n          />\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  typeContainer: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  withoutCloseButton: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nPopup.defaultProps = {\n  children: null,\n  type: '',\n  typeContainer: '',\n  isOpen: false,\n  onClose: () => {},\n  sectionClass: '',\n  withoutCloseButton: false,\n};\n\nexport default Popup;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupDeleteDiary.scss';\n\nfunction PopupDeleteDiary({ isOpen, onClose, onCardDelete, cardData }) {\n  const { place, date } = cardData;\n  const day = formatDate(date);\n  const month = formatMonthsGenitiveCase(day?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onCardDelete(cardData);\n  };\n\n  return (\n    <Popup\n      type=\"confirm-delete-diary\"\n      typeContainer=\"confirm-diary\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n      sectionClass=\"popup-diary\"\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <TitleH2\n          title={`${texts.title} ${place} ${parseInt(day.day, 10)} ${month} ${\n            day.year\n          }?`}\n          sectionClass=\"popup-diary__title\"\n        />\n        <div className=\"popup-diary__buttons\">\n          <Button\n            color=\"gray\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.submitButtonText}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupDeleteDiary.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onCardDelete: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupDeleteDiary.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onCardDelete: () => {},\n  cardData: {},\n};\n\nexport default PopupDeleteDiary;\n","const texts = {\n  title404: '404',\n  buttonText: 'Вернуться на главную',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animation404 from '../../assets/animation/Illustration_404.json';\nimport { TitleH2 } from '../utils';\nimport './AnimatedPageContainer.scss';\n\nfunction AnimatedPageContainer({\n  is404,\n  titleText,\n  buttonText,\n  staticPage,\n  urlBack,\n}) {\n  const animationContainer = useRef();\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation404,\n    });\n  }, []);\n\n  return (\n    <div className=\"animated-section\">\n      <div ref={animationContainer} className=\"animated-section__animation\" />\n      {is404 && <h1 className=\"page-not-found-title\">{texts.title404}</h1>}\n      <TitleH2 title={titleText} sectionClass=\"animated-section__subtitle\" />\n      <Link\n        className=\"button animated-section__link button_color_blue\"\n        to={staticPage ? `${urlBack}` : '/'}\n      >\n        {buttonText}\n      </Link>\n    </div>\n  );\n}\n\nAnimatedPageContainer.propTypes = {\n  is404: PropTypes.bool,\n  titleText: PropTypes.string,\n  buttonText: PropTypes.string,\n  staticPage: PropTypes.bool,\n  urlBack: PropTypes.string,\n};\n\nAnimatedPageContainer.defaultProps = {\n  is404: false,\n  titleText: '',\n  buttonText: texts.buttonText,\n  staticPage: false,\n  urlBack: '',\n};\n\nexport default AnimatedPageContainer;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport profilePageTexts from './locales/RU';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\nimport { useEventBooking } from '../../hooks';\nimport {\n  createDiary,\n  deleteDiary,\n  editDiary,\n  getProfileDiariesData,\n  shareDiary,\n} from '../../api/profile-page';\nimport {\n  getArchiveOfBookedEvents,\n  getBookedEvents,\n} from '../../api/event-participants';\nimport {\n  DELAY_RENDER,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  ButtonRound,\n  Loader,\n  Paginate,\n  PopupDeleteDiary,\n  ProfileDiary,\n  ProfileEventCard,\n  ProfileForm,\n  ScrollableContainer,\n  TitleH2,\n  UserMenuButton,\n} from './index';\nimport './Profile.scss';\n\nconst {\n  headTitle,\n  headDescription,\n  eventsTitle,\n  eventsTitleNoResults,\n  formTitle,\n  eventsArchiveButton,\n  eventsCurrentButton,\n  eventsTitleArchive,\n  eventsTitleNoResultsArchive,\n} = profilePageTexts;\n\nconst { unauthorized, badRequest } = ERROR_CODES;\n\nconst diariesPerPageCount = 10;\nconst eventsLimit = 10;\n\nfunction Profile() {\n  const { openPopupAboutEvent, openPopupError } = useContext(PopupsContext);\n  const { serverError, setError } = useContext(ErrorsContext);\n\n  const [events, setEvents] = useState([]);\n  const [archivedEvents, setArchivedEvents] = useState([]);\n  const [eventsOffset, setEventsOffset] = useState(0);\n\n  const [diaries, setDiaries] = useState(null);\n  const [isArchiveOpen, setIsArchiveOpen] = useState(false);\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [formDataToEdit, setFormDataToEdit] = useState(null);\n  const [isDeleteDiaryPopupOpen, setIsDeleteDiaryPopupOpen] = useState(false);\n\n  const [isLoadingEvents, setIsLoadingEvents] = useState(true);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const titleH1Current = events.length > 0 ? eventsTitle : eventsTitleNoResults;\n  const titleH1Archive =\n    archivedEvents.length > 0\n      ? eventsTitleArchive\n      : eventsTitleNoResultsArchive;\n\n  // пагинация\n  const [pageCount, setPageCount] = useState(0);\n  const [pageIndex, setPageIndex] = useState(0);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  const getArchiveOfEvents = ({ limit, offset }) => {\n    if (offset <= archivedEvents.length) {\n      getArchiveOfBookedEvents({ limit, offset })\n        .then((eventsData) => {\n          setArchivedEvents((prevEvents) => [...prevEvents, ...eventsData]);\n          setEventsOffset((prevOffset) => prevOffset + limit);\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.generalErrorMessage);\n          openPopupError();\n        })\n        .finally(() => setIsLoadingEvents(false));\n    }\n  };\n\n  const getCurrentBookedEvents = ({ limit, offset }) => {\n    if (offset <= events.length) {\n      getBookedEvents({ limit, offset })\n        .then((eventsData) => {\n          const updatedEvents = eventsData.map(({ event }) => {\n            const updatedEvent = event;\n            updatedEvent.booked = true;\n            return updatedEvent;\n          });\n          setEvents((prevEvents) => [...prevEvents, ...updatedEvents]);\n          setEventsOffset((prevOffset) => prevOffset + limit);\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.generalErrorMessage);\n          openPopupError();\n        })\n        .finally(() => setIsLoadingEvents(false));\n    }\n  };\n\n  const getDiaries = () => {\n    const offset = diariesPerPageCount * pageIndex;\n\n    getProfileDiariesData({ limit: diariesPerPageCount, offset })\n      .then(({ results, count }) => {\n        setDiaries(results);\n        setPageCount(Math.ceil(count / diariesPerPageCount));\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsLoadingPaginate(false));\n  };\n\n  useEffect(() => {\n    getCurrentBookedEvents({ limit: eventsLimit, offset: eventsOffset });\n  }, []);\n\n  useEffect(() => {\n    setIsLoadingPaginate(true);\n    getDiaries();\n  }, [pageIndex]);\n\n  // отписка от ивентов\n  const { selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setEvents((prevEvents) =>\n        prevEvents.filter((event) =>\n          event?.id === selectedEvent?.id ? null : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // работа с карточками мероприятий календаря\n  const openEventCard = () => {\n    if (isArchiveOpen) {\n      // без записи на ивент\n      openPopupAboutEvent(true);\n    } else openPopupAboutEvent();\n  };\n\n  const openArchiveOfEvents = () => {\n    setEvents([]);\n    setEventsOffset(0);\n    setIsArchiveOpen(true);\n    setIsLoadingEvents(true);\n    getArchiveOfEvents({ limit: eventsLimit, offset: 0 });\n  };\n\n  const openCurrentEvents = () => {\n    setArchivedEvents([]);\n    setEventsOffset(0);\n    setIsArchiveOpen(false);\n    setIsLoadingEvents(true);\n    getCurrentBookedEvents({ limit: eventsLimit, offset: 0 });\n  };\n\n  // работа с формой\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const openForm = (data) => {\n    if (!data) setIsEditMode(false);\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    setIsEditMode(false);\n    setFormDataToEdit(null);\n  };\n\n  const handleEditMode = (data) => {\n    setIsFormOpen(false);\n    //! небольшая задержка перед ререндером\n    setTimeout(() => {\n      setIsEditMode(true);\n      setFormDataToEdit(data);\n      openForm(data);\n    }, DELAY_RENDER);\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data) {\n      if (data.id) formData.append('id', data.id);\n      if (data.image) formData.append('image', data.image);\n      formData.append('date', data.date);\n      formData.append('place', data.place);\n      formData.append('description', data.description);\n      formData.append('mark', data.mark);\n    }\n    return formData;\n  };\n\n  const handleErrorOnFormSubmit = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized) {\n      setError(err?.data);\n    } else openPopupError();\n  };\n\n  const handleCreateDiary = (data) => {\n    createDiary(createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) => [newDiary, ...prevDiaries]);\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleEditDiary = (data) => {\n    editDiary(data?.id, createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleSubmitDiary = (data) => {\n    if (isEditMode) handleEditDiary(data);\n    else handleCreateDiary(data);\n  };\n\n  // удаление дневника\n  const [selectedDiary, setSelectedDiary] = useState({});\n\n  const openDeleteDiaryPopup = (diary) => {\n    setIsDeleteDiaryPopupOpen(true);\n    setSelectedDiary(diary);\n  };\n\n  const closeDeleteDiaryPopup = () => {\n    setIsDeleteDiaryPopupOpen(false);\n  };\n\n  const handleDeleteDiary = (diary) => {\n    deleteDiary(diary?.id, diary)\n      .then(() => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.filter((prevDiary) =>\n            prevDiary?.id === diary?.id ? null : prevDiary\n          )\n        );\n        closeDeleteDiaryPopup();\n      })\n      .catch(() => {\n        setError(ERROR_MESSAGES.generalErrorMessage);\n        openPopupError();\n      });\n  };\n\n  const handleShareDiary = (diaryId) => {\n    shareDiary(diaryId)\n      .then(() => {\n        const newDiary = diaries.find((diary) => diary?.id === diaryId);\n        newDiary.sentToCurator = true;\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n      })\n      .catch(() => {\n        setError(ERROR_MESSAGES.generalErrorMessage);\n        openPopupError();\n      });\n  };\n\n  if (!events.length && !diaries) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        <section className=\"profile fade-in\">{renderPageContent()}</section>\n      </BasePage>\n      <PopupDeleteDiary\n        isOpen={isDeleteDiaryPopupOpen}\n        cardData={selectedDiary}\n        onClose={closeDeleteDiaryPopup}\n        onCardDelete={handleDeleteDiary}\n      />\n    </>\n  );\n\n  // функции рендера\n  function renderEventCards() {\n    const renderingEvents = isArchiveOpen ? archivedEvents : events;\n    if (renderingEvents.length > 0) {\n      return (\n        <>\n          {renderingEvents.map((item) => (\n            <ProfileEventCard\n              key={item?.id}\n              data={item}\n              onOpen={openEventCard}\n              sectionClass=\"scrollable-container__child slide-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderAddDiaryButton() {\n    if (!isFormOpen && diaries && diaries.length > 0) {\n      return (\n        <button\n          className=\"profile__button-add-diary fade-in\"\n          type=\"button\"\n          onClick={openForm}\n        >\n          <ButtonRound color=\"blue\" isSmall isSpan />\n        </button>\n      );\n    }\n    return null;\n  }\n\n  function renderDiaryForm() {\n    if (isFormOpen || (diaries && diaries.length === 0)) {\n      return (\n        <div className=\"profile__form-container\">\n          {!isEditMode && (\n            <TitleH2 sectionClass=\"profile__title fade-in\" title={formTitle} />\n          )}\n          <ProfileForm\n            sectionClass=\"profile__diary-form scale-in\"\n            isEditMode={isEditMode}\n            isOpen={isFormOpen}\n            data={formDataToEdit}\n            onClose={closeForm}\n            onSubmit={handleSubmitDiary}\n          />\n        </div>\n      );\n    }\n    return null;\n  }\n\n  function renderDiaries() {\n    if (isLoadingPaginate) return <Loader isPaginate />;\n    if (diaries && diaries.length > 0) {\n      return (\n        <>\n          {diaries.map((diary) => (\n            <ProfileDiary\n              key={diary?.id}\n              data={diary}\n              onEdit={handleEditMode}\n              onDelete={openDeleteDiaryPopup}\n              onShare={handleShareDiary}\n              sectionClass=\"scale-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <div className=\"profile__events-area page__section\">\n          {!isLoadingEvents ? (\n            <>\n              <div className=\"profile__events-heading\">\n                <UserMenuButton\n                  sectionClass=\"profile__archive-button\"\n                  title={\n                    isArchiveOpen ? eventsCurrentButton : eventsArchiveButton\n                  }\n                  handleClick={\n                    isArchiveOpen ? openCurrentEvents : openArchiveOfEvents\n                  }\n                />\n                <TitleH2\n                  sectionClass=\"profile__title profile__title_shifted\"\n                  title={isArchiveOpen ? titleH1Archive : titleH1Current}\n                />\n              </div>\n              <ScrollableContainer\n                sectionClass=\"profile__events\"\n                step={3}\n                onScrollCallback={() => {\n                  if (!serverError) {\n                    if (isArchiveOpen) {\n                      getArchiveOfEvents({\n                        limit: eventsLimit,\n                        offset: eventsOffset,\n                      });\n                    } else {\n                      getCurrentBookedEvents({\n                        limit: eventsLimit,\n                        offset: eventsOffset,\n                      });\n                    }\n                  }\n                }}\n              >\n                {renderEventCards()}\n              </ScrollableContainer>\n            </>\n          ) : (\n            <Loader isSmallGrid />\n          )}\n        </div>\n\n        <div className=\"profile__diaries page__section\">\n          <span className=\"profile__scroll-anchor\" ref={scrollAnchorRef} />\n          <div className=\"profile__diaries-container\">\n            {renderAddDiaryButton()}\n\n            {renderDiaryForm()}\n\n            {renderDiaries()}\n\n            {pageCount > 1 && (\n              <Paginate\n                sectionClass=\"cards-section__pagination\"\n                pageCount={pageCount}\n                value={pageIndex}\n                onChange={setPageIndex}\n              />\n            )}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Profile;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getProfileDiariesData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// создать дневник\nfunction createDiary(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// редактировать дневник\nfunction editDiary(diaryId, data) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// удалить дневник\nfunction deleteDiary(diaryId, data) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// открыть дневник куратору\nfunction shareDiary(diaryId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/send/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n  shareDiary,\n};\n","import { AFISHA_TITLE, MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst calendarPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${AFISHA_TITLE}`,\n  headDescription: 'Календарь событий и мероприятий для наставников.',\n  title: AFISHA_TITLE,\n  textStubNoData: 'Мы работаем над планом мероприятий на ближайшие месяцы.',\n};\n\nexport default calendarPageTexts;\n","/* eslint-disable no-param-reassign */\nexport const handleCheckboxBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const handleRadioBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const selectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = true;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectAllTags = (setState) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      filterItem.isActive = false;\n      return filterItem;\n    })\n  );\n};\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n  eventCanceled: 'Извините, мы отменили это мероприятие',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  changeCaseOfFirstLetter,\n  formatDate,\n  formatPhoneNumber,\n  formatWordCase,\n} from '../../../utils/utils';\nimport { Button, ButtonDots } from '../../utils';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport './CardCalendar.scss';\n\nfunction CardCalendar({\n  cardData,\n  onEventSignUpClick,\n  onEventDescriptionClick,\n  sectionClass,\n}) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n    eventCanceled,\n  } = texts;\n\n  const {\n    booked,\n    tags,\n    title,\n    startAt,\n    endAt,\n    address,\n    contact,\n    remainSeats,\n    phoneNumber,\n    canceled,\n  } = cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n\n  // будет ли заблокирована кнопка\n  const isDisabled = (remainSeats < 1 && !booked) || canceled;\n\n  function changeStateOfEvent() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventSignUpClick(cardData);\n  }\n\n  function prepareDataForAboutEventPopup() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventDescriptionClick();\n  }\n\n  const classNames = [\n    'calendar',\n    booked ? 'calendar_selected' : '',\n    canceled ? 'calendar_canceled' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <article className={classNames}>\n      <div className=\"calendar__caption\">\n        <div className=\"calendar__info\">\n          <p\n            className={`calendar__type ${\n              canceled ? 'calendar__type_canceled' : ''\n            }`}\n          >\n            {changeCaseOfFirstLetter(tags?.name)}\n          </p>\n          <p\n            className={`calendar__weekday ${\n              canceled ? 'calendar__weekday_canceled' : ''\n            }`}\n          >\n            {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n          </p>\n        </div>\n        <div className=\"calendar__about\">\n          <h2\n            className={`section-title calendar__title ${\n              canceled ? 'calendar__title_canceled' : ''\n            }`}\n          >\n            {title}\n          </h2>\n          <p\n            className={`calendar__date ${\n              canceled ? 'calendar__date_canceled' : ''\n            }`}\n          >\n            {startDateParts.day}\n          </p>\n        </div>\n      </div>\n      <div className=\"calendar__meetup\">\n        <ul className=\"calendar__info-list\">\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__time ${\n                canceled ? 'calendar__time_canceled' : ''\n              }`}\n            >\n              {`${startDateParts.hour}:${startDateParts.minutes}–${endDayParts.hour}:${endDayParts.minutes}`}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__place ${\n                canceled ? 'calendar__place_canceled' : ''\n              }`}\n            >\n              {address}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__contact ${\n                canceled ? 'calendar__contact_canceled' : ''\n              }`}\n            >\n              {`${contact}, `}\n              {renderPhone()}\n            </p>\n          </li>\n        </ul>\n        <div className=\"calendar__submit\">{renderSubmitZone()}</div>\n      </div>\n    </article>\n  );\n\n  function renderPhone() {\n    return (\n      <a\n        className={`calendar__phone ${\n          canceled ? 'calendar__phone_canceled' : ''\n        }`}\n        href={`tel:${phoneNumber}`}\n      >\n        {formatPhoneNumber(phoneNumber)}\n      </a>\n    );\n  }\n\n  function renderSubmitZone() {\n    if (canceled)\n      return <p className=\"calendar__text-canceled\">{eventCanceled}</p>;\n\n    return (\n      <>\n        <Button\n          title={buttonTitle}\n          titleSelected={buttonTitleSelected}\n          color=\"blue\"\n          isDisabled={isDisabled}\n          onClick={changeStateOfEvent}\n          isBooked={booked}\n        />\n        <p className=\"calendar__place-left\">\n          {/* если запись закрыта, то карточка не должна быть выделенной */}\n          {(isDisabled && buttonTitleDisabled) ||\n            (!booked &&\n              `${remainSeatsText} ${remainSeats} ${formatWordCase(\n                remainSeats\n              )}`)}\n        </p>\n        <ButtonDots handleClick={prepareDataForAboutEventPopup} />\n      </>\n    );\n  }\n}\n\nCardCalendar.propTypes = {\n  cardData: PropTypes.objectOf(PropTypes.any),\n  onEventSignUpClick: PropTypes.func,\n  onEventDescriptionClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nCardCalendar.defaultProps = {\n  cardData: {},\n  onEventSignUpClick: () => {},\n  onEventDescriptionClick: () => {},\n  sectionClass: '',\n};\n\nexport default CardCalendar;\n","import PropTypes from 'prop-types';\nimport { PseudoButtonTag } from '../utils';\nimport './TagsList.scss';\n\nconst centeringFiltersMaxLength = 3;\n\nfunction TagsList({ filterList, name, handleClick, sectionClass }) {\n  const classNames = ['tags', sectionClass].join(' ').trim();\n  const classNamesList = [\n    'tags__list',\n    filterList.length > centeringFiltersMaxLength ? 'tags__list_mobile' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <ul className={classNamesList}>\n        {filterList.map((item) => (\n          <li className=\"tags__list-item\" key={item?.name}>\n            <PseudoButtonTag\n              name={name}\n              value={item?.filter}\n              title={item?.name}\n              isActive={item?.isActive}\n              onClick={handleClick}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nTagsList.propTypes = {\n  filterList: PropTypes.arrayOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  name: PropTypes.string,\n  handleClick: PropTypes.func,\n};\n\nTagsList.defaultProps = {\n  filterList: [],\n  sectionClass: '',\n  name: '',\n  handleClick: () => {},\n};\n\nexport default TagsList;\n","import { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport calendarPageTexts from './locales/RU';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts';\nimport { useDebounce, useEventBooking } from '../../hooks';\nimport {\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStAfishaEvent,\n  months,\n} from '../../config/constants';\nimport { handleRadioBehavior } from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  getActiveMonthTags,\n  getCalendarItem,\n  getCalendarPageData,\n} from '../../api/afisha-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardCalendar,\n  Loader,\n  Paginate,\n  TagsList,\n  TitleH1,\n} from './index';\nimport { setLocalStorageData } from '../../hooks/useLocalStorage';\nimport './Calendar.scss';\n\nconst { headTitle, headDescription, title, textStubNoData } = calendarPageTexts;\n\nconst INITIAL_PAGE_INDEX = 0;\nexport const PAGE_SIZE_PAGINATE = {\n  small: 6,\n  medium: 8,\n  big: 12,\n};\n\nconst maxScreenWidth = {\n  small: 1024,\n  medium: 1440,\n};\n\nfunction Calendar() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupLogin, openPopupAboutEvent, openPopupError } =\n    useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { state } = useLocation();\n\n  // переход между фильтрами/страницами пагинации, лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // переход между городами, лоадер\n  const [isGlobalLoader, setIsGlobalLoader] = useState(false);\n  // лоадер для пагинации\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  // загрузка данных страницы календаря, если ты залогиненный\n  const [calendarPageData, setCalendarPageData] = useState(null);\n\n  // весь список доступных фильтров\n  // { isActive, name, filter }\n  const [filters, setFilters] = useState(null);\n\n  // флаг использования фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n  const [pageIndex, setPageIndex] = useState(INITIAL_PAGE_INDEX);\n  const [isFirstRender, setIsFirstRender] = useState(true);\n\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // определение размера страницы\n  useEffect(() => {\n    const small = window.matchMedia(`(max-width: ${maxScreenWidth.small}px)`);\n    const medium = window.matchMedia(`(max-width: ${maxScreenWidth.medium}px)`);\n\n    const listener = () => {\n      if (small.matches) {\n        // 320px-1024px по 6 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (medium.matches) {\n        // 1024px-1440px по 8 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        // больше 1440px по 12 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    small.addEventListener('change', listener);\n    medium.addEventListener('change', listener);\n\n    return () => {\n      small.removeEventListener('change', listener);\n      medium.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // нужно ли рисовать фильтры (если месяц всего 1 - не рисуем)\n  const areThereEventsMoreForOneMonth = calendarPageData?.length > 0;\n\n  function getActiveFilters() {\n    if (!filters) {\n      // обязательно возвращаем пустой массив\n      return [];\n    }\n\n    return filters.filter((filter) => filter.isActive);\n  }\n\n  // общая функция загрузки ивентов\n  function getPageData({ offset, activeFilters }) {\n    getCalendarPageData({\n      limit: pageSize,\n      offset,\n      months: activeFilters,\n    })\n      .then((events) => {\n        const { results, count } = events;\n        setTotalPages(Math.ceil(count / pageSize));\n        setCalendarPageData(results);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsGlobalLoader(false);\n        setIsLoadingPaginate(false);\n      });\n  }\n\n  // Открытие попапа при переходе из поиска\n  useEffect(() => {\n    if (state) {\n      getCalendarItem(state.id)\n        .then((res) => {\n          setLocalStorageData(localStAfishaEvent, res);\n          openPopupAboutEvent();\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [state]);\n\n  // загрузка страницы палендаря при старте либо показ попапа логина\n  useEffect(() => {\n    if (currentUser && pageSize) {\n      const offset = pageSize * pageIndex;\n      getPageData({ offset });\n      setIsFirstRender(false);\n    }\n\n    if (!currentUser) {\n      openPopupLogin();\n    }\n  }, [pageSize, currentUser]);\n\n  // загрузка фильтров страницы при старте или смене города юзера\n  useEffect(() => {\n    if (currentUser) {\n      setIsGlobalLoader(true);\n      getActiveMonthTags()\n        .then((monthsTags) => {\n          const customFilters = monthsTags.map((tag) => {\n            const filterName = changeCaseOfFirstLetter(months[tag - 1]); // бэк считает с 1, у нас массив с 0\n            return {\n              isActive: false,\n              name: filterName,\n              filter: tag,\n            };\n          });\n          setFilters(customFilters);\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [currentUser?.city]);\n\n  // хэндлер фильтр-кнопки\n  function handleFilterButtonClick(inputValue, isChecked) {\n    handleRadioBehavior(setFilters, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  }\n\n  // вспомогательная функция фильтрации\n  function handleFiltration() {\n    const activeMonths = getActiveFilters();\n\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n    // фильтров нет (грузим стартовую страницу)\n    if (activeMonths.length === 0) {\n      getPageData({ limit: pageSize, offset });\n    } else {\n      // фильтруемся по месяцу\n      const { filter } = activeMonths[0]; // задел под мультифильтры\n      getPageData({ limit: pageSize, offset, activeFilters: filter });\n    }\n  }\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  // эффект фильтрации\n  useEffect(() => {\n    if (isFiltersUsed) {\n      setIsLoading(true);\n      debounceFiltration();\n    }\n\n    // провели фильтрацию, флажок фильтров меняем\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  // эффект пагинации\n  const debouncePaginate = useDebounce(getPageData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (!isFirstRender) {\n      const activeMonths = getActiveFilters();\n      setIsLoadingPaginate(true);\n      // при нажатых фильтрах нажимаем пагинацию\n      if (activeMonths.length > 0) {\n        const offset = pageSize * pageIndex;\n        const { filter } = activeMonths[0]; // задел под мультифильтры\n        debouncePaginate({ offset, activeFilters: filter });\n      }\n\n      // просто нажимаем пагинацию + месяц не выбран\n      if (activeMonths.length === 0) {\n        const offset = pageSize * pageIndex;\n        debouncePaginate({ offset });\n      }\n    }\n  }, [pageIndex]);\n\n  // подписка/отписка от ивентов\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n  useEffect(() => {\n    if (selectedEvent) {\n      setCalendarPageData(() =>\n        calendarPageData.map((event) =>\n          event.id === selectedEvent.id ? selectedEvent : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // глобальный лоадер при первой загрузке пока ждем ивенты и фильтры\n  if ((!calendarPageData || !filters) && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"calendar-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n\n  // рендеринг\n  // отрисовка заглушки, если ивентов нет\n  function returnAnimatedContainer() {\n    return (\n      <>\n        {isGlobalLoader ? (\n          <Loader isPaginate />\n        ) : (\n          <AnimatedPageContainer titleText={textStubNoData} />\n        )}\n      </>\n    );\n  }\n\n  // отрисовка карточек ивентов\n  function renderEventCardsContainer() {\n    return calendarPageData.map((cardData) => (\n      <CardCalendar\n        key={cardData.id}\n        cardData={cardData}\n        onEventSignUpClick={handleEventBooking}\n        onEventDescriptionClick={openPopupAboutEvent}\n        sectionClass=\"scale-in\"\n      />\n    ));\n  }\n\n  // фильтры\n  function renderFilters() {\n    return (\n      <TagsList\n        filterList={filters}\n        name=\"month\"\n        handleClick={handleFilterButtonClick}\n      />\n    );\n  }\n\n  // блок пагинации\n  function renderPagination() {\n    return (\n      <Paginate\n        sectionClass=\"cards-section__pagination\"\n        pageCount={totalPages}\n        value={pageIndex}\n        onChange={setPageIndex}\n      />\n    );\n  }\n\n  // главная функция рендера\n  function renderPageContent() {\n    // ошибка загрузки данных\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n\n    // залогинен и есть ивенты\n    if (currentUser && areThereEventsMoreForOneMonth) {\n      return (\n        <>\n          {/* лоадер смены городов */}\n          {isGlobalLoader ? (\n            <Loader isPaginate />\n          ) : (\n            <>\n              <TitleH1 title={title} sectionClass=\"calendar-page__title\" />\n              <div className=\"calendar-page__container\">\n                {filters?.length > 1 && renderFilters()}\n\n                {/* лоадер смены фильтров */}\n                {isLoading ? (\n                  <Loader isPaginate />\n                ) : (\n                  <>\n                    {/* лоадер переключения пагинации */}\n                    {isLoadingPaginate ? (\n                      <Loader isPaginate />\n                    ) : (\n                      <div className=\"calendar-page__grid\">\n                        {renderEventCardsContainer()}\n                      </div>\n                    )}\n                    {totalPages > 1 && renderPagination()}\n                  </>\n                )}\n              </div>\n            </>\n          )}\n        </>\n      );\n    }\n\n    // залогинен и нет ивентов для города вообще\n    if (currentUser && !areThereEventsMoreForOneMonth && calendarPageData) {\n      return returnAnimatedContainer();\n    }\n\n    return null;\n  }\n}\n\nexport default Calendar;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить дату страницы\nfunction getCalendarPageData({ limit, offset, months }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/`, {\n      params: { limit, offset, months },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получить тегсы-месяцы (список фильтров)\nfunction getActiveMonthTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/months/`)\n    .then((response) => response.data.months)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного события\nfunction getCalendarItem(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getCalendarPageData, getActiveMonthTags, getCalendarItem };\n","import { MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst mainPageTexts = {\n  headTitle: MAIN_PAGE_TITLE,\n  headDescription:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  CardAnimatedPlugText: 'Пока тут ничего нет',\n};\n\nexport default mainPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные главной страницы\nfunction getMainPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/main/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getMainPageData;\n","import { bbbsLinks } from '../../../../utils/external-links';\n\nconst texts = {\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  link: bbbsLinks.about,\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, LogoBlue, TitleH2 } from '../../utils';\nimport './CardStub.scss';\n\nfunction CardStub({ sectionClass }) {\n  return (\n    <Card sectionClass={`stub ${sectionClass}`} color=\"green\">\n      <div className=\"stub__upper-element\">\n        <a\n          className=\"stub__logo\"\n          href={texts.link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n      </div>\n      <div className=\"stub__content\">\n        <TitleH2 sectionClass=\"stub__text\" title={texts.title} />\n      </div>\n    </Card>\n  );\n}\n\nCardStub.propTypes = {\n  sectionClass: PropTypes.string,\n};\n\nCardStub.defaultProps = {\n  sectionClass: '',\n};\n\nexport default CardStub;\n","const texts = {\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  chosenTagText: 'Выбор наставника',\n  linkText: 'перейти на сайт',\n  activityTypeDefault: 'Развлекательный',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { Card } from '../../utils';\nimport CardAnnotationContainer from './CardAnnotationContainer';\nimport './CardAnnotation.scss';\n\nfunction CardAnnotation({ info, description, isMain, sectionClass }) {\n  const classNames = [\n    'card-annotation',\n    isMain ? 'card-annotation_main' : '',\n    info && isMain ? '' : 'card-annotation_main_center',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Card sectionClass={classNames}>\n      <CardAnnotationContainer caption={info}>\n        <p className=\"paragraph card-annotation__paragraph\">{description}</p>\n      </CardAnnotationContainer>\n    </Card>\n  );\n}\n\nCardAnnotation.propTypes = {\n  info: PropTypes.string,\n  description: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardAnnotation.defaultProps = {\n  info: undefined,\n  description: undefined,\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardAnnotation;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { PLACES_TITLE } from '../../../config/routes';\nimport { Caption, Card, Rubric, TitleH2 } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport './CardPlace.scss';\n\nfunction CardPlace({\n  data: {\n    image,\n    title,\n    description,\n    link,\n    chosen,\n    address,\n    gender,\n    age,\n    activityType,\n  },\n  activityTypesSimplified,\n  color,\n  sectionClass,\n  isBig,\n  isMainPage,\n}) {\n  const {\n    genderMale,\n    genderFemale,\n    linkText,\n    chosenTagText,\n    activityTypeDefault,\n  } = texts;\n\n  const cardColor = isBig ? 'yellow' : color;\n  const cardSize = isBig ? 'card-place_main' : '';\n  const sexType = gender === 'male' ? genderMale : genderFemale;\n\n  const imageClassNames = [\n    'card-place__image',\n    'card-place__image_type_article',\n    link ? '' : 'card-place__image_big',\n  ]\n    .join(' ')\n    .trim();\n\n  const info = chosen\n    ? `${sexType}, ${age} лет, ${\n        activityTypesSimplified\n          ? activityTypesSimplified[activityType]\n          : activityTypeDefault\n      } отдых`\n    : '';\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass={`card-place ${cardSize}`} color={cardColor}>\n        {isMainPage && (\n          <Rubric title={PLACES_TITLE} sectionClass=\"card-place__rubric\" />\n        )}\n\n        {chosen && !isMainPage && (\n          <Rubric title={chosenTagText} sectionClass=\"card-place__rubric\" />\n        )}\n\n        <div className=\"card-place__title-wrap\">\n          <TitleH2 sectionClass=\"card-place__title\" title={title} />\n          <Caption sectionClass=\"card-place__address\" title={address} />\n        </div>\n\n        {renderImage()}\n\n        {link && (\n          <a\n            href={link}\n            className=\"link card-place__link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {linkText}\n          </a>\n        )}\n      </Card>\n\n      <CardAnnotation info={info} description={description} isMain={isBig} />\n    </article>\n  );\n\n  function renderImage() {\n    if ((chosen && isBig) || isMainPage) {\n      return (\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={title}\n          className={imageClassNames}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nCardPlace.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  chosen: PropTypes.bool,\n  title: PropTypes.string,\n  address: PropTypes.string,\n  image: PropTypes.string,\n  link: PropTypes.string,\n  description: PropTypes.string,\n  gender: PropTypes.string,\n  age: PropTypes.number,\n  activityType: PropTypes.number,\n  activityTypesSimplified: PropTypes.objectOf(PropTypes.any),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isBig: PropTypes.bool,\n  isMainPage: PropTypes.bool,\n};\n\nCardPlace.defaultProps = {\n  data: {},\n  chosen: false,\n  title: '',\n  address: '',\n  image: '',\n  link: '',\n  description: '',\n  gender: 'male',\n  age: 18,\n  activityType: 1,\n  activityTypesSimplified: {},\n  color: 'white',\n  isBig: false,\n  sectionClass: '',\n  isMainPage: false,\n};\n\nexport default CardPlace;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, TitleH3 } from '../../utils';\nimport './CardArticleBig.scss';\n\nfunction CardArticleBig({ title, color, articleUrl }) {\n  return (\n    <Card sectionClass=\"card-article\" color={color}>\n      <a\n        href={articleUrl}\n        className=\"card-article__link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <TitleH3 sectionClass=\"card-article__title\" title={title} />\n      </a>\n      <a\n        className=\"link card-article__link\"\n        href={articleUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.linkText}\n      </a>\n    </Card>\n  );\n}\n\nCardArticleBig.propTypes = {\n  color: PropTypes.string,\n  title: PropTypes.string,\n  articleUrl: PropTypes.string,\n};\n\nCardArticleBig.defaultProps = {\n  color: 'white',\n  title: '',\n  articleUrl: '#',\n};\n\nexport default CardArticleBig;\n","const texts = {\n  altText: 'Превью к видео:',\n  linkTextMovie: 'смотреть трейлер',\n  linkTextVideo: 'смотреть видео',\n};\n\nexport default texts;\n","import getYouTubeID from 'get-youtube-id';\n\nconst parserLinkYoutube = (link) => {\n  if (link) {\n    const idVideo = getYouTubeID(link);\n    const frameSrc = `https://www.youtube.com/embed/${idVideo}`;\n    const imagePreview = `http://img.youtube.com/vi/${idVideo}/maxresdefault.jpg`;\n\n    return { frameSrc, imagePreview };\n  }\n  return '';\n};\n\nexport default parserLinkYoutube;\n","import PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { PopupsContext } from '../../../contexts';\nimport { Caption, Card, Rubric, TitleH2 } from '../../utils';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport './CardFilm.scss';\n\nfunction CardFilm({\n  data: { image, title, info, link, tags, duration },\n  sectionClass,\n  isVideo,\n}) {\n  const { openPopupVideo } = useContext(PopupsContext);\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      image,\n      title,\n      info,\n      link,\n      tags,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  return (\n    <Card sectionClass={`card-film ${sectionClass}`}>\n      <div className=\"card-film__video\">\n        {renderVideoPlayback(renderPreview())}\n      </div>\n\n      <div className=\"card-film__video-info\">\n        <div className=\"card-film__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-film__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-film__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link &&\n          renderVideoPlayback(\n            isVideo ? texts.linkTextVideo : texts.linkTextMovie\n          )}\n      </div>\n    </Card>\n  );\n\n  // Рендерим верхную часть с фоткой\n  function renderPreview() {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          draggable=\"false\"\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.altText} ${title}`}\n          className=\"card-film__preview image-scale\"\n        />\n        {duration ? (\n          <span className=\"card-film__duration paragraph\">\n            {durationString}\n          </span>\n        ) : (\n          <ul className=\"card-film__rubric-list\">\n            {tags.map((tag) => (\n              <li key={tag.id}>\n                <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n\n  function renderVideoPlayback(childrenElem) {\n    return (\n      <button\n        className=\"link card-film__button\"\n        type=\"button\"\n        onClick={handleClick}\n        draggable=\"false\"\n      >\n        {childrenElem}\n      </button>\n    );\n  }\n}\n\nCardFilm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  sectionClass: PropTypes.string,\n  isVideo: PropTypes.bool,\n};\n\nCardFilm.defaultProps = {\n  data: {},\n  image: '',\n  title: '',\n  info: '',\n  link: '',\n  tags: [],\n  duration: '',\n  sectionClass: '',\n  isVideo: false,\n};\n\nexport default CardFilm;\n","const texts = {\n  linkText: 'смотреть видео',\n  imageAlt: 'Превью к видео',\n};\n\nexport default texts;\n","import { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext } from '../../../contexts';\nimport { Caption, Card, TitleH2 } from '../../utils';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport './CardVideoMain.scss';\n\nfunction CardVideoMain({ data: { title, info, link, image, duration } }) {\n  const { openPopupVideo } = useContext(PopupsContext);\n\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      title,\n      info,\n      link,\n      image,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  return (\n    <div className=\"card-container card-container_type_main-video\">\n      <Card sectionClass=\"card-video-main\" color=\"yellow\">\n        <div className=\"card-video-main__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-video-main__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-video-main__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && renderVideoPlayback(texts.linkText)}\n      </Card>\n\n      <Card sectionClass=\"card-video-main__video\">\n        {renderVideoPlayback(renderPreview())}\n      </Card>\n    </div>\n  );\n\n  // Рендерим верхную часть с фоткой и props.children из компонета выше\n  function renderPreview() {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.imageAlt}: ${title}`}\n          className=\"card-video-main__image image-scale\"\n        />\n\n        <span className=\"card-video-main__duration paragraph\">\n          {durationString}\n        </span>\n      </>\n    );\n  }\n\n  function renderVideoPlayback(childrenElem) {\n    return (\n      <button\n        className=\"link card-video-main__button\"\n        type=\"button\"\n        onClick={handleClick}\n      >\n        {childrenElem}\n      </button>\n    );\n  }\n}\n\nCardVideoMain.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n};\n\nCardVideoMain.defaultProps = {\n  data: {},\n};\n\nexport default CardVideoMain;\n","const texts = {\n  labelText: 'Показать ответ',\n};\n\nexport default texts;\n","import { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { QUESTIONS_URL } from '../../../config/routes';\nimport { ButtonRound, Card, Rubric, TitleH2 } from '../../utils';\nimport './CardQuestion.scss';\n\nconst animationTransition = 300;\n\nfunction CardQuestion({\n  data: { title, tags, answer },\n  sectionClass,\n  href,\n  isQuestionsPage,\n  isOpenByDefault,\n}) {\n  const [isOpened, setIsOpened] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const ref = useRef();\n\n  const handleClickButton = () => {\n    if (isQuestionsPage) {\n      if (isOpened) {\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsOpened(false);\n        }, animationTransition);\n      } else {\n        setIsOpened(true);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, animationTransition);\n      }\n    }\n  };\n\n  const getDynamicStyle = () => {\n    if (ref && ref.current && isOpened) {\n      return {\n        minHeight: ref.current.clientHeight,\n      };\n    }\n\n    if (isOpenByDefault && isAnimated) return { height: 'auto' };\n\n    return { height: 0 };\n  };\n\n  const tagsClassNames = [\n    'card-question__tags',\n    isQuestionsPage ? 'card-question__tags_questions-page' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const answerWrapperClassNames = [\n    'card-question__answer',\n    isOpened ? 'card-question__answer_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  useEffect(() => {\n    if (ref && ref.current && isOpenByDefault) {\n      setIsOpened(true);\n      setIsAnimated(true);\n    }\n  }, [ref.current]);\n\n  return (\n    <Card sectionClass={`card-question ${sectionClass}`}>\n      <div className=\"card-question__wrap\">\n        {isQuestionsPage && (\n          <ButtonRound\n            label={texts.labelText}\n            sectionClass=\"button-round__questions-page clickable\"\n            color=\"lightblue\"\n            onClick={handleClickButton}\n            isClick={isOpened}\n          />\n        )}\n\n        {renderTitleWrap(\n          <TitleH2\n            sectionClass=\"card-question__title clickable\"\n            title={title}\n          />\n        )}\n\n        <ul className={tagsClassNames}>\n          {tags?.map((tag) => (\n            <li className=\"card-question__tag\" key={tag?.id}>\n              <Rubric title={tag?.name} sectionClass=\"card-question__rubric\" />\n            </li>\n          ))}\n        </ul>\n      </div>\n      {isQuestionsPage && (\n        <div className={answerWrapperClassNames} style={getDynamicStyle()}>\n          <p\n            ref={ref}\n            className={`paragraph card-question__paragraph card-question__answer_text-hidden ${\n              isAnimated ? 'card-question__answer_text-active' : ''\n            }`}\n          >\n            {answer}\n          </p>\n        </div>\n      )}\n    </Card>\n  );\n\n  function renderTitleWrap(childElement) {\n    if (isQuestionsPage)\n      return (\n        <div\n          className=\"card-question__title-wrap\"\n          onClick={handleClickButton}\n          onKeyPress={handleClickButton}\n          role=\"button\"\n          tabIndex=\"0\"\n          aria-label={texts.labelText}\n        >\n          {childElement}\n        </div>\n      );\n\n    return (\n      <Link\n        to={href}\n        className=\"card-question__title-wrap\"\n        onClick={handleClickButton}\n      >\n        {childElement}\n      </Link>\n    );\n  }\n}\n\nCardQuestion.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n  answer: PropTypes.string,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  isQuestionsPage: PropTypes.bool,\n  isOpenByDefault: PropTypes.bool,\n};\n\nCardQuestion.defaultProps = {\n  data: {},\n  title: '',\n  tags: [],\n  sectionClass: '',\n  answer: '',\n  href: QUESTIONS_URL,\n  isQuestionsPage: false,\n  isOpenByDefault: false,\n};\n\nexport default CardQuestion;\n","import { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animation from '../../../assets/animation/ill_popup_recommend-success.json';\nimport { Card } from '../../utils';\nimport './CardAnimatedPlug.scss';\n\nfunction CardAnimatedPlug({ text, sectionClass }) {\n  const animationContainer = useRef(null);\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation,\n    });\n  }, []);\n\n  return (\n    <Card sectionClass={sectionClass}>\n      <div className=\"card-animatedbox\">\n        <div className=\"card-animatedbox__animation\" ref={animationContainer} />\n        <p className=\"paragraph card-animatedbox__text\">{text}</p>\n      </div>\n    </Card>\n  );\n}\n\nCardAnimatedPlug.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardAnimatedPlug.defaultProps = {\n  text: '',\n  sectionClass: '',\n};\n\nexport default CardAnimatedPlug;\n","import { Link } from 'react-router-dom';\nimport { useContext, useEffect, useState } from 'react';\nimport mainPageTexts from './locales/RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts';\nimport { useActivityTypes, useEventBooking } from '../../hooks';\nimport { QUESTIONS_URL, STORIES_URL } from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\nimport { ERROR_MESSAGES } from '../../config/constants';\nimport { randomizeArray } from '../../utils/utils';\nimport getMainPageData from '../../api/main-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Card,\n  CardAnimatedPlug,\n  CardArticleBig,\n  CardCalendar,\n  CardFilm,\n  CardPlace,\n  CardQuestion,\n  CardStub,\n  CardVideoMain,\n  Loader,\n  Widget,\n} from './index';\nimport './MainPage.scss';\n\n// количество отображаемых карточек с фильмами и вопросами\nconst MOVIES_COUNT = 4;\nconst QUESTIONS_COUNT = 3;\n\nconst { headTitle, headDescription, CardAnimatedPlugText } = mainPageTexts;\n\nfunction MainPage() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupAboutEvent } = useContext(PopupsContext);\n\n  const [mainPageData, setMainPageData] = useState(null);\n  const [randomQuestions, setRandomQuestions] = useState([]);\n  const [randomMovies, setRandomMovies] = useState([]);\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n  const [isPageLoading, setIsPageLoading] = useState(true);\n  const { activityTypesSimplified } = useActivityTypes();\n\n  // запись/отписка на мероприятия\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setMainPageData((prevData) => ({ ...prevData, event: selectedEvent }));\n    }\n  }, [selectedEvent]);\n\n  // запрос даты главной страницы при загрузке и при смене города\n  const getMainPageDataOnLoad = () => {\n    getMainPageData()\n      .then((data) => setMainPageData(data))\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsCityChanging(false));\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      setIsCityChanging(true);\n    }\n    getMainPageDataOnLoad();\n  }, [currentUser?.city]);\n\n  // рандомизируем вопросы и фильмы 1 раз при загрузке страницы\n  useEffect(() => {\n    if (mainPageData && isPageLoading) {\n      setRandomQuestions(\n        randomizeArray(mainPageData.questions, QUESTIONS_COUNT)\n      );\n      setRandomMovies(randomizeArray(mainPageData.movies, MOVIES_COUNT));\n      setIsPageLoading(false);\n    }\n  }, [mainPageData]);\n\n  // глобальный лоадер (без футера)\n  if (!mainPageData && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      ) : (\n        renderPageContent()\n      )}\n    </BasePage>\n  );\n\n  function renderEventsBlock() {\n    // карточка ивента\n    if (currentUser && mainPageData?.event) {\n      return (\n        <CardCalendar\n          sectionClass=\"scale-in\"\n          key={mainPageData.event?.id}\n          cardData={mainPageData.event}\n          onEventSignUpClick={handleEventBooking}\n          onEventDescriptionClick={openPopupAboutEvent}\n        />\n      );\n    }\n\n    // красно-зеленая заглушка\n    return <CardStub sectionClass=\"scale-in\" />;\n  }\n\n  function renderHistoryBlock() {\n    if (mainPageData?.history) {\n      return (\n        <Card\n          sectionClass=\"lead__media scale-in\"\n          key={mainPageData?.history?.id}\n        >\n          <Link\n            to={`${STORIES_URL}/${mainPageData?.history?.id}`}\n            className=\"lead__link\"\n          >\n            {mainPageData?.history?.title}\n          </Link>\n          <img\n            src={`${staticImageUrl}/${mainPageData?.history?.image}`}\n            alt={mainPageData.history.title}\n            className=\"lead__media-img\"\n          />\n        </Card>\n      );\n    }\n\n    return (\n      <CardAnimatedPlug\n        text={CardAnimatedPlugText}\n        sectionClass=\"lead__media scale-in\"\n      />\n    );\n  }\n\n  function renderPlaceSection() {\n    return (\n      <section className=\"place main-section page__section\">\n        <CardPlace\n          key={mainPageData?.place?.id}\n          data={mainPageData?.place}\n          sectionClass=\"card-container_type_main-article scale-in\"\n          activityTypesSimplified={activityTypesSimplified}\n          isBig\n          isMainPage\n        />\n      </section>\n    );\n  }\n\n  function renderArticleSection(article, color) {\n    return (\n      <section className=\"articles main-section page__section scale-in\">\n        <CardArticleBig\n          key={article?.id}\n          title={article?.title}\n          color={color}\n          articleUrl={article?.articleUrl}\n        />\n      </section>\n    );\n  }\n\n  function renderMoviesSection() {\n    const additionalMoviesClasses =\n      randomMovies.length > 1\n        ? `movies_pagination movies_pagination_${randomMovies.length} scale-in`\n        : '';\n    // возвращаем\n    return (\n      <section className=\"movies main-section page__section cards-grid cards-grid_content_small-cards\">\n        {randomMovies.map((movie) => (\n          <CardFilm\n            data={movie}\n            key={movie.id}\n            sectionClass={additionalMoviesClasses}\n          />\n        ))}\n      </section>\n    );\n  }\n\n  function renderVideoSection() {\n    return (\n      <section className=\"video main-section page__section scale-in\">\n        <CardVideoMain\n          key={mainPageData?.video?.id}\n          data={mainPageData?.video}\n        />\n      </section>\n    );\n  }\n\n  function renderQuestionBlock() {\n    return (\n      <div className=\"main-questions__container\">\n        {randomQuestions.map((item) => (\n          <CardQuestion\n            key={item?.id}\n            data={item}\n            href={{\n              pathname: QUESTIONS_URL,\n              state: { fromMainPage: true, question: item },\n            }}\n            sectionClass={`main-section__question scale-in ${\n              randomQuestions.length > 2 ? ' main-questions_pagination' : ''\n            }`}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <>\n        <section className=\"lead page__section\">\n          <div className=\"card-container card-container_type_identical\">\n            {isCityChanging ? <Loader isNested /> : renderEventsBlock()}\n            {renderHistoryBlock()}\n          </div>\n        </section>\n\n        <section className=\"main-questions main-section page__section fade-in\">\n          <div className=\"card-container card-container_type_iframe\">\n            <Widget\n              title=\"Facebook\"\n              link=\"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=420&height=627&small_header=false&adapt_container_width=false&hide_cover=false&show_facepile=true&appId\"\n            />\n            {randomQuestions?.length > 0 && renderQuestionBlock()}\n          </div>\n        </section>\n\n        {mainPageData?.place && renderPlaceSection()}\n\n        {mainPageData?.articles?.length > 0 &&\n          renderArticleSection(mainPageData?.articles[0], 'blue')}\n\n        {randomMovies?.length > 0 && renderMoviesSection()}\n\n        {mainPageData?.video && renderVideoSection()}\n\n        {mainPageData?.articles?.length > 1 &&\n          renderArticleSection(mainPageData?.articles[1], 'green')}\n      </>\n    );\n  }\n}\n\nexport default MainPage;\n","import { NOT_FOUND_TITLE } from '../../../config/routes';\n\nconst page404Texts = {\n  headTitle: NOT_FOUND_TITLE,\n  headDescription: 'Запрашиваемая страница не найдена.',\n  animatedContainerText:\n    'К сожалению, запрашиваемая страница не найдена. Попробуйте перейти на главную страницу',\n};\n\nexport default page404Texts;\n","import page404Texts from './locales/RU';\nimport { AnimatedPageContainer, BasePage } from './index';\nimport './PageNotFound.scss';\n\nconst { headTitle, headDescription, animatedContainerText } = page404Texts;\n\nfunction PageNotFound() {\n  return (\n    <BasePage\n      headTitle={headTitle}\n      headDescription={headDescription}\n      isNoFooter\n      sectionClassMain=\"main__not-found\"\n    >\n      <AnimatedPageContainer titleText={animatedContainerText} is404 />\n    </BasePage>\n  );\n}\n\nexport default PageNotFound;\n","import { CATALOG_TITLE, MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst catalogPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${CATALOG_TITLE}`,\n  headDescription: 'Справочник полезных статей.',\n  title: CATALOG_TITLE,\n  subtitle: `Памятка новичка${'\\u00A0'}– наши материалы, где сможете найти всю базовую информацию, рассказанную на вводном тренинге. Если вы захотите освежить свои знания и${'\\u00A0'}напомнить себе о${'\\u00A0'}чем-то.`,\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default catalogPageTexts;\n","//! хардкод\n// eslint-disable-next-line consistent-return\nfunction renderThoseDamnedLines(dataLength, pageSize, isTablet) {\n  const renderOneLine = () => (\n    <>\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderTwoLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderThreeLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  if (isTablet) {\n    if (dataLength < 2) return null;\n\n    if (dataLength < 3) return renderOneLine();\n\n    if (dataLength < 4) return renderTwoLines();\n\n    return renderThreeLines();\n  }\n\n  switch (pageSize) {\n    case 16: {\n      if (dataLength < 5) return null;\n\n      if (dataLength < 9) return renderOneLine();\n\n      if (dataLength < 13) return renderTwoLines();\n\n      return renderThreeLines();\n    }\n\n    case 12: {\n      if (dataLength < 4) return null;\n\n      if (dataLength < 7) return renderOneLine();\n\n      if (dataLength < 10) return renderTwoLines();\n\n      return renderThreeLines();\n    }\n\n    case 9: {\n      if (dataLength < 4) return null;\n\n      if (dataLength < 7) return renderOneLine();\n\n      return renderTwoLines();\n    }\n\n    default: {\n      if (dataLength < 3) return null;\n\n      return renderOneLine();\n    }\n  }\n}\n\nexport default renderThoseDamnedLines;\n","import PropTypes from 'prop-types';\nimport { useEffect, useState } from 'react';\nimport { Loader, Paginate } from '../utils';\nimport renderThoseDamnedLines from '../../utils/render-lines';\nimport './CardsSectionWithLines.scss';\n\nconst maxTabletWidth = 900;\n\nfunction CardsSectionWithLines({\n  pageCount,\n  children,\n  pageNumber,\n  setPageNumber,\n  sectionClass,\n  isLoading,\n  dataLength,\n  pageSize,\n}) {\n  const [isTablet, setIsTablet] = useState(false);\n\n  useEffect(() => {\n    const tablet = window.matchMedia(`(max-width: ${maxTabletWidth}px)`);\n\n    const listener = () => {\n      if (tablet.matches) setIsTablet(true);\n      else setIsTablet(false);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader isPaginate />\n      ) : (\n        <>\n          <section className={`cards-section ${sectionClass}`}>\n            {renderThoseDamnedLines(dataLength, pageSize, isTablet)}\n            {children}\n          </section>\n        </>\n      )}\n\n      {pageCount > 1 && (\n        <Paginate\n          sectionClass=\"cards-section__pagination cards-section__pagination_no-padding\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      )}\n    </>\n  );\n}\n\nCardsSectionWithLines.propTypes = {\n  pageCount: PropTypes.number,\n  children: PropTypes.node,\n  pageNumber: PropTypes.number,\n  setPageNumber: PropTypes.func,\n  sectionClass: PropTypes.string,\n  isLoading: PropTypes.bool,\n  dataLength: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n};\n\nCardsSectionWithLines.defaultProps = {\n  pageCount: 0,\n  children: null,\n  pageNumber: 0,\n  setPageNumber: () => {},\n  sectionClass: '',\n  isLoading: false,\n};\n\nexport default CardsSectionWithLines;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { TitleH2 } from '../../utils';\nimport CardFigure from '../CardFigure/CardFigure';\nimport { staticImageUrl } from '../../../config/config';\nimport './CardCatalog.scss';\n\nfunction CardCatalog({ data: { id, title, image }, shape, sectionClass }) {\n  const link = `/catalog/${id}`;\n  return (\n    <div className={`card-catalog ${sectionClass}`}>\n      <Link to={link} className=\"card-catalog__link-wrap\">\n        <div className=\"card-catalog__image-wrap\">\n          <CardFigure\n            sectionClass=\"card-catalog_type_shaped\"\n            shape={shape}\n            color=\"white\"\n          >\n            <img\n              draggable=\"false\"\n              className=\"card-catalog__image\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n            />\n          </CardFigure>\n        </div>\n        <TitleH2 sectionClass=\"card-catalog__title\" title={title} />\n      </Link>\n    </div>\n  );\n}\n\nCardCatalog.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  shape: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardCatalog.defaultProps = {\n  data: {},\n  title: '',\n  image: '',\n  sectionClass: '',\n};\n\nexport default CardCatalog;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы каталога\nfunction getCatalogPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getCatalogArticlePageData({ articleId } = {}) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/${articleId}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getCatalogPageData, getCatalogArticlePageData };\n","import { useEffect, useState } from 'react';\nimport catalogPageTexts from './locales/RU';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardCatalog,\n  CardsSectionWithLines,\n  Loader,\n  TitleH1,\n  TitleH2,\n} from './index';\nimport { getCatalogPageData } from '../../api/catalog-page';\nimport { ERROR_MESSAGES, FIGURES } from '../../config/constants';\nimport './Catalog.scss';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 9,\n  big: 16,\n};\n\nconst maxScreenWidth = {\n  small: 1399,\n  medium: 1640,\n};\n\nconst { headTitle, headDescription, title, subtitle, textStubNoData } =\n  catalogPageTexts;\n\nfunction Catalog() {\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [catalogPageData, setCatalogPageData] = useState([]);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  function getPageData() {\n    const offset = pageSize * pageNumber;\n\n    getCatalogPageData({ limit: pageSize, offset })\n      .then(({ results, count }) => {\n        setCatalogPageData(results);\n        setPageCount(Math.ceil(count / pageSize));\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsLoadingPage(false);\n      });\n  }\n\n  useEffect(() => {\n    if (pageSize) {\n      getPageData();\n    }\n\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.small}px)`\n    );\n    const largeQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.medium}px)`\n    );\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {renderPageContent()}\n    </BasePage>\n  );\n\n  function renderCards() {\n    return (\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        isLoading={isLoadingPaginate}\n        dataLength={catalogPageData.length}\n        pageSize={pageSize}\n      >\n        {catalogPageData.map((item, i) => (\n          <CardCatalog\n            sectionClass=\"cards-section__item scale-in\"\n            key={item?.id}\n            data={item}\n            shape={FIGURES[i % FIGURES.length]}\n          />\n        ))}\n      </CardsSectionWithLines>\n    );\n  }\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    if (!catalogPageData && !isLoadingPage && !isPageError) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <section className=\"catalog page__section fade-in\">\n        <TitleH1 sectionClass=\"catalog__title\" title={title} />\n        <TitleH2 sectionClass=\"catalog__subtitle\" title={subtitle} />\n        {renderCards()}\n      </section>\n    );\n  }\n}\n\nexport default Catalog;\n","import { MAIN_PAGE_TITLE, QUESTIONS_TITLE } from '../../../config/routes';\n\nconst questionsPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${QUESTIONS_TITLE}`,\n  headDescription: 'Страница с ответами на основные вопросы.',\n  title: 'Ответы на вопросы',\n  textStubNoData:\n    'В данный момент страница вопросов пуста. Возвращайтесь позже!',\n  formPlaceholder: 'Введите вопрос',\n  formSubmitButton: 'Отправить',\n};\n\nexport default questionsPageTexts;\n","const questionForm = {\n  beforeSubmit: {\n    title:\n      'Если вы не нашли ответ на свой вопрос — напишите нам, и мы включим его в список',\n    titleClass: '',\n    formVisibilityClass: '',\n  },\n  successSubmit: {\n    title:\n      'Спасибо! Мы приняли ваш вопрос. Ваш вопрос опубликуют, как только он пройдет проверку и модератор даст на него ответ!',\n    titleClass: 'add-question__title_success',\n    formVisibilityClass: 'question-form_invisible',\n  },\n  errorSubmit: {\n    title:\n      'Произошла ошибка при отправке вашего вопроса! Попробуйте повторить позже или обратиться в службу поддержки!',\n    titleClass: 'add-question__title_error',\n  },\n};\n\nexport default questionForm;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы\nfunction getQuestionsPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/`, {\n      params: { limit, offset, tags },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получить тагсы (список фильтров)\nfunction getQuestionsPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// постинг вопроса\nfunction postQuestion(question) {\n  return axios\n    .post(`${baseURL}${apiUrl}/questions/`, question)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получение одного вопроса\nfunction getQuestion(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  postQuestion,\n  getQuestion,\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport questionsPageTexts from './locales/RU';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts';\nimport { useDebounce, useFormWithValidation } from '../../hooks';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport questionForm from '../../utils/question-form';\nimport {\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../../utils/filter-tags';\nimport getServerErrors from '../../utils/form-errors';\nimport {\n  getQuestion,\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  postQuestion,\n} from '../../api/questions-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Button,\n  CardQuestion,\n  Input,\n  Loader,\n  Paginate,\n  TagsList,\n  TitleH1,\n  TitleH2,\n} from './index';\nimport './Questions.scss';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  textStubNoData,\n  formPlaceholder,\n  formSubmitButton,\n} = questionsPageTexts;\n\nconst validationSettings = {\n  question: {\n    minLength: 10,\n    maxLength: 500,\n  },\n};\n\nconst pageSize = 10;\n\nconst formTransformDelay = 4000;\n\nfunction Questions() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { serverError, setError, clearError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  const { unauthorized, badRequest } = ERROR_CODES;\n  const [isPageError, setIsPageError] = useState(false);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  // определение редиректа с Главной, чтобы показать выбранный вопрос\n  // + обработка редиректа поиска\n  const [mainQuestion, setMainQuestion] = useState(null);\n  const { state } = useLocation();\n  const chosenQuestion = state?.question;\n  const searchQuestionId = state?.id;\n\n  // начальная дата с API\n  const [questionsPageData, setQuestionsPageData] = useState(null);\n\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // показывать ли выбранный на главной вопрос\n  const [isChosenQuestionVisible, setIsChosenQuestionVisible] = useState(false);\n  // категории фильтрации, состояние кнопок фильтров\n  const [categories, setCategories] = useState(null);\n\n  // Стейты для пагинации\n  const [pageCount, setPageCount] = useState(0);\n  const [pageIndex, setPageIndex] = useState(0);\n\n  // форма\n  const [questionFormState, setQuestionFormState] = useState(\n    questionForm.beforeSubmit\n  );\n  // валидация\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  // форма вопросов\n  const setFormState = (isError) => {\n    if (isError) {\n      // форму не чистим!\n      setQuestionFormState(questionForm.errorSubmit);\n    } else {\n      setQuestionFormState(questionForm.successSubmit);\n      // вернулись к изначальной\n      setTimeout(() => {\n        resetForm();\n        clearError();\n        setQuestionFormState(questionForm.beforeSubmit);\n      }, formTransformDelay);\n    }\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const { question } = values;\n    postQuestion({ title: question })\n      .then(() => setFormState(false))\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized)\n          setError(err?.data);\n        else setFormState(true);\n      });\n  };\n\n  // хэндлер клика по фильтру\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // фильтрация\n  const getActiveCategories = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getQuestionsData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n    const activeTags = activeCategories || getActiveCategories();\n\n    getQuestionsPageData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        setQuestionsPageData(results);\n        setIsChosenQuestionVisible(false);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveCategories();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getQuestionsData(activeCategories);\n    }\n  };\n\n  // фильтры/пагинация\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getQuestionsData, DELAY_DEBOUNCE);\n\n  // фильтрация\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // пагинация\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageIndex]);\n\n  // API, первая загрузка\n  useEffect(() => {\n    Promise.all([\n      getQuestionsPageData({ limit: pageSize }),\n      getQuestionsPageTags(),\n    ])\n      .then(([{ results, count }, tags]) => {\n        setPageCount(Math.ceil(count / pageSize));\n\n        if (searchQuestionId) {\n          getQuestion(searchQuestionId)\n            .then((res) => {\n              setIsChosenQuestionVisible(true);\n              const filteredResult = results.filter(\n                (question) => question.id !== res.id\n              );\n              setMainQuestion(res);\n              setQuestionsPageData(filteredResult);\n            })\n            .catch(() => setIsPageError(true));\n        }\n\n        if (chosenQuestion) {\n          setIsChosenQuestionVisible(true);\n          const filteredResult = results.filter(\n            (question) => question.id !== chosenQuestion.id\n          );\n          setMainQuestion(chosenQuestion);\n          setQuestionsPageData(filteredResult);\n        } else setQuestionsPageData(results);\n\n        const categoriesArr = tags.map((tag) => {\n          const filterName = changeCaseOfFirstLetter(tag?.name);\n          return {\n            isActive: false,\n            name: filterName,\n            filter: tag?.slug,\n          };\n        });\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsLoadingPage(false));\n  }, [searchQuestionId]);\n\n  // глобальный лоадер\n  if ((!questionsPageData || !categories) && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"questions-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n\n  // рендеринг\n  // заглушка, если нет даты или ошибка\n  function renderAnimatedContainer() {\n    return (\n      <AnimatedPageContainer\n        titleText={\n          isPageError\n            ? ERROR_MESSAGES.generalErrorMessage.title\n            : textStubNoData\n        }\n      />\n    );\n  }\n\n  // форма вопросов\n  function renderQuestionForm() {\n    return (\n      <>\n        <section className=\"add-question fade-in\">\n          <TitleH2\n            sectionClass={`add-question__title ${questionFormState.titleClass}`}\n            title={questionFormState.title}\n          />\n          <form\n            className={`question-form ${questionFormState.formVisibilityClass}`}\n            onSubmit={(evt) => handleSubmit(evt)}\n            noValidate\n          >\n            <fieldset className=\"question-form__add-question\">\n              <Input\n                id=\"questionsFormInput\"\n                type=\"text\"\n                name=\"question\"\n                placeholder={formPlaceholder}\n                onChange={handleChange}\n                value={values?.question}\n                minLength={validationSettings.question.minLength}\n                maxLength={validationSettings.question.maxLength}\n                required\n                error={errors?.question}\n                sectionClass=\"input__question-form\"\n              />\n              <Button\n                title={formSubmitButton}\n                color=\"black\"\n                sectionClass=\"question-form__button\"\n                isSubmittable\n                isDisabled={!isValid}\n              />\n            </fieldset>\n            <span className=\"form-error-message\">{errorsString}</span>\n          </form>\n        </section>\n      </>\n    );\n  }\n\n  function renderChosenQuestion() {\n    if (isChosenQuestionVisible && mainQuestion) {\n      return (\n        <li className=\"questions__list-item fade-in\">\n          <CardQuestion\n            data={mainQuestion}\n            sectionClass=\"card__questions_type_questions-page\"\n            isQuestionsPage\n            isOpenByDefault\n          />\n        </li>\n      );\n    }\n\n    return null;\n  }\n\n  function renderQuestionsContainer() {\n    return (\n      <>\n        <ul className=\"questions\">\n          {renderChosenQuestion()}\n          {questionsPageData.map((question) => (\n            <li\n              className=\"questions__list-item slide-bottom-up\"\n              key={question?.id}\n            >\n              <CardQuestion\n                data={question}\n                sectionClass=\"card__questions_type_questions-page\"\n                isQuestionsPage\n              />\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n\n  function renderQuestionsWithPaginate() {\n    if (isFiltersUsed) {\n      return <Loader isPaginate />;\n    }\n    return (\n      <>\n        {isLoadingPaginate ? <Loader isPaginate /> : renderQuestionsContainer()}\n\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageIndex}\n            onChange={setPageIndex}\n          />\n        )}\n      </>\n    );\n  }\n\n  // главная функция рендеринга\n  function renderPageContent() {\n    if (questionsPageData?.length > 0) {\n      return (\n        <>\n          <TitleH1 title={title} sectionClass=\"questions__title\" />\n\n          {categories?.length > 1 && (\n            <TagsList\n              filterList={categories}\n              name=\"tag\"\n              handleClick={changeCategory}\n            />\n          )}\n\n          {renderQuestionsWithPaginate()}\n\n          {currentUser && renderQuestionForm()}\n        </>\n      );\n    }\n\n    // залогинен и нет вопросов, покажем заглушку\n    const isDataForPage = questionsPageData?.length > 1;\n    if (isPageError || !isDataForPage) {\n      return renderAnimatedContainer();\n    }\n\n    return null;\n  }\n}\n\nexport default Questions;\n","import { MAIN_PAGE_TITLE, PLACES_TITLE } from '../../../config/routes';\n\nconst placesPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${PLACES_TITLE}`,\n  headDescription: 'Куда вы можете пойти, что рекомендуют наши наставники.',\n  title: PLACES_TITLE,\n  textStubNoData:\n    'Рекомендуемых мест для выбранного города ещё нет, но они обязательно появятся!',\n  paragraphNoContent: 'По вашему запросу ничего не нашлось.',\n  mentorTag: 'Выбор наставников',\n  ageFilterNames: [\n    { filter: '8-10', name: '8-10 лет' },\n    { filter: '11-13', name: '11-13 лет' },\n    { filter: '14-17', name: '14-17 лет' },\n    { filter: '18', name: '18+ лет' },\n  ],\n};\n\nexport default placesPageTexts;\n","import placesPageTexts from './locales/RU';\n\nconst { ageFilterNames } = placesPageTexts;\n\nexport const ageFilters = [\n  {\n    filter: ageFilterNames[0].filter,\n    name: ageFilterNames[0].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[1].filter,\n    name: ageFilterNames[1].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[2].filter,\n    name: ageFilterNames[2].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[3].filter,\n    name: ageFilterNames[3].name,\n    isActive: false,\n  },\n];\n\nexport const PAGE_SIZE_PAGINATE = {\n  small: 8,\n  big: 12,\n};\n","const texts = {\n  closeButtonlabel: 'Закрыть форму',\n  recommendadionTextPart1: `Если вы были в интересном месте и хотите порекомендовать его другим${'\\u00A0'}наставникам –${'\\u00A0'}`,\n  recommendadionButton: `заполните${'\\u00A0'}форму`,\n  recommendadionTextPart2: `, и мы добавим вашу${'\\u00A0'}рекомендацию.`,\n};\n\nexport default texts;\n","const texts = {\n  titlePlaceholder: 'Название*',\n  linkPlaceholder: 'Сайт',\n  addressPlaceholder: 'Адрес*',\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  agePlaceholder: 'Возраст*',\n  activityPlaceholder: 'Тип отдыха*',\n  cityPlaceholder: 'Город*',\n  descPlaceholder:\n    'Комментарий* Поделитесь впечатлениями о проведенном времени',\n  descPlaceholderMobile: 'Комментарий*',\n  buttonText: 'Отправить',\n  addPhotoBtnDefault: 'Добавить фото',\n  addPhotoBtnChange: 'Изменить',\n  addPhotoAdded: 'Фото добавлено',\n};\n\nexport default texts;\n","import { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { CitiesContext, ErrorsContext } from '../../contexts';\nimport { regExpImages } from '../../config/constants';\nimport { useFormWithValidation } from '../../hooks';\nimport getServerErrors from '../../utils/form-errors';\nimport { Button, ButtonRound, DropDownSelect, Input } from '../utils';\nimport './FormRecommendation.scss';\n\nconst {\n  titlePlaceholder,\n  linkPlaceholder,\n  addressPlaceholder,\n  genderMale,\n  genderFemale,\n  agePlaceholder,\n  activityPlaceholder,\n  cityPlaceholder,\n  descPlaceholder,\n  descPlaceholderMobile,\n  buttonText,\n  addPhotoBtnDefault,\n  addPhotoBtnChange,\n  addPhotoAdded,\n} = texts;\n\nconst validationSettings = {\n  title: {\n    minLength: 5,\n    maxLength: 50,\n  },\n  address: {\n    minLength: 5,\n    maxLength: 50,\n  },\n  age: {\n    min: 8,\n    max: 25,\n  },\n};\n\nconst animationDelay = 600;\nconst maxTabletWidth = '900px';\n\nfunction FormRecommendation({ isOpen, onSubmit, activityTypes }) {\n  const [textAreaPlaceholder, setTextAreaPlaceholder] = useState('');\n\n  useEffect(() => {\n    const tablet = window.matchMedia(`(max-width: ${maxTabletWidth})`);\n\n    const listener = () => {\n      if (tablet.matches) setTextAreaPlaceholder(descPlaceholderMobile);\n      else setTextAreaPlaceholder(descPlaceholder);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  const { cities } = useContext(CitiesContext);\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  const [isAnimated, setIsAnimated] = useState(false);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onSubmit(values);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      resetForm();\n      setTimeout(() => {\n        setIsAnimated(true);\n      }, animationDelay);\n    } else {\n      setIsAnimated(false);\n    }\n    clearError();\n  }, [isOpen]);\n\n  const formClassNames = [\n    'form-recom',\n    isOpen ? 'form-recom_opened' : '',\n    isAnimated ? 'form-recom_animated' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <form\n      className={formClassNames}\n      name=\"formRecomendation\"\n      onSubmit={handleSubmit}\n      noValidate\n    >\n      {isOpen && (\n        <>\n          <div className=\"form-recom__input-container\">\n            <Input\n              id=\"formRecommendTitle\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium form-recom__input-wrap_indentation\"\n              type=\"text\"\n              name=\"title\"\n              placeholder={titlePlaceholder}\n              onChange={handleChange}\n              value={values.title}\n              required\n              minLength={validationSettings.title.minLength}\n              maxLength={validationSettings.title.maxLength}\n              error={errors?.title}\n            />\n\n            <Input\n              id=\"formRecommendLink\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium\"\n              type=\"text\"\n              name=\"link\"\n              placeholder={linkPlaceholder}\n              onChange={handleChange}\n              value={values.link}\n              error={errors?.link}\n            />\n          </div>\n\n          <Input\n            id=\"formRecommendAddress\"\n            sectionClass=\"form-recom__input-wrap\"\n            type=\"text\"\n            name=\"address\"\n            placeholder={addressPlaceholder}\n            onChange={handleChange}\n            value={values.address}\n            required\n            minLength={validationSettings.address.minLength}\n            maxLength={validationSettings.address.maxLength}\n            error={errors?.address}\n          />\n\n          <div className=\"form-recom__input-container\">\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationBoy\"\n            >\n              <input\n                id=\"formRecommendationBoy\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"male\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderMale}\n              </span>\n            </label>\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationGirl\"\n            >\n              <input\n                id=\"formRecommendationGirl\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"female\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderFemale}\n              </span>\n            </label>\n\n            <Input\n              id=\"formRecommendAge\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_narrow\"\n              type=\"number\"\n              name=\"age\"\n              placeholder={agePlaceholder}\n              onChange={handleChange}\n              value={values.age}\n              required\n              max={validationSettings.age.max}\n              min={validationSettings.age.min}\n              error={errors?.age}\n            />\n          </div>\n\n          <DropDownSelect\n            placeholder={activityPlaceholder}\n            options={activityTypes}\n            inputName=\"activityType\"\n            onChange={handleChange}\n            error={errors?.activityType}\n            isFormOpen={isOpen}\n          />\n\n          <DropDownSelect\n            placeholder={cityPlaceholder}\n            options={cities}\n            inputName=\"city\"\n            onChange={handleChange}\n            error={errors?.city}\n            isFormOpen={isOpen}\n          />\n\n          <Input\n            id=\"formRecommendDescription\"\n            sectionClass=\"form-recom__input form-recom__input_textarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={textAreaPlaceholder}\n            onChange={handleChange}\n            value={values.description}\n            required\n            error={errors?.description}\n            isTextarea\n          />\n\n          <span className=\"form-error-message\">{errorsString}</span>\n\n          <div className=\"form-recom__submit-zone\">\n            <div className=\"form-recom__add-photo\">\n              {errors?.image && (\n                <span className=\"form-recom__add-photo-error\">\n                  {errors?.image}\n                </span>\n              )}\n              <div className=\"form-recom__add-photo-container\">\n                {values?.image && (\n                  <span className=\"form-recom__add-photo-span form-recom__add-photo-span_text\">\n                    {addPhotoAdded}\n                  </span>\n                )}\n                <label\n                  className=\"form-recom__add-photo-label\"\n                  htmlFor=\"formRecomInputUpload\"\n                >\n                  <input\n                    id=\"formRecomInputUpload\"\n                    type=\"file\"\n                    name=\"image\"\n                    accept=\"image/png, image/jpeg\"\n                    className=\"form-recom__input-radio\"\n                    onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n                    required\n                  />\n                  {!values?.image && (\n                    <ButtonRound\n                      sectionClass={`form-recom__add-photo-btn ${\n                        errors?.image ? 'form-recom__add-photo-btn_error' : ''\n                      }`}\n                      color={`${errors?.image ? 'error' : 'lightGray'}`}\n                      isSmall\n                      isSpan\n                    />\n                  )}\n                  <span\n                    className={`form-recom__add-photo-span ${\n                      errors?.image ? 'form-recom__add-photo-span_error' : ''\n                    }`}\n                  >\n                    {values?.image ? addPhotoBtnChange : addPhotoBtnDefault}\n                  </span>\n                </label>\n              </div>\n            </div>\n\n            <Button\n              title={buttonText}\n              color=\"blue\"\n              isDisabled={!isValid}\n              isSubmittable\n            />\n          </div>\n        </>\n      )}\n    </form>\n  );\n}\n\nFormRecommendation.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  isOpen: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nFormRecommendation.defaultProps = {\n  activityTypes: [],\n  isOpen: false,\n  onSubmit: () => {},\n};\n\nexport default FormRecommendation;\n","import { useContext, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport FormRecommendation from '../FormRecommendation/FormRecommendation';\nimport { postPlace } from '../../api/places-page';\nimport './PlacesRecommend.scss';\n\nfunction PlacesRecommend({ sectionClass, activityTypes }) {\n  const { openPopupRecommendSuccess } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n  };\n\n  const openForm = () => {\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data.link) formData.append('link', data.link);\n    formData.append('image', data.image);\n    formData.append('title', data.title);\n    formData.append('description', data.description);\n    formData.append('address', data.address);\n    formData.append('gender', data.gender);\n    formData.append('age', data.age);\n    formData.append('city', data.city);\n    formData.append('activityType', data.activityType);\n    return formData;\n  };\n\n  const handleFormSubmit = (data) => {\n    postPlace(createFormData(data))\n      .then(() => {\n        openPopupRecommendSuccess(true);\n        closeForm();\n      })\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized) {\n          setError(err?.data);\n        } else\n          setError({\n            message: generalErrorMessage.title,\n          });\n      });\n  };\n\n  const classNames = [\n    'recommendation',\n    'recommendation_place_page',\n    'fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <>\n      <section className={classNames} ref={scrollAnchorRef}>\n        <div className=\"recommendation__container\">\n          {isFormOpen && (\n            <button\n              className=\"recommendation__close-button\"\n              type=\"button\"\n              aria-label={texts.closeButtonlabel}\n              onClick={closeForm}\n            />\n          )}\n          <p className=\"section-title recommendation__text\">\n            {texts.recommendadionTextPart1}\n            <button\n              className=\"recommendation__text-link\"\n              type=\"button\"\n              onClick={openForm}\n            >\n              {texts.recommendadionButton}\n            </button>\n            {texts.recommendadionTextPart2}\n          </p>\n          <FormRecommendation\n            isOpen={isFormOpen}\n            onSubmit={handleFormSubmit}\n            activityTypes={activityTypes}\n          />\n        </div>\n      </section>\n    </>\n  );\n}\n\nPlacesRecommend.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n};\n\nPlacesRecommend.defaultProps = {\n  activityTypes: [],\n  sectionClass: '',\n};\n\nexport default PlacesRecommend;\n","import { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport placesPageTexts from './locales/RU';\nimport { ageFilters, PAGE_SIZE_PAGINATE } from './constants';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts';\nimport { useActivityTypes, useDebounce, useLocalStorage } from '../../hooks';\nimport { setLocalStorageData } from '../../hooks/useLocalStorage';\nimport {\n  ALL_CATEGORIES,\n  COLORS,\n  DELAY_DEBOUNCE,\n  DELAY_RENDER,\n  ERROR_MESSAGES,\n  localStChosenPlace,\n  localStUserCity,\n} from '../../config/constants';\nimport {\n  deselectAllTags,\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  getChosenPlace,\n  getPlace,\n  getPlaces,\n  getPlacesTags,\n} from '../../api/places-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardPlace,\n  Loader,\n  NoDataNotificationBox,\n  Paginate,\n  PlacesRecommend,\n  TagsList,\n  TitleH1,\n} from './index';\nimport './Places.scss';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  textStubNoData,\n  paragraphNoContent,\n  mentorTag,\n} = placesPageTexts;\n\nconst maxScreenWidth = {\n  small: 1024,\n};\n\nfunction Places() {\n  const { state } = useLocation();\n  const searchPlaceId = state?.id;\n\n  const { activityTypes, activityTypesSimplified } = useActivityTypes();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupError, openPopupPlace } =\n    useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n\n  const getLocalStorageItem = useLocalStorage(localStUserCity);\n\n  // сохранённый в localStorage город анонимуса\n  const currentAnonymousCity = getLocalStorageItem();\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  // места из API\n  const [places, setPlaces] = useState(null);\n  const [chosenPlace, setChosenPlace] = useState(null);\n  const [isChosenOnPageOne, setIsChosenOnPageOne] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // переход между фильтрами, лоадер\n  const [isLoadingFilters, setIsLoadingFilters] = useState(false);\n  // переход пагинаций без фильтров, лоадер\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // переход между городами, лоадер\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  // триггер фильтра для useEffect\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // видна ли главная карточка\n  const [isChosenCardHidden, setIsChosenCardHidden] = useState(false);\n  // стейт для определения первой отрисовки страницы (нужен при отсутствии данных)\n  const [isFirstRender, setIsFirstRender] = useState(false);\n  // категории фильтрации\n  const [ages, setAges] = useState(ageFilters); // состояние кнопок фильтра возраста\n  const [categories, setCategories] = useState([]); // состояние кнопок фильтра категорий\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Резайз пагинации при первой загрузке\n  useEffect(() => {\n    const smallQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.small}px)`\n    );\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // хэндлер клика по фильтру КАТЕГОРИИ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      deselectAllTags(setAges);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // хэндлер клика по фильтру ВОЗРАСТ\n  const changeAge = (inputValue, isChecked) => {\n    handleCheckboxBehavior(setAges, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Выбор наставника\"\n  const defineCategories = (tags, chosenPlaceData) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n    if (chosenPlaceData) {\n      return [\n        { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n        { filter: mentorTag, name: mentorTag, isActive: false },\n        ...categoriesArray,\n      ];\n    }\n    return [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n  };\n\n  // restOfPlaces - массив без главной карточки\n  const definePlaces = (placesData, isFiltered, mainCard) => {\n    const chosenCard = mainCard || chosenPlace;\n    let restOfPlaces = placesData;\n\n    // главная\n    if (pageNumber === 0 && !isFiltered) {\n      if (chosenCard?.chosen && !isFiltered) {\n        restOfPlaces = restOfPlaces.filter(\n          (place) => place?.id !== chosenCard?.id\n        );\n        if (restOfPlaces.length !== placesData.length) {\n          setIsChosenOnPageOne(true);\n        } else restOfPlaces.pop();\n      }\n      if (restOfPlaces.length === placesData.length) {\n        restOfPlaces.pop();\n      }\n    }\n    return { restOfPlaces };\n  };\n\n  const defineActiveTags = () => {\n    const activeCategories = categories.filter(\n      (category) => category.isActive && category.filter !== ALL_CATEGORIES\n    );\n\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== mentorTag)\n      .map((tag) => tag.filter)\n      .join(',');\n\n    const activeAges = ages\n      .filter((age) => age.isActive)\n      .map((age) => age.filter)\n      .join(',');\n\n    const isMentorFlag = activeCategories.some(\n      (tag) => tag.filter === mentorTag\n    );\n\n    return {\n      activeCategories,\n      activeTags,\n      activeAges,\n      isMentorFlag,\n    };\n  };\n\n  // запрос отфильтрованного массива карточек\n  const getFilteredPlaces = (params, isFiltersActive) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n\n    const fixedPageSize =\n      pageNumber === 0 && !isFiltersActive ? pageSize + 1 : pageSize;\n\n    const fixedOffset =\n      pageNumber > 0 && chosenPlace && isChosenOnPageOne && !isFiltersActive\n        ? offset + 1\n        : offset;\n\n    getPlaces({ limit: fixedPageSize, offset: fixedOffset, ...params })\n      .then(({ results, count }) => {\n        if (chosenPlace && !isFiltersActive) {\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          setPageCount(Math.ceil(count / pageSize));\n        }\n\n        const { restOfPlaces } = definePlaces(results, isFiltersActive);\n\n        if (pageNumber > 0 || isFiltersActive) {\n          setIsChosenCardHidden(true);\n        }\n\n        setPlaces(restOfPlaces);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingFilters(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  // функция-фильтратор\n  const handleFiltration = () => {\n    setIsFirstRender(false);\n\n    const { activeCategories, activeTags, activeAges, isMentorFlag } =\n      defineActiveTags();\n\n    // ВСЕ\n    if (activeCategories.length === 0) {\n      if (activeAges.length === 0) {\n        // + БЕЗ ВОЗРАСТА (по умолчанию)\n        getFilteredPlaces(\n          {\n            city: userCity,\n          },\n          false\n        );\n        setIsChosenCardHidden(false);\n      } else {\n        // + ВОЗРАСТ\n        getFilteredPlaces(\n          {\n            age_restriction: activeAges,\n            city: userCity,\n          },\n          true\n        );\n      }\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      return;\n    }\n\n    // КАТЕГОРИИ + ВОЗРАСТ (или без него)\n    if (activeCategories.length > 0) {\n      getFilteredPlaces(\n        {\n          chosen: isMentorFlag,\n          tags: activeTags,\n          age_restriction: activeAges,\n          city: userCity,\n        },\n        true\n      );\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePagination = useDebounce(getFilteredPlaces, DELAY_DEBOUNCE);\n  // запуск фильтрации\n  useEffect(() => {\n    if (!isLoadingPage && isFiltersUsed) {\n      setIsLoadingFilters(true);\n      debounceFiltration();\n    }\n    setIsLoadingPage(false);\n  }, [isFiltersUsed, pageNumber]);\n\n  // запуск пагинации\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      const { activeTags, activeAges, isMentorFlag } = defineActiveTags();\n      // для пагинации, чтобы сохранить настройки фильтров\n      const predefinedParams = {\n        chosen: isMentorFlag,\n        tags: activeTags,\n        age_restriction: activeAges,\n        city: userCity,\n      };\n\n      if (!activeTags && !activeAges && !isMentorFlag) {\n        if (pageNumber === 0) setIsChosenCardHidden(false);\n        debouncePagination(predefinedParams, false);\n      } else {\n        debouncePagination(predefinedParams, true);\n      }\n\n      setIsLoadingPaginate(true);\n    }\n  }, [pageNumber]);\n\n  // Promise.all нужен для формирования тега \"Выбор наставников\" по метке на карточках\n  useEffect(() => {\n    if (userCity && pageSize) {\n      window.scroll({ top: 0 });\n      setIsFirstRender(true);\n      setIsCityChanging(true);\n      setIsChosenCardHidden(false);\n      setChosenPlace(null);\n      setPlaces(null);\n      deselectAllTags(setAges);\n\n      Promise.all([\n        getChosenPlace({ city: userCity }),\n        getPlaces({\n          city: userCity,\n          limit: pageSize + 1,\n        }),\n        getPlacesTags(),\n      ])\n        .then(([mainCard, { results, count }, tagsData]) => {\n          if (mainCard?.chosen) {\n            setChosenPlace(mainCard);\n          }\n          // стейт главной карточки не успевает обновиться, поэтому передаем аргументом\n          // второй агрумент - это используется ли фильтр или пагинация\n          const { restOfPlaces } = definePlaces(results, false, mainCard);\n          setPlaces(restOfPlaces);\n\n          if (mainCard?.chosen) {\n            setPageCount(Math.ceil((count - 1) / pageSize));\n          } else {\n            setPageCount(Math.ceil(count / pageSize));\n          }\n\n          setCategories(defineCategories(tagsData, mainCard?.chosen));\n        })\n        .catch(() => setIsPageError(true))\n        .finally(() => setIsCityChanging(false));\n    }\n  }, [userCity, pageSize]);\n\n  useEffect(() => {\n    if (!userCity) {\n      setTimeout(() => {\n        openPopupCities();\n      }, DELAY_RENDER);\n    }\n\n    if (state && userCity) {\n      getPlace(searchPlaceId)\n        .then((res) => {\n          setLocalStorageData(localStChosenPlace, res);\n          openPopupPlace();\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [state]);\n\n  if (!places) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"places page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n\n  // функции рендера\n  function renderAnimatedContainer() {\n    return (\n      <>\n        {!isCityChanging ? (\n          <>\n            <AnimatedPageContainer titleText={textStubNoData} />\n            {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n          </>\n        ) : (\n          <Loader isPaginate />\n        )}\n      </>\n    );\n  }\n\n  function renderPagination() {\n    if (pageCount > 1) {\n      return (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      );\n    }\n    return null;\n  }\n\n  function renderPlaces() {\n    if (isChosenCardHidden && places?.length === 0) {\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContent}\n          sectionClass=\"no-data-text_padding-top\"\n        />\n      );\n    }\n\n    if (chosenPlace || places?.length > 0) {\n      return (\n        <>\n          {chosenPlace && !isChosenCardHidden && !isLoadingPaginate && (\n            <section className=\"places__main\">\n              <CardPlace\n                key={chosenPlace?.id}\n                data={chosenPlace}\n                activityTypesSimplified={activityTypesSimplified}\n                sectionClass=\"card-container_type_main-article scale-in\"\n                isBig\n              />\n            </section>\n          )}\n\n          {!isLoadingPaginate ? (\n            <section className=\"places__cards-grid\">\n              {places.map((place, i) => (\n                <CardPlace\n                  key={place?.id}\n                  data={place}\n                  activityTypesSimplified={activityTypesSimplified}\n                  color={COLORS[(i + 1) % COLORS.length]}\n                  sectionClass=\"card-container_type_article scale-in\"\n                />\n              ))}\n            </section>\n          ) : (\n            <Loader isPaginate />\n          )}\n          {renderPagination()}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    if (isFirstRender && !chosenPlace && places?.length === 0) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"places__title\" />\n        {!isCityChanging ? (\n          <>\n            <TagsList\n              filterList={categories}\n              name=\"categories\"\n              handleClick={changeCategory}\n            />\n            <TagsList\n              filterList={ages}\n              name=\"ages\"\n              handleClick={changeAge}\n              sectionClass=\"places__tags\"\n            />\n            {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n\n            {!isLoadingFilters ? renderPlaces() : <Loader isPaginate />}\n          </>\n        ) : (\n          <Loader isPaginate />\n        )}\n      </>\n    );\n  }\n}\n\nexport default Places;\n","import { MAIN_PAGE_TITLE, RIGHTS_TITLE } from '../../../config/routes';\n\nconst rightsPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${RIGHTS_TITLE}`,\n  headDescription: 'Информационные рубрики о правах детей',\n  title: RIGHTS_TITLE,\n  textStubNoData:\n    'В данный момент страница со статьями о правах детей пуста. Возвращайтесь позже!',\n};\n\nexport default rightsPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение всех \"прав\" на странице Права\nfunction getRightsData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий прав (список фильтров)\nfunction getRightsTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение Статьи для страницы Права Детей\nfunction getRightsArticle({ id, tags = '' }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/${id}/`, {\n      params: { tags },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getRightsData, getRightsTags, getRightsArticle };\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Rubric } from '../../utils';\nimport CardFigure from '../CardFigure/CardFigure';\nimport './CardRights.scss';\n\nfunction CardRights({\n  title,\n  tags,\n  shape,\n  color,\n  sectionClass,\n  id,\n  getActiveTags,\n}) {\n  return (\n    <div className={`rights-card ${sectionClass}`}>\n      <Link\n        to={{\n          pathname: `/rights/${id}`,\n          state: { fromRightsPage: true, activeTags: getActiveTags() },\n        }}\n        className=\"rights-card__link\"\n      >\n        <CardFigure shape={shape} title={title} color={color}>\n          <div className=\"rights-card__block\">\n            {tags.map((tag) => (\n              <Rubric\n                key={tag.id}\n                sectionClass=\"rights-card__rubric\"\n                title={tag.name}\n              />\n            ))}\n          </div>\n        </CardFigure>\n      </Link>\n    </div>\n  );\n}\n\nCardRights.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string.isRequired,\n  tags: PropTypes.arrayOf(Array),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  id: PropTypes.number.isRequired,\n  getActiveTags: PropTypes.func,\n};\n\nCardRights.defaultProps = {\n  title: '',\n  tags: [],\n  color: '',\n  sectionClass: '',\n  getActiveTags: () => {},\n};\n\nexport default CardRights;\n","import { useContext, useEffect, useState } from 'react';\nimport rightsPageTexts from './locales/RU';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\nimport { useDebounce } from '../../hooks';\nimport {\n  ALL_CATEGORIES,\n  COLORS,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  FIGURES,\n} from '../../config/constants';\nimport {\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { getRightsData, getRightsTags } from '../../api/rights-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardRights,\n  CardsSectionWithLines,\n  Loader,\n  TagsList,\n  TitleH1,\n} from './index';\nimport './Rights.scss';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 12,\n  big: 16,\n};\n\nconst maxScreenWidth = {\n  small: 1399,\n  medium: 1640,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = rightsPageTexts;\n\nconst Rights = () => {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [articles, setArticles] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getArticlesData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getRightsData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setArticles(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  // Промис олл для плавного отображения\n  const getFirstPageData = () => {\n    Promise.all([\n      getRightsTags(),\n      getRightsData({\n        limit: pageSize,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        setPageCount(Math.ceil(count / pageSize));\n        setArticles(results);\n\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getArticlesData(activeCategories);\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getArticlesData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (isLoadingPage && pageSize) {\n      getFirstPageData();\n    }\n\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  // Резайз пагинации при первой загрузке\n  useEffect(() => {\n    const smallQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.small}px)`\n    );\n    const largeQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.medium}px)`\n    );\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"rights page__section fade-in\">\n        {isPageError ? (\n          <AnimatedPageContainer\n            titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          />\n        ) : (\n          <>\n            <TitleH1 title={title} sectionClass=\"rights__title\" />\n            {categories?.length > 1 && renderTagsContainer()}\n            {renderMainContent()}\n          </>\n        )}\n      </section>\n    </BasePage>\n  );\n\n  // Фильтры страницы\n  function renderTagsContainer() {\n    if (articles && !isLoadingPage) {\n      return (\n        <TagsList\n          filterList={categories}\n          name=\"rights\"\n          handleClick={changeCategory}\n        />\n      );\n    }\n    return null;\n  }\n\n  // Карточки\n  function renderCards() {\n    return (\n      <>\n        <CardsSectionWithLines\n          pageCount={pageCount}\n          pageNumber={pageNumber}\n          setPageNumber={setPageNumber}\n          isLoading={isLoadingPaginate}\n          dataLength={articles.length}\n          pageSize={pageSize}\n        >\n          {articles.map((item, i) => (\n            <CardRights\n              key={item?.id}\n              sectionClass=\"cards-section__item scale-in\"\n              title={item?.title}\n              tags={item?.tags}\n              shape={FIGURES[i % FIGURES.length]}\n              color={COLORS[i % COLORS.length]}\n              id={item?.id}\n              getActiveTags={getActiveTags}\n            />\n          ))}\n        </CardsSectionWithLines>\n      </>\n    );\n  }\n\n  // Контент страницы\n  function renderMainContent() {\n    if ((!articles && !isLoadingPage) || (!categories && !isLoadingPage)) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return isFiltersUsed ? <Loader isPaginate /> : renderCards();\n  }\n};\n\nexport default Rights;\n","import { MAIN_PAGE_TITLE, MOVIES_TITLE } from '../../../config/routes';\n\nconst moviesPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${MOVIES_TITLE}`,\n  headDescription:\n    'Подборка фильмов, которые можно посмотреть, с аннотацией к ним.',\n  title: MOVIES_TITLE,\n  textStubNoData:\n    'В данный момент страница c фильмами пуста. Возвращайтесь позже!',\n};\n\nexport default moviesPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей фильмы\nfunction getMoviesPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getMoviesPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного видео\nfunction getMovie(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getMoviesPageData, getMoviesPageFilter, getMovie };\n","import { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport moviesPageTexts from './locales/RU';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\nimport { useDebounce } from '../../hooks';\nimport {\n  getMovie,\n  getMoviesPageData,\n  getMoviesPageFilter,\n} from '../../api/movies-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardAnnotation,\n  CardFilm,\n  Loader,\n  TagsList,\n  TitleH1,\n} from './index';\nimport Paginate from '../../components/utils/Paginate/Paginate';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStChosenVideo,\n} from '../../config/constants';\nimport {\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../../utils/filter-tags';\nimport { setLocalStorageData } from '../../hooks/useLocalStorage';\nimport './Movies.scss';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 8,\n  medium: 12,\n  big: 16,\n};\n\nconst maxScreenWidth = {\n  small: 1216,\n  medium: 1451,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = moviesPageTexts;\n\nfunction Movies() {\n  const { state } = useLocation();\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError, openPopupVideo } = useContext(PopupsContext);\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейты с данными Фильмов, Теги\n  const [moviesPageData, setMoviesPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  const getMoviesData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getMoviesPageData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setMoviesPageData(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const getMoviesFilter = () => {\n    getMoviesPageFilter()\n      .then((tags) => {\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true));\n  };\n\n  // хэндлер клика по фильтру КАТЕГОРИЯ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getMoviesData(activeCategories);\n    }\n  };\n\n  // Откртие попапа при переходе из поиска\n  useEffect(() => {\n    if (state) {\n      getMovie(state.id)\n        .then((res) => {\n          setLocalStorageData(localStChosenVideo, res);\n          openPopupVideo();\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [state]);\n\n  /// Фильтрация с делэем\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getMoviesData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Первая отрисовка страницы + переход по страницам пагинации\n  useEffect(() => {\n    if (isLoading && pageSize) {\n      getMoviesData();\n      getMoviesFilter();\n    }\n\n    if (!isLoading && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.small}px)`\n    );\n    const largeQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.medium}px)`\n    );\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // глобальный лоадер\n  if (isLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"movies page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // контейнер с фильмами\n  function renderMoviesContainer() {\n    if (!moviesPageData && !isLoading) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        {isLoadingPaginate ? (\n          <Loader isPaginate />\n        ) : (\n          <ul className=\"movies__cards cards-grid cards-grid_content_small-cards fade-in\">\n            {moviesPageData.map((movie) => (\n              <li className=\"card-container scale-in\" key={movie.id}>\n                <CardFilm data={movie} />\n                <CardAnnotation description={movie.annotation} />\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageNumber}\n            onChange={setPageNumber}\n          />\n        )}\n      </>\n    );\n  }\n\n  // главная функция рендеринга\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"movies__title\" />\n\n        {/* рендер фильтров */}\n        {categories?.length > 1 && (\n          <TagsList\n            filterList={categories}\n            name=\"tag\"\n            handleClick={changeCategory}\n          />\n        )}\n\n        {/* рендерим фильмы */}\n        {isFiltersUsed ? <Loader isPaginate /> : renderMoviesContainer()}\n      </>\n    );\n  }\n}\n\nexport default Movies;\n","import { ARTICLES_TITLE, MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst articlesPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${ARTICLES_TITLE}`,\n  headDescription: 'Статьи, которые рекомендуют наши наставники.',\n  title: ARTICLES_TITLE,\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default articlesPageTexts;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport { Caption, Card, TitleH2 } from '../../utils';\nimport './CardArticle.scss';\n\nfunction CardArticle({\n  data: { title, info, annotation, image, articleUrl },\n  isMain,\n  color,\n  sectionClass,\n}) {\n  const classNames = [\n    'card-container',\n    isMain\n      ? 'card-container_type_main-article'\n      : 'card-container_type_article fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n  const cardColor = isMain ? 'yellow' : color;\n\n  return (\n    <article className={classNames}>\n      <Card\n        sectionClass={`article-card ${isMain ? 'article-card_main' : ''}`}\n        color={cardColor}\n      >\n        <div className=\"article-card__title-wrap\">\n          <a\n            draggable=\"false\"\n            href={articleUrl}\n            className=\"article-card__link-wrap\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <TitleH2 sectionClass=\"article-card__title\" title={title} />\n          </a>\n          <Caption sectionClass=\"article-card__info\" title={info} />\n        </div>\n\n        {isMain && (\n          <div className=\"article-card__link-wrap article-card__link-wrap_content_article-img\">\n            <img\n              draggable=\"false\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n              className=\"article-card__image\"\n            />\n          </div>\n        )}\n\n        <a\n          draggable=\"false\"\n          href={articleUrl}\n          className=\"link article-card__link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {texts.linkText}\n        </a>\n      </Card>\n      <CardAnnotation description={annotation} isMain={isMain} />\n    </article>\n  );\n}\n\nCardArticle.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  info: PropTypes.string,\n  image: PropTypes.string,\n  articleUrl: PropTypes.string,\n  annotation: PropTypes.string,\n  color: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardArticle.defaultProps = {\n  data: {},\n  title: '',\n  info: '',\n  image: '',\n  articleUrl: '',\n  annotation: '',\n  color: 'white',\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardArticle;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getArticlesPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/articles/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного книги\nfunction getArticle(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/articles/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getArticlesPageData, getArticle };\n","import { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport articlesPageTexts from './locales/RU';\nimport {\n  COLORS,\n  ERROR_MESSAGES,\n  localStChosenArticle,\n} from '../../config/constants';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardArticle,\n  Loader,\n  Paginate,\n  TitleH1,\n} from './index';\nimport { getArticle, getArticlesPageData } from '../../api/articles-page';\nimport { setLocalStorageData } from '../../hooks/useLocalStorage';\nimport { PopupsContext } from '../../contexts';\nimport './Articles.scss';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 8,\n  big: 12,\n};\n\nconst maxScreenWidth = {\n  small: 1024,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = articlesPageTexts;\n\nfunction Articles() {\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [articlesPageData, setArticlesPageData] = useState(null);\n  const [mainArticle, setMainCard] = useState(null);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const { state } = useLocation();\n  const searchArticleId = state?.id;\n  const { openPopupArticle } = useContext(PopupsContext);\n\n  const getPageData = () => {\n    const offset = pageSize * pageNumber;\n    const fixedPageSize =\n      pageNumber === 0 && mainArticle ? pageSize + 1 : pageSize;\n    const fixedOffset = pageNumber > 0 && mainArticle ? offset + 1 : offset;\n\n    getArticlesPageData({ limit: fixedPageSize, offset: fixedOffset })\n      .then(({ results }) => {\n        if (pageNumber === 0 && mainArticle) {\n          setArticlesPageData(() =>\n            results.filter((item) => !item?.pinnedFullSize)\n          );\n        } else setArticlesPageData(results);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n      });\n  };\n\n  // Открытие попапа при переходе из поиска\n  useEffect(() => {\n    if (state) {\n      getArticle(searchArticleId)\n        .then((res) => {\n          setLocalStorageData(localStChosenArticle, res);\n          openPopupArticle();\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [state]);\n\n  // пагинация\n  useEffect(() => {\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n      getPageData();\n    }\n  }, [pageNumber]);\n\n  useEffect(() => {\n    if (pageSize) {\n      getArticlesPageData({ limit: pageSize + 1 })\n        .then(({ results, count }) => {\n          const articlesData = results;\n          const mainCard = articlesData.find((item) => item?.pinnedFullSize);\n          setMainCard(mainCard);\n          if (mainCard) {\n            setArticlesPageData(() =>\n              articlesData.filter((item) => !item?.pinnedFullSize)\n            );\n            setPageCount(Math.ceil((count - 1) / pageSize));\n          } else {\n            articlesData.pop();\n            setArticlesPageData(articlesData);\n            setPageCount(Math.ceil(count / pageSize));\n          }\n        })\n        .catch(() => {\n          setIsPageError(true);\n        })\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n  }, [pageSize]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.small}px)`\n    );\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {!articlesPageData && !isLoadingPage\n        ? renderAnimatedContainer()\n        : renderPageContent()}\n    </BasePage>\n  );\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n\n    return (\n      <section className=\"articles page__section\">\n        <TitleH1 title={title} sectionClass=\"fade-in\" />\n\n        {isLoadingPaginate ? <Loader isPaginate /> : renderCards()}\n\n        {renderPagination()}\n      </section>\n    );\n  }\n\n  function renderAnimatedContainer() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  function renderPagination() {\n    if (pageCount > 1) {\n      return (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      );\n    }\n    return null;\n  }\n\n  function renderCards() {\n    return (\n      <>\n        {mainArticle && !pageNumber && (\n          <section className=\"articles__main scale-in\">\n            <CardArticle data={mainArticle} isMain />\n          </section>\n        )}\n\n        <section className=\"articles__cards-grid\">\n          {articlesPageData.map((item, i) => (\n            <CardArticle\n              key={item?.id}\n              color={COLORS[(i + 1) % COLORS.length]}\n              data={item}\n              sectionClass=\"scale-in\"\n            />\n          ))}\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Articles;\n","import {\n  ARTICLES_TITLE,\n  BOOKS_TITLE,\n  CATALOG_TITLE,\n  MAIN_PAGE_TITLE,\n  MOVIES_TITLE,\n  READ_AND_WATCH_TITLE,\n  VIDEO_TITLE,\n} from '../../../config/routes';\n\nconst readAndWatchPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${READ_AND_WATCH_TITLE}`,\n  headDescription: 'Превью основных публичных информационных разделов сайта.',\n  pageTitles: {\n    catalogTitle: CATALOG_TITLE,\n    articlesTitle: ARTICLES_TITLE,\n    moviesTitle: MOVIES_TITLE,\n    videosTitle: VIDEO_TITLE,\n    booksTitle: BOOKS_TITLE,\n  },\n  paragraphNoContent: 'В данной категории пока ничего нет.',\n};\n\nexport default readAndWatchPageTexts;\n","import PropTypes from 'prop-types';\nimport { Card, TitleH2 } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport './CardBook.scss';\n\nfunction CardBook({\n  data: { title, author, year, type, annotation },\n  sectionClass,\n}) {\n  const backgroundColor = { backgroundColor: type?.color };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass=\"card-book\">\n        <div className=\"card-book__cover\" style={backgroundColor || ''}>\n          <TitleH2 sectionClass=\"card-book__title\" title={title} />\n          <div className=\"card-book__info\">\n            <div className=\"card-book__border\" />\n            <p className=\"caption card-book__text\">{author}</p>\n            <p className=\"caption card-book__text\">{year}</p>\n          </div>\n        </div>\n      </Card>\n      <CardAnnotation description={annotation} />\n    </article>\n  );\n}\nCardBook.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  type: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  author: PropTypes.string,\n  year: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  annotation: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardBook.defaultProps = {\n  data: {},\n  type: {},\n  title: '',\n  author: '',\n  year: '',\n  annotation: '',\n  sectionClass: '',\n};\n\nexport default CardBook;\n","// Страница \"Read and watch\" (RAW)\nexport const RAW_DELAY_SLIDER_TRANSITION = 1250;\nexport const RAW_SLIDER_PADDINGS = [0, 15, 0, 15];\nexport const RAW_SLIDER_BREAKPOINTS = {\n  S: 700,\n  M: 1120,\n  L: 1440,\n  XL: 1441,\n};\nexport const ELEMS_PER_SLIDE = {\n  one: 1,\n  two: 2,\n  three: 3,\n  four: 4,\n};\n","import { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel from 'react-elastic-carousel';\nimport {\n  INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX,\n  INDEX_ERROR_FOR_PENULTIMATE_PAGE,\n  PAGES_TO_LOAD,\n} from './constants';\nimport {\n  LinkableHeading,\n  Loader,\n  NoDataNotificationBox,\n  TitleH3,\n} from '../utils';\nimport { COLORS, ERROR_MESSAGES, FIGURES } from '../../config/constants';\nimport './ReadAndWatchSection.scss';\n\nfunction ReadAndWatchSection({\n  pageSize,\n  getDataFromApi,\n  CardTemplateComponent,\n  isVideo,\n  path,\n  sectionTitle,\n  breakpoints,\n  elemPaddings,\n  transitionDelay,\n  paragraphNoContentText,\n  sectionClass,\n}) {\n  const { S, M, L, XL } = breakpoints;\n  const ref = useRef();\n\n  // индекс страницы\n  const [pageIndex, setPageIndex] = useState(0);\n  // всего возможных страниц при текущем разрешении\n  const [totalPages, setTotalPages] = useState(null);\n  const [sectionData, setSectionData] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSectionError, setIsSectionError] = useState(false);\n\n  const breakPoints = [\n    { width: S, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: M, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: L, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: XL, itemsToShow: pageSize, itemsToScroll: pageSize },\n  ];\n\n  function addNewData() {\n    // Логика: при добавлении новых блоков нужно загрузить 3 страницы начиная с последнего имеющегося элемента\n    const offset = sectionData.length;\n    const loadThreePages = pageSize * PAGES_TO_LOAD;\n    return getDataFromApi({ limit: loadThreePages, offset });\n  }\n\n  useEffect(() => {\n    const offset = pageSize * pageIndex;\n    const loadThreePages = pageSize * 3;\n\n    getDataFromApi({ limit: loadThreePages, offset })\n      .then(({ results, count }) => {\n        setTotalPages(Math.ceil(count / pageSize));\n        setSectionData(results);\n        setIsLoading(false);\n      })\n      .catch(() => setIsSectionError(true));\n  }, [pageSize]);\n\n  function slideBackHandler() {\n    setPageIndex((prevIndex) => prevIndex - 1);\n  }\n\n  function slideNextHandler(currentItem, newPageIndex) {\n    const pagesLoadedNow = ref.current.getNumOfPages();\n    const isPenultimatePage =\n      pagesLoadedNow - INDEX_ERROR_FOR_PENULTIMATE_PAGE === newPageIndex;\n    const isLastPage =\n      pagesLoadedNow - INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX === newPageIndex;\n\n    const isNoMoreDataToLoad = pagesLoadedNow === totalPages;\n    if (isNoMoreDataToLoad) {\n      return;\n    }\n\n    // значит произошел скрол вперед + это предпоследняя страница\n    if (isPenultimatePage || isLastPage) {\n      addNewData()\n        .then(({ results }) => {\n          setSectionData((previousData) => [...previousData, ...results]);\n          setPageIndex((prevIndex) => prevIndex + 1);\n        })\n        .catch(() => setIsSectionError(true));\n    } else {\n      setPageIndex((prevIndex) => prevIndex + 1);\n    }\n  }\n\n  return (\n    <section className=\"readwatch__section\">\n      <div className=\"readwatch__container\">\n        <LinkableHeading\n          title={sectionTitle}\n          path={path}\n          titleSectionClass=\"readwatch__heading\"\n          linkSectionClass=\"readwatch__heading-link\"\n          Component={TitleH3}\n        />\n      </div>\n      <div className={`readwatch__slider-container ${sectionClass}`}>\n        {renderSliderSection()}\n      </div>\n    </section>\n  );\n\n  function renderCardsForSlider() {\n    if (sectionData) {\n      return sectionData.map((item, i) => (\n        <CardTemplateComponent\n          key={`${sectionTitle}-${item?.id}`}\n          sectionClass=\"cards-section__item\"\n          // для \"статей\" надо добавлять card-container_type_article\n          // для секции Фильмы, Книги, Видео, Статьи\n          data={item}\n          // для секции Справочник\n          shape={FIGURES[i % FIGURES.length]}\n          // для секции Статьи\n          color={COLORS[(i + 1) % COLORS.length]}\n          // для секции с Видео\n          isVideo={isVideo}\n          {...item}\n        />\n      ));\n    }\n    return [];\n  }\n\n  function renderSliderSection() {\n    if (isSectionError) {\n      return (\n        <NoDataNotificationBox\n          text={ERROR_MESSAGES.generalErrorMessage.title}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (\n      !isLoading &&\n      !isSectionError &&\n      sectionData &&\n      sectionData?.length === 0\n    ) {\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContentText}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (!isLoading && totalPages && sectionData) {\n      return (\n        <Carousel\n          ref={ref}\n          className=\"readwatch__carousel\"\n          transitionMs={transitionDelay}\n          pagination={false}\n          outerSpacing={0}\n          itemPadding={elemPaddings}\n          breakPoints={breakPoints}\n          disableArrowsOnEnd\n          showEmptySlots\n          onNextEnd={slideNextHandler}\n          onPrevEnd={slideBackHandler}\n          enableMouseSwipe={false}\n        >\n          {renderCardsForSlider()}\n        </Carousel>\n      );\n    }\n\n    return <Loader isNested />;\n  }\n}\n\nReadAndWatchSection.propTypes = {\n  pageSize: PropTypes.number.isRequired,\n  getDataFromApi: PropTypes.func.isRequired,\n  CardTemplateComponent: PropTypes.func.isRequired,\n  path: PropTypes.string.isRequired,\n  sectionTitle: PropTypes.string.isRequired,\n  breakpoints: PropTypes.objectOf(PropTypes.number).isRequired,\n  elemPaddings: PropTypes.arrayOf(PropTypes.number).isRequired,\n  transitionDelay: PropTypes.number.isRequired,\n  paragraphNoContentText: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n  isVideo: PropTypes.bool,\n};\n\nReadAndWatchSection.defaultProps = {\n  sectionClass: '',\n  isVideo: false,\n};\n\nexport default ReadAndWatchSection;\n","export const PAGES_TO_LOAD = 3;\nexport const INDEX_ERROR_FOR_PENULTIMATE_PAGE = 2;\nexport const INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX = 1;\n","/* eslint-disable camelcase */\nimport axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение/фильтрация видео на странице \"Видео\"\nfunction getVideoPageData({ limit, offset, tags, resource_group }) {\n  const query = resource_group\n    ? { limit, offset, tags, resource_group }\n    : { limit, offset, tags };\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий видео (список фильтров)\nfunction getVideoPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного видео\nfunction getVideo(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getVideoPageTags, getVideoPageData, getVideo };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей книги\nfunction getBooksPageData({ limit, offset, types }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/`, {\n      params: { types, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getBooksPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/types/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного книги\nfunction getBook(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getBooksPageData, getBooksPageFilter, getBook };\n","import { useEffect, useState } from 'react';\nimport readAndWatchPageTexts from './locales/read-and-watch-page-RU';\nimport {\n  BasePage,\n  CardArticle,\n  CardBook,\n  CardCatalog,\n  CardFilm,\n} from './index';\nimport {\n  ARTICLES_URL,\n  BOOKS_URL,\n  CATALOG_URL,\n  MOVIES_URL,\n  VIDEO_URL,\n} from '../../config/routes';\nimport {\n  ELEMS_PER_SLIDE,\n  RAW_DELAY_SLIDER_TRANSITION,\n  RAW_SLIDER_BREAKPOINTS,\n  RAW_SLIDER_PADDINGS,\n} from './constants';\nimport ReadAndWatchSection from '../../components/ReadAndWatchSection/ReadAndWatchSection';\n// АПИ\nimport { getCatalogPageData } from '../../api/catalog-page';\nimport { getVideoPageData } from '../../api/video-page';\nimport { getArticlesPageData } from '../../api/articles-page';\nimport { getMoviesPageData } from '../../api/movies-page';\nimport { getBooksPageData } from '../../api/books-page';\nimport './ReadAndWatch.scss';\n\n// константы страницы\nconst { headTitle, headDescription, pageTitles, paragraphNoContent } =\n  readAndWatchPageTexts;\nconst { catalogTitle, articlesTitle, moviesTitle, videosTitle, booksTitle } =\n  pageTitles;\nconst { S, M, L } = RAW_SLIDER_BREAKPOINTS;\nconst { one, two, three, four } = ELEMS_PER_SLIDE;\n\nfunction ReadAndWatch() {\n  // определяет сколько объектов показывать в ряду\n  const [pageSize, setPageSize] = useState(null);\n\n  useEffect(() => {\n    // 1 элемент в ряду (до 700px)\n    const querySizeS = window.matchMedia(`(max-width: ${S}px)`);\n    // 2 элемента в ряду (до 1120px)\n    const querySizeM = window.matchMedia(`(max-width: ${M}px)`);\n    // 3 элемента в ряду (до 1440px)\n    const querySizeL = window.matchMedia(`(max-width: ${L}px)`);\n    // больше 1440px будет 4 элемента в ряду\n\n    const listener = () => {\n      if (querySizeS.matches) {\n        setPageSize(one);\n      } else if (querySizeM.matches) {\n        setPageSize(two);\n      } else if (querySizeL.matches) {\n        setPageSize(three);\n      } else {\n        setPageSize(four);\n      }\n    };\n    listener();\n\n    querySizeS.addEventListener('change', listener);\n    querySizeM.addEventListener('change', listener);\n    querySizeL.addEventListener('change', listener);\n    return () => {\n      querySizeS.removeEventListener('change', listener);\n      querySizeM.removeEventListener('change', listener);\n      querySizeL.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"readwatch-page page__section fade-in\">\n        {pageSize && renderUniqueSliderSections()}\n      </section>\n    </BasePage>\n  );\n\n  function renderUniqueSliderSections() {\n    return (\n      <>\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getCatalogPageData}\n          CardTemplateComponent={CardCatalog}\n          path={CATALOG_URL}\n          sectionTitle={catalogTitle}\n          sectionClass=\"readwatch-page__slider-container_el_catalog\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getVideoPageData}\n          CardTemplateComponent={CardFilm}\n          path={VIDEO_URL}\n          sectionTitle={videosTitle}\n          sectionClass=\"readwatch-page__slider-container_el_video\"\n          isVideo\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getArticlesPageData}\n          CardTemplateComponent={CardArticle}\n          path={ARTICLES_URL}\n          sectionTitle={articlesTitle}\n          sectionClass=\"readwatch-page__slider-container_el_articles\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getMoviesPageData}\n          CardTemplateComponent={CardFilm}\n          path={MOVIES_URL}\n          sectionTitle={moviesTitle}\n          sectionClass=\"readwatch-page__slider-container_el_movies\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getBooksPageData}\n          CardTemplateComponent={CardBook}\n          path={BOOKS_URL}\n          sectionTitle={booksTitle}\n          sectionClass=\"readwatch-page__slider-container_el_books\"\n        />\n      </>\n    );\n  }\n}\n\nexport default ReadAndWatch;\n","import { MAIN_PAGE_TITLE, VIDEO_TITLE } from '../../../config/routes';\n\nconst videoPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${VIDEO_TITLE}`,\n  headDescription: 'Страница с видео контентом',\n  title: VIDEO_TITLE,\n  resourceGroupTag: 'Ресурсная группа',\n  textStubNoData:\n    'В данный момент страница с видео пуста. Возвращайтесь позже!',\n};\n\nexport default videoPageTexts;\n","import { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport videoPageTexts from './locales/RU';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStChosenVideo,\n} from '../../config/constants';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts';\nimport { useDebounce } from '../../hooks';\nimport {\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../../utils/filter-tags';\nimport {\n  getVideo,\n  getVideoPageData,\n  getVideoPageTags,\n} from '../../api/video-page';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { setLocalStorageData } from '../../hooks/useLocalStorage';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardFilm,\n  CardVideoMain,\n  Loader,\n  Paginate,\n  TagsList,\n  TitleH1,\n} from './index';\nimport './Video.scss';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 8,\n  medium: 12,\n  big: 16,\n};\n\nconst maxScreenWidth = {\n  small: 1023,\n  medium: 1450,\n};\n\nconst { headTitle, headDescription, title, resourceGroupTag, textStubNoData } =\n  videoPageTexts;\n\nconst Video = () => {\n  // работа с открытием попапа видое при переходе из поиска\n  const { state } = useLocation();\n  const { openPopupVideo } = useContext(PopupsContext);\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [mainVideo, setMainVideo] = useState({});\n  const [video, setVideo] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  const [isShowMainCard, setIsShowMainCard] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(true);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(false);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Ресурсная группа\"\n  const defineCategories = (tags) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n\n    let isResourceGroup = false;\n\n    const tagsWithoutResorceGroup = [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n\n    const tagsWithResourseGroup = [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      { filter: resourceGroupTag, name: resourceGroupTag, isActive: false },\n      ...categoriesArray,\n    ];\n\n    if (currentUser) {\n      getVideoPageData({\n        resource_group: true,\n      })\n        .then((resourceGroupData) => {\n          isResourceGroup = resourceGroupData.count > 0;\n\n          if (isResourceGroup) {\n            setCategories(tagsWithResourseGroup);\n          }\n        })\n        .catch(() => setIsPageError(true));\n    }\n\n    setCategories(tagsWithoutResorceGroup);\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    const activeCategories = categories.filter(\n      (filter) => filter.isActive && filter.filter !== ALL_CATEGORIES\n    );\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== resourceGroupTag)\n      .map((filter) => filter.filter)\n      .join(',');\n\n    const isResourceGroup = activeCategories.some(\n      (tag) => tag.filter === resourceGroupTag\n    );\n    return { activeTags, isResourceGroup };\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getVideoData = (params, isFiltersActive) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n\n    const fixedPageSize =\n      pageNumber === 0 && mainVideo && !isFiltersActive\n        ? pageSize + 1\n        : pageSize;\n\n    const fixedOffset =\n      pageNumber > 0 && mainVideo && !isFiltersActive ? offset + 1 : offset;\n\n    getVideoPageData({\n      limit: fixedPageSize,\n      offset: fixedOffset,\n      ...params,\n    })\n      .then(({ results, count }) => {\n        if (mainVideo && !isFiltersActive) {\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          setPageCount(Math.ceil(count / pageSize));\n        }\n\n        if (pageNumber === 0 && mainVideo && !isFiltersActive) {\n          setVideo(() => results.filter((item) => !item?.pinnedFullSize));\n          setIsShowMainCard(true);\n        } else setVideo(results);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsFiltersUsed(false);\n        setIsLoadingPaginate(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  const getFirstPageData = () => {\n    Promise.all([\n      getVideoPageTags(),\n      getVideoPageData({\n        limit: pageSize + 1,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        const videoData = results;\n        const mainCard = videoData.find((item) => item?.pinnedFullSize);\n        setMainVideo(mainCard);\n        if (mainCard) {\n          setVideo(() => videoData.filter((item) => !item?.pinnedFullSize));\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          videoData.pop();\n          setVideo(videoData);\n          setPageCount(Math.ceil(count / pageSize));\n        }\n        defineCategories(tags);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const { activeTags, isResourceGroup } = getActiveTags();\n\n      if (!activeTags && !isResourceGroup) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n        getVideoData(\n          { tags: activeTags, resource_group: isResourceGroup },\n          false\n        );\n      } else\n        getVideoData(\n          { tags: activeTags, resource_group: isResourceGroup },\n          true\n        );\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getVideoData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Откртие попапа при переходе из поиска\n  useEffect(() => {\n    if (state) {\n      getVideo(state.id)\n        .then((res) => {\n          setLocalStorageData(localStChosenVideo, res);\n          openPopupVideo();\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [state]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (pageSize) {\n      getFirstPageData();\n    }\n  }, [pageSize, currentUser]);\n\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      const { activeCategories, isResourceGroup } = getActiveTags();\n      const predefinedParams = {\n        tags: activeCategories,\n        resource_group: isResourceGroup,\n      };\n\n      if (activeCategories || isResourceGroup) {\n        debouncePaginate(predefinedParams, true);\n      } else debouncePaginate(predefinedParams, false);\n    }\n  }, [pageNumber]);\n\n  // Резайз пагинации\n  useEffect(() => {\n    const smallQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.small}px)`\n    );\n    const largeQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.medium}px)`\n    );\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      ) : (\n        <>\n          <section className=\"lead page__section\">\n            <TitleH1 title={title} sectionClass=\"video__title\" />\n            {categories?.length > 0 && !isLoadingPage && renderTagsContainer()}\n          </section>\n\n          {renderMainContent()}\n        </>\n      )}\n    </BasePage>\n  );\n\n  // рендеры\n  function renderTagsContainer() {\n    return (\n      <TagsList\n        filterList={categories}\n        name=\"video\"\n        handleClick={changeCategory}\n      />\n    );\n  }\n\n  // Загрузка карточек при нажатии на пагинацию\n  function loadingContentPagination() {\n    if (isLoadingPaginate) {\n      return <Loader isPaginate />;\n    }\n\n    return (\n      <>\n        {mainVideo && isShowMainCard && !pageNumber && (\n          <section className=\"video__main-card page__section scale-in\">\n            <CardVideoMain data={mainVideo} />\n          </section>\n        )}\n\n        <section className=\"video__cards-grid page__section\">\n          {video &&\n            video.map((item) => (\n              <CardFilm\n                key={item?.id}\n                data={item}\n                sectionClass=\"scale-in\"\n                isVideo\n              />\n            ))}\n        </section>\n      </>\n    );\n  }\n\n  // Контент страницы\n  function renderMainContent() {\n    if (!video && !categories) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <>\n        {isFiltersUsed ? (\n          <Loader isPaginate />\n        ) : (\n          <>\n            {loadingContentPagination()}\n\n            {pageCount > 1 && (\n              <section className=\"video__cards-paginate\">\n                <Paginate\n                  sectionClass=\"cards-section__pagination \"\n                  pageCount={pageCount}\n                  value={pageNumber}\n                  onChange={setPageNumber}\n                />\n              </section>\n            )}\n          </>\n        )}\n      </>\n    );\n  }\n};\n\nexport default Video;\n","import { BOOKS_TITLE, MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst booksPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${BOOKS_TITLE}`,\n  headDescription: 'Подборка книг, которые можно почитать, с аннотацией к ним.',\n  title: BOOKS_TITLE,\n  textStubNoData:\n    'В данный момент страница с книгами пуста. Возвращайтесь позже!',\n};\n\nexport default booksPageTexts;\n","import { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport booksPageTexts from './locales/RU';\nimport { useDebounce } from '../../hooks';\nimport {\n  getBook,\n  getBooksPageData,\n  getBooksPageFilter,\n} from '../../api/books-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  CardBook,\n  Loader,\n  Paginate,\n  TagsList,\n  TitleH1,\n} from './index';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStChosenBook,\n} from '../../config/constants';\nimport {\n  deselectOneTag,\n  handleCheckboxBehavior,\n  selectOneTag,\n} from '../../utils/filter-tags';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\nimport { setLocalStorageData } from '../../hooks/useLocalStorage';\nimport './Books.scss';\n\nconst PAGE_SIZE_PAGINATE = {\n  mobile: 8,\n  medium: 12,\n  big: 16,\n};\n\nconst maxScreenWidth = {\n  small: 1216,\n  medium: 1640,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = booksPageTexts;\n\nfunction Books() {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError, openPopupBook } = useContext(PopupsContext);\n\n  const { state } = useLocation();\n  const searchBookId = state?.id;\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейты с данными Книг, Теги\n  const [booksPageData, setBooksPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  const getBooksData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getBooksPageData({\n      limit: pageSize,\n      offset,\n      types: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setBooksPageData(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError(ERROR_MESSAGES.filterErrorMessage);\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const getBooksFilter = () => {\n    getBooksPageFilter()\n      .then((tags) => {\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true));\n  };\n\n  // хэндлер клика по фильтру КАТЕГОРИЯ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getBooksData(activeCategories);\n    }\n  };\n\n  // Откртие попапа при переходе из поиска\n  useEffect(() => {\n    if (state) {\n      getBook(searchBookId)\n        .then((res) => {\n          setLocalStorageData(localStChosenBook, res);\n          openPopupBook();\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [state]);\n\n  /// Фильтрация с делэем\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getBooksData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Первая отрисовка страницы + переход по страницам пагинации\n  useEffect(() => {\n    if (isLoading && pageSize) {\n      getBooksData();\n      getBooksFilter();\n    }\n\n    if (!isLoading && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.small}px)`\n    );\n    const largeQuery = window.matchMedia(\n      `(max-width: ${maxScreenWidth.medium}px)`\n    );\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.mobile);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // глобальный лоадер\n  if (isLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"books page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"books__title\" />\n\n        {/* рендер фильтров */}\n        {categories?.length > 1 && (\n          <TagsList\n            filterList={categories}\n            name=\"tag\"\n            handleClick={changeCategory}\n          />\n        )}\n\n        {/* рендерим книги */}\n        {isFiltersUsed ? <Loader isPaginate /> : renderBooksContainer()}\n      </>\n    );\n  }\n\n  function renderBooksContainer() {\n    if (!booksPageData && !isLoading) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        {isLoadingPaginate ? (\n          <Loader isPaginate />\n        ) : (\n          <ul className=\"books__cards cards-grid cards-grid_content_small-cards fade-in\">\n            {booksPageData.map((books) => (\n              <CardBook key={books.id} data={books} sectionClass=\"scale-in\" />\n            ))}\n          </ul>\n        )}\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageNumber}\n            onChange={setPageNumber}\n          />\n        )}\n      </>\n    );\n  }\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n}\n\nexport default Books;\n","const catalogArticlePageTexts = {\n  headTitle: 'Статья',\n  headDescription: 'Полезная статья',\n  stubButtonText: 'Вернуться назад',\n};\n\nexport default catalogArticlePageTexts;\n","import { useEffect, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { getCatalogArticlePageData } from '../../api/catalog-page';\nimport catalogArticlePageTexts from './locales/RU';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport { CATALOG_URL, NOT_FOUND_URL } from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Loader,\n  NextArticleLink,\n  TitleH1,\n} from './index';\nimport './CatalogArticle.scss';\n\nconst { headTitle, headDescription, stubButtonText } = catalogArticlePageTexts;\n\nfunction CatalogArticle() {\n  const { articleId } = useParams();\n  const history = useHistory();\n\n  const [catalogArticlePageData, setCatalogArticlePageData] = useState();\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const nextPageLink = `/catalog/${catalogArticlePageData?.nextArticle?.id}`;\n\n  useEffect(() => {\n    setIsLoadingPage(true);\n    if (articleId) {\n      getCatalogArticlePageData({ articleId })\n        .then((data) => {\n          setCatalogArticlePageData(data);\n        })\n        .catch((err) => {\n          if (err.status === ERROR_CODES.notFound) history.push(NOT_FOUND_URL);\n          else setIsPageError(true);\n        })\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n  }, [articleId]);\n\n  return (\n    <BasePage\n      headTitle={catalogArticlePageData?.title ?? headTitle}\n      headDescription={catalogArticlePageData?.description ?? headDescription}\n      scrollUpDeps={[articleId]}\n    >\n      {isLoadingPage ? <Loader isPaginate /> : renderPage()}\n    </BasePage>\n  );\n\n  function renderPage() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          urlBack={CATALOG_URL}\n          buttonText={stubButtonText}\n          staticPage\n        />\n      );\n    }\n    return (\n      <div className=\"article page__section fade-in\">\n        <TitleH1\n          title={catalogArticlePageData?.title}\n          sectionClass=\"article__main-title\"\n        />\n        <p className=\"article__description section-title\">\n          {catalogArticlePageData?.description}\n        </p>\n        <figure className=\"article__figure\">\n          <img\n            src={`${staticImageUrl}/${catalogArticlePageData?.image}`}\n            alt={catalogArticlePageData?.title}\n            className=\"article__image scale-in\"\n          />\n          {catalogArticlePageData?.imageCaption && (\n            <figcaption className=\"caption article__figcaption\">\n              {catalogArticlePageData.imageCaption}\n            </figcaption>\n          )}\n        </figure>\n        <div className=\"article__container\">\n          <ReactMarkdown className=\"article__markdown\">\n            {catalogArticlePageData?.body}\n          </ReactMarkdown>\n\n          {catalogArticlePageData?.nextArticle && (\n            <NextArticleLink\n              text={catalogArticlePageData.nextArticle.title}\n              href={nextPageLink}\n              sectionClass=\"article__next-article-link\"\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CatalogArticle;\n","const rightsArticlePageTexts = {\n  headTitle: 'Статья',\n  headDescription: 'Полезная статья',\n  stubButtonText: 'Вернуться назад',\n};\n\nexport default rightsArticlePageTexts;\n","import { useEffect, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { useHistory, useLocation, useParams } from 'react-router-dom';\nimport rightsArticlePageTexts from './locales/RU';\nimport { useScrollToTop } from '../../hooks';\nimport { getRightsArticle } from '../../api/rights-page';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport { NOT_FOUND_URL, RIGHTS_URL } from '../../config/routes';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Loader,\n  NextArticleLink,\n} from './index';\nimport './RightsArticle.scss';\n\nconst { headTitle, headDescription, stubButtonText } = rightsArticlePageTexts;\n\nfunction RightsArticle() {\n  const { articleId } = useParams();\n  const { state } = useLocation();\n  const history = useHistory();\n\n  useScrollToTop([articleId]);\n\n  const [articleData, setArticleData] = useState(null);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getArticleData = ({ id, tags }) => {\n    getRightsArticle({ id, tags })\n      .then((res) => setArticleData(res))\n      .catch((err) => {\n        if (err.status === ERROR_CODES.notFound) history.push(NOT_FOUND_URL);\n        else setIsPageError(true);\n      })\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  useEffect(() => {\n    if (articleId) {\n      setIsLoadingPage(true);\n      if (state?.fromRightsPage) {\n        getArticleData({ id: articleId, tags: state.activeTags });\n      } else {\n        getArticleData({ id: articleId, tags: '' });\n      }\n    }\n  }, [articleId]);\n\n  return (\n    <BasePage\n      headTitle={articleData?.title ?? headTitle}\n      headDescription={articleData?.description ?? headDescription}\n      isHeaderTransparentOnTop\n    >\n      {isLoadingPage ? <Loader isPaginate /> : renderMainContent()}\n    </BasePage>\n  );\n\n  function renderMainContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          urlBack={RIGHTS_URL}\n          buttonText={stubButtonText}\n          staticPage\n        />\n      );\n    }\n\n    return (\n      <>\n        {renderLeadBlock()}\n        <div className=\"article page__section fade-in\">\n          <div className=\"article__container\">\n            {renderHtmlBlock()}\n            {renderNextPageBlock()}\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderLeadBlock() {\n    return (\n      <section className=\"article-lead fade-in\">\n        <div className=\"article-lead__content\">\n          <h1 className=\"chapter-title article-lead__title\">\n            {articleData?.title}\n          </h1>\n          <p className=\"section-title article-lead__text\">\n            {articleData?.description}\n          </p>\n        </div>\n      </section>\n    );\n  }\n\n  function renderHtmlBlock() {\n    return (\n      <ReactMarkdown className=\"article__markdown\">\n        {articleData?.body}\n      </ReactMarkdown>\n    );\n  }\n\n  function renderNextPageBlock() {\n    if (articleData && articleData.nextArticle) {\n      // если пришли со страницы Прав, то передаём активные теги в линку\n      const link = state?.fromRightsPage\n        ? {\n            pathname: `/rights/${articleData?.nextArticle?.id}`,\n            state: { fromRightsPage: true, activeTags: state.activeTags },\n          }\n        : `/rights/${articleData?.nextArticle?.id}`;\n\n      return (\n        <NextArticleLink\n          text={articleData.nextArticle.title}\n          href={link}\n          sectionClass=\"article__next-article-link\"\n        />\n      );\n    }\n    return null;\n  }\n}\n\nexport default RightsArticle;\n","import { MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst storiesPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | Истории дружбы`,\n  headDescription: 'Истории дружбы с младшими от наших наставников',\n  title: 'Истории дружбы',\n  subtitle:\n    'Результат нашей работы сложно показать цифрами. Как измерить и взвесить дружбу? Как оценить успехи абсолютно разных детей? У каждой пары — свой результат и свои достижения. Именно об этом мы рассказываем в историях.',\n  textStubNoData:\n    'В данный момент страница со историями дружбы пуста. Возвращайтесь позже!',\n};\n\nexport default storiesPageTexts;\n","const texts = {\n  title: 'Подтвердить запись на мероприятие',\n  submitButtonText: 'Подтвердить запись',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupConfirmation.scss';\n\nfunction PopupConfirmation({ isOpen, onClose }) {\n  const { registerOnEvent } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    registerOnEvent(card);\n  };\n\n  return (\n    <Popup\n      type=\"confirmation\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <p className=\"section-title popup__title_type_calendar\">\n          {texts.title}\n        </p>\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`«${card?.title}»`}\n        />\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n            startDay?.minutes\n          }—${endDay?.hour}:${endDay?.minutes}`}\n        />\n        <div className=\"popup__buttons_type_calendar\">\n          <Button\n            color=\"blue\"\n            title={texts.submitButtonText}\n            sectionClass=\"popup__button_type_calendar\"\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupConfirmation.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupConfirmation.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupConfirmation;\n","const texts = {\n  popupTitle: 'Вы записаны на мероприятие',\n  paragraph: 'Если у вас не получится прийти — отмените, пожалуйста, запись.',\n  buttonTextCalendarPage: 'Вернуться к календарю',\n  buttonTextDefault: 'Перейти в календарь',\n};\n\nexport default texts;\n","import { useEffect, useRef } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\nimport texts from './locales/RU';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupSuccessfully.scss';\n\nconst { popupTitle, paragraph, buttonTextCalendarPage, buttonTextDefault } =\n  texts;\n\nfunction PopupSuccessfully({ isOpen, onClose }) {\n  const { pathname } = useLocation();\n  const history = useHistory();\n\n  const card = getLocalStorageData(localStAfishaEvent);\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const pushToCalendar = () => {\n    history.push(AFISHA_URL);\n  };\n\n  const buttonText =\n    pathname === AFISHA_URL ? buttonTextCalendarPage : buttonTextDefault;\n\n  const actionOnButtonClick =\n    pathname === AFISHA_URL ? onClose : pushToCalendar;\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"successfully\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-success\" />\n      <p className=\"section-title popup__title_type_calendar\">{popupTitle}</p>\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`«${card?.title}»`}\n      />\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n          startDay?.minutes\n        }—${endDay?.hour}:${endDay?.minutes}`}\n      />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_successfully\">\n        {paragraph}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={actionOnButtonClick}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupSuccessfully.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupSuccessfully.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupSuccessfully;\n","const texts = {\n  title:\n    'Спасибо, мы проверим информацию, и скоро все пользователи смогут увидеть вашу рекомендацию',\n  buttonText: 'Вернуться к рекомендациям',\n};\n\nexport default texts;\n","import { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport texts from './locales/RU';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils';\nimport './PopupRecommendSuccess.scss';\n\nfunction PopupRecommendSuccess({ isOpen, onClose }) {\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"recommend-success\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.title}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupRecommendSuccess.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupRecommendSuccess.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupRecommendSuccess;\n","const texts = {\n  title: 'Вход',\n  firstParagraph:\n    'Вход в личный кабинет доступен наставникам программы «Старшие Братья Старшие Сёстры».',\n  secondParagraph:\n    'Пожалуйста, введите логин и пароль из письма. Если вам не приходило письмо, свяжитесь с вашим куратором.',\n  loginPlaceholder: 'Логин',\n  passwordPlaceholder: 'Пароль',\n  forgotButtonText: 'Забыли пароль?',\n  submitButtonText: 'Войти',\n  titleForgotForm: 'Восстановление пароля',\n  paragraphForgotForm:\n    'Пожалуйста, для восстановления пароля введите email, который вы указывали при регистрации.',\n  emailPlaceholder: 'Email',\n  backButtonText: 'Я вспомнил пароль',\n  submitButtonTextForgot: 'Отправить',\n};\n\nexport default texts;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport { CurrentUserContext, ErrorsContext } from '../../../contexts';\nimport { useAuth, useFormWithValidation } from '../../../hooks';\nimport getServerErrors from '../../../utils/form-errors';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../../config/constants';\nimport { recoverPassword } from '../../../api/user';\nimport Popup from '../Popup/Popup';\nimport { Button, Input, TitleH2 } from '../../utils';\nimport animationSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport './PopupLogin.scss';\n\nconst {\n  title,\n  firstParagraph,\n  secondParagraph,\n  loginPlaceholder,\n  passwordPlaceholder,\n  forgotButtonText,\n  submitButtonText,\n  titleForgotForm,\n  paragraphForgotForm,\n  emailPlaceholder,\n  backButtonText,\n  submitButtonTextForgot,\n} = texts;\n\nconst validationSettings = {\n  username: {\n    maxLength: 150,\n  },\n  password: {\n    minLength: 8,\n  },\n};\n\nfunction PopupLogin({ isOpen, onClose }) {\n  const { updateUser } = useContext(CurrentUserContext);\n  const { serverError, clearError, setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { badRequest } = ERROR_CODES;\n\n  const [isForgotPassword, setIsForgotPassword] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  const { handleLogin } = useAuth(updateUser);\n\n  function handleClickForgotPassword() {\n    setIsForgotPassword(!isForgotPassword);\n  }\n\n  function successForgotPassword() {\n    setIsSuccess(false);\n    setIsForgotPassword(false);\n  }\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(values);\n  }\n\n  function handleError(err) {\n    if (err?.status === badRequest) setError(err?.data);\n    else setError({ message: generalErrorMessage.title });\n  }\n\n  function handleSubmitForgotPassword(evt) {\n    evt.preventDefault();\n    recoverPassword(values)\n      .then((res) => {\n        setSuccessMessage(res?.email);\n        resetForm();\n        clearError();\n        setIsSuccess(true);\n        setTimeout(successForgotPassword, 6000);\n      })\n      .catch(handleError);\n  }\n\n  //! аварийный перевод на главную, если не хочешь логиниться\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  function closePopup() {\n    if (pathname === AFISHA_URL) {\n      history.push('/');\n    }\n    setSuccessMessage('');\n    onClose();\n  }\n\n  function closePopupOnEsc(evt) {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [pathname, isOpen]);\n\n  useEffect(() => {\n    resetForm();\n    clearError();\n  }, [isOpen, isForgotPassword]);\n\n  useEffect(() => {\n    setIsForgotPassword(false);\n  }, [isOpen]);\n\n  const classNameAuth = [\n    'popup__form',\n    'popup__form_type_sign-in',\n    `${isOpen && !isForgotPassword ? 'popup__form_type_sign-in_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const classForgotPassword = [\n    'popup__form',\n    'popup__form_type_email',\n    `${isForgotPassword && !isSuccess ? 'popup__form_type_email_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const classNameSuccess = [\n    'popup__login-container_success',\n    `${isSuccess ? 'popup__login-container_success_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Popup\n      type=\"sign-in\"\n      typeContainer=\"sign-in\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      {renderFormAuth()}\n      {renderFormForgotPassword()}\n      {renderSuccessLoginContainer()}\n    </Popup>\n  );\n\n  function renderFormAuth() {\n    return (\n      <form\n        className={classNameAuth}\n        onSubmit={(evt) => handleSubmit(evt)}\n        noValidate\n      >\n        <TitleH2 sectionClass=\"popup__title_type_sign-in\" title={title} />\n        <p className=\"paragraph popup__sign-in\">{firstParagraph}</p>\n        <p className=\"paragraph popup__sign-in\">{secondParagraph}</p>\n\n        <Input\n          id=\"loginUsernameInput\"\n          sectionClass=\"popup__input\"\n          type=\"text\"\n          name=\"username\"\n          placeholder={loginPlaceholder}\n          onChange={handleChange}\n          value={values?.username}\n          error={errors?.username}\n          maxLength={validationSettings.username.maxLength}\n          required\n        />\n\n        <Input\n          id=\"loginPasswordInput\"\n          sectionClass=\"popup__input\"\n          type=\"password\"\n          name=\"password\"\n          placeholder={passwordPlaceholder}\n          onChange={handleChange}\n          value={values?.password}\n          error={errors?.password}\n          minLength={validationSettings.password.minLength}\n          required\n        />\n\n        <button\n          className=\"popup__forgot-password\"\n          type=\"button\"\n          onClick={handleClickForgotPassword}\n        >\n          {forgotButtonText}\n        </button>\n        <span className=\"form-error-message\">{errorsString}</span>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title={submitButtonText}\n          isDisabled={!isValid}\n          isSubmittable\n        />\n      </form>\n    );\n  }\n\n  function renderFormForgotPassword() {\n    return (\n      <form\n        className={classForgotPassword}\n        onSubmit={(evt) => handleSubmitForgotPassword(evt)}\n        noValidate\n      >\n        <TitleH2\n          sectionClass=\"popup__title_type_sign-in\"\n          title={titleForgotForm}\n        />\n        <p className=\"paragraph popup__sign-in\">{paragraphForgotForm}</p>\n\n        <Input\n          id=\"loginUseremailInput\"\n          sectionClass=\"popup__input\"\n          type=\"email\"\n          name=\"email\"\n          placeholder={emailPlaceholder}\n          onChange={handleChange}\n          value={values?.email}\n          error={errors?.email}\n          required\n        />\n        <button\n          className=\"popup__forgot-password\"\n          type=\"button\"\n          onClick={handleClickForgotPassword}\n        >\n          {backButtonText}\n        </button>\n        <span className=\"form-error-message\">{errorsString}</span>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title={submitButtonTextForgot}\n          isDisabled={!isValid}\n          isSubmittable\n        />\n      </form>\n    );\n  }\n\n  function renderSuccessLoginContainer() {\n    return (\n      <div className={classNameSuccess}>\n        <div\n          ref={animationContainer}\n          className=\"popup__login-container_success-animation\"\n        />\n        <TitleH2 title={successMessage} />\n      </div>\n    );\n  }\n}\n\nPopupLogin.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default PopupLogin;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  changeCaseOfFirstLetter,\n  formatDate,\n  formatPhoneNumber,\n  formatWordCase,\n} from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { Button, ModificatedScrollbars, TitleH2 } from '../../utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction PopupAboutEvent({ isWithoutRegister, isOpen, onClose }) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n  } = texts;\n\n  const { handleEventBooking } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDateParts = formatDate(card?.startAt);\n  const endDayParts = formatDate(card?.endAt);\n  const isDisabled = card?.remainSeats < 1 && !card?.booked;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    // передаем карточку и сообщаем функции, что запись без подтверждения\n    handleEventBooking(card, true);\n  }\n\n  return (\n    <Popup\n      type=\"about-event\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      {card && (\n        <form className=\"popup__form\" onSubmit={handleSubmit}>\n          <div className=\"calendar__caption\">\n            <div className=\"calendar__info\">\n              <p className=\"calendar__type\">\n                {changeCaseOfFirstLetter(card?.tags?.name)}\n              </p>\n              <p className=\"calendar__weekday\">\n                {`${startDateParts?.monthName} / ${startDateParts?.weekdayName}`}\n              </p>\n            </div>\n            <div className=\"calendar__about calendar__about_modal\">\n              <TitleH2\n                title={card?.title}\n                sectionClass=\"calendar__title calendar__title_type_popup\"\n              />\n              <p className=\"calendar__date\">{startDateParts?.day}</p>\n            </div>\n          </div>\n          <div className=\"calendar__meetup\">\n            <ul className=\"calendar__info-list\">\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__time\">\n                  {`${startDateParts?.hour}:${startDateParts?.minutes}–${endDayParts?.hour}:${endDayParts?.minutes}`}\n                </p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__place\">{card?.address}</p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__contact\">\n                  {`${card?.contact}, `}\n                  {renderPhone()}\n                </p>\n              </li>\n            </ul>\n            <div className=\"calendar__description\">\n              <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n                <p className=\"paragraph calendar__desc-paragraph\">\n                  {card?.description}\n                </p>\n              </ModificatedScrollbars>\n            </div>\n\n            {!isWithoutRegister && (\n              <div className=\"calendar__submit\">\n                <Button\n                  color=\"blue\"\n                  title={buttonTitle}\n                  titleSelected={buttonTitleSelected}\n                  sectionClass=\"button_action_confirm\"\n                  isSubmittable\n                  isBooked={card?.booked}\n                  isDisabled={isDisabled}\n                />\n                <p className=\"calendar__place-left\">\n                  {(isDisabled && buttonTitleDisabled) ||\n                    (!card?.booked &&\n                      `${remainSeatsText} ${card?.remainSeats} ${formatWordCase(\n                        card?.remainSeats\n                      )}`)}\n                </p>\n              </div>\n            )}\n          </div>\n        </form>\n      )}\n    </Popup>\n  );\n\n  function renderPhone() {\n    return (\n      <a className=\"calendar__phone\" href={`tel:${card?.phoneNumber}`}>\n        {formatPhoneNumber(card?.phoneNumber)}\n      </a>\n    );\n  }\n}\n\nPopupAboutEvent.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  isWithoutRegister: PropTypes.bool,\n};\n\nPopupAboutEvent.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  isWithoutRegister: false,\n};\n\nexport default PopupAboutEvent;\n","const texts = {\n  title: 'Выберите ваш город',\n};\n\nexport default texts;\n","import { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../../contexts';\nimport { updateUserProfile } from '../../../api/user';\nimport {\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStUserCity,\n} from '../../../config/constants';\nimport {\n  dispatchLocalStorageEvent,\n  getLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { useDebounce } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport { ModificatedScrollbars, TitleH2 } from '../../utils';\nimport './PopupCities.scss';\n\nfunction PopupCities({ isOpen, onClose }) {\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { cities, defaultCity } = useContext(CitiesContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  const currentUserCity =\n    currentUser?.city || getLocalStorageData(localStUserCity);\n\n  function closePopup() {\n    if (!currentUser && !getLocalStorageData(localStUserCity)) {\n      dispatchLocalStorageEvent(localStUserCity, defaultCity?.id);\n    }\n    onClose();\n  }\n\n  const closePopupOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  };\n\n  const submitCity = (evt) => {\n    const cityId = parseInt(evt.target.value, 10);\n    if (currentUser) {\n      updateUserProfile({ city: cityId })\n        .then((res) => {\n          updateUser(res);\n          onClose();\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.citiesErrorMessage);\n          openPopupError();\n        });\n    } else {\n      dispatchLocalStorageEvent(localStUserCity, cityId);\n      onClose();\n    }\n  };\n\n  const debounceSubmitCity = useDebounce(submitCity, DELAY_DEBOUNCE);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (defaultCity) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [defaultCity]);\n\n  return (\n    <Popup\n      type=\"cities\"\n      typeContainer=\"cities\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <div className=\"popup__form\">\n        <TitleH2 title={texts.title} sectionClass=\"cities__title\" />\n        <div className=\"cities__container\">\n          <ul className=\"cities__list cities__list_type_primary\">\n            {cities &&\n              cities\n                .filter((city) => city?.isPrimary === true)\n                .map((city) => renderCityItem(city))}\n          </ul>\n          <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n            <ul className=\"cities__list\">\n              {cities &&\n                cities\n                  .filter((city) => city?.isPrimary !== true)\n                  .map((city) => renderCityItem(city))}\n            </ul>\n          </ModificatedScrollbars>\n        </div>\n      </div>\n    </Popup>\n  );\n\n  function renderCityItem(city) {\n    return (\n      <li className=\"cities__list-item\" key={city?.id}>\n        <button\n          className={`cities__city ${\n            currentUserCity === city?.id ? 'cities__city_current' : ''\n          }`}\n          type=\"button\"\n          value={city?.id}\n          onClick={(evt) => debounceSubmitCity(evt)}\n        >\n          {city?.name}\n        </button>\n      </li>\n    );\n  }\n}\n\nPopupCities.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupCities.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupCities;\n","import PropTypes from 'prop-types';\nimport { useContext, useEffect } from 'react';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport { ErrorsContext } from '../../../contexts';\nimport './PopupError.scss';\n\nfunction PopupError({ isOpen, onClose }) {\n  const { serverError } = useContext(ErrorsContext);\n\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keyup', closeOnEsc);\n    return () => window.removeEventListener('keyup', closeOnEsc);\n  }, []);\n\n  return (\n    <Popup\n      type=\"error\"\n      typeContainer=\"calendar\"\n      sectionClass=\"popup__container_error\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar popup__title_type_error\"\n        title={serverError?.title}\n      />\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={serverError?.button}\n          sectionClass=\"popup__button_type_error\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupError.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupError.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupError;\n","import PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport { Caption, TitleH2 } from '../../utils/index';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport './PopupVideo.scss';\n\nconst PopupVideo = ({ isOpen, onClose }) => {\n  const data = getLocalStorageData(localStChosenVideo);\n  const { frameSrc } = parserLinkYoutube(data?.link);\n\n  const closePopup = () => {\n    removeLocalStorageData(localStChosenVideo);\n    onClose();\n  };\n\n  return (\n    <Popup\n      type=\"video\"\n      typeContainer=\"video\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      <>\n        <iframe\n          title=\"youTubePlayer\"\n          id=\"playeryt\"\n          className=\"popup__video-iframe\"\n          src={frameSrc}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          seamless\n        />\n        <TitleH2 sectionClass=\"popup__video-title\" title={data?.title} />\n        <Caption sectionClass=\"popup__video-caption\" title={data?.info} />\n      </>\n    </Popup>\n  );\n};\n\nPopupVideo.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupVideo.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupVideo;\n","import PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport './PopupPhoto.scss';\n\nfunction PopupPhoto({ isOpen, onClose, currentPhoto }) {\n  return (\n    <Popup isOpen={isOpen} onClose={onClose} type=\"photo\" typeContainer=\"photo\">\n      <figure className=\"popup__photo-figure\">\n        <img\n          className=\"popup__full-image\"\n          src={currentPhoto?.photoSrc}\n          alt={currentPhoto?.caption}\n        />\n        <figcaption className=\"popup__full-caption\">\n          {currentPhoto?.caption}\n        </figcaption>\n      </figure>\n    </Popup>\n  );\n}\n\nPopupPhoto.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  currentPhoto: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default PopupPhoto;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport { COLORS, localStChosenArticle } from '../../../config/constants';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport CardArticle from '../../Cards/CardArticle/CardArticle';\nimport './PopupArticle.scss';\n\nconst PopupArticle = ({ isOpen, onClose }) => {\n  const article = getLocalStorageData(localStChosenArticle) || {};\n\n  const getRandomColor = (max) => Math.floor(Math.random() * max);\n\n  const closePopup = () => {\n    removeLocalStorageData(localStChosenArticle);\n    onClose();\n  };\n\n  return (\n    <Popup\n      type=\"article\"\n      typeContainer=\"article\"\n      sectionClass=\"popup__container_article\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <CardArticle\n        color={COLORS[getRandomColor(COLORS.length)]}\n        data={article}\n        sectionClass=\"scale-in\"\n      />\n    </Popup>\n  );\n};\n\nPopupArticle.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupArticle.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupArticle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport CardBook from '../../Cards/CardBook/CardBook';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { localStChosenBook } from '../../../config/constants';\nimport './PopupBook.scss';\n\nconst PopupBook = ({ isOpen, onClose }) => {\n  const book = getLocalStorageData(localStChosenBook) || {};\n\n  const closePopup = () => {\n    removeLocalStorageData(localStChosenBook);\n    onClose();\n  };\n  return (\n    <Popup\n      type=\"book\"\n      typeContainer=\"book\"\n      sectionClass=\"popup__container_book\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <CardBook data={book} />\n    </Popup>\n  );\n};\n\nPopupBook.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupBook.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupBook;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport './PopupPlace.scss';\n\nimport { COLORS, localStChosenPlace } from '../../../config/constants';\nimport CardPlace from '../../Cards/CardPlace/CardPlace';\nimport { useActivityTypes } from '../../../hooks';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\n\nconst PopupPlace = ({ isOpen, onClose }) => {\n  const { activityTypesSimplified } = useActivityTypes();\n  const place = getLocalStorageData(localStChosenPlace) || {};\n\n  const getRandomColor = (max) => Math.floor(Math.random() * max);\n\n  const closePopup = () => {\n    removeLocalStorageData(localStChosenPlace);\n    onClose();\n  };\n\n  return (\n    <Popup\n      type=\"place\"\n      typeContainer=\"place\"\n      sectionClass=\"popup__container_place\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <CardPlace\n        data={place}\n        activityTypesSimplified={activityTypesSimplified}\n        color={COLORS[getRandomColor(COLORS.length)]}\n        sectionClass=\"card-container_type_article scale-in\"\n      />\n    </Popup>\n  );\n};\n\nPopupPlace.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupPlace.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupPlace;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport Carousel from 'react-elastic-carousel';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { inclineFirstname } from 'lvovich';\nimport storiesPageTexts from './locales/RU';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport { CurrentUserContext } from '../../contexts';\nimport { staticImageUrl } from '../../config/config';\nimport { NOT_FOUND_URL, STORIES_URL } from '../../config/routes';\nimport { getStoriesPageTags, getStoryById } from '../../api/stories-page';\nimport { formatDate, formatMonthsGenitiveCase } from '../../utils/utils';\nimport { handleRadioBehavior } from '../../utils/filter-tags';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Caption,\n  Loader,\n  NextArticleLink,\n  PopupPhoto,\n  PseudoButtonTag,\n  ScrollableContainer,\n  TitleH1,\n  TitleH2,\n} from './index';\nimport './Stories.scss';\n\nconst carouselItemPaddings = {\n  desktop: [0, 65],\n  tablet: [0, 15],\n  mobile: [0, 7.5],\n};\n\nconst maxScreenWidth = {\n  small: 706,\n  medium: 1100,\n};\n\nconst tagsLimit = 10;\nconst scrollUpDelay = 150;\n\nconst { headTitle, headDescription, title, subtitle, textStubNoData } =\n  storiesPageTexts;\n\nfunction Stories() {\n  const { storyId } = useParams();\n  const history = useHistory();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const [isPageLoading, setIsPageLoading] = useState(true);\n  const [isStoryLoading, setIsStoryLoading] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const [storiesTags, setStoriesTags] = useState([]);\n  const [tagsOffset, setTagsOffset] = useState(0);\n\n  const [currentStory, setCurrentStory] = useState(null);\n  const [isPopupPhotoOpen, setIsPopupPhotoOpen] = useState(false);\n  const [currentPhoto, setCurrentPhoto] = useState({});\n\n  const openPhotoPopup = () => {\n    setIsPopupPhotoOpen(true);\n  };\n\n  const closePhotoPopup = () => {\n    setIsPopupPhotoOpen(false);\n  };\n\n  const photoCarouselRef = useRef(null);\n  const [carouselItemPadding, setCarouselItemPaddings] = useState(\n    carouselItemPaddings.desktop\n  );\n\n  const openFullPhoto = (imageSrc, caption) => {\n    setCurrentPhoto({\n      photoSrc: imageSrc,\n      caption,\n    });\n    openPhotoPopup();\n  };\n\n  const currentStoryId = +(storyId ?? storiesTags[0]?.filter);\n  const nextPageLink = `${STORIES_URL}/${currentStory?.nextArticle?.id}`;\n  const pairTitle = `${currentStory?.mentor?.firstName} и ${currentStory?.child}`;\n  const togetherSince = formatDate(currentStory?.togetherSince);\n\n  const handleFilters = (inputValue) => {\n    handleRadioBehavior(setStoriesTags, { inputValue, isChecked: true });\n    history.push(`${STORIES_URL}/${inputValue}`);\n  };\n\n  const fetchTags = ({ limit, offset }) => {\n    if (tagsOffset <= storiesTags.length) {\n      getStoriesPageTags({ limit, offset })\n        .then(({ results }) => {\n          if (results?.length) {\n            const storiesTagsData = results.map((tag) => ({\n              filter: tag.id,\n              name: tag.pair,\n              isActive: +storyId === +tag.id,\n            }));\n            setStoriesTags((prevTags) => [...prevTags, ...storiesTagsData]);\n            setTagsOffset((prevOffset) => prevOffset + limit);\n          } else {\n            setIsPageLoading(false);\n          }\n        })\n        .catch(() => {\n          setIsPageError(true);\n          setIsPageLoading(false);\n        });\n    }\n  };\n\n  // подгрузка тегов при переключении по ссылкам внизу\n  const fetchTagsOnNextLink = () => {\n    if (currentStoryId === storiesTags[storiesTags.length - 1].filter) {\n      fetchTags({ limit: tagsLimit, offset: tagsOffset });\n    }\n  };\n\n  // динамические падинги для фото слайдера\n  useEffect(() => {\n    const tablet = window.matchMedia(`(max-width: ${maxScreenWidth.medium}px)`);\n    const mobile = window.matchMedia(`(max-width: ${maxScreenWidth.small}px)`);\n\n    const listenWindowWidth = () => {\n      if (mobile.matches)\n        return setCarouselItemPaddings(carouselItemPaddings.mobile);\n\n      if (tablet.matches)\n        return setCarouselItemPaddings(carouselItemPaddings.tablet);\n\n      return setCarouselItemPaddings(carouselItemPaddings.desktop);\n    };\n    listenWindowWidth();\n\n    mobile.addEventListener('change', listenWindowWidth);\n    tablet.addEventListener('change', listenWindowWidth);\n\n    return () => {\n      mobile.removeEventListener('change', listenWindowWidth);\n      tablet.removeEventListener('change', listenWindowWidth);\n    };\n  }, []);\n\n  // получение списка всех историй\n  useEffect(() => {\n    fetchTags({ limit: tagsLimit, offset: tagsOffset });\n  }, []);\n\n  // получение конкретной истории по id\n  useEffect(() => {\n    if (currentStoryId) {\n      setIsStoryLoading(true);\n      getStoryById(currentStoryId)\n        .then(setCurrentStory)\n        .catch((err) => {\n          if (err.status === ERROR_CODES.notFound) history.push(NOT_FOUND_URL);\n          else setIsPageError(true);\n        })\n        .finally(() => {\n          setIsStoryLoading(false);\n          if (isPageLoading) setIsPageLoading(false);\n        });\n    }\n  }, [currentStoryId]);\n\n  // синхронизация фильтров в зависимости от выбранной истории\n  useEffect(() => {\n    if (storiesTags.length) {\n      const tagToBeActive = storiesTags.find(\n        (tag) => tag.filter === currentStoryId\n      );\n      if (tagToBeActive) {\n        handleRadioBehavior(setStoriesTags, {\n          inputValue: tagToBeActive.filter,\n          isChecked: true,\n        });\n      }\n    }\n  }, [currentStoryId, tagsOffset]);\n\n  // прокрутка наверх при переключении историй\n  const scrollAnchorRef = useRef(null);\n\n  useEffect(() => {\n    if (scrollAnchorRef && scrollAnchorRef.current) {\n      setTimeout(() => {\n        scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n      }, scrollUpDelay);\n    }\n  }, [storyId]);\n\n  if (isPageLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        {renderPageContent()}\n      </BasePage>\n      <PopupPhoto\n        isOpen={isPopupPhotoOpen}\n        onClose={closePhotoPopup}\n        currentPhoto={currentPhoto}\n      />\n    </>\n  );\n\n  // функции рендера\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n\n    if (!storiesTags.length && !currentStory) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <div className=\"stories page__section fade-in\">\n        <TitleH1 title={title} sectionClass=\"stories__title\" />\n        <p className=\"stories__subtitle\">{subtitle}</p>\n\n        {renderTags()}\n\n        {isStoryLoading ? (\n          <Loader isPaginate />\n        ) : (\n          <>\n            {renderUpperBlock()}\n\n            <ReactMarkdown className=\"stories__markdown fade-in\">\n              {currentStory?.uperBody}\n            </ReactMarkdown>\n\n            {renderPhotosCarousel()}\n\n            <ReactMarkdown className=\"stories__markdown stories__markdown_last fade-in\">\n              {currentStory?.lowerBody}\n            </ReactMarkdown>\n\n            {renderLinksBlock()}\n          </>\n        )}\n      </div>\n    );\n  }\n\n  function renderUpperBlock() {\n    return (\n      <>\n        <img\n          className=\"stories__main-photo scale-in\"\n          src={`${staticImageUrl}/${currentStory?.image}`}\n          alt={pairTitle}\n        />\n        <TitleH2 title={pairTitle} sectionClass=\"stories__pair-title fade-in\" />\n        <Caption\n          title={`Вместе с ${formatMonthsGenitiveCase(\n            togetherSince?.monthName\n          )} ${togetherSince?.year} года`}\n          sectionClass=\"stories__caption fade-in\"\n        />\n        <p className=\"stories__subtitle stories__subtitle_block fade-in\">\n          {currentStory?.description}\n        </p>\n      </>\n    );\n  }\n\n  function renderLinksBlock() {\n    return (\n      <div className=\"stories__links fade-in\">\n        {currentUser && currentStory?.mentor?.email && (\n          <a\n            className=\"link stories__link\"\n            href={`mailto:${currentStory.mentor.email}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {`написать ${inclineFirstname(\n              currentStory.mentor.firstName,\n              'dative'\n            )}`}\n          </a>\n        )}\n\n        {currentStory?.nextArticle && (\n          <NextArticleLink\n            text={currentStory.nextArticle.title}\n            href={nextPageLink}\n            onClick={fetchTagsOnNextLink}\n            sectionClass=\"stories__link_next\"\n          />\n        )}\n      </div>\n    );\n  }\n\n  function renderTags() {\n    return (\n      <div className=\"stories__tags-carousel fade-in\">\n        <span className=\"stories__scroll-anchor\" ref={scrollAnchorRef} />\n        <ScrollableContainer\n          step={5}\n          useButtons\n          disableMouseDrag\n          onScrollCallback={() =>\n            fetchTags({ limit: tagsLimit, offset: tagsOffset })\n          }\n          sectionClass=\"stories__scroll-container\"\n          prevButtonClass=\"stories__prev-button\"\n          nextButtonClass=\"stories__next-button\"\n        >\n          {storiesTags.map((item) => (\n            <PseudoButtonTag\n              key={item.filter}\n              name={item.name}\n              value={item.filter}\n              title={item.name}\n              isActive={item.isActive}\n              onClick={handleFilters}\n              sectionClass=\"scrollable-container__child\"\n            />\n          ))}\n        </ScrollableContainer>\n      </div>\n    );\n  }\n\n  function renderPhotosCarousel() {\n    return (\n      <div className=\"stories__photo-carousel-container\">\n        <div className=\"stories__photo-carousel-wrapper\">\n          <Carousel\n            ref={photoCarouselRef}\n            className=\"stories__photo-carousel\"\n            itemsToScroll={1}\n            itemsToShow={3}\n            initialActiveIndex={0}\n            itemPadding={carouselItemPadding}\n            pagination={false}\n            enableMouseSwipe={false}\n          >\n            <div aria-hidden className=\"stories__carousel-image\" />\n            {currentStory?.images?.map((image, idx) => (\n              <div\n                key={image.id}\n                className=\"stories__carousel-image-wrap\"\n                onClick={() => {\n                  photoCarouselRef.current.goTo(idx);\n                  openFullPhoto(\n                    `${staticImageUrl}/${image.image}`,\n                    image.imageCaption\n                  );\n                }}\n                onKeyPress={() => {\n                  photoCarouselRef.current.goTo(idx);\n                  openFullPhoto(\n                    `${staticImageUrl}/${image.image}`,\n                    image.imageCaption\n                  );\n                }}\n                role=\"button\"\n                tabIndex={0}\n              >\n                <img\n                  className=\"stories__carousel-image\"\n                  draggable={false}\n                  src={`${staticImageUrl}/${image.image}`}\n                  alt={image.imageCaption}\n                />\n              </div>\n            ))}\n            <div aria-hidden className=\"stories__carousel-image\" />\n          </Carousel>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Stories;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение списка историй (список фильтров)\nfunction getStoriesPageTags({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/history/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getStoryById(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/history/${id}/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getStoriesPageTags, getStoryById };\n","import PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() => (currentUser ? <Component {...props} /> : <Redirect to=\"/\" />)}\n    </Route>\n  );\n}\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n};\n\nexport default ProtectedRoute;\n","import { Route, Switch } from 'react-router-dom';\nimport {\n  AboutUs,\n  Articles,\n  Books,\n  Calendar,\n  Catalog,\n  CatalogArticle,\n  MainPage,\n  Movies,\n  PageNotFound,\n  Places,\n  Profile,\n  Questions,\n  ReadAndWatch,\n  Rights,\n  RightsArticle,\n  Stories,\n  Video,\n} from '../pages';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport {\n  ABOUT_US_URL,\n  AFISHA_URL,\n  ARTICLES_URL,\n  BOOKS_URL,\n  CATALOG_ITEM_URL,\n  CATALOG_URL,\n  MAIN_PAGE_URL,\n  MOVIES_URL,\n  NOT_FOUND_URL,\n  PLACES_URL,\n  PROFILE_URL,\n  QUESTIONS_URL,\n  READ_AND_WATCH_URL,\n  RIGHTS_ARTICLE_URL,\n  RIGHTS_URL,\n  STORIES_URL,\n  VIDEO_URL,\n} from '../config/routes';\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route exact path={MAIN_PAGE_URL} component={MainPage} />\n\n      <Route exact path={ABOUT_US_URL} component={AboutUs} />\n\n      <Route exact path={AFISHA_URL} component={Calendar} />\n\n      <Route exact path={QUESTIONS_URL} component={Questions} />\n\n      <ProtectedRoute exact path={PROFILE_URL} component={Profile} />\n\n      <Route exact path={PLACES_URL} component={Places} />\n\n      <Route exact path={RIGHTS_URL} component={Rights} />\n\n      <Route path={RIGHTS_ARTICLE_URL} component={RightsArticle} />\n\n      <Route exact path={MOVIES_URL} component={Movies} />\n\n      <Route exact path={READ_AND_WATCH_URL} component={ReadAndWatch} />\n\n      <Route exact path={CATALOG_URL} component={Catalog} />\n\n      <Route path={CATALOG_ITEM_URL} component={CatalogArticle} />\n\n      <Route exact path={VIDEO_URL} component={Video} />\n\n      <Route exact path={BOOKS_URL} component={Books} />\n\n      <Route exact path={ARTICLES_URL} component={Articles} />\n\n      <Route path={`${STORIES_URL}/:storyId?`} component={Stories} />\n\n      <Route path={NOT_FOUND_URL} component={PageNotFound} />\n    </Switch>\n  );\n}\n\nexport default Router;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport './App.scss';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { useLocation } from 'react-router-dom';\nimport Router from './navigation/Router';\nimport Loader from './components/utils/Loader/Loader';\n// попапы\nimport {\n  PopupAboutEvent,\n  PopupArticle,\n  PopupBook,\n  PopupCities,\n  PopupConfirmation,\n  PopupError,\n  PopupLogin,\n  PopupPlace,\n  PopupRecommendSuccess,\n  PopupSuccessfully,\n  PopupVideo,\n} from './components/Popups';\n// логины, авторизация\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from './contexts';\n// хуки\nimport { useAuth, useCities } from './hooks';\n\nfunction App() {\n  const { pathname } = useLocation();\n\n  // стейт переменные попапов\n  const [isPopupConfirmationOpen, setIsPopupConfirmationOpen] = useState(false);\n  const [isPopupSuccessfullyOpen, setIsPopupSuccessfullyOpen] = useState(false);\n  const [isPopupAboutDescriptionOpen, setIsPopupAboutDescriptionOpen] =\n    useState(false);\n  const [isPopupErrorOpen, setIsPopupErrorOpen] = useState(false);\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = useState(false);\n  const [isPopupCitiesOpen, setIsPopupCitiesOpen] = useState(false);\n  const [isPopupRecommendSuccessOpen, setIsPopupRecommendSuccessOpen] =\n    useState(false);\n  const [isVideoPopupOpen, setIsVideoPopupOpen] = useState(false);\n  const [isBookPopupOpen, setIsBookPopupOpen] = useState(false);\n  const [isPlacePopupOpen, setIsPlacePopupOpen] = useState(false);\n  const [isArticlePopupOpen, setIsArticlePopupOpen] = useState(false);\n\n  const [isWithoutRegister, setIsWithoutRegister] = useState(false);\n\n  // управление попапами (открыть/закрыть)\n  function closeAllPopups() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(false);\n    setIsPopupAboutDescriptionOpen(false);\n    setIsPopupRecommendSuccessOpen(false);\n    setIsVideoPopupOpen(false);\n    setIsBookPopupOpen(false);\n    setIsPlacePopupOpen(false);\n    setIsArticlePopupOpen(false);\n  }\n\n  function openPopupConfirmation() {\n    setIsPopupConfirmationOpen(true);\n  }\n\n  function openPopupSuccessfully() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(true);\n  }\n\n  function openPopupAboutEvent(withoutRegister) {\n    if (withoutRegister) {\n      setIsWithoutRegister(true);\n    } else {\n      setIsWithoutRegister(false);\n    }\n    setIsPopupAboutDescriptionOpen(true);\n  }\n\n  function openPopupError() {\n    setIsPopupErrorOpen(true);\n  }\n\n  function closePopupError() {\n    setIsPopupErrorOpen(false);\n  }\n\n  function openPopupCities() {\n    setIsPopupCitiesOpen(true);\n  }\n\n  function closePopupCities() {\n    setIsPopupCitiesOpen(false);\n  }\n\n  function openPopupLogin() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function closePopupLogin() {\n    setIsPopupLoginOpen(false);\n  }\n\n  function openPopupRecommendSuccess() {\n    setIsPopupRecommendSuccessOpen(true);\n  }\n\n  function openPopupVideo() {\n    setIsVideoPopupOpen(true);\n  }\n\n  function openPopupBook() {\n    setIsBookPopupOpen(true);\n  }\n\n  function openPopupPlace() {\n    setIsPlacePopupOpen(true);\n  }\n\n  function openPopupArticle() {\n    setIsArticlePopupOpen(true);\n  }\n\n  // контекст попапов\n  const popupsContextValue = {\n    closeAllPopups,\n    closePopupLogin,\n    openPopupConfirmation,\n    openPopupSuccessfully,\n    openPopupAboutEvent,\n    openPopupError,\n    openPopupCities,\n    openPopupLogin,\n    openPopupRecommendSuccess,\n    openPopupVideo,\n    openPopupBook,\n    openPopupPlace,\n    openPopupArticle,\n  };\n\n  // текущий юзер/контекст\n  const [currentUser, setCurrentUser] = useState(null);\n  const updateUser = (value) => setCurrentUser(value);\n\n  const currentUserContextValue = useMemo(\n    () => ({ currentUser, updateUser }),\n    [currentUser]\n  );\n\n  // список городов/контекст\n  const { cities, defaultCity } = useCities();\n\n  const citiesContextValue = useMemo(\n    () => ({ cities, defaultCity }),\n    [cities, defaultCity]\n  );\n\n  // серверные ошибки/контекст\n  const [serverError, setServerError] = useState(null);\n  const setError = (value) => setServerError(value);\n  const clearError = () => setServerError(null);\n\n  const errorsContextValue = useMemo(\n    () => ({ serverError, setError, clearError }),\n    [serverError]\n  );\n\n  const { isCheckingToken, checkToken } = useAuth(updateUser);\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  // закрытие всех попапов при смене страницы, очистка ошибок\n  useEffect(() => {\n    closeAllPopups();\n    closePopupError();\n    closePopupCities();\n    clearError();\n  }, [pathname]);\n\n  // эффект закрытия модалок по Escape\n  useEffect(() => {\n    window.addEventListener('keyup', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    });\n  }, []);\n\n  return (\n    <HelmetProvider>\n      <CitiesContext.Provider value={citiesContextValue}>\n        <CurrentUserContext.Provider value={currentUserContextValue}>\n          <ErrorsContext.Provider value={errorsContextValue}>\n            <PopupsContext.Provider value={popupsContextValue}>\n              <div className=\"page\">\n                {!isCheckingToken ? <Router /> : <Loader isCentered />}\n                <PopupConfirmation\n                  isOpen={isPopupConfirmationOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupSuccessfully\n                  isOpen={isPopupSuccessfullyOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupAboutEvent\n                  isWithoutRegister={isWithoutRegister}\n                  isOpen={isPopupAboutDescriptionOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupLogin\n                  isOpen={isPopupLoginOpen}\n                  onClose={closePopupLogin}\n                />\n                <PopupCities\n                  isOpen={isPopupCitiesOpen}\n                  onClose={closePopupCities}\n                />\n                <PopupError\n                  isOpen={isPopupErrorOpen}\n                  onClose={closePopupError}\n                />\n                <PopupRecommendSuccess\n                  isOpen={isPopupRecommendSuccessOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupVideo\n                  isOpen={isVideoPopupOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupBook isOpen={isBookPopupOpen} onClose={closeAllPopups} />\n                <PopupPlace\n                  isOpen={isPlacePopupOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupArticle\n                  isOpen={isArticlePopupOpen}\n                  onClose={closeAllPopups}\n                />\n              </div>\n            </PopupsContext.Provider>\n          </ErrorsContext.Provider>\n        </CurrentUserContext.Provider>\n      </CitiesContext.Provider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}