{"version":3,"sources":["pages/Profile/locales/RU.js","components/Cards/ProfileEventCard/locales/RU.js","components/Cards/ProfileEventCard/ProfileEventCard.js","components/ProfileForm/locales/RU.js","utils/rating-captions.js","components/ProfileForm/ProfileForm.js","components/ProfileDiary/locales/RU.js","assets/icon-logo-no-text.svg","components/ProfileDiary/ProfileDiary.js","components/Popups/PopupDeleteDiary/locales/RU.js","components/Popups/PopupDeleteDiary/PopupDeleteDiary.js","pages/Profile/Profile.js","api/profile-page.js"],"names":["profilePageTexts","headTitle","MAIN_PAGE_TITLE","PROFILE_TITLE","headDescription","eventsTitle","eventsTitleArchive","eventsArchiveButton","eventsCurrentButton","eventsTitleNoResults","eventsTitleNoResultsArchive","formTitle","texts","buttonLabel","eventCanceled","ProfileEventCard","data","onOpen","sectionClass","startDay","formatDate","startAt","buttonClassNames","join","trim","cardClassNames","canceled","dayClassNames","titleClassNames","className","type","aria-label","onClick","setLocalStorageData","localStAfishaEvent","day","month","title","defaultProps","rateCaptionText","uploadCaptionText","placePlaceholder","datePlaceholder","datePlaceholderError","descrPlaceholder","buttonAddText","buttonDeleteText","buttonCancelText","buttonSaveText","buttonLoadingText","captions","good","neutral","bad","validationSettings","minLength","maxLength","ProfileForm","isEditMode","isOpen","onClose","onSubmit","isWaitingResponse","classNames","useContext","ErrorsContext","serverError","clearError","errorsString","getServerErrors","useState","caption","setCaption","userImage","setUserImage","useFormWithValidation","values","handleChange","errors","isValid","resetForm","setValues","handleChangeFiles","handleSubmit","evt","preventDefault","mark","useEffect","image","imageUrl","URL","createObjectURL","handleChangeImage","id","date","place","description","name","noValidate","src","staticImageUrl","alt","htmlFor","accept","onChange","regExpImages","color","isSpan","placeholder","value","required","error","onFocus","currentTarget","isTextarea","ratingType","checked","isDisabled","isSubmittable","buttonShareText","buttonTextShared","buttonTextSharing","buttonEditText","ProfileDiary","onEdit","onDelete","onShare","selectedDiaryId","sentToCurator","hasCurator","eventDay","isSendingToCurator","classNamesSendToCuratorButton","defaultImage","CardAnnotationContainer","monthName","year","undefined","submitButtonText","cancelButtonText","loadingButtonText","PopupDeleteDiary","onCardDelete","cardData","useCloseOnEscape","formatMonthsGenitiveCase","Popup","typeContainer","withoutCloseButton","parseInt","unauthorized","ERROR_CODES","badRequest","Profile","PopupsContext","openPopupAboutEvent","openPopupError","setError","isArchiveOpen","setIsArchiveOpen","events","setEvents","archivedEvents","setArchivedEvents","eventsOffset","setEventsOffset","diaries","setDiaries","setIsWaitingResponse","isFormOpen","setIsFormOpen","setIsEditMode","formDataToEdit","setFormDataToEdit","isDeleteDiaryPopupOpen","setIsDeleteDiaryPopupOpen","isLoadingEvents","setIsLoadingEvents","isPageError","setIsPageError","scrollAnchorRef","useRef","titleH1Current","length","titleH1Archive","pageCount","setPageCount","pageIndex","setPageIndex","isLoadingPaginate","setIsLoadingPaginate","getArchiveOfEvents","limit","offset","getArchiveOfBookedEvents","then","eventsData","prevEvents","prevOffset","catch","ERROR_MESSAGES","generalErrorMessage","finally","getCurrentBookedEvents","getBookedEvents","updatedEvents","map","updatedEvent","event","booked","getDiaries","axios","get","baseURL","apiUrl","params","response","err","Promise","reject","getProfileDiariesData","results","count","Math","ceil","selectedEvent","useEventBooking","filter","openEventCard","openArchiveOfEvents","openCurrentEvents","openForm","current","scrollIntoView","behavior","closeForm","handleEditMode","setTimeout","DELAY_RENDER","createFormData","formData","FormData","append","handleErrorOnFormSubmit","status","handleCreateDiary","post","headers","createDiary","newDiary","prevDiaries","handleEditDiary","diaryId","patch","editDiary","diary","handleSubmitDiary","selectedDiary","setSelectedDiary","openDeleteDiaryPopup","closeDeleteDiaryPopup","handleShareDiary","sharedDiary","find","BasePage","AnimatedPageContainer","titleText","isSmallGrid","handleClick","step","onScrollCallback","renderEventCards","ref","renderAddDiaryButton","renderDiaryForm","renderDiaries","dontUseScrollUp","renderPageContent","delete","prevDiary","isCentered","renderingEvents","item","isSmall","isPaginate"],"mappings":"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","file":"static/js/9.134b56cb.chunk.js","sourcesContent":["import { MAIN_PAGE_TITLE, PROFILE_TITLE } from '../../../config/routes';\n\nconst profilePageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${PROFILE_TITLE}`,\n  headDescription: 'Личный кабинет наставника.',\n  eventsTitle: 'Вы записаны на мероприятия:',\n  eventsTitleArchive: 'Ваши прошлые мероприятия:',\n  eventsArchiveButton: 'Архив мероприятий',\n  eventsCurrentButton: 'Текущие мероприятия',\n  eventsTitleNoResults: 'У вас нет записи на мероприятия',\n  eventsTitleNoResultsArchive: 'Вы ещё не участвовали в мероприятиях',\n  formTitle:\n    'Составьте историю вашей дружбы с младшим. Эта страница доступна только вам.',\n};\n\nexport default profilePageTexts;\n","const texts = {\n  buttonLabel: 'Открыть карточку',\n  eventCanceled: 'Мероприятие отменено',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport { formatDate } from '../../../utils/utils';\nimport { Card } from '../../utils';\nimport './ProfileEventCard.scss';\n\nfunction ProfileEventCard({ data, onOpen, sectionClass }) {\n  const startDay = formatDate(data?.startAt);\n\n  const handleOpen = () => {\n    setLocalStorageData(localStAfishaEvent, data);\n    onOpen();\n  };\n\n  const buttonClassNames = ['profile-event-card', sectionClass]\n    .join(' ')\n    .trim();\n\n  const cardClassNames = [\n    'profile-event-card__card',\n    data?.canceled ? 'profile-event-card__card_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dayClassNames = [\n    'profile-event-card__day',\n    data?.canceled ? 'profile-event-card__day_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const titleClassNames = [\n    'profile-event-card__title',\n    data?.canceled ? 'profile-event-card__title_canceled' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={buttonClassNames}\n      type=\"button\"\n      aria-label={texts.buttonLabel}\n      onClick={handleOpen}\n    >\n      <Card sectionClass={cardClassNames}>\n        {data?.canceled && (\n          <p className=\"profile-event-card__text-canceled\">\n            {texts.eventCanceled}\n          </p>\n        )}\n        <p className={dayClassNames}>{`${startDay?.day}.${startDay?.month}`}</p>\n        <p className={titleClassNames}>{data?.title}</p>\n      </Card>\n    </button>\n  );\n}\n\nProfileEventCard.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onOpen: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileEventCard.defaultProps = {\n  onOpen: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileEventCard;\n","const texts = {\n  rateCaptionText: 'Оцените проведенное время',\n  uploadCaptionText: 'Загрузить фото',\n  placePlaceholder: 'Место встречи',\n  datePlaceholder: 'Дата __.__.____',\n  datePlaceholderError: 'Дата* ',\n  descrPlaceholder:\n    'Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось',\n  buttonAddText: 'Добавить',\n  buttonDeleteText: 'Удалить',\n  buttonCancelText: 'Отмена',\n  buttonSaveText: 'Сохранить',\n  buttonLoadingText: 'Сохранение...',\n};\n\nexport default texts;\n","const captions = {\n  good: 'Было классно!',\n  neutral: 'Нормально',\n  bad: 'Что-то пошло не так',\n};\n\nexport default captions;\n","import { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { ErrorsContext } from '../../contexts';\nimport { useFormWithValidation } from '../../hooks';\nimport captions from '../../utils/rating-captions';\nimport getServerErrors from '../../utils/form-errors';\nimport { staticImageUrl } from '../../config/config';\nimport { regExpImages } from '../../config/constants';\nimport { Button, ButtonRound, Caption, Card, Input, Rating } from '../utils';\nimport './ProfileForm.scss';\n\nconst {\n  rateCaptionText,\n  uploadCaptionText,\n  placePlaceholder,\n  datePlaceholder,\n  descrPlaceholder,\n  buttonAddText,\n  buttonDeleteText,\n  buttonCancelText,\n  buttonSaveText,\n  buttonLoadingText,\n} = texts;\n\nconst validationSettings = {\n  place: {\n    minLength: 5,\n    maxLength: 128,\n  },\n  description: {\n    maxLength: 1024,\n  },\n};\n\nfunction ProfileForm({\n  data,\n  sectionClass,\n  isEditMode,\n  isOpen,\n  onClose,\n  onSubmit,\n  isWaitingResponse,\n}) {\n  const classNames = ['card-container', 'profile-form', sectionClass]\n    .join(' ')\n    .trim();\n\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  const [caption, setCaption] = useState(rateCaptionText);\n  const [userImage, setUserImage] = useState(null);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!values?.mark) {\n      values.mark = 'neutral';\n    }\n    onSubmit(values);\n  };\n\n  const handleFocusDataInput = (evt) => {\n    // eslint-disable-next-line no-param-reassign\n    evt.currentTarget.type = 'date';\n  };\n\n  const handleChangeImage = () => {\n    if (values?.image) {\n      // ссылка-блоб для отображения загруженной картинки\n      const imageUrl = URL.createObjectURL(values.image);\n      setUserImage({ ...userImage, imageUrl });\n    }\n  };\n\n  const handleCloseForm = () => {\n    setUserImage(null);\n    resetForm();\n    clearError();\n    setCaption(rateCaptionText);\n    onClose();\n  };\n\n  useEffect(() => {\n    if (values?.mark) setCaption(captions[values.mark]);\n    else setCaption(rateCaptionText);\n  }, [values.mark]);\n\n  useEffect(() => {\n    handleChangeImage();\n  }, [values.image]);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (data) {\n        setUserImage({ image: data.image });\n        setValues({\n          id: data?.id,\n          date: data?.date,\n          place: data?.place,\n          description: data?.description,\n          mark: data?.mark,\n        });\n      }\n    }\n  }, [isOpen, data]);\n\n  return (\n    <form\n      name=\"addStoryForm\"\n      onSubmit={(evt) => handleSubmit(evt)}\n      className={classNames}\n      noValidate\n    >\n      <Card sectionClass=\"profile-form__photo-upload\">\n        {(userImage?.imageUrl || userImage?.image) && (\n          <img\n            src={userImage.imageUrl || `${staticImageUrl}/${userImage.image}`}\n            alt={data?.place}\n            className=\"profile-form__uploaded-image\"\n          />\n        )}\n\n        <div\n          className={`profile-form__input-upload ${\n            (userImage?.imageUrl || userImage?.image) && !errors?.image\n              ? 'profile-form__input-upload_hidden'\n              : ''\n          } ${errors?.image ? 'profile-form__input-upload_error' : ''}\n          `}\n        >\n          <label htmlFor=\"input-upload\" className=\"profile-form__label-file\">\n            <input\n              id=\"input-upload\"\n              type=\"file\"\n              accept=\"image/*\"\n              name=\"image\"\n              className=\"profile-form__input-file\"\n              onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n            />\n            <ButtonRound\n              sectionClass={`profile-form__pseudo-button ${\n                errors?.image ? 'profile-form__pseudo-button_error' : ''\n              }`}\n              color={`${errors?.image ? 'error' : 'lightGray'}`}\n              isSpan\n            />\n            <Caption\n              title={errors?.image || uploadCaptionText}\n              sectionClass={`profile-form__caption ${\n                errors?.image ? 'profile-form__caption_error' : ''\n              }`}\n            />\n          </label>\n        </div>\n      </Card>\n\n      <Card sectionClass=\"profile-form__text-container\">\n        <div className=\"profile-form__texts\">\n          <Input\n            id=\"profileInputPlace\"\n            type=\"text\"\n            name=\"place\"\n            placeholder={placePlaceholder}\n            onChange={handleChange}\n            value={values.place}\n            required\n            minLength={validationSettings.place.minLength}\n            maxLength={validationSettings.place.maxLength}\n            error={errors?.place}\n          />\n\n          <Input\n            id=\"profileInputDate\"\n            type=\"text\"\n            name=\"date\"\n            placeholder={datePlaceholder}\n            onFocus={handleFocusDataInput}\n            onChange={handleChange}\n            value={values.date}\n            required\n            error={errors?.date}\n          />\n\n          <Input\n            id=\"profileInputTextarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={descrPlaceholder}\n            sectionClass=\"profile-form__input-wrap profile-form__input-wrap_textarea\"\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength={validationSettings.description.maxLength}\n            error={errors?.description}\n            isTextarea\n          />\n\n          <div className=\"profile-form__submit-zone\">\n            <span className=\"form-error-message\">{errorsString}</span>\n            <div className=\"profile-form__ratings-buttons\">\n              <div className=\"profile-form__ratings\">\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"good\"\n                  onChange={handleChange}\n                  value=\"good\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'good'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"neutral\"\n                  onChange={handleChange}\n                  value=\"neutral\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'neutral'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"bad\"\n                  onChange={handleChange}\n                  value=\"bad\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'bad'}\n                />\n                <Caption\n                  title={caption}\n                  sectionClass={`profile-form__ratings-text profile-form__ratings-text_type_${values.mark}`}\n                />\n              </div>\n              <div className=\"profile-form__buttons\">\n                <Button\n                  title={`${isEditMode ? buttonCancelText : buttonDeleteText}`}\n                  color=\"gray-borderless\"\n                  sectionClass=\"profile-form__button_el_delete\"\n                  onClick={handleCloseForm}\n                />\n                <Button\n                  title={\n                    isWaitingResponse\n                      ? buttonLoadingText\n                      : `${isEditMode ? buttonSaveText : buttonAddText}`\n                  }\n                  sectionClass=\"profile-form__button_el_add\"\n                  isDisabled={isWaitingResponse || !isValid}\n                  isSubmittable\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card>\n    </form>\n  );\n}\n\nProfileForm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  isEditMode: PropTypes.bool,\n  onSubmit: PropTypes.func,\n  isWaitingResponse: PropTypes.bool,\n};\n\nProfileForm.defaultProps = {\n  data: {},\n  sectionClass: '',\n  onClose: () => {},\n  isOpen: false,\n  isEditMode: false,\n  onSubmit: () => {},\n  isWaitingResponse: false,\n};\n\nexport default ProfileForm;\n","const texts = {\n  buttonShareText: 'Поделиться с куратором',\n  buttonTextShared: 'Открыто куратору',\n  buttonTextSharing: 'Отправка...',\n  buttonEditText: 'Редактировать',\n  buttonDeleteText: 'Удалить',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/icon-logo-no-text.5f8eb2e5.svg\";","import { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport defaultImage from '../../assets/icon-logo-no-text.svg';\nimport CardAnnotationContainer from '../Cards/CardAnnotation/CardAnnotationContainer';\nimport { Button, Caption, Card, Rating, TitleH2 } from '../utils';\nimport './ProfileDiary.scss';\n\nfunction ProfileDiary({\n  data,\n  onEdit,\n  onDelete,\n  onShare,\n  sectionClass,\n  selectedDiaryId,\n  isWaitingResponse,\n}) {\n  const { image, place, description, mark, date, sentToCurator, hasCurator } =\n    data;\n\n  const eventDay = formatDate(date);\n  const [caption, setCaption] = useState('');\n  const isSendingToCurator = isWaitingResponse && selectedDiaryId === data?.id;\n\n  useEffect(() => {\n    setCaption(captions[mark]);\n  }, [mark]);\n\n  const handleEditButtonClick = () => {\n    onEdit(data);\n  };\n\n  const handleDeleteButtonClick = () => {\n    onDelete(data);\n  };\n\n  const handleShareButtonClick = () => {\n    if (!sentToCurator) {\n      onShare(data);\n    }\n  };\n\n  const classNamesSendToCuratorButton = [\n    'profile-diary__button',\n    'profile-diary__button_curator',\n    sentToCurator ? 'profile-diary__button_curator-shared' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={`card-container profile-diary ${sectionClass}`}>\n      <Card sectionClass=\"profile-diary__image-container\">\n        <img\n          className={\n            image ? 'profile-diary__image' : 'profile-diary__image_default'\n          }\n          src={image ? `${staticImageUrl}/${image}` : defaultImage}\n          alt={place}\n        />\n      </Card>\n      <Card sectionClass=\"profile-diary__date-container\">\n        <div className=\"profile-diary__text-wrap\">\n          <TitleH2 sectionClass=\"profile-diary__card-title\" title={place} />\n          <div className=\"profile-diary__card-text\">\n            <CardAnnotationContainer>\n              <p className=\"profile-diary__paragraph\">{description}</p>\n            </CardAnnotationContainer>\n          </div>\n        </div>\n        <div className=\"profile-diary__card-date\">\n          <p className=\"profile-diary__weekday\">{`${eventDay.monthName}, ${eventDay.year}`}</p>\n          <p className=\"profile-diary__day\">{eventDay.day}</p>\n        </div>\n        <div className=\"profile-diary__actions\">\n          <div className=\"profile-diary__rating\">\n            <Rating\n              type=\"radio\"\n              ratingType={mark}\n              value={mark}\n              checked\n              sectionClass=\"profile-diary__rate\"\n            />\n            <Caption\n              title={caption}\n              sectionClass={`profile-diary__ratings-text profile-diary__ratings-text_type_${\n                mark || 'neutral'\n              }`}\n            />\n          </div>\n          <div className=\"profile-diary__action-elements\">\n            {hasCurator && (\n              <Button\n                title={\n                  isSendingToCurator\n                    ? texts.buttonTextSharing\n                    : `${\n                        sentToCurator\n                          ? texts.buttonTextShared\n                          : texts.buttonShareText\n                      }`\n                }\n                color=\"gray-borderless\"\n                sectionClass={classNamesSendToCuratorButton}\n                onClick={handleShareButtonClick}\n                isDisabled={isSendingToCurator}\n              />\n            )}\n            <Button\n              title={texts.buttonEditText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleEditButtonClick}\n            />\n            <Button\n              title={texts.buttonDeleteText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleDeleteButtonClick}\n            />\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nProfileDiary.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func,\n  onShare: PropTypes.func,\n  sectionClass: PropTypes.string,\n  selectedDiaryId: PropTypes.number,\n  isWaitingResponse: PropTypes.bool,\n};\n\nProfileDiary.defaultProps = {\n  data: {},\n  onEdit: () => {},\n  onDelete: () => {},\n  onShare: () => {},\n  sectionClass: '',\n  selectedDiaryId: undefined,\n  isWaitingResponse: false,\n};\n\nexport default ProfileDiary;\n","const texts = {\n  title: 'Удалить встречу в',\n  submitButtonText: 'Удалить',\n  cancelButtonText: 'Отменить',\n  loadingButtonText: 'Удаление...',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useCloseOnEscape } from '../../../hooks';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupDeleteDiary.scss';\n\nfunction PopupDeleteDiary({\n  isOpen,\n  onClose,\n  onCardDelete,\n  cardData,\n  isWaitingResponse,\n}) {\n  useCloseOnEscape(isOpen, onClose);\n\n  const { place, date } = cardData;\n  const day = formatDate(date);\n  const month = formatMonthsGenitiveCase(day?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onCardDelete(cardData);\n  };\n\n  return (\n    <Popup\n      type=\"confirm-delete-diary\"\n      typeContainer=\"confirm-diary\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n      sectionClass=\"popup-diary\"\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <TitleH2\n          title={`${texts.title} ${place} ${parseInt(day.day, 10)} ${month} ${\n            day.year\n          }?`}\n          sectionClass=\"popup-diary__title\"\n        />\n        <div className=\"popup-diary__buttons\">\n          <Button\n            color=\"gray\"\n            sectionClass=\"popup-diary__button\"\n            title={\n              isWaitingResponse\n                ? texts.loadingButtonText\n                : texts.submitButtonText\n            }\n            isDisabled={isWaitingResponse}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupDeleteDiary.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onCardDelete: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n  isWaitingResponse: PropTypes.bool,\n};\n\nPopupDeleteDiary.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onCardDelete: () => {},\n  cardData: {},\n  isWaitingResponse: false,\n};\n\nexport default PopupDeleteDiary;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport profilePageTexts from './locales/RU';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\nimport { useEventBooking } from '../../hooks';\nimport {\n  createDiary,\n  deleteDiary,\n  editDiary,\n  getProfileDiariesData,\n  shareDiary,\n} from '../../api/profile-page';\nimport {\n  getArchiveOfBookedEvents,\n  getBookedEvents,\n} from '../../api/event-participants';\nimport {\n  DELAY_RENDER,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  ButtonRound,\n  Loader,\n  Paginate,\n  PopupDeleteDiary,\n  ProfileDiary,\n  ProfileEventCard,\n  ProfileForm,\n  ScrollableContainer,\n  TitleH2,\n  UserMenuButton,\n} from './index';\nimport './Profile.scss';\n\nconst {\n  headTitle,\n  headDescription,\n  eventsTitle,\n  eventsTitleNoResults,\n  formTitle,\n  eventsArchiveButton,\n  eventsCurrentButton,\n  eventsTitleArchive,\n  eventsTitleNoResultsArchive,\n} = profilePageTexts;\n\nconst { unauthorized, badRequest } = ERROR_CODES;\n\nconst diariesPerPageCount = 10;\nconst eventsLimit = 10;\n\nfunction Profile() {\n  const { openPopupAboutEvent, openPopupError } = useContext(PopupsContext);\n  const { serverError, setError } = useContext(ErrorsContext);\n\n  const [isArchiveOpen, setIsArchiveOpen] = useState(false);\n  const [events, setEvents] = useState([]);\n  const [archivedEvents, setArchivedEvents] = useState([]);\n  const [eventsOffset, setEventsOffset] = useState(0);\n\n  const [diaries, setDiaries] = useState(null);\n  const [isWaitingResponse, setIsWaitingResponse] = useState(false);\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [formDataToEdit, setFormDataToEdit] = useState(null);\n  const [isDeleteDiaryPopupOpen, setIsDeleteDiaryPopupOpen] = useState(false);\n\n  const [isLoadingEvents, setIsLoadingEvents] = useState(true);\n  const [isPageError, setIsPageError] = useState(false);\n\n  // якорь для скролла при работе с дневниками\n  const scrollAnchorRef = useRef(null);\n\n  const titleH1Current = events.length > 0 ? eventsTitle : eventsTitleNoResults;\n  const titleH1Archive =\n    archivedEvents.length > 0\n      ? eventsTitleArchive\n      : eventsTitleNoResultsArchive;\n\n  // пагинация\n  const [pageCount, setPageCount] = useState(0);\n  const [pageIndex, setPageIndex] = useState(0);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  const getArchiveOfEvents = ({ limit, offset }) => {\n    if (offset <= archivedEvents.length) {\n      getArchiveOfBookedEvents({ limit, offset })\n        .then((eventsData) => {\n          setArchivedEvents((prevEvents) => [...prevEvents, ...eventsData]);\n          setEventsOffset((prevOffset) => prevOffset + limit);\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.generalErrorMessage);\n          openPopupError();\n        })\n        .finally(() => setIsLoadingEvents(false));\n    }\n  };\n\n  const getCurrentBookedEvents = ({ limit, offset }) => {\n    if (offset <= events.length) {\n      getBookedEvents({ limit, offset })\n        .then((eventsData) => {\n          const updatedEvents = eventsData.map(({ event }) => {\n            const updatedEvent = event;\n            updatedEvent.booked = true;\n            return updatedEvent;\n          });\n          setEvents((prevEvents) => [...prevEvents, ...updatedEvents]);\n          setEventsOffset((prevOffset) => prevOffset + limit);\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.generalErrorMessage);\n          openPopupError();\n        })\n        .finally(() => setIsLoadingEvents(false));\n    }\n  };\n\n  const getDiaries = () => {\n    const offset = diariesPerPageCount * pageIndex;\n\n    getProfileDiariesData({ limit: diariesPerPageCount, offset })\n      .then(({ results, count }) => {\n        setDiaries(results);\n        setPageCount(Math.ceil(count / diariesPerPageCount));\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsLoadingPaginate(false));\n  };\n\n  useEffect(() => {\n    getCurrentBookedEvents({ limit: eventsLimit, offset: eventsOffset });\n  }, []);\n\n  // отписка от ивентов\n  const { selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setEvents((prevEvents) =>\n        prevEvents.filter((event) =>\n          event?.id === selectedEvent?.id ? null : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // работа с карточками мероприятий календаря\n  const openEventCard = () => {\n    if (isArchiveOpen) {\n      // без записи на ивент\n      openPopupAboutEvent(true);\n    } else openPopupAboutEvent();\n  };\n\n  const openArchiveOfEvents = () => {\n    setEvents([]);\n    setEventsOffset(0);\n    setIsArchiveOpen(true);\n    setIsLoadingEvents(true);\n    getArchiveOfEvents({ limit: eventsLimit, offset: 0 });\n  };\n\n  const openCurrentEvents = () => {\n    setArchivedEvents([]);\n    setEventsOffset(0);\n    setIsArchiveOpen(false);\n    setIsLoadingEvents(true);\n    getCurrentBookedEvents({ limit: eventsLimit, offset: 0 });\n  };\n\n  // работа с формой\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const openForm = (data) => {\n    if (!data) setIsEditMode(false);\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    setIsEditMode(false);\n    setFormDataToEdit(null);\n  };\n\n  const handleEditMode = (data) => {\n    setIsFormOpen(false);\n    //! небольшая задержка перед ререндером\n    setTimeout(() => {\n      setIsEditMode(true);\n      setFormDataToEdit(data);\n      openForm(data);\n    }, DELAY_RENDER);\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data) {\n      if (data.id) formData.append('id', data.id);\n      if (data.image) formData.append('image', data.image);\n      formData.append('date', data.date);\n      formData.append('place', data.place);\n      formData.append('description', data.description);\n      formData.append('mark', data.mark);\n    }\n    return formData;\n  };\n\n  const handleErrorOnFormSubmit = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized) {\n      setError(err?.data);\n    } else openPopupError();\n  };\n\n  const handleCreateDiary = (data) => {\n    createDiary(createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) => [newDiary, ...prevDiaries]);\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err))\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const handleEditDiary = (data) => {\n    editDiary(data?.id, createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err))\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const handleSubmitDiary = (data) => {\n    setIsWaitingResponse(true);\n    if (isEditMode) handleEditDiary(data);\n    else handleCreateDiary(data);\n  };\n\n  // удаление дневника\n  const [selectedDiary, setSelectedDiary] = useState({});\n\n  const openDeleteDiaryPopup = (diary) => {\n    setIsDeleteDiaryPopupOpen(true);\n    setSelectedDiary(diary);\n  };\n\n  const closeDeleteDiaryPopup = () => {\n    setIsDeleteDiaryPopupOpen(false);\n  };\n\n  const handleDeleteDiary = (diary) => {\n    setIsWaitingResponse(true);\n    deleteDiary(diary?.id)\n      .then(() => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.filter((prevDiary) =>\n            prevDiary?.id === diary?.id ? null : prevDiary\n          )\n        );\n      })\n      .catch(() => {\n        setError(ERROR_MESSAGES.generalErrorMessage);\n        openPopupError();\n      })\n      .finally(() => {\n        setIsWaitingResponse(false);\n        closeDeleteDiaryPopup();\n      });\n  };\n\n  const handleShareDiary = (sharedDiary) => {\n    setIsWaitingResponse(true);\n    setSelectedDiary(sharedDiary);\n    shareDiary(sharedDiary?.id)\n      .then(() => {\n        const newDiary = diaries.find((diary) => diary?.id === sharedDiary?.id);\n        newDiary.sentToCurator = true;\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n      })\n      .catch(() => {\n        setError(ERROR_MESSAGES.generalErrorMessage);\n        openPopupError();\n      })\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  // эффект при переключении страниц пагинации\n  useEffect(() => {\n    if (scrollAnchorRef && scrollAnchorRef.current) {\n      scrollAnchorRef.current.scrollIntoView();\n    }\n\n    if (isFormOpen) closeForm();\n    setIsLoadingPaginate(true);\n    getDiaries();\n  }, [pageIndex]);\n\n  if (!events.length && !diaries) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        <section className=\"profile fade-in\">{renderPageContent()}</section>\n      </BasePage>\n      <PopupDeleteDiary\n        isOpen={isDeleteDiaryPopupOpen}\n        cardData={selectedDiary}\n        onClose={closeDeleteDiaryPopup}\n        onCardDelete={handleDeleteDiary}\n        isWaitingResponse={isWaitingResponse && isDeleteDiaryPopupOpen}\n      />\n    </>\n  );\n\n  // функции рендера\n  function renderEventCards() {\n    const renderingEvents = isArchiveOpen ? archivedEvents : events;\n    if (renderingEvents.length > 0) {\n      return (\n        <>\n          {renderingEvents.map((item) => (\n            <ProfileEventCard\n              key={item?.id}\n              data={item}\n              onOpen={openEventCard}\n              sectionClass=\"scrollable-container__child slide-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderAddDiaryButton() {\n    if (!isFormOpen && diaries && diaries.length > 0) {\n      return (\n        <button\n          className=\"profile__button-add-diary fade-in\"\n          type=\"button\"\n          onClick={openForm}\n        >\n          <ButtonRound color=\"blue\" isSmall isSpan />\n        </button>\n      );\n    }\n    return null;\n  }\n\n  function renderDiaryForm() {\n    if (isFormOpen || (diaries && diaries.length === 0)) {\n      return (\n        <div className=\"profile__form-container\">\n          {!isEditMode && (\n            <TitleH2 sectionClass=\"profile__title fade-in\" title={formTitle} />\n          )}\n          <ProfileForm\n            sectionClass=\"profile__diary-form scale-in\"\n            isEditMode={isEditMode}\n            isOpen={isFormOpen}\n            data={formDataToEdit}\n            onClose={closeForm}\n            onSubmit={handleSubmitDiary}\n            isWaitingResponse={isWaitingResponse}\n          />\n        </div>\n      );\n    }\n    return null;\n  }\n\n  function renderDiaries() {\n    if (isLoadingPaginate) return <Loader isPaginate />;\n\n    if (diaries && diaries.length > 0) {\n      return (\n        <>\n          {diaries.map((diary) => (\n            <ProfileDiary\n              key={diary?.id}\n              data={diary}\n              onEdit={handleEditMode}\n              onDelete={openDeleteDiaryPopup}\n              onShare={handleShareDiary}\n              sectionClass=\"scale-in\"\n              selectedDiaryId={selectedDiary?.id}\n              isWaitingResponse={isWaitingResponse && !isDeleteDiaryPopupOpen}\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <div className=\"profile__events-area page__section\">\n          {!isLoadingEvents ? (\n            <>\n              <div className=\"profile__events-heading\">\n                <UserMenuButton\n                  sectionClass=\"profile__archive-button\"\n                  title={\n                    isArchiveOpen ? eventsCurrentButton : eventsArchiveButton\n                  }\n                  handleClick={\n                    isArchiveOpen ? openCurrentEvents : openArchiveOfEvents\n                  }\n                />\n                <TitleH2\n                  sectionClass=\"profile__title profile__title_shifted\"\n                  title={isArchiveOpen ? titleH1Archive : titleH1Current}\n                />\n              </div>\n              {(events.length > 0 || archivedEvents.length > 0) && (\n                <ScrollableContainer\n                  sectionClass=\"profile__events\"\n                  step={3}\n                  onScrollCallback={() => {\n                    if (!serverError) {\n                      if (isArchiveOpen) {\n                        getArchiveOfEvents({\n                          limit: eventsLimit,\n                          offset: eventsOffset,\n                        });\n                      } else {\n                        getCurrentBookedEvents({\n                          limit: eventsLimit,\n                          offset: eventsOffset,\n                        });\n                      }\n                    }\n                  }}\n                >\n                  {renderEventCards()}\n                </ScrollableContainer>\n              )}\n            </>\n          ) : (\n            <Loader isSmallGrid />\n          )}\n        </div>\n\n        <div className=\"profile__diaries page__section\">\n          <span className=\"profile__scroll-anchor\" ref={scrollAnchorRef} />\n          <div className=\"profile__diaries-container\">\n            {renderAddDiaryButton()}\n\n            {renderDiaryForm()}\n\n            {renderDiaries()}\n\n            {pageCount > 1 && (\n              <Paginate\n                sectionClass=\"cards-section__pagination\"\n                pageCount={pageCount}\n                value={pageIndex}\n                onChange={setPageIndex}\n                dontUseScrollUp\n              />\n            )}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Profile;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getProfileDiariesData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// создать дневник\nfunction createDiary(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// редактировать дневник\nfunction editDiary(diaryId, data) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// удалить дневник\nfunction deleteDiary(diaryId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// открыть дневник куратору\nfunction shareDiary(diaryId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/send/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получить дневник по id\nfunction getDiaryById(diaryId) {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n  shareDiary,\n  getDiaryById,\n};\n"],"sourceRoot":""}