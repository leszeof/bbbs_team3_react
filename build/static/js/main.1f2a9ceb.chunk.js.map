{"version":3,"sources":["utils/external-links.js","locales/about-us-page-RU.js","hooks/useClickOutside.js","hooks/useScrollToTop.js","contexts/CurrentUserContext.js","contexts/CitiesContext.js","contexts/PopupsContext.js","contexts/ErrorsContext.js","config/config.js","api/auth.js","api/user.js","config/routes.js","hooks/useLocalStorage.js","config/constants.js","hooks/useAuth.js","api/cities.js","hooks/useDebounce.js","hooks/useCities.js","api/places-page.js","hooks/useActivityTypes.js","hooks/useEventBooking.js","api/event-participants.js","hooks/useFormWithValidation.js","components/Header/locales/RU.js","components/NavBar/locales/RU.js","components/utils/Blockquote/Blockquote.js","components/utils/Button/Button.js","components/utils/ButtonDots/ButtonDots.js","components/utils/ButtonRound/ButtonRound.js","components/utils/Caption/Caption.js","components/utils/Card/Card.js","components/utils/NavItem/NavItem.js","utils/drop-down-menu-link.js","components/utils/DropDownMenu/DropDownMenu.js","components/utils/DropDownSelect/locales/RU.js","components/utils/DropDownSelect/DropDownSelect.js","components/utils/Input/Input.js","components/utils/LinkableHeading/LinkableHeading.js","components/utils/Loader/Loader.js","assets/logo.svg","components/utils/LogoBlue/LogoBlue.js","components/utils/ModificatedScrollbars/ModificatedScrollbars.js","components/utils/NoDataNotificationBox/locales/RU.js","components/utils/NoDataNotificationBox/NoDataNotificationBox.js","components/utils/Paginate/Paginate.js","components/utils/PseudoButtonTag/PseudoButtonTag.js","components/utils/Rating/Rating.js","components/utils/Rubric/Rubric.js","components/utils/ScrollableContainer/ScrollableContainer.js","components/utils/SearchButton/SearchButton.js","components/utils/TitleH1/TitleH1.js","components/utils/TitleH2/TitleH2.js","components/utils/TitleH3/TitleH3.js","components/utils/UserIconButton/UserIconButton.js","components/utils/UserMenuButton/UserMenuButton.js","components/utils/Widget/Widget.js","components/NavItemWithDropdown/NavItemWithDropdown.js","components/NavBar/NavBar.js","components/Header/Header.js","components/Footer/locales/RU.js","assets/footer-logo.svg","components/Footer/Footer.js","layout/BasePage.js","components/Cards/CardFigure/CardFigure.js","components/Cards/CardAbout/CardAbout.js","pages/AboutUs/AboutUs.js","locales/profile-page-RU.js","components/Cards/ProfileEventCard/locales/RU.js","utils/utils.js","components/Cards/ProfileEventCard/ProfileEventCard.js","components/ProfileForm/locales/RU.js","utils/rating-captions.js","components/ProfileForm/ProfileForm.js","components/ProfileDiary/locales/RU.js","assets/icon-logo-no-text.svg","components/Cards/CardAnnotation/CardAnnotationContainer.js","components/ProfileDiary/ProfileDiary.js","components/Popups/PopupDeleteDiary/locales/RU.js","components/Popups/Popup/locales/RU.js","components/Popups/Popup/Popup.js","components/Popups/PopupDeleteDiary/PopupDeleteDiary.js","components/AnimatedPageContainer/locales/RU.js","components/AnimatedPageContainer/AnimatedPageContainer.js","pages/Profile/Profile.js","api/profile-page.js","locales/calendar-page-RU.js","utils/filter-tags.js","components/Cards/CardCalendar/locales/RU.js","components/Cards/CardCalendar/CardCalendar.js","components/TagsList/TagsList.js","pages/Calendar/Calendar.js","api/afisha-page.js","locales/main-page-RU.js","api/main-page.js","components/Cards/CardStub/locales/RU.js","components/Cards/CardStub/CardStub.js","components/Cards/CardPlace/locales/RU.js","components/Cards/CardAnnotation/CardAnnotation.js","components/Cards/CardPlace/CardPlace.js","components/Cards/CardArticleBig/locales/RU.js","components/Cards/CardArticleBig/CardArticleBig.js","components/Cards/CardFilm/locales/RU.js","utils/parser-link-youtube.js","components/Cards/CardFilm/CardFilm.js","components/Cards/CardVideoMain/locales/RU.js","components/Cards/CardVideoMain/CardVideoMain.js","components/Cards/CardQuestion/locales/RU.js","components/Cards/CardQuestion/CardQuestion.js","components/Cards/CardAnimatedPlug/CardAnimatedPlug.js","pages/MainPage/MainPage.js","locales/404-page-RU.js","layout/PageNoFooter.js","pages/PageNotFound/PageNotFound.js","locales/catalog-page-RU.js","utils/render-lines.js","components/CardsSectionWithLines/CardsSectionWithLines.js","api/catalog-page.js","components/Cards/CardCatalog/CardCatalog.js","pages/Catalog/Catalog.js","locales/questions-page-RU.js","api/questions-page.js","pages/Questions/Questions.js","locales/places-page-RU.js","pages/Places/constants.js","components/PlacesRecommend/locales/RU.js","components/FormRecommendation/locales/RU.js","components/FormRecommendation/FormRecommendation.js","components/PlacesRecommend/PlacesRecommend.js","pages/Places/Places.js","locales/rights-page-RU.js","api/rights-page.js","components/Cards/CardRights/CardRights.js","pages/Rights/Rights.js","locales/movies-page-RU.js","api/movies-page.js","pages/Movies/Movies.js","locales/articles-page-RU.js","components/Cards/CardArticle/locales/RU.js","components/Cards/CardArticle/CardArticle.js","api/articles-page.js","pages/Articles/Articles.js","locales/read-and-watch-page-RU.js","components/Cards/CardBook/CardBook.js","pages/ReadAndWatch/constants.js","components/ReadAndWatchSection/ReadAndWatchSection.js","components/ReadAndWatchSection/constants.js","api/video-page.js","api/books-page.js","pages/ReadAndWatch/ReadAndWatch.js","locales/video-page-RU.js","pages/Video/Video.js","locales/books-page-RU.js","pages/Books/Books.js","api/catalog-article-page.js","locales/catalog-article-page-RU.js","pages/CatalogArticle/CatalogArticle.js","layout/PageWithTransparentHeader.js","pages/RightsArticle/RightsArticle.js","locales/stories-page-RU.js","pages/Stories/Stories.js","components/ProtectedRoute/ProtectedRoute.js","navigation/Router.js","components/Popups/PopupConfirmation/locales/RU.js","components/Popups/PopupConfirmation/PopupConfirmation.js","components/Popups/PopupSuccessfully/locales/RU.js","components/Popups/PopupSuccessfully/PopupSuccessfully.js","components/Popups/PopupRecommendSuccess/locales/RU.js","components/Popups/PopupRecommendSuccess/PopupRecommendSuccess.js","components/Popups/PopupLogin/locales/RU.js","components/Popups/PopupLogin/PopupLogin.js","components/Popups/PopupAboutEvent/locales/RU.js","components/Popups/PopupAboutEvent/PopupAboutEvent.js","components/Popups/PopupCities/locales/RU.js","components/Popups/PopupCities/PopupCities.js","components/Popups/PopupError/PopupError.js","components/Popups/PopupVideo/PopupVideo.js","components/Popups/PopupInfoTooltip/locales/RU.js","components/Popups/PopupInfoTooltip/PopupInfoTooltip.js","App.js","index.js"],"names":["socialLinks","id","url","title","bbbsLinks","developmentLinks","aboutUsTexts","headTitle","headDescription","logoLink","aboutTitle","aboutParagraphs","text","blockquote","cards","linkText","href","color","useClickOutside","callback","ref","useRef","clickListener","useCallback","evt","current","contains","target","useEffect","document","addEventListener","removeEventListener","useScrollToTop","deps","window","scrollTo","top","CurrentUserContext","createContext","CitiesContext","PopupsContext","ErrorsContext","baseURL","apiUrl","staticImageUrl","AuthApi","accessToken","axios","defaults","headers","common","Authorization","loginData","post","then","response","data","catch","err","Promise","reject","getUserData","get","Error","message","AFISHA_URL","ABOUT_US_URL","QUESTIONS_URL","PROFILE_URL","PLACES_URL","RIGHTS_URL","READ_AND_WATCH_URL","CATALOG_URL","VIDEO_URL","ARTICLES_URL","MOVIES_URL","BOOKS_URL","STORIES_URL","AFISHA_TITLE","ABOUT_US_TITLE","QUESTIONS_TITLE","PLACES_TITLE","RIGHTS_TITLE","READ_AND_WATCH_TITLE","STORIES_TITLE","setLocalStorageData","key","value","localStorage","setItem","JSON","stringify","getLocalStorageData","parse","getItem","dispatchLocalStorageEvent","event","Event","dispatchEvent","useLocalStorage","getLocalStorageItem","weekdays","months","COLORS","FIGURES","ALL_CATEGORIES","regExpImages","DELAY_DEBOUNCE","localStUserCity","localStAfishaEvent","localStChosenVideo","ERROR_MESSAGES","button","ERROR_CODES","useAuth","setCurrentUser","generalErrorMessage","unauthorized","badRequest","useState","isCheckingToken","setIsCheckingToken","popups","useContext","errors","history","useHistory","handleError","status","setError","handleLogout","clearAuth","clear","push","handleLogin","authorize","token","access","refresh","setAuth","userData","closePopupLogin","checkToken","openPopupError","getCities","timer","useCities","cities","setCities","defaultCity","setDefaultCity","citiesData","mainCity","find","city","name","console","error","useDebounce","delay","args","clearTimeout","setTimeout","getPlaces","chosen","tags","age_restriction","limit","offset","query","params","getChosenPlace","useActivityTypes","activityTypes","setActivityTypes","results","useEventBooking","openPopupSuccessfully","openPopupConfirmation","closeAllPopups","selectedEvent","setSelectedEvent","listenCancel","newEvent","booked","listenRegister","registerOnEvent","card","eventId","register","setRegisterEvent","cancelRegistration","delete","cancel","setCancelRegisterEvent","handleEventBooking","noConfirm","useFormWithValidation","values","setValues","setErrors","isValid","setIsValid","resetForm","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","handleChangeFiles","pattern","file","files","test","texts","changeCity","changeCityDefault","logoutText","searchPlaceholder","Blockquote","sectionWrapperClass","sectionTitleClass","className","defaultProps","Button","titleSelected","isSubmittable","isDisabled","onClick","isBooked","sectionClass","classNames","join","trim","type","disabled","undefined","ButtonDots","handleClick","ButtonRound","label","isSmall","isSpan","isClick","aria-label","Caption","Card","children","NavItem","sectionLinkClass","rel","to","dropDownMenuLink","DropDownMenu","map","item","buttonAriaLabel","DropDownSelect","placeholder","options","inputName","onChange","isFormOpen","isOpen","setIsOpen","optionSelected","setOptionSelected","classNamesButton","classNamesDropDown","classNamesArrow","dropdownRef","viewBox","fill","xmlns","d","aria-hidden","option","htmlFor","Input","required","max","min","minLength","maxLength","isTextarea","onFocus","errorMessage","classNamesWrap","classNamesInput","classNamesTextarea","LinkableHeading","HeadingComponent","Component","path","titleSectionClass","linkSectionClass","Loader","isNested","isCentered","isSmallGrid","LogoBlue","src","logoPath","alt","ModificatedScrollbars","horizontalScrollClass","autoHide","onMouseOver","thumbVertical","parentElement","style","opacity","onMouseLeave","autoHideTimeout","autoHideDuration","renderTrackHorizontal","renderThumbVertical","defaultText","NoDataNotificationBox","Paginate","props","pageCount","containerClassName","pageClassName","pageLinkClassName","activeLinkClassName","previousClassName","breakClassName","nextClassName","disabledClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","selected","initialPage","PseudoButtonTag","isActive","checked","Rating","ratingType","pseudoButtonClassNames","defaultChecked","Rubric","ScrollableContainer","step","isScrolling","clientX","scrollX","state","setState","scrollByWheel","preventDefault","left","scrollLeft","deltaY","behavior","useLayoutEffect","onMouseDown","onMouseMove","onMouseUp","SearchButton","openPopupInfoTooltip","TitleH1","TitleH2","TitleH3","UserIconButton","isAuthorized","UserMenuButton","Widget","link","allow","NavItemWithDropdown","NavBar","isMobileMenuOpen","onUserButtonClick","onBurgerButtonClick","onCityChangeClick","onLogout","userCityName","pathname","useLocation","currentUser","Header","isTransparent","updateUser","openPopupCities","openPopupLogin","currentAnonymousCity","setUserCityName","userCity","currentCity","setIsMobileMenuOpen","headerRef","handleCloseMobileMenu","classList","isHeaderActive","setIsHeaderActive","prevScrollPos","currentScrollPos","pageYOffset","classNamesHeader","onKeyPress","logoAlt","helpButtonText","helpButtonLink","devText","devLink","devOrg","designText","designLink","designOrg","copyright","Footer","footerLogoPath","BasePage","content","CardFigure","shape","CardAbout","AboutUs","profilePageTexts","eventsTitle","eventsTitleArchive","eventsArchiveButton","eventsCurrentButton","eventsTitleNoResults","eventsTitleNoResultsArchive","formTitle","buttonLabel","formatDuration","duration","hours","parseInt","minutes","seconds","format","formatDate","date","parsedDate","Date","day","getDate","weekdayName","getDay","monthName","getMonth","hour","String","getHours","year","getFullYear","getMinutes","formatWordCase","remainSeats","lastTwoDigits","lastDigit","questionForm","titleClass","formVisibilityClass","changeCaseOfFirstLetter","str","toUpperCase","slice","randomizeArray","arr","size","length","array","Array","splice","Math","floor","random","ProfileEventCard","onOpen","startDay","startAt","rateCaptionText","uploadCaptionText","placePlaceholder","datePlaceholder","datePlaceholderError","descrPlaceholder","buttonAddText","buttonDeleteText","buttonCancelText","buttonSaveText","captions","good","neutral","bad","ProfileForm","isEditMode","onClose","onSubmit","serverError","clearError","errorsString","Object","caption","setCaption","userImage","setUserImage","handleSubmit","mark","image","imageUrl","URL","createObjectURL","handleChangeImage","place","description","noValidate","accept","currentTarget","buttonShareText","buttonTextShared","buttonEditText","CardAnnotationContainer","ProfileDiary","onEdit","onDelete","onShare","sentToCurator","eventDay","defaultImage","submitButtonText","cancelButtonText","closeButtonLabel","Popup","typeContainer","withoutCloseButton","PopupDeleteDiary","onCardDelete","cardData","month","setMonth","formatMonthsGenitiveCase","title404","buttonText","AnimatedPageContainer","is404","titleText","staticPage","urlBack","animationContainer","Lottie","loadAnimation","container","renderer","loop","autoplay","animationData","animation404","Profile","openPopupAboutEvent","events","setEvents","archivedEvents","setArchivedEvents","diaries","setDiaries","isArchiveOpen","setIsArchiveOpen","setIsFormOpen","setIsEditMode","formDataToEdit","setFormDataToEdit","isDeleteDiaryPopupOpen","setIsDeleteDiaryPopupOpen","isLoadingEvents","setIsLoadingEvents","isPageError","setIsPageError","getArchiveOfEvents","eventsData","finally","getCurrentBookedEvents","sortedEvents","sort","a","b","updatedEvent","filter","openEventCard","openArchiveOfEvents","openCurrentEvents","scrollAnchorRef","openForm","scrollIntoView","closeForm","handleEditMode","createFormData","formData","FormData","append","handleErrorOnFormSubmit","handleCreateDiary","createDiary","newDiary","handleEditDiary","diaryId","patch","editDiary","diary","handleSubmitDiary","selectedDiary","setSelectedDiary","openDeleteDiaryPopup","closeDeleteDiaryPopup","handleShareDiary","shareDiary","titleH1Current","titleH1Archive","renderEventCards","renderingEvents","prevDiary","calendarPageTexts","textStubNoData","handleCheckboxBehavior","inputValue","isChecked","stateFilters","filterItem","selectOneTag","tagName","deselectOneTag","deselectAllTags","buttonTitle","buttonTitleSelected","buttonTitleDisabled","remainSeatsText","CardCalendar","onEventSignUpClick","onEventDescriptionClick","endAt","address","contact","startDateParts","endDayParts","TagsList","filterList","classNamesList","PAGE_SIZE_PAGINATE","Calendar","isLoading","setIsLoading","isGlobalLoader","setIsGlobalLoader","isLoadingPaginate","setIsLoadingPaginate","calendarPageData","setCalendarPageData","filters","setFilters","isFiltersUsed","setIsFiltersUsed","pageSize","setPageSize","totalPages","setTotalPages","pageIndex","setPageIndex","isFirstRender","setIsFirstRender","small","matchMedia","medium","listener","matches","areThereEventsMoreForOneMonth","getActiveFilters","getPageData","activeFilters","getCalendarPageData","count","ceil","handleFilterButtonClick","handleRadioBehavior","monthsTags","customFilters","tag","debounceFiltration","activeMonths","debouncePaginate","mainPageTexts","CardAnimatedPlugText","getMainPageData","CardStub","genderMale","genderFemale","chosenTagText","activityTypeDefault","CardAnnotation","info","isMain","CardPlace","gender","age","activityType","isBig","isMainPage","cardColor","cardSize","sex","types","reduce","obj","CardArticleBig","articleUrl","pageUrl","altText","parserLinkYoutube","idVideo","getYouTubeID","frameSrc","imagePreview","CardFilm","openPopupVideo","isMobile","setIsMobile","mobile","renderVideoPlayback","childrenElem","durationString","renderPrewiew","imageAlt","CardVideoMain","labelText","CardQuestion","answer","isQuestionsPage","isOpened","setIsOpened","isAnimated","setIsAnimated","answerWrapperClassNames","minHeight","clientHeight","height","CardAnimatedPlug","animation","MainPage","mainPageData","setMainPageData","isCityChanging","setIsCityChanging","dispatchRedirectEvent","renderHistoryBlock","renderPlaceSection","renderArticleSection","article","renderMoviesSection","randomMovies","movies","additionalMoviesClasses","movie","renderVideoSection","video","renderQuestionBlock","randomQuestions","questions","articles","renderPageContent","page404Texts","animatedContainerText","PageNoFooter","PageNotFound","catalogPageTexts","subtitle","renderThoseDamnedLines","dataLength","isTablet","renderOneLine","renderTwoLines","renderThreeLines","CardsSectionWithLines","pageNumber","setPageNumber","setIsTablet","tablet","getCatalogPageData","CardCatalog","Catalog","setPageCount","catalogPageData","setCatalogPageData","isLoadingPage","setIsLoadingPage","smallQuery","largeQuery","i","questionsPageTexts","formPlaceholder","formSubmitButton","loadMoreButton","getQuestionsPageData","Questions","questionsPageData","setQuestionsPageData","categories","setCategories","questionFormState","setQuestionFormState","setFormState","isError","question","postQuestion","changeCategory","getActiveCategories","getFiltratedQuestions","questionsData","loadMoreEventsForCurrentFilterState","activeCategories","prevData","all","tagsFilters","slug","prevIndex","isDataForPage","placesPageTexts","paragraphNoContent","mentorTag","ageFilterNames","ageFilters","closeButtonlabel","recommendadionTextPart1","recommendadionButton","recommendadionTextPart2","titlePlaceholder","linkPlaceholder","addressPlaceholder","agePlaceholder","activityPlaceholder","cityPlaceholder","descPlaceholder","descPlaceholderMobile","FormRecommendation","textAreaPlaceholder","setTextAreaPlaceholder","formClassNames","PlacesRecommend","openPopupRecommendSuccess","postPlace","Places","places","setPlaces","chosenPlace","setChosenPlace","isChosenOnPageOne","setIsChosenOnPageOne","isLoadingFilters","setIsLoadingFilters","isChosenCardHidden","setIsChosenCardHidden","ages","setAges","changeAge","definePlaces","placesData","isFiltered","mainCard","chosenCard","restOfPlaces","pop","defineActiveTags","category","activeTags","activeAges","isMentorFlag","some","getFilteredPlaces","isFiltersActive","fixedPageSize","fixedOffset","debouncePagination","predefinedParams","scroll","tagsData","chosenPlaceData","categoriesArray","toLowerCase","defineCategories","rightsPageTexts","getRightsData","getRightsArticle","CardRights","Rights","setArticles","getActiveTags","getArticlesData","categoriesArr","moviesPageTexts","getMoviesPageData","Movies","moviesPageData","setMoviesPageData","getMoviesData","getMoviesFilter","mobileQuery","renderMoviesContainer","annotation","articlesPageTexts","CardArticle","getArticlesPageData","Articles","articlesPageData","setArticlesPageData","mainArticle","setMainCard","pinnedFullSize","articlesData","readAndWatchPageTexts","pageTitles","catalogTitle","articlesTitle","moviesTitle","videosTitle","booksTitle","CardBook","author","backgroundColor","RAW_DELAY_SLIDER_TRANSITION","RAW_SLIDER_PADDINGS","RAW_SLIDER_BREAKPOINTS","S","M","L","ХL","ELEMS_PER_SLIDE","ReadAndWatchSection","getDataFromApi","CardTemplateComponent","sectionTitle","breakpoints","elemPaddings","transitionDelay","paragraphNoContentText","XL","sectionData","setSectionData","isSectionError","setIsSectionError","breakPoints","width","itemsToShow","itemsToScroll","slideBackHandler","slideNextHandler","currentItem","newPageIndex","pagesLoadedNow","getNumOfPages","addNewData","previousData","transitionMs","pagination","outerSpacing","preventDefaultTouchmoveEvent","itemPadding","disableArrowsOnEnd","showEmptySlots","onNextEnd","onPrevEnd","getVideoPageData","resource_group","getBooksPageData","one","two","three","four","ReadAndWatch","querySizeS","querySizeM","querySizeL","getCatalogPageDatа","videoPageTexts","resourceGroupTag","Video","mainVideo","setMainVideo","setVideo","isShowMainCard","setIsShowMainCard","isResourceGroup","getVideoData","getFirstPageData","videoData","resourceGroup","booksPageTexts","Books","booksPageData","setBooksPageData","getBooksData","getBooksFilter","renderBooksContainer","books","getCatalogArticlePageData","articleId","catalogArticlePageTexts","CatalogArticle","catalogArticlePageData","setCatalogArticlePageData","dangerouslySetInnerHTML","__html","rawHtml","PageWithTransparentHeader","RightsArticle","articleData","setArticleData","Number","nextId","setNextId","changeClick","res","storiesPageTexts","Stories","ProtectedRoute","component","Router","exact","render","match","PopupConfirmation","endDay","popupTitle","paragraph","PopupSuccessfully","animationSuccess","PopupRecommendSuccess","animationRecommendSuccess","firstParagraph","secondParagraph","loginPlaceholder","passwordPlaceholder","forgotButtonText","titleForgotForm","paragraphForgotForm","emailPlaceholder","backButtonText","submitButtonTextForgot","PopupLogin","isForgotPassword","setIsForgotPassword","isSuccess","setIsSuccess","successMessage","setSuccessMessage","handleClickForgotPassword","successForgotPassword","handleSubmitForgotPassword","email","closePopup","closePopupOnEsc","classNameAuth","classForgotPassword","username","password","PopupAboutEvent","isWithoutRegister","PopupCities","debounceSubmitCity","dataToUpdate","cityId","isPrimary","PopupError","closeOnEsc","PopupVideo","iframeIsLoading","setIframeIsLoading","onLoad","frameBorder","allowFullScreen","seamless","PopupInfoTooltip","App","isPopupConfirmationOpen","setIsPopupConfirmationOpen","isPopupSuccessfullyOpen","setIsPopupSuccessfullyOpen","isPopupAboutDescriptionOpen","setIsPopupAboutDescriptionOpen","isPopupErrorOpen","setIsPopupErrorOpen","isPopupLoginOpen","setIsPopupLoginOpen","isPopupCitiesOpen","setIsPopupCitiesOpen","isPopupRecommendSuccessOpen","setIsPopupRecommendSuccessOpen","isVideoPopupOpen","setIsVideoPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsWithoutRegister","closePopupError","closePopupCities","closePopupVideo","removeItem","setServerError","Provider","withoutRegister","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1f2a9ceb.chunk.js","sourcesContent":["export const socialLinks = [\n  {\n    id: 1,\n    url: 'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n    title: 'facebook',\n  },\n  {\n    id: 2,\n    url: 'https://vk.com/big.brothers.big.sisters',\n    title: 'vkontakte',\n  },\n  {\n    id: 3,\n    url: 'https://www.instagram.com/nastavniki_org/',\n    title: 'instagram',\n  },\n  {\n    id: 4,\n    url: 'https://www.youtube.com/user/Nastavniki/',\n    title: 'youtube',\n  },\n];\n\nexport const bbbsLinks = {\n  about: 'https://www.nastavniki.org/o-nas/ob-organizaczii/',\n  donations: 'https://www.nastavniki.org/campaign/pomoch-dengami/',\n  volunteering: 'https://www.nastavniki.org/volontyorstvo/kak-stat-volonterom/',\n  partners: 'https://www.nastavniki.org/oficzialno/nashi-partneryi/',\n};\n\nexport const developmentLinks = {\n  praktikum: {\n    title: 'Яндекс.Практикум',\n    url: 'https://praktikum.yandex.ru/',\n  },\n  design: {\n    title: 'krkr.design',\n    url: 'https://krkr.design/',\n  },\n};\n","import { bbbsLinks } from '../utils/external-links';\n\nconst aboutUsTexts = {\n  headTitle: 'О проекте',\n  headDescription: 'Информация об организации Старшие Братья Старшие Сёстры.',\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  logoLink: bbbsLinks.about,\n  aboutTitle: 'Об организации',\n  aboutParagraphs: [\n    {\n      id: 1,\n      text: '«Старшие Братья Старшие Сестры» — межрегиональная общественная организация содействия воспитанию подрастающего поколения. Мы поддерживаем детей, которым требуется внимание: оставшихся без попечения родителей, приемных, детей из неполных, многодетных или неблагополучных семей, детей с ограниченными возможностями.',\n    },\n    {\n      id: 2,\n      text: 'Любому человеку, тем более ребенку, необходимо общение. Без него дети растут неуверенными и замкнутыми. Одиночество токсично, а самое надежное противоядие – дружба.',\n    },\n    {\n      id: 3,\n      text: 'Мы помогаем детям, которым не хватает поддержки взрослого друга, «Младшим». Таким другом становится наш волонтер, «Старший». Он принимает ребенка, какой он есть, поддерживает, помогает раскрыть потенциал, почувствовать уверенность в своих силах, узнать элементарные вещи о жизни, адаптироваться и полноценно участвовать в жизни общества.',\n    },\n  ],\n  blockquote:\n    'Мы хотим, чтобы наставник был у каждого ребенка, который в нем нуждается',\n  cards: [\n    {\n      id: 1,\n      title: 'Пожертвования',\n      text: 'Деньги пойдут на оплату работы кураторов (профессиональные психологи/социальные работники), которые поддерживают дружбу между ребенком и наставником.',\n      linkText: 'сделать пожертвование',\n      href: bbbsLinks.donations,\n      color: 'blue',\n    },\n    {\n      id: 2,\n      title: 'Наставничество',\n      text: 'Наставник «Старшие Братья Старшие Сестры» — значимый взрослый, который становится для ребенка старшим другом, ролевой моделью, принимает своего «Младшего» таким, какой он есть. «Старший» открывает для ребенка дверь в большой мир и дарит ему надежду на более счастливое и успешное будущее.',\n      linkText: 'подробнее',\n      href: bbbsLinks.volunteering,\n      color: 'pink',\n    },\n    {\n      id: 3,\n      title: 'Партнерство',\n      text: 'Компании поддерживают нас не только деньгами, но и делами. Мы собрали все возможные способы поддержки и сотрудничества: профессиональная помощь Pro Bono, организационная помощь, корпоративное волонтерство, мастер-классы, лекции, учебные программы.',\n      linkText: 'подробнее',\n      href: bbbsLinks.partners,\n      color: 'green',\n    },\n  ],\n};\n\nexport default aboutUsTexts;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// отслеживает, что клик произошёл вне контейнера-рефа и запускает колбэк\nconst useClickOutside = (callback) => {\n  const ref = useRef(null);\n\n  const clickListener = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        if (!ref.current.contains(evt.target)) {\n          callback();\n        }\n      }\n    },\n    [ref.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('mousedown', clickListener);\n    return () => document.removeEventListener('mousedown', clickListener);\n  }, []);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","import { useEffect } from 'react';\n\nconst useScrollToTop = (...deps) => {\n  useEffect(() => {\n    window.scrollTo({ top: 0 });\n  }, [...deps]);\n};\n\nexport default useScrollToTop;\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import { createContext } from 'react';\n\nconst CitiesContext = createContext();\nexport default CitiesContext;\n","import { createContext } from 'react';\n\nconst PopupsContext = createContext();\nexport default PopupsContext;\n","import { createContext } from 'react';\n\nconst ErrorsContext = createContext();\nexport default ErrorsContext;\n","export const baseURL = 'http://178.154.192.53';\nexport const apiUrl = '/api/v1';\nexport const adminUrl = 'http://178.154.192.53';\nexport const staticImageUrl = `${adminUrl}/media`;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nclass AuthApi {\n  // установить заголовки авторизации\n  static setAuth(accessToken) {\n    axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\n  }\n\n  // очистить заголовки авторизации\n  static clearAuth() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n\n  // функция авторизации\n  static authorize(loginData) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/`, loginData)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n}\n\nexport default AuthApi;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить юзера с сервера\nfunction getUserData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// обновить профиль пользователя\nfunction updateUserProfile(dataToUpdate) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/`, dataToUpdate)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// восстановить пароль\nfunction recoverPassword(email) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/send_password/`, email)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getUserData, updateUserProfile, recoverPassword };\n","export const MAIN_PAGE_URL = '/';\nexport const AFISHA_URL = '/afisha';\nexport const ABOUT_US_URL = '/about-us';\nexport const QUESTIONS_URL = '/questions';\nexport const PROFILE_URL = '/profile';\nexport const PLACES_URL = '/places';\nexport const RIGHTS_URL = '/rights';\nexport const RIGHTS_ARTICLE_URL = '/rights/:id';\nexport const READ_AND_WATCH_URL = '/read-and-watch';\nexport const CATALOG_URL = '/catalog';\nexport const CATALOG_ITEM_URL = '/catalog/:articleId';\nexport const VIDEO_URL = '/video';\nexport const ARTICLES_URL = '/articles';\nexport const MOVIES_URL = '/movies';\nexport const BOOKS_URL = '/books';\nexport const STORIES_URL = '/stories';\n\nexport const MAIN_PAGE_TITLE = 'наставники.про';\nexport const AFISHA_TITLE = 'Календарь';\nexport const ABOUT_US_TITLE = 'О проекте';\nexport const QUESTIONS_TITLE = 'Вопросы';\nexport const PROFILE_TITLE = 'Личный кабинет';\nexport const PLACES_TITLE = 'Куда пойти';\nexport const RIGHTS_TITLE = 'Права детей';\nexport const READ_AND_WATCH_TITLE = 'Читать и смотреть';\nexport const CATALOG_TITLE = 'Справочник';\nexport const VIDEO_TITLE = 'Видео';\nexport const ARTICLES_TITLE = 'Статьи';\nexport const MOVIES_TITLE = 'Фильмы';\nexport const BOOKS_TITLE = 'Книги';\nexport const STORIES_TITLE = 'Истории';\n","import { useCallback, useEffect } from 'react';\n\n// вспомогательные функции\nexport const setLocalStorageData = (key, value) =>\n  localStorage.setItem(key, JSON.stringify(value));\n\nexport const removeLocalStorageData = (key) => localStorage.removeItem(key);\n\nexport const clearLocalStorage = () => localStorage.clear();\n\nexport const getLocalStorageData = (key) =>\n  JSON.parse(localStorage.getItem(key));\n\nexport const dispatchLocalStorageEvent = (key, value) => {\n  const event = new Event('changeLocalStorage');\n  setLocalStorageData(key, value);\n  window.dispatchEvent(event);\n};\n\n// хук слушает изменение определённого ключа в localStorage и возвращает его значение при любом изменении\n// работает в связке с dispatchLocalStorageEvent\nexport const useLocalStorage = (key) => {\n  const getLocalStorageItem = useCallback(\n    () => getLocalStorageData(key),\n    [key]\n  );\n\n  useEffect(() => {\n    window.addEventListener('changeLocalStorage', getLocalStorageItem);\n    return () =>\n      window.removeEventListener('changeLocalStorage', getLocalStorageItem);\n  }, []);\n\n  return getLocalStorageItem;\n};\n","export const weekdays = [\n  'воскресенье',\n  'понедельник',\n  'вторник',\n  'среда',\n  'четверг',\n  'пятница',\n  'суббота',\n];\n\nexport const months = [\n  '', // специально, т.к у бекенда с номера 1 начинается расчет месяцев\n  'январь',\n  'февраль',\n  'март',\n  'апрель',\n  'май',\n  'июнь',\n  'июль',\n  'август',\n  'сентябрь',\n  'октябрь',\n  'ноябрь',\n  'декабрь',\n];\n\nexport const COLORS = [\n  'yellow',\n  'green',\n  'yellow',\n  'pink',\n  'blue',\n  'pink',\n  'green',\n  'yellow',\n  'green',\n  'blue',\n  'pink',\n  'blue',\n];\n\nexport const FIGURES = [\n  'square',\n  'circle',\n  'arch',\n  'circle',\n  'arch',\n  'square',\n  'arch',\n  'square',\n  'circle',\n];\n\nexport const ALL_CATEGORIES = 'Все';\nexport const DEFAULT_CITY = 'Москва';\n\nexport const regExpImages = /^[\\W\\w\\S\\s]+\\.(jpe?g|png|webp|jfif|bmp)$/i;\n\nexport const DELAY_DEBOUNCE = 1500;\nexport const DELAY_RENDER = 100;\n\nexport const localStUserCity = 'userCity';\nexport const localStAfishaEvent = 'afishaEvent';\nexport const jwt = 'jwt';\nexport const localStChosenVideo = 'chosenVideo';\n\nexport const ERROR_MESSAGES = {\n  generalErrorMessage: {\n    title: 'При передаче данных произошла ошибка. Повторите попытку позже.',\n    button: 'Вернуться',\n  },\n  eventAddErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте записаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  eventCancelErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте отписаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  citiesErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать город снова',\n    button: 'Вернуться',\n  },\n  filterErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать фильтр снова',\n    button: 'Вернуться',\n  },\n};\n\nexport const ERROR_CODES = {\n  badRequest: 400,\n  unauthorized: 401,\n};\n","import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PopupsContext, ErrorsContext } from '../contexts/index';\nimport AuthApi from '../api/auth';\nimport { getUserData } from '../api/user';\nimport { MAIN_PAGE_URL } from '../config/routes';\nimport {\n  setLocalStorageData,\n  getLocalStorageData,\n  clearLocalStorage,\n} from './useLocalStorage';\nimport { jwt, ERROR_MESSAGES, ERROR_CODES } from '../config/constants';\n\nconst useAuth = (setCurrentUser) => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\n\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const history = useHistory();\n\n  const handleError = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized)\n      errors.setError(err?.data);\n    else\n      errors.setError({\n        message: generalErrorMessage.title,\n      });\n  };\n\n  const handleLogout = () => {\n    AuthApi.clearAuth();\n    setCurrentUser(null);\n    clearLocalStorage();\n    history.push(MAIN_PAGE_URL);\n  };\n\n  const handleLogin = (loginData) => {\n    AuthApi.authorize(loginData)\n      .then((token) => {\n        const { access, refresh } = token;\n        if (refresh && access) {\n          AuthApi.setAuth(access);\n          setLocalStorageData(jwt, access);\n          getUserData()\n            .then((userData) => setCurrentUser(userData))\n            .then(() => popups.closePopupLogin())\n            .catch((err) => handleError(err));\n        }\n      })\n      .catch((err) => handleError(err)); // авторизация (работа с сервером) закончилась ошибкой\n  };\n\n  const checkToken = () => {\n    const token = getLocalStorageData(jwt);\n    if (token) {\n      AuthApi.setAuth(token);\n      getUserData()\n        .then((userData) => setCurrentUser(userData))\n        .then(() => setIsCheckingToken(false))\n        .catch(() => {\n          errors.setError({\n            title: generalErrorMessage.title,\n            button: generalErrorMessage.button,\n          });\n          popups.openPopupError();\n        }); // при получении userData возникла проблема\n    } else {\n      setIsCheckingToken(false);\n    }\n  };\n\n  return {\n    isCheckingToken,\n    handleLogout,\n    handleLogin,\n    checkToken,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить города\nfunction getCities() {\n  return axios\n    .get(`${baseURL}${apiUrl}/cities/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCities;\n","import { useCallback } from 'react';\n\nlet timer;\nconst useDebounce = (callback, delay) => {\n  const debouncedCallback = useCallback(\n    (...args) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      timer = setTimeout(() => {\n        callback(...args);\n      }, delay);\n    },\n    [callback, delay]\n  );\n\n  return debouncedCallback;\n};\n\nexport default useDebounce;\n","import { useEffect, useState } from 'react';\nimport getCities from '../api/cities';\nimport { DEFAULT_CITY } from '../config/constants';\n\nconst useCities = () => {\n  const [cities, setCities] = useState(null);\n  const [defaultCity, setDefaultCity] = useState({});\n\n  useEffect(() => {\n    getCities()\n      .then((citiesData) => {\n        setCities(citiesData);\n        const mainCity = citiesData.find((city) => city?.name === DEFAULT_CITY);\n        setDefaultCity(mainCity);\n      })\n      .catch(console.error);\n  }, []);\n\n  return { cities, defaultCity };\n};\n\nexport default useCities;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getPlacesTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// python was here :)\n// eslint-disable-next-line camelcase\nfunction getPlaces({ chosen, tags, age_restriction, city, limit, offset }) {\n  const query = chosen\n    ? { city, chosen, tags, age_restriction, limit, offset }\n    : { city, tags, age_restriction, limit, offset };\n  return axios\n    .get(`${baseURL}${apiUrl}/places/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getChosenPlace({ city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/first/`, {\n      params: { city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction postPlace(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/places/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getActivityTypes() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/activity-types/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getPlacesTags,\n  getPlaces,\n  postPlace,\n  getActivityTypes,\n  getChosenPlace,\n};\n","import { useEffect, useState, useContext } from 'react';\nimport { getActivityTypes } from '../api/places-page';\nimport { PopupsContext, ErrorsContext } from '../contexts/index';\nimport { ERROR_MESSAGES } from '../config/constants';\n\nconst useActivityTypes = () => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const [activityTypes, setActivityTypes] = useState(null);\n\n  useEffect(() => {\n    getActivityTypes()\n      .then(setActivityTypes)\n      .catch(() => {\n        errors.setError({\n          title: generalErrorMessage.title,\n          button: generalErrorMessage.button,\n        });\n        popups.openPopupError();\n      });\n  }, []);\n\n  return activityTypes;\n};\n\nexport default useActivityTypes;\n","import { useContext, useState, useEffect } from 'react';\nimport {\n  makeEventRegistration,\n  cancelEventRegistration,\n} from '../api/event-participants';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport { getLocalStorageData } from './useLocalStorage';\nimport { localStAfishaEvent, ERROR_MESSAGES } from '../config/constants';\n\nconst useEventBooking = () => {\n  const {\n    openPopupSuccessfully,\n    openPopupConfirmation,\n    closeAllPopups,\n    openPopupError,\n  } = useContext(PopupsContext);\n\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const { setError } = useContext(ErrorsContext);\n\n  const setRegisterEvent = () => {\n    const register = new Event('registerEvent');\n    window.dispatchEvent(register);\n  };\n\n  const setCancelRegisterEvent = () => {\n    const cancel = new Event('cancelRegisterEvent');\n    window.dispatchEvent(cancel);\n  };\n\n  const listenCancel = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = false;\n    setSelectedEvent(newEvent);\n  };\n\n  const listenRegister = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = true;\n    setSelectedEvent(newEvent);\n  };\n\n  useEffect(() => {\n    window.addEventListener('cancelRegisterEvent', listenCancel);\n    window.addEventListener('registerEvent', listenRegister);\n    return () => {\n      window.removeEventListener('cancelRegisterEvent', listenCancel);\n      window.removeEventListener('registerEvent', listenRegister);\n    };\n  }, []);\n\n  const registerOnEvent = (card) => {\n    makeEventRegistration({ event: card.id })\n      .then(() => setRegisterEvent())\n      .then(() => openPopupSuccessfully())\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.eventAddErrorMessage.title,\n          button: ERROR_MESSAGES.eventAddErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  const cancelRegistration = (card) => {\n    cancelEventRegistration(card.id)\n      .then(() => setCancelRegisterEvent())\n      .then(() => closeAllPopups())\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.eventCancelErrorMessage.title,\n          button: ERROR_MESSAGES.eventCancelErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  const handleEventBooking = (card, noConfirm) => {\n    if (card.booked) {\n      // мы записаны на ивент, надо отписаться\n      cancelRegistration(card);\n    } else if (noConfirm) {\n      closeAllPopups();\n      registerOnEvent(card);\n    } else {\n      // мы НЕ записаны на ивент\n      closeAllPopups(); // закрываем попап подробно\n      openPopupConfirmation(); // открываем попап \"подтвердите\"\n    }\n  };\n\n  return { handleEventBooking, registerOnEvent, selectedEvent };\n};\n\nexport default useEventBooking;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// запись на мероприятие\nfunction makeEventRegistration(eventId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// отписка регистрации на мероприятие\nfunction cancelEventRegistration(eventId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение списка всех мероприятий на которые записан юзер\nfunction getBookedEvents() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getArchiveOfBookedEvents() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/archive/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  makeEventRegistration,\n  cancelEventRegistration,\n  getBookedEvents,\n  getArchiveOfBookedEvents,\n};\n","import { useCallback, useState } from 'react';\n\nconst useFormWithValidation = () => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { name, value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const handleChangeFiles = (evt, pattern) => {\n    const file = evt.target.files[0];\n    const { name } = evt.target;\n\n    if (!file) {\n      return;\n    }\n\n    if (file && pattern.test(file.name)) {\n      setValues({ ...values, [name]: file });\n      setErrors({ ...errors, [name]: '' });\n    } else {\n      setErrors({ ...errors, [name]: 'Некорректный формат файла' });\n    }\n    setIsValid(evt.target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return {\n    values,\n    handleChange,\n    handleChangeFiles,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n  };\n};\n\nexport default useFormWithValidation;\n","const texts = {\n  changeCity: 'Изменить ваш город',\n  changeCityDefault: 'Изменить город',\n  logoutText: 'Выйти',\n};\n\nexport default texts;\n","const texts = {\n  changeCity: 'Изменить ваш город',\n  changeCityDefault: 'Изменить город',\n  logoutText: 'Выйти',\n  searchPlaceholder: 'Поиск',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\n\nfunction Blockquote({ sectionWrapperClass, sectionTitleClass, text }) {\n  return (\n    <blockquote className={sectionWrapperClass}>\n      <h3 className={`chapter-title ${sectionTitleClass}`}>{text}</h3>\n    </blockquote>\n  );\n}\n\nBlockquote.propTypes = {\n  sectionWrapperClass: PropTypes.string,\n  sectionTitleClass: PropTypes.string,\n  text: PropTypes.string,\n};\n\nBlockquote.defaultProps = {\n  sectionWrapperClass: '',\n  sectionTitleClass: '',\n  text: '',\n};\n\nexport default Blockquote;\n","import './Button.scss';\nimport PropTypes from 'prop-types';\n\nfunction Button({\n  title,\n  titleSelected,\n  color,\n  isSubmittable,\n  isDisabled,\n  onClick,\n  isBooked,\n  sectionClass,\n}) {\n  const classNames = [\n    'button',\n    `button_color_${color}`,\n    sectionClass,\n    isBooked ? `button_color_${color}_selected` : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type={isSubmittable ? 'submit' : 'button'}\n      disabled={isDisabled}\n      onClick={onClick}\n    >\n      {!isBooked ? title : titleSelected || title}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  title: PropTypes.string,\n  titleSelected: PropTypes.string,\n  color: PropTypes.string,\n  isSubmittable: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  isBooked: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nButton.defaultProps = {\n  title: '',\n  color: 'blue',\n  isSubmittable: false,\n  titleSelected: undefined,\n  onClick: () => {},\n  isDisabled: false,\n  isBooked: false,\n  sectionClass: '',\n};\n\nexport default Button;\n","import './ButtonDots.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonDots({ handleClick }) {\n  return (\n    <button className=\"button-dots\" type=\"button\" onClick={handleClick}>\n      &#8226;&#8226;&#8226;\n    </button>\n  );\n}\n\nButtonDots.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nButtonDots.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default ButtonDots;\n","import './ButtonRound.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonRound({\n  label,\n  sectionClass,\n  color,\n  isSmall,\n  isDisabled,\n  isSpan,\n  onClick,\n  isClick,\n}) {\n  const classNames = [\n    'button-round',\n    `button-round_color_${color}`,\n    isSmall ? 'button-round_small' : '',\n    sectionClass,\n    isClick ? 'button-round_active' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  if (isSpan) {\n    return <span className={classNames} />;\n  }\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={isDisabled}\n      aria-label={label}\n    />\n  );\n}\n\nButtonRound.propTypes = {\n  label: PropTypes.string,\n  sectionClass: PropTypes.string,\n  color: PropTypes.string,\n  isSmall: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isSpan: PropTypes.bool,\n  onClick: PropTypes.func,\n  isClick: PropTypes.bool,\n};\n\nButtonRound.defaultProps = {\n  label: '',\n  sectionClass: '',\n  color: '',\n  isSmall: false,\n  isDisabled: false,\n  isSpan: false,\n  onClick: undefined,\n  isClick: false,\n};\n\nexport default ButtonRound;\n","import PropTypes from 'prop-types';\n\nfunction Caption({ title, sectionClass }) {\n  return <p className={`caption ${sectionClass}`}>{title}</p>;\n}\n\nCaption.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCaption.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Caption;\n","import './Card.scss';\nimport PropTypes from 'prop-types';\n\nfunction Card({ color, sectionClass, children }) {\n  const classNames = ['card', `card_color_${color}`, sectionClass]\n    .join(' ')\n    .trim();\n\n  return <div className={classNames}>{children}</div>;\n}\n\nCard.propTypes = {\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCard.defaultProps = {\n  color: 'white',\n  sectionClass: '',\n  children: null,\n};\n\nexport default Card;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavItem({\n  sectionWrapperClass,\n  sectionLinkClass,\n  href,\n  linkText,\n  rel,\n  target,\n}) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className={sectionLinkClass} to={href} rel={rel} target={target}>\n        {linkText}\n      </NavLink>\n    </li>\n  );\n}\n\nNavItem.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  sectionLinkClass: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  linkText: PropTypes.string.isRequired,\n  rel: PropTypes.string,\n  target: PropTypes.string,\n};\n\nNavItem.defaultProps = {\n  rel: '',\n  target: '_self',\n  href: '',\n};\n\nexport default NavItem;\n","import {\n  CATALOG_URL,\n  VIDEO_URL,\n  ARTICLES_URL,\n  MOVIES_URL,\n  BOOKS_URL,\n} from '../config/routes';\n\nconst dropDownMenuLink = [\n  {\n    title: 'Справочник',\n    url: CATALOG_URL,\n  },\n  {\n    title: 'Видео',\n    url: VIDEO_URL,\n  },\n  {\n    title: 'Статьи',\n    url: ARTICLES_URL,\n  },\n  {\n    title: 'Фильмы',\n    url: MOVIES_URL,\n  },\n  {\n    title: 'Книги',\n    url: BOOKS_URL,\n  },\n];\n\nexport default dropDownMenuLink;\n","import PropTypes from 'prop-types';\nimport NavItem from '../NavItem/NavItem';\nimport './DropDownMenu.scss';\nimport dropDownMenuLink from '../../../utils/drop-down-menu-link';\n\nfunction DropDownMenu({ sectionWrapperClass }) {\n  return (\n    <ul className={sectionWrapperClass}>\n      {dropDownMenuLink.map((item) => (\n        <NavItem\n          key={item.title}\n          sectionWrapperClass=\"menu__dropdown-list-item\"\n          sectionLinkClass=\"link menu__dropdown-link\"\n          href={item.url}\n          linkText={item.title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nDropDownMenu.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n};\n\nexport default DropDownMenu;\n","const texts = {\n  buttonAriaLabel: 'Выберите опцию',\n};\n\nexport default texts;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './DropDownSelect.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useClickOutside } from '../../../hooks/index';\n\nfunction DropDownSelect({\n  placeholder,\n  options,\n  inputName,\n  onChange,\n  error,\n  sectionClass,\n  isFormOpen,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [optionSelected, setOptionSelected] = useState(null);\n\n  const classNames = ['select', sectionClass].join(' ').trim();\n  const classNamesButton = [\n    'select__button',\n    isOpen ? 'select__button_pressed' : '',\n    optionSelected ? 'select__button_selected' : '',\n    error ? 'select__button_error' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesDropDown = [\n    'select__dropdown',\n    isOpen ? 'select__dropdown_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesArrow = [\n    'select__arrow',\n    isOpen ? 'select__arrow_pressed' : '',\n    error ? 'select__arrow_error' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dropdownRef = useClickOutside(() => setIsOpen(false));\n\n  useEffect(() => {\n    if (isFormOpen) {\n      setOptionSelected(null);\n      setIsOpen(false);\n    }\n  }, [isFormOpen]);\n\n  return (\n    <div className={classNames}>\n      <button\n        aria-label={`${texts.buttonAriaLabel} ${placeholder}`}\n        className={classNamesButton}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      >\n        {optionSelected || placeholder}\n        <svg\n          viewBox=\"0 0 24 19\"\n          fill=\"none\"\n          className={classNamesArrow}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M5 7L11.8814 14L19 7\" />\n        </svg>\n      </button>\n      <ul className={classNamesDropDown} ref={dropdownRef}>\n        <li aria-hidden=\"true\">\n          <button\n            className=\"select__option_hidden\"\n            aria-hidden=\"true\"\n            type=\"button\"\n            onClick={() => setIsOpen(false)}\n          />\n        </li>\n        {options &&\n          options.map((option) => (\n            <li key={option?.id} className=\"select__option\">\n              <label\n                aria-label={option?.name}\n                htmlFor={`${option?.id}-${option?.name}`}\n                className=\"select__label\"\n              >\n                <input\n                  id={`${option?.id}-${option?.name}`}\n                  className=\"select__input\"\n                  type=\"radio\"\n                  name={inputName}\n                  value={option?.id}\n                  onClick={() => {\n                    setOptionSelected(option?.name);\n                    setIsOpen(!isOpen);\n                  }}\n                  onChange={onChange}\n                />\n                <span className=\"select__span\">{option?.name}</span>\n              </label>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nDropDownSelect.propTypes = {\n  placeholder: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.any),\n  inputName: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isFormOpen: PropTypes.bool,\n};\n\nDropDownSelect.defaultProps = {\n  placeholder: '',\n  options: [],\n  inputName: '',\n  onChange: () => {},\n  error: undefined,\n  sectionClass: '',\n  isFormOpen: false,\n};\n\nexport default DropDownSelect;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './Input.scss';\nimport PropTypes from 'prop-types';\n\nfunction Input({\n  id,\n  type,\n  name,\n  placeholder,\n  value,\n  required,\n  max,\n  min,\n  minLength,\n  maxLength,\n  pattern,\n  error,\n  sectionClass,\n  isTextarea,\n  onFocus,\n  onChange,\n}) {\n  const errorMessage = error ? `${placeholder}*` : '';\n\n  const classNamesWrap = ['input-wrap', sectionClass].join(' ').trim();\n\n  const classNamesInput = ['input', error ? 'input__error' : '']\n    .join(' ')\n    .trim();\n  const classNamesTextarea = ['input', error ? 'input__error' : '', 'textarea']\n    .join(' ')\n    .trim();\n\n  if (isTextarea) {\n    return (\n      <label className={classNamesWrap} htmlFor={id}>\n        <textarea\n          id={id}\n          className={classNamesTextarea}\n          type={type}\n          name={name}\n          placeholder={errorMessage || placeholder}\n          onFocus={onFocus}\n          onChange={onChange}\n          value={value}\n          maxLength={maxLength}\n          minLength={minLength}\n          pattern={pattern}\n          required={required}\n        />\n        {error && <span className=\"input__error-message\">{error}</span>}\n      </label>\n    );\n  }\n\n  return (\n    <label className={classNamesWrap} htmlFor={id}>\n      <input\n        id={id}\n        className={classNamesInput}\n        type={type}\n        name={name}\n        placeholder={errorMessage || placeholder}\n        onFocus={onFocus}\n        onChange={onChange}\n        value={value}\n        maxLength={maxLength}\n        minLength={minLength}\n        max={max}\n        min={min}\n        pattern={pattern}\n        required={required}\n      />\n      {error && <span className=\"input__error-message\">{error}</span>}\n    </label>\n  );\n}\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  sectionClass: PropTypes.string,\n  isTextarea: PropTypes.bool,\n  onChange: PropTypes.func,\n  required: PropTypes.bool,\n  max: PropTypes.string,\n  min: PropTypes.string,\n  maxLength: PropTypes.string,\n  minLength: PropTypes.string,\n  pattern: PropTypes.string,\n  error: PropTypes.string,\n  onFocus: PropTypes.func,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  value: '',\n  sectionClass: '',\n  isTextarea: false,\n  onChange: () => {},\n  required: false,\n  max: undefined,\n  min: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  pattern: undefined,\n  error: undefined,\n  onFocus: () => {},\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction LinkableHeading({\n  Component: HeadingComponent,\n  title,\n  path,\n  titleSectionClass,\n  linkSectionClass,\n}) {\n  return (\n    <Link className={linkSectionClass} to={path}>\n      <HeadingComponent title={title} sectionClass={titleSectionClass} />\n    </Link>\n  );\n}\n\nLinkableHeading.propTypes = {\n  Component: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  titleSectionClass: PropTypes.string,\n  linkSectionClass: PropTypes.string,\n};\n\nLinkableHeading.defaultProps = {\n  titleSectionClass: '',\n  linkSectionClass: '',\n};\n\nexport default LinkableHeading;\n","import './Loader.scss';\nimport PropTypes from 'prop-types';\n\nfunction Loader({ isNested, isCentered, isSmallGrid }) {\n  const classNames = [\n    'spinner',\n    isNested ? 'spinner_nested' : '',\n    isCentered ? 'spinner_centered' : '',\n    isSmallGrid ? 'spinner_small-grid' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <div className=\"spinner__container\">\n        <div className=\"spinner__circle spinner__circle_1\" />\n        <div className=\"spinner__circle spinner__circle_2\" />\n        <div className=\"spinner__circle spinner__circle_3\" />\n        <div className=\"spinner__circle spinner__circle_4\" />\n        <div className=\"spinner__circle spinner__circle_5\" />\n        <div className=\"spinner__circle spinner__circle_6\" />\n        <div className=\"spinner__circle spinner__circle_7\" />\n        <div className=\"spinner__circle spinner__circle_8\" />\n        <div className=\"spinner__circle spinner__circle_9\" />\n        <div className=\"spinner__circle spinner__circle_10\" />\n        <div className=\"spinner__circle spinner__circle_11\" />\n        <div className=\"spinner__circle spinner__circle_12\" />\n      </div>\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  isNested: PropTypes.bool,\n  isCentered: PropTypes.bool,\n  isSmallGrid: PropTypes.bool,\n};\n\nLoader.defaultProps = {\n  isNested: false,\n  isCentered: false,\n  isSmallGrid: false,\n};\n\nexport default Loader;\n","export default __webpack_public_path__ + \"static/media/logo.2968d95e.svg\";","import './LogoBlue.scss';\nimport logoPath from '../../../assets/logo.svg';\n\nfunction LogoBlue() {\n  return (\n    <img\n      src={logoPath}\n      alt=\"Логотип Старшие Братья Старшие Сестры России\"\n      className=\"logo\"\n    />\n  );\n}\n\nexport default LogoBlue;\n","import { Scrollbars } from 'react-custom-scrollbars';\nimport { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ModificatedScrollbars({ horizontalScrollClass, children }) {\n  const ref = useRef();\n\n  function showScrollOnMouseOver() {\n    ref.current.thumbVertical.parentElement.style.opacity = '1';\n  }\n\n  function onMouseLeave() {\n    ref.current.thumbVertical.parentElement.style.opacity = '0';\n  }\n  return (\n    <Scrollbars\n      ref={ref}\n      autoHide\n      onMouseOver={showScrollOnMouseOver}\n      onMouseLeave={onMouseLeave}\n      autoHideTimeout={700}\n      autoHideDuration={400}\n      renderTrackHorizontal={() => <div style={{ opacity: 'none' }} />}\n      renderThumbVertical={() => <div className={horizontalScrollClass} />}\n    >\n      {children}\n    </Scrollbars>\n  );\n}\n\nModificatedScrollbars.propTypes = {\n  children: PropTypes.node,\n  horizontalScrollClass: PropTypes.string,\n};\n\nModificatedScrollbars.defaultProps = {\n  children: null,\n  horizontalScrollClass: '',\n};\n\nexport default ModificatedScrollbars;\n","const texts = {\n  defaultText: 'Данных нет',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport './NoDataNotificationBox.scss';\nimport texts from './locales/RU';\n\nfunction NoDataNotificationBox({ text, sectionClass }) {\n  return <p className={`no-data-text ${sectionClass}`}>{text}</p>;\n}\n\nNoDataNotificationBox.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nNoDataNotificationBox.defaultProps = {\n  text: texts.defaultText,\n  sectionClass: '',\n};\n\nexport default NoDataNotificationBox;\n","import './Paginate.scss';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport { useScrollToTop } from '../../../hooks/index';\n\nconst Paginate = (props) => {\n  const { pageCount, sectionClass, value, onChange } = props;\n\n  useScrollToTop(value);\n\n  return (\n    <ReactPaginate\n      containerClassName={`pagination ${sectionClass}`}\n      pageClassName=\"pagination__element\"\n      pageLinkClassName=\"pagination__element-link\"\n      activeLinkClassName=\"pagination__element-link_type_active\"\n      previousClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_previous\"\n      breakClassName=\"pagination__element\"\n      nextClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_next\"\n      disabledClassName=\"pagination__arrow-element_type_disabled\"\n      pageCount={pageCount}\n      pageRangeDisplayed={3}\n      marginPagesDisplayed={1}\n      forcePage={value}\n      onPageChange={({ selected }) => onChange(selected)}\n      initialPage={0}\n    />\n  );\n};\n\nPaginate.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func,\n  pageCount: PropTypes.number.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nPaginate.defaultProps = {\n  onChange: () => {},\n  sectionClass: '',\n};\n\nexport default Paginate;\n","import './PseudoButtonTag.scss';\nimport PropTypes from 'prop-types';\n\nfunction PseudoButtonTag({ name, value, title, isActive, onClick }) {\n  const id = `filter-button-${value}`;\n\n  function handleClick(event) {\n    onClick(value, event.target.checked);\n  }\n\n  return (\n    <label className=\"pseudo-button-label\" htmlFor={id}>\n      <input\n        id={id}\n        className=\"pseudo-button-checkbox\"\n        type=\"checkbox\"\n        name={name}\n        value={value}\n        checked={isActive}\n        onChange={() => {}}\n        onClick={handleClick}\n      />\n      <span className=\"button pseudo-button\">{title}</span>\n    </label>\n  );\n}\n\nPseudoButtonTag.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nPseudoButtonTag.defaultProps = {\n  name: '',\n  value: '',\n  title: '',\n  isActive: false,\n  onClick: () => {},\n};\n\nexport default PseudoButtonTag;\n","import './Rating.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rating({\n  type,\n  name,\n  value,\n  ratingType,\n  sectionClass,\n  checked,\n  onChange,\n}) {\n  const classNames = ['rating', sectionClass].join(' ').trim();\n\n  const pseudoButtonClassNames = [\n    'rating__pseudo-button',\n    `rating__pseudo-button_type_${ratingType}_default`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <label className={classNames} htmlFor={`rating-${name}-${value}`}>\n      <input\n        id={`rating-${name}-${value}`}\n        className=\"rating__checkbox\"\n        type={type}\n        name={name}\n        value={value}\n        defaultChecked={checked}\n        onChange={onChange}\n      />\n      <span className={pseudoButtonClassNames} />\n    </label>\n  );\n}\n\nRating.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  ratingType: PropTypes.string,\n  sectionClass: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nRating.defaultProps = {\n  name: '',\n  value: 'neutral',\n  ratingType: 'neutral',\n  sectionClass: '',\n  checked: false,\n  onChange: () => {},\n};\n\nexport default Rating;\n","import './Rubric.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rubric({ title, sectionClass }) {\n  return <span className={`rubric ${sectionClass}`}>{title}</span>;\n}\n\nRubric.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nRubric.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Rubric;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable consistent-return */\nimport './ScrollableContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useCallback, useLayoutEffect, useRef, useState } from 'react';\n\nconst DELAY_NO_POINTER_EVENTS = 150;\n\nfunction ScrollableContainer({ children, step, sectionClass }) {\n  const ref = useRef();\n  const [state, setState] = useState({\n    isScrolling: false,\n    clientX: 0,\n    scrollX: 0,\n  });\n\n  const scrollByWheel = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        evt.preventDefault();\n        ref.current.scrollTo({\n          left: ref.current.scrollLeft + evt.deltaY * step,\n          behavior: 'smooth',\n        });\n      }\n    },\n    [ref.current]\n  );\n\n  useLayoutEffect(() => {\n    if (ref && ref.current) {\n      ref.current.addEventListener('wheel', scrollByWheel);\n      return () => ref.current.removeEventListener('wheel', scrollByWheel);\n    }\n  }, [ref.current]);\n\n  const onMouseDown = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    evt.preventDefault();\n    setTimeout(() => {\n      setState({\n        ...state,\n        isScrolling: true,\n        clientX: evt.clientX,\n      });\n    }, DELAY_NO_POINTER_EVENTS);\n  };\n\n  const onMouseUp = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const onMouseMove = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    const { clientX, scrollX, isScrolling } = state;\n    if (isScrolling) {\n      ref.current.scrollLeft = scrollX - evt.clientX + clientX;\n      setState({\n        ...state,\n        scrollX: scrollX - evt.clientX + clientX,\n        clientX: evt.clientX,\n      });\n    }\n  };\n\n  const onMouseLeave = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const classNames = [\n    'scrollable-container',\n    state.isScrolling ? 'scrollable-container_scrolling' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div\n      className={classNames}\n      onMouseDown={onMouseDown}\n      onMouseMove={onMouseMove}\n      onMouseUp={onMouseUp}\n      onMouseLeave={onMouseLeave}\n      ref={ref}\n    >\n      {children}\n    </div>\n  );\n}\n\nScrollableContainer.propTypes = {\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n  step: PropTypes.number,\n};\n\nScrollableContainer.defaultProps = {\n  sectionClass: '',\n  children: null,\n  step: 1,\n};\n\nexport default ScrollableContainer;\n","import './SearchButton.scss';\nimport { useContext } from 'react';\nimport { PopupsContext } from '../../../contexts/index';\n\nfunction SearchButton() {\n  const { openPopupInfoTooltip } = useContext(PopupsContext);\n  return (\n    <button\n      className=\"search-button search__button\"\n      type=\"button\"\n      aria-label=\"Поиск\"\n      title=\"Поиск\"\n      onClick={() => openPopupInfoTooltip()}\n    />\n  );\n}\n\nexport default SearchButton;\n","import './TitleH1.scss';\nimport PropTypes from 'prop-types';\n\nfunction TitleH1({ title, sectionClass }) {\n  return <h1 className={`main-title ${sectionClass}`}>{title}</h1>;\n}\n\nTitleH1.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH1.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH1;\n","import PropTypes from 'prop-types';\n\nfunction TitleH2({ title, sectionClass }) {\n  return <h2 className={`section-title ${sectionClass}`}>{title}</h2>;\n}\n\nTitleH2.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH2.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH2;\n","import PropTypes from 'prop-types';\n\nfunction TitleH3({ title, sectionClass }) {\n  return <h3 className={`chapter-title ${sectionClass}`}>{title}</h3>;\n}\n\nTitleH3.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nTitleH3.defaultProps = {\n  sectionClass: '',\n};\n\nexport default TitleH3;\n","import './UserIconButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserIconButton({ sectionClass, isAuthorized, handleClick }) {\n  const classNames = [\n    'user-button',\n    isAuthorized ? 'user-button_authorized' : 'user-button_unauthorized',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      aria-label=\"Личный кабинет\"\n      title=\"Личный кабинет\"\n      onClick={handleClick}\n    />\n  );\n}\n\nUserIconButton.propTypes = {\n  sectionClass: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  handleClick: PropTypes.func,\n};\n\nUserIconButton.defaultProps = {\n  sectionClass: '',\n  isAuthorized: false,\n  handleClick: () => {},\n};\n\nexport default UserIconButton;\n","import './UserMenuButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserMenuButton({ title, handleClick, sectionClass }) {\n  const classNames = ['user-menu-button', sectionClass].join(' ').trim();\n\n  return (\n    <button className={classNames} type=\"button\" onClick={handleClick}>\n      {title}\n    </button>\n  );\n}\n\nUserMenuButton.propTypes = {\n  title: PropTypes.string,\n  handleClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nUserMenuButton.defaultProps = {\n  title: '',\n  handleClick: () => {},\n  sectionClass: '',\n};\n\nexport default UserMenuButton;\n","import './Widget.scss';\nimport PropTypes from 'prop-types';\n\nfunction Widget({ link, title }) {\n  return (\n    <div>\n      <iframe\n        className=\"widget-facebook\"\n        title={title}\n        src={link}\n        allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\n      >\n        Если вы видите этот текст - ваш браузер случайно обрезал наш виджет\n        Facebook.\n      </iframe>\n    </div>\n  );\n}\n\nWidget.propTypes = {\n  link: PropTypes.string,\n  title: PropTypes.string,\n};\n\nWidget.defaultProps = {\n  link: '#',\n  title: '',\n};\n\nexport default Widget;\n","import './NavItemWithDropdown.scss';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { DropDownMenu } from '../utils/index';\n\nfunction NavItemWithDropdown({ sectionWrapperClass, linkText, href }) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className=\"menu__link\" to={href}>\n        {linkText}\n      </NavLink>\n\n      <DropDownMenu sectionWrapperClass=\"menu__dropdown-list\" />\n    </li>\n  );\n}\n\nNavItemWithDropdown.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nNavItemWithDropdown.defaultProps = {\n  href: '',\n};\n\nexport default NavItemWithDropdown;\n","import './NavBar.scss';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useContext } from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport texts from './locales/RU';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n  STORIES_URL,\n  MAIN_PAGE_TITLE,\n  ABOUT_US_TITLE,\n  AFISHA_TITLE,\n  PLACES_TITLE,\n  QUESTIONS_TITLE,\n  READ_AND_WATCH_TITLE,\n  RIGHTS_TITLE,\n  STORIES_TITLE,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport NavItemWithDropdown from '../NavItemWithDropdown/NavItemWithDropdown';\nimport {\n  NavItem,\n  SearchButton,\n  UserIconButton,\n  UserMenuButton,\n} from '../utils/index';\n\nfunction NavBar({\n  isMobileMenuOpen,\n  onUserButtonClick,\n  onBurgerButtonClick,\n  onCityChangeClick,\n  onLogout,\n  userCityName,\n}) {\n  const { pathname } = useLocation();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <nav className=\"menu\">\n      {/* логотип */}\n      <Link to=\"/\" target=\"_self\" className=\"menu__logo mobile-link\">\n        {MAIN_PAGE_TITLE}\n      </Link>\n      {/* обычное меню */}\n      <div\n        className={`menu__lists-wrap ${\n          !isMobileMenuOpen ? 'menu__lists-wrap_hidden' : ''\n        }`}\n      >\n        <ul className=\"menu__list\">\n          {/* О проекте, скрытый */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item menu__list-item_hidden\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* Календарь */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* Куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* Вопросы */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* выпадающее меню  \"Читать и смотреть\" */}\n          <NavItemWithDropdown\n            sectionWrapperClass=\"menu__list-item menu__dropdown-item\"\n            linkText={READ_AND_WATCH_TITLE}\n            href={READ_AND_WATCH_URL}\n          />\n          {/* Права детей */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* Истории */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n\n        <ul\n          className={`menu__list menu__list_type_social ${\n            !isMobileMenuOpen ? 'menu__list_hidden' : ''\n          }`}\n        >\n          {socialLinks.map((link) => (\n            <li key={link?.id} className=\"menu__list-item\">\n              <a\n                className=\"menu__link mobile-link\"\n                href={link?.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                {link?.title}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {currentUser && (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass=\"mobile-link\"\n          />\n          <UserMenuButton\n            title={texts.logoutText}\n            sectionClass=\"mobile-link\"\n            handleClick={onLogout}\n          />\n        </div>\n      )}\n\n      {!currentUser && pathname === PLACES_URL && (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass=\"mobile-link menu__user-info_center\"\n          />\n        </div>\n      )}\n\n      <button\n        onClick={onBurgerButtonClick}\n        className={`menu__burger ${\n          isMobileMenuOpen ? 'menu__burger_active' : ''\n        }`}\n        type=\"button\"\n      >\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n      </button>\n\n      <ul className=\"menu__button-list\">\n        <li className=\"menu__button-item\">\n          <form className=\"search\" name=\"search-form\">\n            <SearchButton />\n            <div className=\"search__options menu__search-options\">\n              <input\n                type=\"text\"\n                name=\"search\"\n                placeholder={texts.searchPlaceholder}\n                className=\"search__input paragraph\"\n              />\n              <ul className=\"search__option-list\">\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./article.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Причины подростковой агрессии\n                  </a>\n                  <a href=\"./article.html\" className=\"link search__link\">\n                    статьи\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./video.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Агрессивное поведение детей-сирот\n                  </a>\n                  <a href=\"./video.html\" className=\"link search__link\">\n                    видео\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./questions.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Что делать если ваш младший агрессивно себя ведет, решил\n                    закрыть пару?\n                  </a>\n                  <a href=\"./questions.html\" className=\"link search__link\">\n                    вопросы\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./books.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Как реагировать на агрессивное поведения ребенка\n                  </a>\n                  <a href=\"./books.html\" className=\"link search__link\">\n                    книги\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </form>\n        </li>\n        <li className=\"menu__button-item\">\n          <UserIconButton\n            sectionClass=\"mobile-link\"\n            isAuthorized={!!currentUser}\n            handleClick={onUserButtonClick}\n          />\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nNavBar.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onBurgerButtonClick: PropTypes.func,\n  onCityChangeClick: PropTypes.func,\n  onLogout: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  userCityName: PropTypes.string,\n};\n\nNavBar.defaultProps = {\n  onUserButtonClick: () => {},\n  onBurgerButtonClick: () => {},\n  onCityChangeClick: () => {},\n  onLogout: () => {},\n  isMobileMenuOpen: false,\n  userCityName: '',\n};\n\nexport default NavBar;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport './Header.scss';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  PopupsContext,\n} from '../../contexts/index';\nimport texts from './locales/RU';\nimport { useClickOutside, useAuth, useLocalStorage } from '../../hooks/index';\nimport { PROFILE_URL, AFISHA_URL, PLACES_URL } from '../../config/routes';\nimport { localStUserCity } from '../../config/constants';\nimport NavBar from '../NavBar/NavBar';\nimport { UserMenuButton } from '../utils/index';\n\nconst headerWindowOffsetY = 200;\n\nfunction Header({ isTransparent }) {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupLogin, closeAllPopups } =\n    useContext(PopupsContext);\n  const { cities } = useContext(CitiesContext);\n\n  const { handleLogout } = useAuth(updateUser, closeAllPopups);\n\n  function handleUserButtonClick() {\n    if (currentUser) {\n      history.push(PROFILE_URL);\n    } else {\n      openPopupLogin();\n    }\n  }\n\n  const [userCityName, setUserCityName] = useState('');\n  let currentAnonymousCity;\n\n  if (pathname === PLACES_URL) {\n    const getLocalStorageItem = useLocalStorage(localStUserCity);\n    currentAnonymousCity = getLocalStorageItem();\n  }\n\n  // сохранённый в localStorage город анонимуса\n  const userCity = currentUser?.city || currentAnonymousCity;\n\n  // определение города пользователя, используется в кнопках\n  useEffect(() => {\n    if (cities && userCity) {\n      const currentCity = cities.find((city) => city?.id === userCity);\n      setUserCityName(currentCity?.name);\n    }\n  }, [cities, userCity]);\n\n  // меню бургер\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  // закрытие мобильного меню по клику вне хедера\n  const headerRef = useClickOutside(() => setIsMobileMenuOpen(false));\n\n  // закрытие мобильного меню по клику на ссылки\n  const handleCloseMobileMenu = (evt) => {\n    const { target } = evt;\n    if (isMobileMenuOpen && target.classList.contains('mobile-link')) {\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  // липкий хедер\n  const [isHeaderActive, setIsHeaderActive] = useState(true);\n  let prevScrollPos = 0;\n\n  useEffect(() => {\n    window.addEventListener('scroll', () => {\n      const currentScrollPos = window.pageYOffset;\n      // если prevScrollPos больше currentScrollPos значит мы скролим наверх\n      if (prevScrollPos > currentScrollPos) {\n        setIsHeaderActive(true);\n      } else {\n        setIsHeaderActive(false);\n        setIsMobileMenuOpen(false);\n      }\n\n      if (currentScrollPos === 0) {\n        setIsHeaderActive(true);\n      }\n      prevScrollPos = currentScrollPos;\n    });\n  }, []);\n\n  const classNamesHeader = [\n    'header',\n    isTransparent && !(window.pageYOffset > headerWindowOffsetY)\n      ? 'header_transparent'\n      : '',\n    isMobileMenuOpen ? 'header_displayed' : '',\n    !isHeaderActive ? 'header__on-scroll-up' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <header\n      className={classNamesHeader}\n      ref={headerRef}\n      onClick={handleCloseMobileMenu}\n      onKeyPress={handleCloseMobileMenu}\n    >\n      <div className=\"header__container\">\n        <NavBar\n          onUserButtonClick={handleUserButtonClick}\n          onBurgerButtonClick={toggleMobileMenu}\n          userCityName={userCityName}\n          onCityChangeClick={openPopupCities}\n          onLogout={handleLogout}\n          isMobileMenuOpen={isMobileMenuOpen}\n        />\n\n        {pathname === PROFILE_URL && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              sectionClass=\"mobile-link\"\n              handleClick={openPopupCities}\n            />\n            <UserMenuButton\n              title={texts.logoutText}\n              sectionClass=\"mobile-link\"\n              handleClick={handleLogout}\n            />\n          </div>\n        )}\n\n        {(pathname === AFISHA_URL || pathname === PLACES_URL) && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              handleClick={openPopupCities}\n              sectionClass=\"mobile-link\"\n            />\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n\nHeader.propTypes = {\n  isTransparent: PropTypes.bool,\n};\n\nHeader.defaultProps = {\n  isTransparent: false,\n};\n\nexport default Header;\n","import { bbbsLinks, developmentLinks } from '../../../utils/external-links';\n\nconst texts = {\n  logoAlt: 'Логотип Старшие Братья Старшие Сестры России',\n  logoLink: bbbsLinks.about,\n  helpButtonText: 'Помочь деньгами',\n  helpButtonLink: bbbsLinks.donations,\n  devText: 'Разработка – студенты ',\n  devLink: developmentLinks.praktikum.url,\n  devOrg: developmentLinks.praktikum.title,\n  designText: 'Концепция и дизайн – ',\n  designLink: developmentLinks.design.url,\n  designOrg: developmentLinks.design.title,\n  copyright: `${'\\u00A9'} Старшие Братья Старшие Сестры`,\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/footer-logo.476770b8.svg\";","import './Footer.scss';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n  STORIES_URL,\n  AFISHA_TITLE,\n  ABOUT_US_TITLE,\n  PLACES_TITLE,\n  QUESTIONS_TITLE,\n  READ_AND_WATCH_TITLE,\n  RIGHTS_TITLE,\n  STORIES_TITLE,\n} from '../../config/routes';\nimport texts from './locales/RU';\nimport { socialLinks } from '../../utils/external-links';\nimport footerLogoPath from '../../assets/footer-logo.svg';\nimport { NavItem } from '../utils/index';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <a\n        href={texts.logoLink}\n        className=\"footer__logo\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <img\n          className=\"footer__logo-image\"\n          src={footerLogoPath}\n          alt={texts.logoAlt}\n        />\n      </a>\n      <a\n        className=\"button footer__button\"\n        href={texts.helpButtonLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.helpButtonText}\n      </a>\n      <div className=\"footer__column footer__column_content_concept\">\n        <p className=\"footer__brand\">{texts.copyright}</p>\n        <div className=\"footer__copyright\">\n          <p className=\"footer__authors\">\n            {texts.devText}\n            <a\n              href={texts.devLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.devOrg}\n            </a>\n          </p>\n          <p className=\"footer__design\">\n            {texts.designText}\n            <a\n              href={texts.designLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.designOrg}\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"footer__column footer__column_content_info\">\n        <ul className=\"footer__column-list\">\n          {/* о проекте */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* каленарь */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* вопросы */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* читать и смотреть */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={READ_AND_WATCH_URL}\n            linkText={READ_AND_WATCH_TITLE}\n          />\n          {/* права детей */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* истории */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n      </div>\n      <div className=\"footer__column footer__column_content_social\">\n        <ul className=\"footer__column-list\">\n          {socialLinks.map((link) => (\n            <li key={link?.id} className=\"footer__column-links\">\n              <a\n                className=\"footer__column-link\"\n                href={link?.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                {link?.title}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction BasePage({ children, headTitle, headDescription }) {\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header />\n      <main className=\"main\">{children}</main>\n      <Footer />\n    </>\n  );\n}\n\nBasePage.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nBasePage.defaultProps = {\n  children: null,\n};\n\nexport default BasePage;\n","import './CardFigure.scss';\nimport PropTypes from 'prop-types';\n\nfunction CardFigure({ title, shape, color, children, sectionClass }) {\n  return (\n    <div\n      className={`card-figure card-figure_color_${color} card-figure_form_${shape} ${sectionClass}`}\n    >\n      {title && <h2 className=\"section-title\">{title}</h2>}\n      {children}\n    </div>\n  );\n}\n\nCardFigure.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  sectionClass: PropTypes.string,\n};\n\nCardFigure.defaultProps = {\n  title: '',\n  shape: 'square',\n  color: 'yellow',\n  children: null,\n  sectionClass: '',\n};\n\nexport default CardFigure;\n","import './CardAbout.scss';\nimport PropTypes from 'prop-types';\nimport { TitleH2 } from '../../utils/index';\n\nfunction CardAbout({ title, text, color, linkText, href }) {\n  return (\n    <article className=\"card-container card-about\">\n      <div className={`card-about__heading card-about__heading_color_${color}`}>\n        <TitleH2 title={title} />\n      </div>\n      <div className=\"card-about__container\">\n        <p className=\"paragraph card-about__paragraph\">{text}</p>\n        <a\n          className=\"link card-about__card-link\"\n          href={href}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {linkText}\n        </a>\n      </div>\n    </article>\n  );\n}\n\nCardAbout.propTypes = {\n  title: PropTypes.string,\n  color: PropTypes.string,\n  text: PropTypes.string,\n  linkText: PropTypes.string,\n  href: PropTypes.string,\n};\n\nCardAbout.defaultProps = {\n  title: '',\n  color: '',\n  text: '',\n  linkText: '',\n  href: '#',\n};\n\nexport default CardAbout;\n","import './AboutUs.scss';\nimport aboutUsTexts from '../../locales/about-us-page-RU';\nimport { useScrollToTop } from '../../hooks/index';\nimport {\n  BasePage,\n  TitleH3,\n  Blockquote,\n  LogoBlue,\n  CardFigure,\n  CardAbout,\n  Card,\n} from './index';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  logoLink,\n  aboutTitle,\n  aboutParagraphs,\n  blockquote,\n  cards,\n} = aboutUsTexts;\n\nfunction AboutUs() {\n  useScrollToTop();\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"about page__section fade-in\">\n        <TitleH3 sectionClass=\"about__title\" title={title} />\n        <a\n          className=\"about__logo\"\n          href={logoLink}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n\n        {/* желтый круг + белая карточка */}\n        <div className=\"about__us\">\n          <CardFigure title={aboutTitle} color=\"yellow\" shape=\"circle\" />\n\n          <Card sectionClass=\"about__annotation\" color=\"white\">\n            {aboutParagraphs?.map((item) => (\n              <p key={item?.id} className=\"paragraph about__paragraph\">\n                {item?.text}\n              </p>\n            ))}\n          </Card>\n        </div>\n\n        {/* цитата */}\n        <Blockquote\n          sectionWrapperClass=\"about__quote\"\n          sectionTitleClass=\"about__quote-text\"\n          text={blockquote}\n        />\n\n        {/* секция из 3 карточек с плашками */}\n        <div className=\"about__cards\">\n          {cards?.map((item) => (\n            <CardAbout\n              key={item.id}\n              title={item?.title}\n              text={item?.text}\n              linkText={item?.linkText}\n              href={item?.href}\n              color={item?.color}\n            />\n          ))}\n        </div>\n      </section>\n    </BasePage>\n  );\n}\n\nexport default AboutUs;\n","const profilePageTexts = {\n  headTitle: 'Личный кабинет',\n  headDescription: 'Личный кабинет наставника.',\n  eventsTitle: 'Вы записаны на мероприятия:',\n  eventsTitleArchive: 'Ваши прошлые мероприятия:',\n  eventsArchiveButton: 'Архив мероприятий',\n  eventsCurrentButton: 'Текущие мероприятия',\n  eventsTitleNoResults: 'У вас нет записи на мероприятия',\n  eventsTitleNoResultsArchive: 'Вы ещё не участвовали в мероприятиях',\n  formTitle:\n    'Составьте историю вашей дружбы с младшим. Эта страница доступна только вам.',\n};\n\nexport default profilePageTexts;\n","const texts = {\n  buttonLabel: 'Открыть карточку',\n};\n\nexport default texts;\n","import { months, weekdays } from '../config/constants';\n\n// форматирует секунды в часы, минуты и секунды, принимает на вход number\nexport const formatDuration = (duration) => {\n  const hours = parseInt(duration / (60 * 60), 10);\n  const minutes = parseInt((duration / 60) % 60, 10);\n  const seconds = duration % 60;\n  const format = (value) => (value < 10 ? `0${value}` : `${value}`);\n\n  return {\n    hours: format(hours),\n    minutes: format(minutes),\n    seconds: format(seconds),\n  };\n};\n\n// форматирует дату в объект по разным ключам, принимает на вход string вида \"2021-05-08T21:22:00Z\"\nexport const formatDate = (date) => {\n  const parsedDate = new Date(date);\n  let day = parsedDate.getDate();\n  const weekdayName = weekdays[parsedDate.getDay()];\n  const monthName = months[parsedDate.getMonth() + 1]; // потому что months начинается с 1, а не 0\n  const hour = String(parsedDate.getHours());\n  const year = String(parsedDate.getFullYear());\n  let minutes = parsedDate.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  return {\n    year,\n    day,\n    weekdayName,\n    monthName,\n    hour,\n    minutes,\n  };\n};\n\n// форматирует дату типа \"2021-05-08T21:22:00Z\" в 'YYYY/MM/DD'\nexport const parseDate = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  return `${year}-${month}-${day}`;\n};\n\n// падеж слова \"место\" в зависимости от числа мест\n// принимает на вход количество оставшихся мест из чего формирует падеж слова\n// нужно в карточках, попапах\nexport const formatWordCase = (remainSeats) => {\n  // промежуток 11 - 14\n  const lastTwoDigits = remainSeats % 100;\n  if (lastTwoDigits > 10 && lastTwoDigits < 15) {\n    return 'мест';\n  }\n  // если кончается на 1 - окончание О\n  // если кончается на 2 3 4 - окончание A\n  // если кончается на другое - окончания нет\n  const lastDigit = remainSeats % 10;\n\n  if (lastDigit === 1) {\n    return 'место';\n  }\n  if (lastDigit === 2 || lastDigit === 3 || lastDigit === 4) {\n    return 'местa';\n  }\n  return 'мест';\n};\n\nexport const questionForm = {\n  beforeSubmit: {\n    title:\n      'Если вы не нашли ответ на свой вопрос — напишите нам, и мы включим его в список',\n    titleClass: '',\n    formVisibilityClass: '',\n  },\n  successSubmit: {\n    title:\n      'Спасибо! Мы приняли ваш вопрос. Ваш вопрос опубликуют, как только он пройдет проверку и модератор даст на него ответ!',\n    titleClass: 'add-question__title_success',\n    formVisibilityClass: 'question-form_invisible',\n  },\n  errorSubmit: {\n    title:\n      'Произошла ошибка при отправке вашего вопроса! Попробуйте повторить позже или обратиться в службу поддержки!',\n    titleClass: 'add-question__title_error',\n  },\n};\n\n// меняет в слове первую букву на заглавную\nexport const changeCaseOfFirstLetter = (str) => {\n  if (!str) return str;\n\n  return str[0].toUpperCase() + str.slice(1);\n};\n\n// управление падежами месяцев\nexport const formatMonthsGenitiveCase = (month) => {\n  if (month === 'март' || month === 'август') return `${month}а`;\n  return `${month.slice(0, -1)}я`;\n};\n\nexport const randomizeArray = (arr, size) => {\n  if (arr && size < arr.length) {\n    const array = arr.slice();\n    return [...Array(size)].map(\n      () => array.splice(Math.floor(Math.random() * array.length), 1)[0]\n    );\n  }\n  return arr;\n};\n","import './ProfileEventCard.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport { formatDate } from '../../../utils/utils';\nimport { Card } from '../../utils/index';\n\nfunction ProfileEventCard({ data, onOpen, sectionClass }) {\n  const startDay = formatDate(data?.startAt);\n\n  const handleOpen = () => {\n    setLocalStorageData(localStAfishaEvent, data);\n    onOpen();\n  };\n\n  return (\n    <button\n      className={`profile-event-card ${sectionClass}`}\n      type=\"button\"\n      aria-label={texts.buttonLabel}\n      onClick={handleOpen}\n    >\n      <Card sectionClass=\"profile-event-card__card\">\n        <div className=\"profile-event-card__date\">\n          <span className=\"profile-event-card__day\">{startDay?.day}</span>\n          <span className=\"profile-event-card__month\">\n            {startDay?.monthName}\n          </span>\n        </div>\n        <p className=\"profile-event-card__title\">{data?.title}</p>\n      </Card>\n    </button>\n  );\n}\n\nProfileEventCard.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onOpen: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileEventCard.defaultProps = {\n  onOpen: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileEventCard;\n","const texts = {\n  rateCaptionText: 'Оцените проведенное время',\n  uploadCaptionText: 'Загрузить фото',\n  placePlaceholder: 'Место встречи',\n  datePlaceholder: 'Дата __.__.____',\n  datePlaceholderError: 'Дата* ',\n  descrPlaceholder:\n    'Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось',\n  buttonAddText: 'Добавить',\n  buttonDeleteText: 'Удалить',\n  buttonCancelText: 'Отмена',\n  buttonSaveText: 'Сохранить',\n};\n\nexport default texts;\n","const captions = {\n  good: 'Было классно',\n  neutral: 'Нормально',\n  bad: 'Что-то пошло не так',\n};\n\nexport default captions;\n","import './ProfileForm.scss';\nimport { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { ErrorsContext } from '../../contexts/index';\nimport { useFormWithValidation } from '../../hooks/index';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport { regExpImages } from '../../config/constants';\nimport {\n  Card,\n  Input,\n  Caption,\n  Rating,\n  Button,\n  ButtonRound,\n} from '../utils/index';\n\nfunction ProfileForm({\n  data,\n  sectionClass,\n  isEditMode,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  const classNames = ['card-container', 'profile-form', sectionClass]\n    .join(' ')\n    .trim();\n\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const [caption, setCaption] = useState(texts.rateCaptionText);\n  const [userImage, setUserImage] = useState(null);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!values?.mark) {\n      values.mark = 'neutral';\n    }\n    onSubmit(values);\n  };\n\n  const handleFocusDataInput = (evt) => {\n    // eslint-disable-next-line no-param-reassign\n    evt.currentTarget.type = 'date';\n  };\n\n  const handleChangeImage = () => {\n    if (values?.image) {\n      // ссылка-блоб для отображения загруженной картинки\n      const imageUrl = URL.createObjectURL(values.image);\n      setUserImage({ ...userImage, imageUrl });\n    }\n  };\n\n  const handleCloseForm = () => {\n    setUserImage(null);\n    resetForm();\n    clearError();\n    setCaption(texts.rateCaptionText);\n    onClose();\n  };\n\n  useEffect(() => {\n    if (values?.mark) setCaption(captions[values.mark]);\n    else setCaption(texts.rateCaptionText);\n  }, [values.mark]);\n\n  useEffect(() => {\n    handleChangeImage();\n  }, [values.image]);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (data) {\n        setUserImage({ image: data.image });\n        setValues({\n          id: data?.id,\n          date: data?.date,\n          place: data?.place,\n          description: data?.description,\n          mark: data?.mark,\n        });\n      }\n    }\n  }, [isOpen, data]);\n\n  return (\n    <form\n      name=\"addStoryForm\"\n      onSubmit={(evt) => handleSubmit(evt)}\n      className={classNames}\n      noValidate\n    >\n      <Card sectionClass=\"profile-form__photo-upload\">\n        {(userImage?.imageUrl || userImage?.image) && (\n          <img\n            src={userImage.imageUrl || `${staticImageUrl}/${userImage.image}`}\n            alt={data?.place}\n            className=\"profile-form__uploaded-image\"\n          />\n        )}\n\n        <div\n          className={`profile-form__input-upload ${\n            (userImage?.imageUrl || userImage?.image) && !errors?.image\n              ? 'profile-form__input-upload_hidden'\n              : ''\n          } ${errors?.image ? 'profile-form__input-upload_error' : ''}\n          `}\n        >\n          <label htmlFor=\"input-upload\" className=\"profile-form__label-file\">\n            <input\n              id=\"input-upload\"\n              type=\"file\"\n              accept=\"image/*\"\n              name=\"image\"\n              className=\"profile-form__input-file\"\n              onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n            />\n            <ButtonRound\n              sectionClass={`profile-form__pseudo-button ${\n                errors?.image ? 'profile-form__pseudo-button_error' : ''\n              }`}\n              color={`${errors?.image ? 'error' : 'lightGray'}`}\n              isSpan\n            />\n          </label>\n          <Caption\n            title={errors?.image || texts.uploadCaptionText}\n            sectionClass={`profile-form__caption ${\n              errors?.image ? 'profile-form__caption_error' : ''\n            }`}\n          />\n        </div>\n      </Card>\n\n      <Card sectionClass=\"profile-form__text-container\">\n        <div className=\"profile-form__texts\">\n          <Input\n            id=\"profileInputPlace\"\n            type=\"text\"\n            name=\"place\"\n            placeholder={texts.placePlaceholder}\n            onChange={handleChange}\n            value={values.place}\n            required\n            minLength=\"5\"\n            maxLength=\"128\"\n            error={errors?.place}\n          />\n\n          <Input\n            id=\"profileInputDate\"\n            type=\"text\"\n            name=\"date\"\n            placeholder={texts.datePlaceholder}\n            onFocus={handleFocusDataInput}\n            onChange={handleChange}\n            value={values.date}\n            required\n            error={errors?.date}\n          />\n\n          <Input\n            id=\"profileInputTextarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={texts.descrPlaceholder}\n            sectionClass=\"profile-form__input-wrap profile-form__input-wrap_textarea\"\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength=\"1024\"\n            error={errors?.description}\n            isTextarea\n          />\n\n          <div className=\"profile-form__submit-zone\">\n            <span className=\"form-error-message\">{errorsString}</span>\n            <div className=\"profile-form__ratings-buttons\">\n              <div className=\"profile-form__ratings\">\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"good\"\n                  onChange={handleChange}\n                  value=\"good\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'good'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"neutral\"\n                  onChange={handleChange}\n                  value=\"neutral\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'neutral'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"bad\"\n                  onChange={handleChange}\n                  value=\"bad\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'bad'}\n                />\n                <Caption\n                  title={caption}\n                  sectionClass={`profile-form__ratings-text profile-form__ratings-text_type_${values.mark}`}\n                />\n              </div>\n              <div className=\"profile-form__buttons\">\n                <Button\n                  title={`${\n                    isEditMode ? texts.buttonCancelText : texts.buttonDeleteText\n                  }`}\n                  color=\"gray-borderless\"\n                  sectionClass=\"profile-form__button_el_delete\"\n                  onClick={handleCloseForm}\n                />\n                <Button\n                  title={`${\n                    isEditMode ? texts.buttonSaveText : texts.buttonAddText\n                  }`}\n                  sectionClass=\"profile-form__button_el_add\"\n                  isDisabled={!isValid}\n                  isSubmittable\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card>\n    </form>\n  );\n}\n\nProfileForm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  isEditMode: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nProfileForm.defaultProps = {\n  data: {},\n  sectionClass: '',\n  onClose: () => {},\n  isOpen: false,\n  isEditMode: false,\n  onSubmit: () => {},\n};\n\nexport default ProfileForm;\n","const texts = {\n  buttonShareText: 'Поделиться с куратором',\n  buttonTextShared: 'Открыто куратору',\n  buttonEditText: 'Редактировать',\n  buttonDeleteText: 'Удалить',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/icon-logo-no-text.ebdb8e22.svg\";","import PropTypes from 'prop-types';\nimport { Caption, ModificatedScrollbars } from '../../utils/index';\n\nfunction CardAnnotationContainer({ caption, children }) {\n  return (\n    <ModificatedScrollbars horizontalScrollClass=\"card-annotation__thumb\">\n      {caption && (\n        <Caption sectionClass=\"card-annotation__caption\" title={caption} />\n      )}\n\n      <div className=\"card-annotation__desc\">{children}</div>\n    </ModificatedScrollbars>\n  );\n}\n\nCardAnnotationContainer.propTypes = {\n  caption: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCardAnnotationContainer.defaultProps = {\n  caption: null,\n  children: null,\n};\n\nexport default CardAnnotationContainer;\n","import './ProfileDiary.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport defaultImage from '../../assets/icon-logo-no-text.svg';\nimport CardAnnotationContainer from '../Cards/CardAnnotation/CardAnnotationContainer';\nimport { Card, TitleH2, Rating, Caption, Button } from '../utils/index';\n\nfunction ProfileDiary({ data, onEdit, onDelete, onShare, sectionClass }) {\n  const { image, place, description, mark, date, sentToCurator } = data;\n\n  const eventDay = formatDate(date);\n  const [caption, setCaption] = useState('');\n\n  useEffect(() => {\n    setCaption(captions[mark]);\n  }, [mark]);\n\n  const handleEditButtonClick = () => {\n    onEdit(data);\n  };\n\n  const handleDeleteButtonClick = () => {\n    onDelete(data);\n  };\n\n  const handleShareButtonClick = () => {\n    if (!sentToCurator) {\n      onShare(data?.id);\n    }\n  };\n\n  return (\n    <div className={`card-container profile-diary ${sectionClass}`}>\n      <Card sectionClass=\"profile-diary__image-container\">\n        <img\n          className={\n            image ? 'profile-diary__image' : 'profile-diary__image_default'\n          }\n          src={image ? `${staticImageUrl}/${image}` : defaultImage}\n          alt={place}\n        />\n      </Card>\n      <Card sectionClass=\"profile-diary__date-container\">\n        <div className=\"profile-diary__text-wrap\">\n          <TitleH2 sectionClass=\"profile-diary__card-title\" title={place} />\n          <div className=\"profile-diary__card-text\">\n            <CardAnnotationContainer>\n              <p className=\"profile-diary__paragraph\">{description}</p>\n            </CardAnnotationContainer>\n          </div>\n        </div>\n        <div className=\"profile-diary__card-date\">\n          <p className=\"profile-diary__weekday\">{`${eventDay.monthName}, ${eventDay.year}`}</p>\n          <p className=\"profile-diary__day\">{eventDay.day}</p>\n        </div>\n        <div className=\"profile-diary__actions\">\n          <div className=\"profile-diary__rating\">\n            <Rating\n              type=\"radio\"\n              ratingType={mark}\n              value={mark}\n              checked\n              sectionClass=\"profile-diary__rate\"\n            />\n            <Caption\n              title={caption}\n              sectionClass={`profile-diary__ratings-text profile-diary__ratings-text_type_${\n                mark || 'neutral'\n              }`}\n            />\n          </div>\n          <div className=\"profile-diary__action-elements\">\n            <Button\n              title={\n                sentToCurator ? texts.buttonTextShared : texts.buttonShareText\n              }\n              color=\"gray-borderless\"\n              sectionClass={`profile-diary__button ${\n                sentToCurator ? 'profile-diary__button_shared' : ''\n              }`}\n              onClick={handleShareButtonClick}\n            />\n            <Button\n              title={texts.buttonEditText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleEditButtonClick}\n            />\n            <Button\n              title={texts.buttonDeleteText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleDeleteButtonClick}\n            />\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nProfileDiary.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func,\n  onShare: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileDiary.defaultProps = {\n  data: {},\n  onEdit: () => {},\n  onDelete: () => {},\n  onShare: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileDiary;\n","const texts = {\n  title: 'Удалить встречу в',\n  submitButtonText: 'Удалить',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","const texts = {\n  closeButtonLabel: 'Закрыть попап',\n};\n\nexport default texts;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport './Popup.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Popup({\n  children,\n  type,\n  typeContainer,\n  isOpen,\n  onClose,\n  withoutCloseButton,\n  sectionClass,\n}) {\n  const closeAllPopupsOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n  return (\n    <div\n      className={`popup popup_type_${type} ${isOpen ? 'popup_opened' : ''} `}\n      onClick={closeAllPopupsOnOverlay}\n    >\n      <div\n        className={`popup__container popup__container_type_${typeContainer} ${sectionClass}`}\n      >\n        {!withoutCloseButton && (\n          <button\n            className=\"popup__close\"\n            type=\"button\"\n            aria-label={texts.closeButtonLabel}\n            onClick={onClose}\n          />\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  typeContainer: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  withoutCloseButton: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nPopup.defaultProps = {\n  children: null,\n  type: '',\n  typeContainer: '',\n  isOpen: false,\n  onClose: () => {},\n  sectionClass: '',\n  withoutCloseButton: false,\n};\n\nexport default Popup;\n","import './PopupDeleteDiary.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Button } from '../../utils/index';\n\nfunction PopupDeleteDiary({ isOpen, onClose, onCardDelete, cardData }) {\n  const { place, date } = cardData;\n  const day = formatDate(date);\n  const [month, setMonth] = useState(null);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onCardDelete(cardData);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      setMonth(formatMonthsGenitiveCase(day?.monthName));\n    }\n  }, [isOpen]);\n\n  return (\n    <Popup\n      type=\"confirm-delete-diary\"\n      typeContainer=\"confirm-diary\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n      sectionClass=\"popup-diary\"\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <TitleH2\n          title={`${texts.title} ${place} ${parseInt(day.day, 10)} ${month} ${\n            day.year\n          }?`}\n          sectionClass=\"popup-diary__title\"\n        />\n        <div className=\"popup-diary__buttons\">\n          <Button\n            color=\"gray\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.submitButtonText}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupDeleteDiary.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onCardDelete: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupDeleteDiary.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onCardDelete: () => {},\n  cardData: {},\n};\n\nexport default PopupDeleteDiary;\n","const texts = {\n  title404: '404',\n  buttonText: 'Вернуться на главную',\n};\n\nexport default texts;\n","import './AnimatedPageContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animation404 from '../../assets/animation/Illustration_404.json';\nimport { TitleH2 } from '../utils/index';\n\nfunction AnimatedPageContainer({\n  is404,\n  titleText,\n  buttonText,\n  staticPage,\n  urlBack,\n}) {\n  const animationContainer = useRef();\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation404,\n    });\n  }, []);\n\n  return (\n    <div className=\"animated-section\">\n      <div ref={animationContainer} className=\"animated-section__animation\" />\n      {is404 && <h1 className=\"page-not-found-title\">{texts.title404}</h1>}\n      <TitleH2 title={titleText} sectionClass=\"animated-section__subtitle\" />\n      <Link\n        className=\"button animated-section__link button_color_blue\"\n        to={staticPage ? `${urlBack}` : '/'}\n      >\n        {buttonText}\n      </Link>\n    </div>\n  );\n}\n\nAnimatedPageContainer.propTypes = {\n  is404: PropTypes.bool,\n  titleText: PropTypes.string,\n  buttonText: PropTypes.string,\n  staticPage: PropTypes.bool,\n  urlBack: PropTypes.string,\n};\n\nAnimatedPageContainer.defaultProps = {\n  is404: false,\n  titleText: '',\n  buttonText: texts.buttonText,\n  staticPage: false,\n  urlBack: '',\n};\n\nexport default AnimatedPageContainer;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport './Profile.scss';\nimport profilePageTexts from '../../locales/profile-page-RU';\nimport { PopupsContext, ErrorsContext } from '../../contexts/index';\nimport { useScrollToTop, useEventBooking } from '../../hooks/index';\nimport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n  shareDiary,\n} from '../../api/profile-page';\nimport {\n  getBookedEvents,\n  getArchiveOfBookedEvents,\n} from '../../api/event-participants';\nimport {\n  DELAY_RENDER,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  BasePage,\n  ProfileEventCard,\n  TitleH2,\n  ProfileForm,\n  ProfileDiary,\n  PopupDeleteDiary,\n  ButtonRound,\n  Loader,\n  ScrollableContainer,\n  UserMenuButton,\n  AnimatedPageContainer,\n} from './index';\n\nconst {\n  headTitle,\n  headDescription,\n  eventsTitle,\n  eventsTitleNoResults,\n  formTitle,\n  eventsArchiveButton,\n  eventsCurrentButton,\n  eventsTitleArchive,\n  eventsTitleNoResultsArchive,\n} = profilePageTexts;\n\nfunction Profile() {\n  useScrollToTop();\n\n  const { openPopupAboutEvent, openPopupError } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [events, setEvents] = useState(null);\n  const [archivedEvents, setArchivedEvents] = useState(null);\n  const [diaries, setDiaries] = useState(null);\n  const [isArchiveOpen, setIsArchiveOpen] = useState(false);\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [formDataToEdit, setFormDataToEdit] = useState(null);\n  const [isDeleteDiaryPopupOpen, setIsDeleteDiaryPopupOpen] = useState(false);\n\n  const [isLoadingEvents, setIsLoadingEvents] = useState(true);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getArchiveOfEvents = () => {\n    getArchiveOfBookedEvents()\n      .then((eventsData) => {\n        setArchivedEvents(eventsData);\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.generalErrorMessage.title,\n          button: ERROR_MESSAGES.generalErrorMessage.button,\n        });\n        openPopupError();\n      })\n      .finally(() => setIsLoadingEvents(false));\n  };\n\n  const getCurrentBookedEvents = () => {\n    getBookedEvents()\n      .then((eventsData) => {\n        const sortedEvents = eventsData\n          .sort((a, b) => {\n            const date1 = new Date(a?.event?.startAt);\n            const date2 = new Date(b?.event?.startAt);\n            return date1 - date2;\n          })\n          .map(({ event }) => {\n            const updatedEvent = event;\n            updatedEvent.booked = true;\n            return updatedEvent;\n          });\n        setEvents(sortedEvents);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsLoadingEvents(false));\n  };\n\n  useEffect(() => {\n    getCurrentBookedEvents();\n  }, []);\n\n  useEffect(() => {\n    getProfileDiariesData()\n      .then(setDiaries)\n      .catch(() => setIsPageError(true));\n  }, []);\n\n  // отписка от ивентов\n  const { selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setEvents(() =>\n        events.filter((event) =>\n          event?.id === selectedEvent?.id ? null : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // работа с карточками мероприятий календаря\n  const openEventCard = () => {\n    if (isArchiveOpen) {\n      // без записи на ивент\n      openPopupAboutEvent(true);\n    } else openPopupAboutEvent();\n  };\n\n  const openArchiveOfEvents = () => {\n    setIsArchiveOpen(true);\n    setIsLoadingEvents(true);\n    getArchiveOfEvents();\n  };\n\n  const openCurrentEvents = () => {\n    setIsArchiveOpen(false);\n    setIsLoadingEvents(true);\n    getCurrentBookedEvents();\n  };\n\n  // работа с формой\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const openForm = (data) => {\n    if (!data) setIsEditMode(false);\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    setIsEditMode(false);\n    setFormDataToEdit(null);\n  };\n\n  const handleEditMode = (data) => {\n    setIsFormOpen(false);\n    //! необходима небольшая задержка перед ререндером\n    setTimeout(() => {\n      setIsEditMode(true);\n      setFormDataToEdit(data);\n      openForm(data);\n    }, DELAY_RENDER);\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data?.id) formData.append('id', data?.id);\n    if (data?.image) formData.append('image', data?.image);\n    formData.append('date', data?.date);\n    formData.append('place', data?.place);\n    formData.append('description', data?.description);\n    formData.append('mark', data?.mark);\n    return formData;\n  };\n\n  const handleErrorOnFormSubmit = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized) {\n      setError(err?.data);\n    } else openPopupError();\n  };\n\n  const handleCreateDiary = (data) => {\n    createDiary(createFormData(data))\n      .then((newDiary) => {\n        setDiaries([newDiary, ...diaries]);\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleEditDiary = (data) => {\n    editDiary(data?.id, createFormData(data))\n      .then((newDiary) => {\n        setDiaries(() =>\n          diaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleSubmitDiary = (data) => {\n    if (isEditMode) handleEditDiary(data);\n    else handleCreateDiary(data);\n  };\n\n  // удаление дневника\n  const [selectedDiary, setSelectedDiary] = useState({});\n\n  const openDeleteDiaryPopup = (diary) => {\n    setIsDeleteDiaryPopupOpen(true);\n    setSelectedDiary(diary);\n  };\n\n  const closeDeleteDiaryPopup = () => {\n    setIsDeleteDiaryPopupOpen(false);\n  };\n\n  const handleDeleteDiary = (diary) => {\n    deleteDiary(diary?.id, diary)\n      .then(() => {\n        setDiaries(() =>\n          diaries.filter((prevDiary) =>\n            prevDiary?.id === diary?.id ? null : prevDiary\n          )\n        );\n        closeDeleteDiaryPopup();\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.generalErrorMessage.title,\n          button: ERROR_MESSAGES.generalErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  const handleShareDiary = (diaryId) => {\n    shareDiary(diaryId)\n      .then(() => {\n        const newDiary = diaries.find((diary) => diary?.id === diaryId);\n        newDiary.sentToCurator = true;\n        setDiaries(() =>\n          diaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.generalErrorMessage.title,\n          button: ERROR_MESSAGES.generalErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  // функции рендера\n  const titleH1Current =\n    events?.length > 0 ? eventsTitle : eventsTitleNoResults;\n  const titleH1Archive =\n    archivedEvents?.length > 0\n      ? eventsTitleArchive\n      : eventsTitleNoResultsArchive;\n\n  const renderEventCards = () => {\n    const renderingEvents = isArchiveOpen ? archivedEvents : events;\n    if (renderingEvents && renderingEvents?.length > 0) {\n      return (\n        <>\n          {renderingEvents.map((item) => (\n            <ProfileEventCard\n              key={item?.id}\n              data={item}\n              onOpen={openEventCard}\n              sectionClass=\"scrollable-container__child slide-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderAddDiaryButton = () => {\n    if (!isFormOpen && diaries && diaries?.length > 0) {\n      return (\n        <ButtonRound\n          sectionClass=\"profile__button-add-diary fade-in\"\n          color=\"blue\"\n          isSmall\n          onClick={openForm}\n        />\n      );\n    }\n    return null;\n  };\n\n  const renderDiaryForm = () => {\n    if (isFormOpen || (diaries && diaries?.length === 0)) {\n      return (\n        <>\n          {!isEditMode && (\n            <TitleH2 sectionClass=\"profile__title fade-in\" title={formTitle} />\n          )}\n          <ProfileForm\n            sectionClass=\"profile__diary-form scale-in\"\n            isEditMode={isEditMode}\n            isOpen={isFormOpen}\n            data={formDataToEdit}\n            onClose={closeForm}\n            onSubmit={handleSubmitDiary}\n          />\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderDiaries = () => {\n    if (diaries && diaries?.length > 0) {\n      return (\n        <>\n          {diaries.map((diary) => (\n            <ProfileDiary\n              key={diary?.id}\n              data={diary}\n              onEdit={handleEditMode}\n              onDelete={openDeleteDiaryPopup}\n              onShare={handleShareDiary}\n              sectionClass=\"scale-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <div className=\"profile__events-area page__section\">\n          {!isLoadingEvents ? (\n            <>\n              <div className=\"profile__events-heading\">\n                <UserMenuButton\n                  sectionClass=\"profile__archive-button\"\n                  title={\n                    isArchiveOpen ? eventsCurrentButton : eventsArchiveButton\n                  }\n                  handleClick={\n                    isArchiveOpen ? openCurrentEvents : openArchiveOfEvents\n                  }\n                />\n                <TitleH2\n                  sectionClass=\"profile__title\"\n                  title={isArchiveOpen ? titleH1Archive : titleH1Current}\n                />\n              </div>\n              <ScrollableContainer sectionClass=\"profile__events\" step={3}>\n                {renderEventCards()}\n              </ScrollableContainer>\n            </>\n          ) : (\n            <Loader isSmallGrid />\n          )}\n        </div>\n\n        <div className=\"profile__diaries page__section\">\n          <span className=\"profile__scroll-anchor\" ref={scrollAnchorRef} />\n          <div className=\"profile__diaries-container\">\n            <div className=\"profile__form-container\">\n              {renderAddDiaryButton()}\n\n              {renderDiaryForm()}\n            </div>\n\n            {renderDiaries()}\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  if (!events && !diaries) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        <section className=\"profile fade-in\">{renderPageContent()}</section>\n      </BasePage>\n      <PopupDeleteDiary\n        isOpen={isDeleteDiaryPopupOpen}\n        cardData={selectedDiary}\n        onClose={closeDeleteDiaryPopup}\n        onCardDelete={handleDeleteDiary}\n      />\n    </>\n  );\n}\n\nexport default Profile;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getProfileDiariesData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// создать дневник\nfunction createDiary(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// редактировать дневник\nfunction editDiary(diaryId, data) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// удалить дневник\nfunction deleteDiary(diaryId, data) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// открыть дневник куратору\nfunction shareDiary(diaryId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/send/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n  shareDiary,\n};\n","const calendarPageTexts = {\n  headTitle: 'Календарь',\n  headDescription: 'Календарь событий и мероприятий для наставников.',\n  title: 'Календарь',\n  textStubNoData: 'Мы работаем над планом мероприятий на ближайшие месяцы.',\n};\n\nexport default calendarPageTexts;\n","/* eslint-disable no-param-reassign */\nexport const handleCheckboxBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const handleRadioBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const selectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = true;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectAllTags = (setState) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      filterItem.isActive = false;\n      return filterItem;\n    })\n  );\n};\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import './CardCalendar.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  formatDate,\n  formatWordCase,\n  changeCaseOfFirstLetter,\n} from '../../../utils/utils';\nimport { ButtonDots, Button } from '../../utils/index';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction CardCalendar({\n  cardData,\n  onEventSignUpClick,\n  onEventDescriptionClick,\n  sectionClass,\n}) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n  } = texts;\n\n  const { booked, tags, title, startAt, endAt, address, contact, remainSeats } =\n    cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n\n  // будет ли заблокирована кнопка\n  const isDisabled = remainSeats < 1 && !booked;\n\n  function changeStateOfEvent() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventSignUpClick(cardData);\n  }\n\n  function prepareDataForAboutEventPopup() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventDescriptionClick();\n  }\n\n  const classNames = [\n    'calendar',\n    booked ? 'calendar_selected' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <article className={classNames}>\n      <div className=\"calendar__caption\">\n        <div className=\"calendar__info\">\n          <p className=\"calendar__type\">\n            {changeCaseOfFirstLetter(tags?.name)}\n          </p>\n          <p className=\"calendar__weekday\">\n            {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n          </p>\n        </div>\n        <div className=\"calendar__about\">\n          <h2 className=\"section-title calendar__title\">{title}</h2>\n          <p className=\"calendar__date\">{startDateParts.day}</p>\n        </div>\n      </div>\n      <div className=\"calendar__meetup\">\n        <ul className=\"calendar__info-list\">\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__time\">\n              {`${startDateParts.hour}:${startDateParts.minutes} - ${endDayParts.hour}:${endDayParts.minutes}`}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__place\">{address}</p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__contact\">{contact}</p>\n          </li>\n        </ul>\n        <div className=\"calendar__submit\">\n          <Button\n            title={buttonTitle}\n            titleSelected={buttonTitleSelected}\n            color=\"blue\"\n            isDisabled={isDisabled}\n            onClick={changeStateOfEvent}\n            isBooked={booked}\n          />\n          <p className=\"calendar__place-left\">\n            {/* если запись закрыта, то карточка не должна быть выделенной */}\n            {(isDisabled && buttonTitleDisabled) ||\n              (!booked &&\n                `${remainSeatsText} ${remainSeats} ${formatWordCase(\n                  remainSeats\n                )}`)}\n          </p>\n          <ButtonDots handleClick={prepareDataForAboutEventPopup} />\n        </div>\n      </div>\n    </article>\n  );\n}\n\nCardCalendar.propTypes = {\n  cardData: PropTypes.objectOf(PropTypes.any),\n  onEventSignUpClick: PropTypes.func,\n  onEventDescriptionClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nCardCalendar.defaultProps = {\n  cardData: {},\n  onEventSignUpClick: () => {},\n  onEventDescriptionClick: () => {},\n  sectionClass: '',\n};\n\nexport default CardCalendar;\n","import './TagsList.scss';\nimport PropTypes from 'prop-types';\nimport { PseudoButtonTag } from '../utils/index';\n\nfunction TagsList({ filterList, name, handleClick, sectionClass }) {\n  const classNames = ['tags', sectionClass].join(' ').trim();\n  const classNamesList = [\n    'tags__list',\n    filterList.length > 3 ? 'tags__list_mobile' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <ul className={classNamesList}>\n        {filterList.map((item) => (\n          <li className=\"tags__list-item\" key={item?.name}>\n            <PseudoButtonTag\n              name={name}\n              value={item?.filter}\n              title={item?.name}\n              isActive={item?.isActive}\n              onClick={handleClick}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nTagsList.propTypes = {\n  filterList: PropTypes.arrayOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  name: PropTypes.string,\n  handleClick: PropTypes.func,\n};\n\nTagsList.defaultProps = {\n  filterList: [],\n  sectionClass: '',\n  name: '',\n  handleClick: () => {},\n};\n\nexport default TagsList;\n","import './Calendar.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport calendarPageTexts from '../../locales/calendar-page-RU';\nimport {\n  ErrorsContext,\n  CurrentUserContext,\n  PopupsContext,\n} from '../../contexts/index';\nimport {\n  useScrollToTop,\n  useDebounce,\n  useEventBooking,\n} from '../../hooks/index';\nimport { months, DELAY_DEBOUNCE, ERROR_MESSAGES } from '../../config/constants';\nimport { handleRadioBehavior } from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { getCalendarPageData, getActiveMonthTags } from '../../api/afisha-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardCalendar,\n  AnimatedPageContainer,\n  Loader,\n  TagsList,\n  Paginate,\n} from './index';\n\nconst { headTitle, headDescription, title, textStubNoData } = calendarPageTexts;\n\nconst INITIAL_PAGE_INDEX = 0;\nexport const PAGE_SIZE_PAGINATE = {\n  small: 6,\n  medium: 8,\n  big: 12,\n};\n\nfunction Calendar() {\n  useScrollToTop();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupLogin, openPopupAboutEvent, openPopupError } =\n    useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n\n  // переход между фильтрами/страницами пагинации, лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // переход между городами, лоадер\n  const [isGlobalLoader, setIsGlobalLoader] = useState(false);\n  // лоадер для пагинации\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  // загрузка данных страницы календаря, если ты залогиненный\n  const [calendarPageData, setCalendarPageData] = useState(null);\n\n  // весь список доступных фильтров\n  // { isActive, name, filter }\n  const [filters, setFilters] = useState(null);\n\n  // флаг использования фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n  const [pageIndex, setPageIndex] = useState(INITIAL_PAGE_INDEX);\n  const [isFirstRender, setIsFirstRender] = useState(true);\n\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // определение размера страницы\n  useEffect(() => {\n    const small = window.matchMedia('(max-width: 1024px)');\n    const medium = window.matchMedia('(max-width: 1440px)');\n\n    const listener = () => {\n      if (small.matches) {\n        // 320px-1024px по 6 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (medium.matches) {\n        // 1024px-1440px по 8 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        // больше 1440px по 12 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    small.addEventListener('change', listener);\n    medium.addEventListener('change', listener);\n\n    return () => {\n      small.removeEventListener('change', listener);\n      medium.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // нужно ли рисовать фильтры (если месяц всего 1 - не рисуем)\n  const areThereEventsMoreForOneMonth = calendarPageData?.length > 0;\n\n  function getActiveFilters() {\n    if (!filters) {\n      // обязательно возвращаем пустой массив\n      return [];\n    }\n\n    return filters.filter((filter) => filter.isActive);\n  }\n\n  // общая функция загрузки ивентов\n  // в будущем упростить эту функцию\n  function getPageData({ offset, activeFilters }) {\n    getCalendarPageData({\n      limit: pageSize,\n      offset,\n      months: activeFilters,\n    })\n      .then((events) => {\n        const { results, count } = events;\n        setTotalPages(Math.ceil(count / pageSize));\n        setCalendarPageData(results);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsGlobalLoader(false);\n        setIsLoadingPaginate(false);\n      });\n  }\n\n  // загрузка страницы палендаря при старте либо показ попапа логина\n  useEffect(() => {\n    if (currentUser && pageSize) {\n      const offset = pageSize * pageIndex;\n      getPageData({ offset });\n      setIsFirstRender(false);\n    }\n\n    if (!currentUser) {\n      openPopupLogin();\n    }\n  }, [pageSize, currentUser]);\n\n  // загрузка фильтров страницы при старте или смене города юзера\n  useEffect(() => {\n    if (currentUser) {\n      setIsGlobalLoader(true);\n      getActiveMonthTags()\n        .then((monthsTags) => {\n          const customFilters = monthsTags.map((tag) => {\n            const filterName = changeCaseOfFirstLetter(months[tag]);\n            return {\n              isActive: false,\n              name: filterName,\n              filter: tag,\n            };\n          });\n          setFilters(customFilters);\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [currentUser?.city]);\n\n  // хэндлер фильтр-кнопки\n  function handleFilterButtonClick(inputValue, isChecked) {\n    handleRadioBehavior(setFilters, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  }\n\n  // вспомогательная функция фильтрации\n  function handleFiltration() {\n    const activeMonths = getActiveFilters();\n\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n    // фильтров нет (грузим стартовую страницу)\n    if (activeMonths.length === 0) {\n      getPageData({ limit: pageSize, offset });\n    } else {\n      // фильтруемся по месяцу\n      const { filter } = activeMonths[0]; // задел под мультифильтры\n      getPageData({ limit: pageSize, offset, activeFilters: filter });\n    }\n  }\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  // эффект фильтрации\n  useEffect(() => {\n    // в дальнейшем надо изменить количество секунд\n    if (isFiltersUsed) {\n      setIsLoading(true);\n      debounceFiltration();\n    }\n\n    // провели фильтрацию, флажок фильтров меняем\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  // эффект пагинации\n  const debouncePaginate = useDebounce(getPageData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (!isFirstRender) {\n      const activeMonths = getActiveFilters();\n      setIsLoadingPaginate(true);\n      // при нажатых фильтрах нажимаем пагинацию\n      if (activeMonths.length > 0) {\n        const offset = pageSize * pageIndex;\n        const { filter } = activeMonths[0]; // задел под мультифильтры\n        debouncePaginate({ offset, activeFilters: filter });\n      }\n\n      // просто нажимаем пагинацию + месяц не выбран\n      if (activeMonths.length === 0) {\n        const offset = pageSize * pageIndex;\n        debouncePaginate({ offset });\n      }\n    }\n  }, [pageIndex]);\n\n  // подписка/отписка от ивентов\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n  useEffect(() => {\n    if (selectedEvent) {\n      setCalendarPageData(() =>\n        calendarPageData.map((event) =>\n          event.id === selectedEvent.id ? selectedEvent : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // рендеринг\n  // отрисовка заглушки, если ивентов нет\n  function returnAnimatedContainer() {\n    return (\n      <>\n        {isGlobalLoader ? (\n          <Loader isNested />\n        ) : (\n          <AnimatedPageContainer titleText={textStubNoData} />\n        )}\n      </>\n    );\n  }\n\n  // отрисовка карточек ивентов\n  function renderEventCardsContainer() {\n    const cards = calendarPageData.map((cardData) => (\n      <CardCalendar\n        key={cardData.id}\n        cardData={cardData}\n        onEventSignUpClick={handleEventBooking}\n        onEventDescriptionClick={openPopupAboutEvent}\n        sectionClass=\"scale-in\"\n      />\n    ));\n    return cards;\n  }\n\n  // фильтры\n  function renderFilters() {\n    return (\n      <TagsList\n        filterList={filters}\n        name=\"month\"\n        handleClick={handleFilterButtonClick}\n      />\n    );\n  }\n\n  // блок пагинации\n  function renderPagination() {\n    return (\n      <Paginate\n        sectionClass=\"cards-section__pagination\"\n        pageCount={totalPages}\n        value={pageIndex}\n        onChange={setPageIndex}\n      />\n    );\n  }\n\n  // главная функция рендера\n  function renderPageContent() {\n    // ошибка загрузки данных\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n\n    // залогинен и есть ивенты\n    if (currentUser && areThereEventsMoreForOneMonth) {\n      return (\n        <>\n          {/* лоадер смены городов */}\n          {isGlobalLoader ? (\n            <Loader isNested />\n          ) : (\n            <>\n              <TitleH1 title={title} sectionClass=\"calendar-page__title\" />\n              <div className=\"calendar-page__container\">\n                {filters?.length > 1 && renderFilters()}\n\n                {/* лоадер смены фильтров */}\n                {isLoading ? (\n                  <Loader isNested />\n                ) : (\n                  <>\n                    {/* лоадер переключения пагинации */}\n                    {isLoadingPaginate ? (\n                      <Loader isNested />\n                    ) : (\n                      <div className=\"calendar-page__grid\">\n                        {renderEventCardsContainer()}\n                      </div>\n                    )}\n                    {totalPages > 1 && renderPagination()}\n                  </>\n                )}\n              </div>\n            </>\n          )}\n        </>\n      );\n    }\n\n    // залогинен и нет ивентов для города вообще\n    if (currentUser && !areThereEventsMoreForOneMonth && calendarPageData) {\n      return returnAnimatedContainer();\n    }\n\n    return null;\n  }\n\n  // глобальный лоадер при первой загрузке пока ждем ивенты и фильтры\n  if ((!calendarPageData || !filters) && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"calendar-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Calendar;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить дату страницы\nfunction getCalendarPageData({ limit, offset, months }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/`, {\n      params: { limit, offset, months },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получить тегсы-месяцы (список фильтров)\nfunction getActiveMonthTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/months/`)\n    .then((response) => response.data.months)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getCalendarPageData, getActiveMonthTags };\n","const mainPageTexts = {\n  headTitle: 'наставники.про',\n  headDescription:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  CardAnimatedPlugText: 'Пока тут ничего нет',\n};\n\nexport default mainPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные главной страницы\nfunction getMainPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/main/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getMainPageData;\n","import { bbbsLinks } from '../../../../utils/external-links';\n\nconst texts = {\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  link: bbbsLinks.about,\n};\n\nexport default texts;\n","import './CardStub.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, LogoBlue, TitleH2 } from '../../utils/index';\n\nfunction CardStub({ sectionClass }) {\n  return (\n    <Card sectionClass={`stub ${sectionClass}`} color=\"green\">\n      <div className=\"stub__upper-element\">\n        <a\n          className=\"stub__logo\"\n          href={texts.link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n      </div>\n      <div className=\"stub__content\">\n        <TitleH2 sectionClass=\"stub__text\" title={texts.title} />\n      </div>\n    </Card>\n  );\n}\n\nCardStub.propTypes = {\n  sectionClass: PropTypes.string,\n};\n\nCardStub.defaultProps = {\n  sectionClass: '',\n};\n\nexport default CardStub;\n","const texts = {\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  chosenTagText: 'Выбор наставника',\n  linkText: 'перейти на сайт',\n  activityTypeDefault: 'Развлекательный',\n};\n\nexport default texts;\n","import './CardAnnotation.scss';\nimport PropTypes from 'prop-types';\nimport { Card } from '../../utils/index';\nimport CardAnnotationContainer from './CardAnnotationContainer';\n\nfunction CardAnnotation({ info, description, isMain }) {\n  return (\n    <Card\n      sectionClass={`card-annotation ${isMain ? 'card-annotation_main' : ''}`}\n    >\n      <CardAnnotationContainer caption={info}>\n        <p className=\"paragraph card-annotation__paragraph\">{description}</p>\n      </CardAnnotationContainer>\n    </Card>\n  );\n}\n\nCardAnnotation.propTypes = {\n  info: PropTypes.string,\n  description: PropTypes.string,\n  isMain: PropTypes.bool,\n};\n\nCardAnnotation.defaultProps = {\n  info: undefined,\n  description: undefined,\n  isMain: false,\n};\n\nexport default CardAnnotation;\n","import './CardPlace.scss';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PLACES_URL } from '../../../config/routes';\nimport { staticImageUrl } from '../../../config/config';\nimport { Rubric, TitleH2, Card, Caption } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\n\nfunction CardPlace({\n  data: {\n    image,\n    title,\n    description,\n    link,\n    chosen,\n    address,\n    gender,\n    age,\n    activityType,\n  },\n  activityTypes,\n  color,\n  sectionClass,\n  isBig,\n  isMainPage,\n}) {\n  const {\n    genderMale,\n    genderFemale,\n    linkText,\n    chosenTagText,\n    activityTypeDefault,\n  } = texts;\n  const cardColor = isBig ? 'yellow' : color;\n  const cardSize = isBig ? 'card-place_main' : '';\n  const sex = gender === 'male' ? genderMale : genderFemale;\n\n  const types = activityTypes\n    ? activityTypes.reduce((obj, { id, name }) => {\n        // eslint-disable-next-line no-param-reassign\n        obj[id] = name;\n        return obj;\n      }, {})\n    : null;\n\n  const renderImage = () => {\n    if (isMainPage) {\n      return (\n        <Link\n          to={PLACES_URL}\n          className=\"card-place__link-wrap card-place__link-wrap_content_article-img\"\n        >\n          <img\n            src={`${staticImageUrl}/${image}`}\n            alt={title}\n            className=\"card-place__image\"\n          />\n        </Link>\n      );\n    }\n    if (!isMainPage && chosen && isBig) {\n      return (\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={title}\n          className=\"card-place__image card-place__image_type_article\"\n        />\n      );\n    }\n    return null;\n  };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass={`card-place ${cardSize}`} color={cardColor}>\n        {chosen && (\n          <Rubric title={chosenTagText} sectionClass=\"card-place__rubric\" />\n        )}\n\n        <div className=\"card-place__title-wrap\">\n          {isMainPage ? (\n            <Link to={PLACES_URL} className=\"card-place__link-wrap\">\n              <TitleH2 sectionClass=\"card-place__title\" title={title} />\n            </Link>\n          ) : (\n            <TitleH2 sectionClass=\"card-place__title\" title={title} />\n          )}\n          <Caption sectionClass=\"card-place__address\" title={address} />\n        </div>\n\n        {renderImage()}\n\n        {link && (\n          <a\n            href={link}\n            className=\"link card-place__link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {linkText}\n          </a>\n        )}\n      </Card>\n\n      <CardAnnotation\n        info={`${sex}, ${age} лет, ${\n          activityTypes ? types[activityType] : activityTypeDefault\n        } отдых`}\n        description={description}\n        isMain={isBig}\n      />\n    </article>\n  );\n}\n\nCardPlace.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  chosen: PropTypes.bool,\n  title: PropTypes.string,\n  address: PropTypes.string,\n  image: PropTypes.string,\n  link: PropTypes.string,\n  description: PropTypes.string,\n  gender: PropTypes.string,\n  age: PropTypes.number,\n  activityType: PropTypes.number,\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isBig: PropTypes.bool,\n  isMainPage: PropTypes.bool,\n};\n\nCardPlace.defaultProps = {\n  data: {},\n  chosen: false,\n  title: '',\n  address: '',\n  image: '',\n  link: '',\n  description: '',\n  gender: 'male',\n  age: 18,\n  activityType: 1,\n  activityTypes: [],\n  color: 'white',\n  isBig: false,\n  sectionClass: '',\n  isMainPage: false,\n};\n\nexport default CardPlace;\n","const texts = {\n  linkText: 'читать статью',\n};\n\nexport default texts;\n","import './CardArticleBig.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport texts from './locales/RU';\nimport { Card, TitleH3 } from '../../utils/index';\n\nfunction CardArticleBig({ title, color, articleUrl, pageUrl }) {\n  return (\n    <Card sectionClass=\"card-article\" color={color}>\n      <Link to={pageUrl} className=\"card-article__link\">\n        <TitleH3 sectionClass=\"card-article__title\" title={title} />\n      </Link>\n      <a\n        className=\"link card-article__link\"\n        href={articleUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.linkText}\n      </a>\n    </Card>\n  );\n}\n\nCardArticleBig.propTypes = {\n  color: PropTypes.string,\n  title: PropTypes.string,\n  articleUrl: PropTypes.string,\n  pageUrl: PropTypes.string,\n};\n\nCardArticleBig.defaultProps = {\n  color: 'white',\n  title: '',\n  articleUrl: '#',\n  pageUrl: '/',\n};\n\nexport default CardArticleBig;\n","const texts = {\n  altText: 'Превью к видео:',\n  linkText: 'смотреть трейлер',\n};\n\nexport default texts;\n","import getYouTubeID from 'get-youtube-id';\n\nconst parserLinkYoutube = (link = '') => {\n  const idVideo = getYouTubeID(link);\n  const frameSrc = `https://www.youtube.com/embed/${idVideo}`;\n  const imagePreview = `http://img.youtube.com/vi/${idVideo}/maxresdefault.jpg`;\n\n  return { frameSrc, imagePreview };\n};\n\nexport default parserLinkYoutube;\n","import './CardFilm.scss';\nimport PropTypes from 'prop-types';\nimport { useContext, useEffect, useState } from 'react';\nimport { PopupsContext } from '../../../contexts/index';\nimport { TitleH2, Card, Caption, Rubric } from '../../utils/index';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\n\nfunction CardFilm({\n  data: { image, title, info, link, tags, duration },\n  sectionClass,\n}) {\n  const { openPopupVideo } = useContext(PopupsContext);\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    // записать дату в локал, ключ вынести в константы\n    setLocalStorageData(localStChosenVideo, {\n      image,\n      title,\n      info,\n      link,\n      tags,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  // Стейт записывает ширину окна\n  const [isMobile, setIsMobile] = useState(false);\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  // Следит за шириной экрана и записывает в стейт\n  useEffect(() => {\n    const mobile = window.matchMedia('(max-width: 767px)');\n\n    const listener = () => {\n      if (mobile.matches) setIsMobile(true);\n      else setIsMobile(false);\n    };\n    listener();\n\n    mobile.addEventListener('change', listener);\n\n    return () => {\n      mobile.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Рендерим верхную часть с фоткой\n  const renderPrewiew = () => {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.altText} ${title}`}\n          className=\"card-film__preview\"\n        />\n        {duration ? (\n          <span className=\"card-film__duration paragraph\">\n            {durationString}\n          </span>\n        ) : (\n          <ul className=\"card-film__rubric-list\">\n            {tags.map((tag) => (\n              <li key={tag.id}>\n                <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  };\n\n  // Редерим либо кнопку либо ссылку в зависимости от ширины\n  // Пробрасываем елементы в функцию в завизимости от положения\n  const renderVideoPlayback = (childrenElem) =>\n    !isMobile ? (\n      <button\n        className=\"link card-film__button\"\n        type=\"button\"\n        onClick={handleClick}\n      >\n        {childrenElem}\n      </button>\n    ) : (\n      <a\n        href={link}\n        className=\"link card-film__button\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        {childrenElem}\n      </a>\n    );\n\n  return (\n    <Card sectionClass={`card-film ${sectionClass}`}>\n      <div className=\"card-film__video\">\n        {renderVideoPlayback(renderPrewiew())}\n      </div>\n\n      <div className=\"card-film__video-info\">\n        <div className=\"card-film__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-film__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-film__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && renderVideoPlayback(texts.linkText)}\n      </div>\n    </Card>\n  );\n}\n\nCardFilm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  sectionClass: PropTypes.string,\n};\n\nCardFilm.defaultProps = {\n  data: {},\n  image: '',\n  title: '',\n  info: '',\n  link: '',\n  tags: [],\n  duration: '',\n  sectionClass: '',\n};\n\nexport default CardFilm;\n","const texts = {\n  linkText: 'смотреть видео',\n  imageAlt: 'Превью к видео',\n};\n\nexport default texts;\n","import './CardVideoMain.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext } from '../../../contexts/index';\nimport { Card, TitleH2, Caption } from '../../utils/index';\nimport { formatDuration, changeCaseOfFirstLetter } from '../../../utils/utils';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\n\nfunction CardVideoMain({ data: { title, info, link, image, duration } }) {\n  const { openPopupVideo } = useContext(PopupsContext);\n\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      title,\n      info,\n      link,\n      image,\n      duration,\n    });\n    openPopupVideo();\n    // записать дату в локал, ключ вынести в константы\n  };\n\n  // Стейт записывает ширину окна\n  const [isMobile, setIsMobile] = useState(false);\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  // Следит за шириной экрана и записывает в стейт\n  useEffect(() => {\n    const mobile = window.matchMedia('(max-width: 767px)');\n\n    const listener = () => {\n      if (mobile.matches) setIsMobile(true);\n      else setIsMobile(false);\n    };\n    listener();\n\n    mobile.addEventListener('change', listener);\n\n    return () => {\n      mobile.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Рендерим верхную часть с фоткой и props.children из компонета выше\n  const renderPrewiew = () => {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.imageAlt}: ${title}`}\n          className=\"card-video-main__image\"\n        />\n\n        <span className=\"card-video-main__duration paragraph\">\n          {durationString}\n        </span>\n      </>\n    );\n  };\n\n  // Редерим либо кнопку либо ссылку в зависимости от ширины\n  // Пробрасываем елементы в функцию в завизимости от положения\n  const renderVideoPlayback = (childrenElem) =>\n    !isMobile ? (\n      <button\n        className=\"link card-video-main__button\"\n        type=\"button\"\n        onClick={handleClick}\n      >\n        {childrenElem}\n      </button>\n    ) : (\n      <a\n        href={link}\n        className=\"link card-video-main__button\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        {childrenElem}\n      </a>\n    );\n\n  return (\n    <div className=\"card-container card-container_type_main-video\">\n      <Card sectionClass=\"card-video-main\" color=\"yellow\">\n        <div className=\"card-video-main__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-video-main__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-video-main__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && renderVideoPlayback(texts.linkText)}\n      </Card>\n\n      <Card sectionClass=\"card-video-main__video\">\n        {renderVideoPlayback(renderPrewiew())}\n      </Card>\n    </div>\n  );\n}\n\nCardVideoMain.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n};\n\nCardVideoMain.defaultProps = {\n  data: {},\n};\n\nexport default CardVideoMain;\n","const texts = {\n  labelText: 'Показать ответ',\n};\n\nexport default texts;\n","import './CardQuestion.scss';\nimport { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Rubric, TitleH2, Card, ButtonRound } from '../../utils/index';\n\nfunction CardQuestion({\n  data: { title, tags, answer },\n  sectionClass,\n  isQuestionsPage,\n}) {\n  const [isOpened, setIsOpened] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const ref = useRef();\n  function handleClickButton() {\n    if (isOpened) {\n      setIsAnimated(false);\n      setTimeout(() => {\n        setIsOpened(false);\n      }, 300);\n    } else {\n      setIsOpened(true);\n      setTimeout(() => {\n        setIsAnimated(true);\n      }, 300);\n    }\n  }\n\n  const getDynamicStyle = () => {\n    if (isOpened) {\n      return {\n        minHeight: ref.current.clientHeight,\n      };\n    }\n\n    return {\n      height: 0,\n    };\n  };\n\n  const answerWrapperClassNames = [\n    'card-question__answer',\n    isOpened ? 'card-question__answer_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Card sectionClass={`card-question ${sectionClass}`}>\n      <TitleH2 sectionClass=\"card-question__title\" title={title} />\n      <div className=\"card-question__wrap\">\n        <ul className=\"card-question__tags\">\n          {tags?.map((tag) => (\n            <li className=\"card-question__tag\" key={tag?.id}>\n              <Rubric title={tag?.name} sectionClass=\"card-question__rubric\" />\n            </li>\n          ))}\n        </ul>\n        {isQuestionsPage && (\n          <ButtonRound\n            label={texts.labelText}\n            sectionClass=\"button-round__questions-page\"\n            color=\"lightblue\"\n            onClick={handleClickButton}\n            isClick={isOpened}\n          />\n        )}\n      </div>\n      {isQuestionsPage && (\n        <div className={answerWrapperClassNames} style={getDynamicStyle()}>\n          <p\n            ref={ref}\n            className={`paragraph card-question__paragraph card-question__answer_text-hidden ${\n              isAnimated ? 'card-question__answer_text-active' : ''\n            }`}\n          >\n            {answer}\n          </p>\n        </div>\n      )}\n    </Card>\n  );\n}\n\nCardQuestion.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n  isQuestionsPage: PropTypes.bool,\n  answer: PropTypes.string,\n};\n\nCardQuestion.defaultProps = {\n  data: {},\n  title: '',\n  tags: [],\n  sectionClass: '',\n  isQuestionsPage: false,\n  answer: '',\n};\n\nexport default CardQuestion;\n","import { useEffect, useRef } from 'react';\nimport './CardAnimatedPlug.scss';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animation from '../../../assets/animation/ill_popup_recommend-success.json';\nimport { Card } from '../../utils/index';\n\nfunction CardAnimatedPlug({ text, sectionClass }) {\n  const animationContainer = useRef(null);\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation,\n    });\n  }, []);\n\n  return (\n    <Card sectionClass={sectionClass}>\n      <div className=\"card-animatedbox\">\n        <div className=\"card-animatedbox__animation\" ref={animationContainer} />\n        <p className=\"paragraph card-animatedbox__text\">{text}</p>\n      </div>\n    </Card>\n  );\n}\n\nCardAnimatedPlug.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardAnimatedPlug.defaultProps = {\n  text: '',\n  sectionClass: '',\n};\n\nexport default CardAnimatedPlug;\n","import './MainPage.scss';\nimport { Link } from 'react-router-dom';\nimport { useState, useContext, useEffect } from 'react';\nimport mainPageTexts from '../../locales/main-page-RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts/index';\nimport {\n  useScrollToTop,\n  useEventBooking,\n  useActivityTypes,\n} from '../../hooks/index';\nimport {\n  QUESTIONS_URL,\n  STORIES_URL,\n  VIDEO_URL,\n  MOVIES_URL,\n  ARTICLES_URL,\n} from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\nimport { ERROR_MESSAGES } from '../../config/constants';\nimport { randomizeArray } from '../../utils/utils';\nimport getMainPageData from '../../api/main-page';\nimport {\n  BasePage,\n  Loader,\n  Card,\n  CardStub,\n  CardCalendar,\n  CardPlace,\n  CardArticleBig,\n  CardFilm,\n  CardVideoMain,\n  Widget,\n  CardQuestion,\n  CardAnimatedPlug,\n  AnimatedPageContainer,\n} from './index';\n\n// количество отображаемых карточек с фильмами и вопросами\nconst MOVIES_COUNT = 4;\nconst QUESTIONS_COUNT = 3;\n\nconst { headTitle, headDescription, CardAnimatedPlugText } = mainPageTexts;\n\nfunction MainPage() {\n  useScrollToTop();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupAboutEvent } = useContext(PopupsContext);\n\n  const [mainPageData, setMainPageData] = useState(null);\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n  const activityTypes = useActivityTypes();\n\n  // запись/отписка на мероприятия\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setMainPageData({ ...mainPageData, event: selectedEvent });\n    }\n  }, [selectedEvent]);\n\n  // редиректы\n  function dispatchRedirectEvent() {\n    const event = new Event('redirectToPageAndOpenPopup');\n    window.dispatchEvent(event);\n  }\n\n  // запрос даты главной страницы при загрузке и при смене города\n  function getMainPageDataOnLoad() {\n    getMainPageData()\n      .then((data) => setMainPageData(data))\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsCityChanging(false));\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      setIsCityChanging(true);\n    }\n    getMainPageDataOnLoad();\n  }, [currentUser?.city]);\n\n  // глобальный лоадер (без футера)\n  if (!mainPageData && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  function renderEventsBlock() {\n    // карточка ивента\n    if (currentUser && mainPageData?.event) {\n      return (\n        <CardCalendar\n          sectionClass=\"scale-in\"\n          key={mainPageData.event.id}\n          cardData={mainPageData.event}\n          onEventSignUpClick={handleEventBooking}\n          onEventDescriptionClick={openPopupAboutEvent}\n        />\n      );\n    }\n\n    // красно-зеленая заглушка\n    return <CardStub sectionClass=\"scale-in\" />;\n  }\n\n  function renderHistoryBlock() {\n    if (mainPageData?.history) {\n      return (\n        <Card\n          sectionClass=\"lead__media scale-in\"\n          key={mainPageData?.history?.id}\n        >\n          <img\n            src={`${staticImageUrl}/${mainPageData?.history?.image}`}\n            alt={mainPageData.history.title}\n            className=\"lead__media-img\"\n          />\n          <Link to={STORIES_URL} className=\"lead__link\">\n            {mainPageData?.history?.title}\n          </Link>\n        </Card>\n      );\n    }\n\n    return (\n      <CardAnimatedPlug\n        text={CardAnimatedPlugText}\n        sectionClass=\"lead__media scale-in\"\n      />\n    );\n  }\n\n  function renderPlaceSection() {\n    return (\n      <section className=\"place main-section page__section\">\n        <CardPlace\n          key={mainPageData?.place?.id}\n          data={mainPageData?.place}\n          sectionClass=\"card-container_type_main-article scale-in\"\n          activityTypes={activityTypes}\n          isBig\n          isMainPage\n        />\n      </section>\n    );\n  }\n\n  function renderArticleSection(article) {\n    return (\n      <section className=\"articles main-section page__section scale-in\">\n        <CardArticleBig\n          key={article?.id}\n          title={article?.title}\n          color=\"blue\"\n          articleUrl={article?.articleUrl}\n          pageUrl={ARTICLES_URL}\n        />\n      </section>\n    );\n  }\n\n  function renderMoviesSection() {\n    // рандомизируем массив\n    const randomMovies = randomizeArray(mainPageData?.movies, MOVIES_COUNT);\n\n    const additionalMoviesClasses =\n      randomMovies.length > 1\n        ? `movies_pagination movies_pagination_${randomMovies.length}`\n        : '';\n    const className = `main-section__link scale-in ${additionalMoviesClasses}`;\n    // возвращаем\n    return (\n      <section className=\"movies main-section page__section cards-grid cards-grid_content_small-cards\">\n        {randomMovies.map((movie) => (\n          <Link\n            to={MOVIES_URL}\n            onClick={dispatchRedirectEvent}\n            className={className}\n            key={movie?.id}\n          >\n            <CardFilm data={movie} />\n          </Link>\n        ))}\n      </section>\n    );\n  }\n\n  function renderVideoSection() {\n    return (\n      <section className=\"video main-section page__section\">\n        <Link\n          to={VIDEO_URL}\n          onClick={dispatchRedirectEvent}\n          className=\"main-section__link scale-in\"\n        >\n          <CardVideoMain\n            key={mainPageData?.video?.id}\n            data={mainPageData?.video}\n          />\n        </Link>\n      </section>\n    );\n  }\n\n  function renderQuestionBlock() {\n    const randomQuestions = randomizeArray(\n      mainPageData?.questions,\n      QUESTIONS_COUNT\n    );\n\n    return (\n      <div className=\"main-questions__container\">\n        {randomQuestions.map((item) => (\n          <Link\n            to={QUESTIONS_URL}\n            className={`main-section__link scale-in main-section__link_el_question ${\n              randomQuestions.length > 2 ? ' main-questions_pagination' : ''\n            }`}\n            key={item?.id}\n          >\n            <CardQuestion data={item} />\n          </Link>\n        ))}\n      </div>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <>\n        {/* секция из ивента + истории */}\n        <section className=\"lead page__section\">\n          <div className=\"card-container card-container_type_identical\">\n            {/* ивент */}\n            {isCityChanging ? <Loader isNested /> : renderEventsBlock()}\n\n            {/* история дружбы */}\n            {renderHistoryBlock()}\n          </div>\n        </section>\n\n        {/* секция Место */}\n        {mainPageData?.place && renderPlaceSection()}\n\n        {/* секция Статья */}\n        {mainPageData?.articles?.length > 0 &&\n          renderArticleSection(mainPageData?.articles[0])}\n\n        {/* секция Фильмы */}\n        {mainPageData?.movies && renderMoviesSection()}\n\n        {/* секция Видео */}\n        {mainPageData?.video && renderVideoSection()}\n\n        {/* секция Виджет + Вопросы */}\n        <section className=\"main-questions main-section page__section fade-in\">\n          <div className=\"card-container card-container_type_iframe\">\n            <Widget\n              title=\"Facebook\"\n              link=\"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=420&height=627&small_header=false&adapt_container_width=false&hide_cover=false&show_facepile=true&appId\"\n            />\n\n            {/* секция Вопросов */}\n            {mainPageData?.questions?.length > 0 && renderQuestionBlock()}\n          </div>\n        </section>\n\n        {/* секция Статья */}\n        {mainPageData?.articles?.length > 1 &&\n          renderArticleSection(mainPageData?.articles[1])}\n      </>\n    );\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      ) : (\n        renderPageContent()\n      )}\n    </BasePage>\n  );\n}\n\nexport default MainPage;\n","const page404Texts = {\n  headTitle: 'Страницы не существует',\n  headDescription: 'Запрашиваемая страница не найдена.',\n  animatedContainerText:\n    'К сожалению, запрашиваемая страница не найдена. Попробуйте перейти на главную страницу',\n};\n\nexport default page404Texts;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport Header from '../components/Header/Header';\n\nfunction PageNoFooter({ children, headTitle, headDescription }) {\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header />\n      <main className=\"main\">{children}</main>\n    </>\n  );\n}\n\nPageNoFooter.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nPageNoFooter.defaultProps = {\n  children: null,\n};\n\nexport default PageNoFooter;\n","import './PageNotFound.scss';\nimport page404Texts from '../../locales/404-page-RU';\nimport { useScrollToTop } from '../../hooks/index';\nimport { PageNoFooter, AnimatedPageContainer } from './index';\n\nconst { headTitle, headDescription, animatedContainerText } = page404Texts;\n\nfunction PageNotFound() {\n  useScrollToTop();\n\n  return (\n    <PageNoFooter headTitle={headTitle} headDescription={headDescription}>\n      <AnimatedPageContainer titleText={animatedContainerText} is404 />\n    </PageNoFooter>\n  );\n}\n\nexport default PageNotFound;\n","const catalogPageTexts = {\n  headTitle: 'Справочник',\n  headDescription: 'Справочник полезных статей.',\n  title: 'Справочник',\n  subtitle: `Памятка новичка${'\\u00A0'}– наши материалы, где сможете найти всю базовую информацию, рассказанную на вводном тренинге. Если вы захотите освежить свои знания и${'\\u00A0'}напомнить себе о${'\\u00A0'}чем-то.`,\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default catalogPageTexts;\n","//! хардкод\n// eslint-disable-next-line consistent-return\nfunction renderThoseDamnedLines(dataLength, pageSize, isTablet) {\n  const renderOneLine = () => (\n    <>\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderTwoLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderThreeLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  if (isTablet) {\n    if (dataLength < 2) return null;\n\n    if (dataLength < 3) return renderOneLine();\n\n    if (dataLength < 4) return renderTwoLines();\n\n    return renderThreeLines();\n  }\n\n  switch (pageSize) {\n    case 16: {\n      if (dataLength < 5) return null;\n\n      if (dataLength < 9) return renderOneLine();\n\n      if (dataLength < 13) return renderTwoLines();\n\n      return renderThreeLines();\n    }\n\n    case 12: {\n      if (dataLength < 4) return null;\n\n      if (dataLength < 7) return renderOneLine();\n\n      if (dataLength < 10) return renderTwoLines();\n\n      return renderThreeLines();\n    }\n\n    case 9: {\n      if (dataLength < 4) return null;\n\n      if (dataLength < 7) return renderOneLine();\n\n      return renderTwoLines();\n    }\n\n    default: {\n      if (dataLength < 3) return null;\n\n      return renderOneLine();\n    }\n  }\n}\n\nexport default renderThoseDamnedLines;\n","import PropTypes from 'prop-types';\nimport './CardsSectionWithLines.scss';\nimport { useEffect, useState } from 'react';\nimport { Paginate, Loader } from '../utils/index';\nimport renderThoseDamnedLines from '../../utils/render-lines';\n\nfunction CardsSectionWithLines({\n  pageCount,\n  children,\n  pageNumber,\n  setPageNumber,\n  sectionClass,\n  isLoading,\n  dataLength,\n  pageSize,\n}) {\n  const [isTablet, setIsTablet] = useState(false);\n\n  useEffect(() => {\n    const tablet = window.matchMedia('(max-width: 900px)');\n\n    const listener = () => {\n      if (tablet.matches) setIsTablet(true);\n      else setIsTablet(false);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader isNested />\n      ) : (\n        <>\n          <section className={`cards-section ${sectionClass}`}>\n            {renderThoseDamnedLines(dataLength, pageSize, isTablet)}\n            {children}\n          </section>\n        </>\n      )}\n\n      {pageCount > 1 && (\n        <Paginate\n          sectionClass=\"cards-section__pagination cards-section__pagination_no-padding\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      )}\n    </>\n  );\n}\n\nCardsSectionWithLines.propTypes = {\n  pageCount: PropTypes.number,\n  children: PropTypes.node,\n  pageNumber: PropTypes.number,\n  setPageNumber: PropTypes.func,\n  sectionClass: PropTypes.string,\n  isLoading: PropTypes.bool,\n  dataLength: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n};\n\nCardsSectionWithLines.defaultProps = {\n  pageCount: 0,\n  children: null,\n  pageNumber: 0,\n  setPageNumber: () => {},\n  sectionClass: '',\n  isLoading: false,\n};\n\nexport default CardsSectionWithLines;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы каталога\nfunction getCatalogPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCatalogPageData;\n","import './CardCatalog.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { TitleH2 } from '../../utils/index';\nimport CardFigure from '../CardFigure/CardFigure';\nimport { staticImageUrl } from '../../../config/config';\n\nfunction CardCatalog({ data: { id, title, image }, shape, sectionClass }) {\n  const link = `/catalog/${id}`;\n  return (\n    <div className={`card-catalog ${sectionClass}`}>\n      <Link to={link} className=\"card-catalog__link-wrap\">\n        <div className=\"card-catalog__image-wrap\">\n          <CardFigure\n            sectionClass=\"card-catalog_type_shaped\"\n            shape={shape}\n            color=\"white\"\n          >\n            <img\n              className=\"card-catalog__image\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n            />\n          </CardFigure>\n        </div>\n        <TitleH2 sectionClass=\"card-catalog__title\" title={title} />\n      </Link>\n    </div>\n  );\n}\n\nCardCatalog.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  image: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardCatalog.defaultProps = {\n  data: {},\n  title: '',\n  shape: 'square',\n  image: '',\n  sectionClass: '',\n};\n\nexport default CardCatalog;\n","import './Catalog.scss';\nimport { useEffect, useState } from 'react';\nimport catalogPageTexts from '../../locales/catalog-page-RU';\nimport {\n  BasePage,\n  TitleH1,\n  TitleH2,\n  CardsSectionWithLines,\n  AnimatedPageContainer,\n  Loader,\n} from './index';\nimport getCatalogPageData from '../../api/catalog-page';\nimport CardCatalog from '../../components/Cards/CardCatalog/CardCatalog';\nimport { ERROR_MESSAGES, FIGURES } from '../../config/constants';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 9,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, subtitle, textStubNoData } =\n  catalogPageTexts;\n\nfunction Catalog() {\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [catalogPageData, setCatalogPageData] = useState([]);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  function getPageData() {\n    const offset = pageSize * pageNumber;\n\n    getCatalogPageData({ limit: pageSize, offset })\n      .then(({ results, count }) => {\n        setCatalogPageData(results);\n        setPageCount(Math.ceil(count / pageSize));\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsLoadingPage(false);\n      });\n  }\n\n  useEffect(() => {\n    if (pageSize) {\n      getPageData();\n    }\n\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  function renderCards() {\n    return (\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        isLoading={isLoadingPaginate}\n        dataLength={catalogPageData.length}\n        pageSize={pageSize}\n      >\n        {catalogPageData.map((item, i) => (\n          <CardCatalog\n            sectionClass=\"cards-section__item scale-in\"\n            key={item?.id}\n            data={item}\n            shape={FIGURES[i % FIGURES.length]}\n          />\n        ))}\n      </CardsSectionWithLines>\n    );\n  }\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    if (!catalogPageData && !isLoadingPage && !isPageError) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <section className=\"catalog page__section fade-in\">\n        <TitleH1 sectionClass=\"catalog__title\" title={title} />\n        <TitleH2 sectionClass=\"catalog__subtitle\" title={subtitle} />\n        {renderCards()}\n      </section>\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {renderPageContent()}\n    </BasePage>\n  );\n}\n\nexport default Catalog;\n","const questionsPageTexts = {\n  headTitle: 'Ответы на вопросы',\n  headDescription: 'Страница с ответами на основные вопросы.',\n  title: 'Ответы на вопросы',\n  textStubNoData:\n    'В данный момент страница вопросов пуста. Возвращайтесь позже!',\n  formPlaceholder: 'Введите вопрос',\n  formSubmitButton: 'Отправить',\n  loadMoreButton: 'Загрузить еще',\n};\n\nexport default questionsPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы\nfunction getQuestionsPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/`, {\n      params: { limit, offset, tags },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получить тагсы (список фильтров)\nfunction getQuestionsPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// постинг вопроса\nfunction postQuestion(question) {\n  return axios\n    .post(`${baseURL}${apiUrl}/questions/`, question)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getQuestionsPageData, getQuestionsPageTags, postQuestion };\n","import './Questions.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport questionsPageTexts from '../../locales/questions-page-RU';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts/index';\nimport {\n  useScrollToTop,\n  useDebounce,\n  useFormWithValidation,\n} from '../../hooks/index';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport { questionForm, changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport {\n  BasePage,\n  TitleH1,\n  TitleH2,\n  CardQuestion,\n  Input,\n  Button,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport {\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  postQuestion,\n} from '../../api/questions-page';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  textStubNoData,\n  formPlaceholder,\n  formSubmitButton,\n  loadMoreButton,\n} = questionsPageTexts;\n\nconst INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX = 1;\nconst INITIAL_PAGE_INDEX = 0;\n\nfunction Questions() {\n  useScrollToTop();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { serverError, setError, clearError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isPageError, setIsPageError] = useState(false);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  // крутилка-лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // начальная дата с API\n  const [questionsPageData, setQuestionsPageData] = useState(null);\n  // кол-во вопросов сразу и в до-загрузке\n  const pageSize = 10;\n  const [pageIndex, setPageIndex] = useState(INITIAL_PAGE_INDEX);\n  const [totalPages, setTotalPages] = useState(null);\n\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // категории фильтрации, состояние кнопок фильтров\n  const [categories, setCategories] = useState(null);\n\n  // форма\n  const [questionFormState, setQuestionFormState] = useState(\n    questionForm.beforeSubmit\n  );\n  // валидация\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  // форма вопросов\n  const setFormState = (isError) => {\n    if (isError) {\n      // форму не чистим!\n      setQuestionFormState(questionForm.errorSubmit);\n    } else {\n      setQuestionFormState(questionForm.successSubmit);\n      // вернулись к изначальной\n      setTimeout(() => {\n        resetForm();\n        clearError();\n        setQuestionFormState(questionForm.beforeSubmit);\n      }, 4000);\n    }\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const { question } = values;\n    postQuestion({ title: question })\n      .then(() => setFormState(false))\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized)\n          setError(err?.data);\n        else setFormState(true);\n      });\n  };\n\n  // хэндлер клика по фильтру\n  const changeCategory = (inputValue, isChecked) => {\n    // выбираем кнопку все\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      // выбираем другие фильтры\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    }\n    setPageIndex(INITIAL_PAGE_INDEX);\n    setIsLoading(true);\n    setIsFiltersUsed(true);\n  };\n\n  // фильтрация\n  const getActiveCategories = () => {\n    if (!categories) {\n      // обязательно возвращаем пустой массив, т.к смотрим на длину либо делаем join()\n      return [];\n    }\n\n    return categories\n      .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n      .map((filter) => filter.filter);\n  };\n\n  const getFiltratedQuestions = ({ limit, offset, tags }) => {\n    getQuestionsPageData({ limit, offset, tags })\n      .then((questionsData) => {\n        const { results, count } = questionsData;\n\n        setTotalPages(Math.ceil(count / pageSize));\n        setQuestionsPageData(results);\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.filterErrorMessage.title,\n          button: ERROR_MESSAGES.filterErrorMessage.button,\n        });\n        openPopupError();\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  const loadMoreEventsForCurrentFilterState = (activeCategories) => {\n    const query = activeCategories.join();\n    const offset = pageSize * pageIndex;\n    getQuestionsPageData({ limit: pageSize, offset, tags: query })\n      .then((questionsData) => {\n        const { results } = questionsData;\n        setQuestionsPageData((prevData) => [...prevData, ...results]);\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.generalErrorMessage.title,\n          button: ERROR_MESSAGES.generalErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  const handleFiltration = (activeCategories) => {\n    // активных фильтров нету и сейчас нажали \"ВСЕ\"\n    const offset = pageSize * pageIndex;\n    if (activeCategories.length === 0) {\n      getFiltratedQuestions({ limit: pageSize, offset });\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      // выбрана какая то категория\n      const query = activeCategories.join();\n      getFiltratedQuestions({ limit: pageSize, offset, tags: query });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n  };\n\n  // запуск фильтрации\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  useEffect(() => {\n    // используем фильтры (2 варианта развития внутри)\n    if (isFiltersUsed) {\n      const activeCategories = getActiveCategories();\n      debounceFiltration(activeCategories);\n    }\n\n    // провели фильтрацию, флажок фильтров меняем\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  useEffect(() => {\n    const activeCategories = getActiveCategories();\n    // при нажатых фильтрах нажимаем ЕЩЕ\n    if (pageIndex > 0 && activeCategories.length > 0) {\n      loadMoreEventsForCurrentFilterState(activeCategories);\n    }\n\n    // просто нажимаем еще + фильтр ВСЕ\n    if (pageIndex > 0 && activeCategories.length === 0) {\n      loadMoreEventsForCurrentFilterState(activeCategories);\n    }\n  }, [pageIndex]);\n\n  // API, первая загрузка\n  useEffect(() => {\n    const offset = pageSize * pageIndex;\n    Promise.all([\n      getQuestionsPageData({ limit: pageSize, offset }),\n      getQuestionsPageTags(),\n    ])\n      .then(([questionsData, tagsFilters]) => {\n        const { results, count } = questionsData;\n\n        setTotalPages(Math.ceil(count / pageSize));\n        setQuestionsPageData(results);\n\n        const customFilters = tagsFilters.map((tag) => {\n          const filterName = changeCaseOfFirstLetter(tag?.name);\n          return {\n            isActive: false,\n            name: filterName,\n            filter: tag?.slug,\n          };\n        });\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...customFilters,\n        ]);\n      })\n      .catch(() => setIsPageError(true));\n  }, []);\n\n  // рендеринг\n  // заглушка, если нет даты или ошибка\n  function returnAnimatedContainer() {\n    return (\n      <AnimatedPageContainer\n        titleText={\n          isPageError\n            ? ERROR_MESSAGES.generalErrorMessage.title\n            : textStubNoData\n        }\n      />\n    );\n  }\n\n  // форма вопросов\n  const renderQuestionForm = () => (\n    <>\n      <section className=\"add-question fade-in\">\n        <TitleH2\n          sectionClass={`add-question__title ${questionFormState.titleClass}`}\n          title={questionFormState.title}\n        />\n        <form\n          className={`question-form ${questionFormState.formVisibilityClass}`}\n          onSubmit={(evt) => handleSubmit(evt)}\n          noValidate\n        >\n          <fieldset className=\"question-form__add-question\">\n            <Input\n              id=\"questionsFormInput\"\n              type=\"text\"\n              name=\"question\"\n              placeholder={formPlaceholder}\n              onChange={handleChange}\n              value={values?.question}\n              minLength=\"10\"\n              maxLength=\"200\"\n              required\n              error={errors?.question}\n              sectionClass=\"input__question-form\"\n            />\n            <Button\n              title={formSubmitButton}\n              color=\"black\"\n              sectionClass=\"question-form__button\"\n              isSubmittable\n              isDisabled={!isValid}\n            />\n          </fieldset>\n          <span className=\"form-error-message\">{errorsString}</span>\n        </form>\n      </section>\n    </>\n  );\n\n  // контейнер с вопросами\n  // const renderQuestionsContainer = () => (\n  // );\n  // кнопка \"еще\"\n  const renderLoadMoreButton = () => (\n    <Button\n      title={loadMoreButton}\n      onClick={() => setPageIndex((prevIndex) => prevIndex + 1)}\n      sectionClass=\"load-more-button\"\n    />\n  );\n\n  function renderQuestionsContainer() {\n    return (\n      <>\n        <ul className=\"questions\">\n          {questionsPageData.map((question) => (\n            <li className=\"questions__list-item fade-in\" key={question?.id}>\n              <CardQuestion\n                data={question}\n                sectionClass=\"card__questions_type_questions-page\"\n                isQuestionsPage\n              />\n            </li>\n          ))}\n        </ul>\n        {totalPages > 1 &&\n        totalPages - INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX > pageIndex\n          ? renderLoadMoreButton()\n          : null}\n      </>\n    );\n  }\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (questionsPageData?.length > 0) {\n      return (\n        <>\n          <TitleH1 title={title} sectionClass=\"questions__title\" />\n\n          {/* рендер фильтров */}\n          {categories?.length > 1 && (\n            <TagsList\n              filterList={categories}\n              name=\"tag\"\n              handleClick={changeCategory}\n            />\n          )}\n\n          {/* рендерим сами вопросы + кнопку еще при надобности */}\n          {isLoading ? <Loader isNested /> : renderQuestionsContainer()}\n\n          {/* если залогинен рендерим форму */}\n          {currentUser && renderQuestionForm()}\n        </>\n      );\n    }\n\n    // залогинен и нет вопросов, покажем заглушку\n    const isDataForPage = questionsPageData?.length > 1;\n    if (isPageError || !isDataForPage) {\n      return returnAnimatedContainer();\n    }\n\n    return null;\n  };\n\n  // глобальный лоадер\n  if ((!questionsPageData || !categories) && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"questions-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Questions;\n","const placesPageTexts = {\n  headTitle: 'Куда пойти',\n  headDescription: 'Куда вы можете пойти, что рекомендуют наши наставники.',\n  title: 'Куда пойти',\n  textStubNoData:\n    'Рекомендуемых мест для выбранного города ещё нет, но они обязательно появятся!',\n  paragraphNoContent: 'По вашему запросу ничего не нашлось.',\n  mentorTag: 'Выбор наставников',\n  ageFilterNames: [\n    { filter: '8-10', name: '8-10 лет' },\n    { filter: '11-13', name: '11-13 лет' },\n    { filter: '14-17', name: '14-17 лет' },\n    { filter: '18', name: '18+ лет' },\n  ],\n};\n\nexport default placesPageTexts;\n","import placesPageTexts from '../../locales/places-page-RU';\n\nconst { ageFilterNames } = placesPageTexts;\n\nexport const ageFilters = [\n  {\n    filter: ageFilterNames[0].filter,\n    name: ageFilterNames[0].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[1].filter,\n    name: ageFilterNames[1].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[2].filter,\n    name: ageFilterNames[2].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[3].filter,\n    name: ageFilterNames[3].name,\n    isActive: false,\n  },\n];\n\nexport const PAGE_SIZE_PAGINATE = {\n  small: 2,\n  medium: 4,\n  big: 6,\n};\n","const texts = {\n  closeButtonlabel: 'Закрыть форму',\n  recommendadionTextPart1: `Если вы были в интересном месте и хотите порекомендовать его другим${'\\u00A0'}наставникам –${'\\u00A0'}`,\n  recommendadionButton: `заполните${'\\u00A0'}форму`,\n  recommendadionTextPart2: `, и мы добавим вашу${'\\u00A0'}рекомендацию.`,\n};\n\nexport default texts;\n","const texts = {\n  titlePlaceholder: 'Название*',\n  linkPlaceholder: 'Сайт',\n  addressPlaceholder: 'Адрес*',\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  agePlaceholder: 'Возраст*',\n  activityPlaceholder: 'Тип отдыха*',\n  cityPlaceholder: 'Город*',\n  descPlaceholder:\n    'Комментарий* Поделитесь впечатлениями о проведенном времени',\n  descPlaceholderMobile: 'Комментарий*',\n  buttonText: 'Отправить',\n};\n\nexport default texts;\n","import './FormRecommendation.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { CitiesContext, ErrorsContext } from '../../contexts/index';\nimport { regExpImages } from '../../config/constants';\nimport { useFormWithValidation } from '../../hooks/index';\nimport { Input, Button, ButtonRound, DropDownSelect } from '../utils/index';\n\nfunction FormRecommendation({ isOpen, onSubmit, activityTypes }) {\n  const {\n    titlePlaceholder,\n    linkPlaceholder,\n    addressPlaceholder,\n    genderMale,\n    genderFemale,\n    agePlaceholder,\n    activityPlaceholder,\n    cityPlaceholder,\n    descPlaceholder,\n    descPlaceholderMobile,\n    buttonText,\n  } = texts;\n\n  const [textAreaPlaceholder, setTextAreaPlaceholder] = useState('');\n\n  useEffect(() => {\n    const tablet = window.matchMedia('(max-width: 900px)');\n\n    const listener = () => {\n      if (tablet.matches) setTextAreaPlaceholder(descPlaceholderMobile);\n      else setTextAreaPlaceholder(descPlaceholder);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  const { cities } = useContext(CitiesContext);\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const [isAnimated, setIsAnimated] = useState(false);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onSubmit(values);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      resetForm();\n      setTimeout(() => {\n        setIsAnimated(true);\n      }, 600);\n    } else {\n      setIsAnimated(false);\n    }\n    clearError();\n  }, [isOpen]);\n\n  const formClassNames = [\n    'form-recom',\n    isOpen ? 'form-recom_opened' : '',\n    isAnimated ? 'form-recom_animated' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <form\n      className={formClassNames}\n      name=\"formRecomendation\"\n      onSubmit={handleSubmit}\n      noValidate\n    >\n      {isOpen && (\n        <>\n          <div className=\"form-recom__input-container\">\n            <Input\n              id=\"formRecommendTitle\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium form-recom__input-wrap_indentation\"\n              type=\"text\"\n              name=\"title\"\n              placeholder={titlePlaceholder}\n              onChange={handleChange}\n              value={values.title}\n              required\n              minLength=\"5\"\n              maxLength=\"50\"\n              error={errors?.title}\n            />\n\n            <Input\n              id=\"formRecommendLink\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium\"\n              type=\"text\"\n              name=\"link\"\n              placeholder={linkPlaceholder}\n              onChange={handleChange}\n              value={values.link}\n              error={errors?.link}\n            />\n          </div>\n\n          <Input\n            id=\"formRecommendAddress\"\n            sectionClass=\"form-recom__input-wrap\"\n            type=\"text\"\n            name=\"address\"\n            placeholder={addressPlaceholder}\n            onChange={handleChange}\n            value={values.address}\n            required\n            minLength=\"5\"\n            maxLength=\"50\"\n            error={errors?.address}\n          />\n\n          <div className=\"form-recom__input-container\">\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationBoy\"\n            >\n              <input\n                id=\"formRecommendationBoy\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"male\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderMale}\n              </span>\n            </label>\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationGirl\"\n            >\n              <input\n                id=\"formRecommendationGirl\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"female\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderFemale}\n              </span>\n            </label>\n\n            <Input\n              id=\"formRecommendAge\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_narrow\"\n              type=\"number\"\n              name=\"age\"\n              placeholder={agePlaceholder}\n              onChange={handleChange}\n              value={values.age}\n              required\n              max=\"25\"\n              min=\"1\"\n              error={errors?.age}\n            />\n          </div>\n\n          <DropDownSelect\n            placeholder={activityPlaceholder}\n            options={activityTypes}\n            inputName=\"activityType\"\n            onChange={handleChange}\n            error={errors?.activityType}\n            isFormOpen={isOpen}\n          />\n\n          <DropDownSelect\n            placeholder={cityPlaceholder}\n            options={cities}\n            inputName=\"city\"\n            onChange={handleChange}\n            error={errors?.city}\n            isFormOpen={isOpen}\n          />\n\n          <Input\n            id=\"formRecommendDescription\"\n            sectionClass=\"form-recom__input form-recom__input_textarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={textAreaPlaceholder}\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength=\"200\"\n            error={errors?.description}\n            isTextarea\n          />\n\n          <span className=\"form-error-message\">{errorsString}</span>\n\n          <div className=\"form-recom__submit-zone\">\n            <div className=\"form-recom__add-photo\">\n              {errors?.image && (\n                <span className=\"form-recom__add-photo_error\">\n                  {errors?.image}\n                </span>\n              )}\n              <label htmlFor=\"formRecomInputUpload\">\n                <input\n                  id=\"formRecomInputUpload\"\n                  type=\"file\"\n                  name=\"image\"\n                  accept=\"image/png, image/jpeg\"\n                  className=\"form-recom__input-radio\"\n                  onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n                  required\n                />\n                <ButtonRound\n                  sectionClass={`form-recom__add-photo-btn ${\n                    errors?.image ? 'form-recom__add-photo-btn_error' : ''\n                  }`}\n                  color={`${errors?.image ? 'error' : 'lightGray'}`}\n                  isSmall\n                  isSpan\n                />\n              </label>\n            </div>\n\n            <Button\n              title={buttonText}\n              color=\"blue\"\n              isDisabled={!isValid}\n              isSubmittable\n            />\n          </div>\n        </>\n      )}\n    </form>\n  );\n}\n\nFormRecommendation.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  isOpen: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nFormRecommendation.defaultProps = {\n  activityTypes: [],\n  isOpen: false,\n  onSubmit: () => {},\n};\n\nexport default FormRecommendation;\n","import './PlacesRecommend.scss';\nimport { useState, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext, ErrorsContext } from '../../contexts/index';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport FormRecommendation from '../FormRecommendation/FormRecommendation';\nimport { postPlace } from '../../api/places-page';\n\nfunction PlacesRecommend({ sectionClass, activityTypes }) {\n  const { openPopupRecommendSuccess } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n  };\n\n  const openForm = () => {\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data.link) formData.append('link', data.link);\n    formData.append('image', data.image);\n    formData.append('title', data.title);\n    formData.append('description', data.description);\n    formData.append('address', data.address);\n    formData.append('gender', data.gender);\n    formData.append('age', data.age);\n    formData.append('city', data.city);\n    formData.append('activityType', data.activityType);\n    return formData;\n  };\n\n  const handleFormSubmit = (data) => {\n    postPlace(createFormData(data))\n      .then(() => {\n        openPopupRecommendSuccess(true);\n        closeForm();\n      })\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized) {\n          setError(err?.data);\n        } else\n          setError({\n            message: generalErrorMessage.title,\n          });\n      });\n  };\n\n  const classNames = [\n    'recommendation',\n    'recommendation_place_page',\n    'fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <>\n      <section className={classNames} ref={scrollAnchorRef}>\n        <div className=\"recommendation__container\">\n          {isFormOpen && (\n            <button\n              className=\"recommendation__close-button\"\n              type=\"button\"\n              aria-label={texts.closeButtonlabel}\n              onClick={closeForm}\n            />\n          )}\n          <p className=\"section-title recommendation__text\">\n            {texts.recommendadionTextPart1}\n            <button\n              className=\"recommendation__text-link\"\n              type=\"button\"\n              onClick={openForm}\n            >\n              {texts.recommendadionButton}\n            </button>\n            {texts.recommendadionTextPart2}\n          </p>\n          <FormRecommendation\n            isOpen={isFormOpen}\n            onSubmit={handleFormSubmit}\n            activityTypes={activityTypes}\n          />\n        </div>\n      </section>\n    </>\n  );\n}\n\nPlacesRecommend.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n};\n\nPlacesRecommend.defaultProps = {\n  activityTypes: [],\n  sectionClass: '',\n};\n\nexport default PlacesRecommend;\n","import './Places.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport placesPageTexts from '../../locales/places-page-RU';\nimport { ageFilters, PAGE_SIZE_PAGINATE } from './constants';\nimport {\n  CurrentUserContext,\n  PopupsContext,\n  ErrorsContext,\n} from '../../contexts/index';\nimport {\n  useDebounce,\n  useActivityTypes,\n  useLocalStorage,\n} from '../../hooks/index';\nimport {\n  COLORS,\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  DELAY_RENDER,\n  localStUserCity,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n  deselectAllTags,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  BasePage,\n  TitleH1,\n  CardPlace,\n  PlacesRecommend,\n  AnimatedPageContainer,\n  Loader,\n  TagsList,\n  NoDataNotificationBox,\n  Paginate,\n} from './index';\nimport {\n  getPlaces,\n  getPlacesTags,\n  getChosenPlace,\n} from '../../api/places-page';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  textStubNoData,\n  paragraphNoContent,\n  mentorTag,\n} = placesPageTexts;\n\nfunction Places() {\n  const activityTypes = useActivityTypes();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupError } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n\n  const getLocalStorageItem = useLocalStorage(localStUserCity);\n\n  // сохранённый в localStorage город анонимуса\n  const currentAnonymousCity = getLocalStorageItem();\n  const userCity = currentUser?.city || currentAnonymousCity;\n\n  // места из API\n  const [places, setPlaces] = useState(null);\n  const [chosenPlace, setChosenPlace] = useState(null);\n  const [isChosenOnPageOne, setIsChosenOnPageOne] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // переход между фильтрами, лоадер\n  const [isLoadingFilters, setIsLoadingFilters] = useState(false);\n  // переход пагинаций без фильтров, лоадер\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // переход между городами, лоадер\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  // триггер фильтра для useEffect\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // видна ли главная карточка\n  const [isChosenCardHidden, setIsChosenCardHidden] = useState(false);\n  // стейт для определения первой отрисовки страницы (нужен при отсутствии данных)\n  const [isFirstRender, setIsFirstRender] = useState(false);\n  // категории фильтрации\n  const [ages, setAges] = useState(ageFilters); // состояние кнопок фильтра возраста\n  const [categories, setCategories] = useState([]); // состояние кнопок фильтра категорий\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Резайз пагинации при первой загрузке\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1024px)');\n    const largeQuery = window.matchMedia('(max-width: 1279px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // хэндлер клика по фильтру КАТЕГОРИИ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      deselectAllTags(setAges);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // хэндлер клика по фильтру ВОЗРАСТ\n  const changeAge = (inputValue, isChecked) => {\n    handleCheckboxBehavior(setAges, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Выбор наставника\"\n  const defineCategories = (tags, chosenPlaceData) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n    if (chosenPlaceData) {\n      return [\n        { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n        { filter: mentorTag, name: mentorTag, isActive: false },\n        ...categoriesArray,\n      ];\n    }\n    return [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n  };\n\n  // restOfPlaces - массив без главной карточки\n  const definePlaces = (placesData, isFiltered, mainCard) => {\n    const chosenCard = mainCard || chosenPlace;\n    let restOfPlaces = placesData;\n\n    // главная\n    if (pageNumber === 0 && !isFiltered) {\n      if (chosenCard?.chosen && !isFiltered) {\n        restOfPlaces = restOfPlaces.filter(\n          (place) => place?.id !== chosenCard?.id\n        );\n        if (restOfPlaces.length !== placesData.length) {\n          setIsChosenOnPageOne(true);\n        } else restOfPlaces.pop();\n      }\n      if (restOfPlaces.length === placesData.length) {\n        restOfPlaces.pop();\n      }\n    }\n    return { restOfPlaces };\n  };\n\n  const defineActiveTags = () => {\n    const activeCategories = categories.filter(\n      (category) => category.isActive && category.filter !== ALL_CATEGORIES\n    );\n\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== mentorTag)\n      .map((tag) => tag.filter)\n      .join(',');\n\n    const activeAges = ages\n      .filter((age) => age.isActive)\n      .map((age) => age.filter)\n      .join(',');\n\n    const isMentorFlag = activeCategories.some(\n      (tag) => tag.filter === mentorTag\n    );\n\n    return {\n      activeCategories,\n      activeTags,\n      activeAges,\n      isMentorFlag,\n    };\n  };\n\n  // запрос отфильтрованного массива карточек\n  const getFilteredPlaces = (params, isFiltersActive) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n\n    const fixedPageSize =\n      pageNumber === 0 && !isFiltersActive ? pageSize + 1 : pageSize;\n\n    const fixedOffset =\n      pageNumber > 0 && chosenPlace && isChosenOnPageOne && !isFiltersActive\n        ? offset + 1\n        : offset;\n\n    getPlaces({ limit: fixedPageSize, offset: fixedOffset, ...params })\n      .then(({ results, count }) => {\n        if (chosenPlace && !isFiltersActive) {\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          setPageCount(Math.ceil(count / pageSize));\n        }\n\n        const { restOfPlaces } = definePlaces(results, isFiltersActive);\n\n        if (pageNumber > 0 || isFiltersActive) {\n          setIsChosenCardHidden(true);\n        }\n\n        setPlaces(restOfPlaces);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingFilters(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  // функция-фильтратор\n  const handleFiltration = () => {\n    setIsFirstRender(false);\n\n    const { activeCategories, activeTags, activeAges, isMentorFlag } =\n      defineActiveTags();\n\n    // ВСЕ\n    if (activeCategories.length === 0) {\n      if (activeAges.length === 0) {\n        // + БЕЗ ВОЗРАСТА (по умолчанию)\n        getFilteredPlaces(\n          {\n            city: userCity,\n          },\n          false\n        );\n        setIsChosenCardHidden(false);\n      } else {\n        // + ВОЗРАСТ\n        getFilteredPlaces(\n          {\n            age_restriction: activeAges,\n            city: userCity,\n          },\n          true\n        );\n      }\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      return;\n    }\n\n    // КАТЕГОРИИ + ВОЗРАСТ (или без него)\n    if (activeCategories.length > 0) {\n      getFilteredPlaces(\n        {\n          chosen: isMentorFlag,\n          tags: activeTags,\n          age_restriction: activeAges,\n          city: userCity,\n        },\n        true\n      );\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePagination = useDebounce(getFilteredPlaces, DELAY_DEBOUNCE);\n  // запуск фильтрации\n  useEffect(() => {\n    if (!isLoadingPage && isFiltersUsed) {\n      setIsLoadingFilters(true);\n      debounceFiltration();\n    }\n    setIsLoadingPage(false);\n  }, [isFiltersUsed, pageNumber]);\n\n  // запуск пагинации\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      const { activeTags, activeAges, isMentorFlag } = defineActiveTags();\n      // для пагинации, чтобы сохранить настройки фильтров\n      const predefinedParams = {\n        chosen: isMentorFlag,\n        tags: activeTags,\n        age_restriction: activeAges,\n        city: userCity,\n      };\n\n      if (!activeTags && !activeAges && !isMentorFlag) {\n        if (pageNumber === 0) setIsChosenCardHidden(false);\n        debouncePagination(predefinedParams, false);\n      } else {\n        debouncePagination(predefinedParams, true);\n      }\n\n      setIsLoadingPaginate(true);\n    }\n  }, [pageNumber]);\n\n  // Promise.all нужен для формирования тега \"Выбор наставников\" по метке на карточках\n  useEffect(() => {\n    if (userCity && pageSize) {\n      window.scroll({ top: 0 });\n      setIsFirstRender(true);\n      setIsCityChanging(true);\n      setIsChosenCardHidden(false);\n      setChosenPlace(null);\n      setPlaces(null);\n      deselectAllTags(setAges);\n\n      Promise.all([\n        getChosenPlace({ city: userCity }),\n        getPlaces({\n          city: userCity,\n          limit: pageSize + 1,\n        }),\n        getPlacesTags(),\n      ])\n        .then(([mainCard, { results, count }, tagsData]) => {\n          if (mainCard?.chosen) {\n            setChosenPlace(mainCard);\n          }\n          // стейт главной карточки не успевает обновиться, поэтому передаем аргументом\n          // второй агрумент - это используется ли фильтр или пагинация\n          const { restOfPlaces } = definePlaces(results, false, mainCard);\n          setPlaces(restOfPlaces);\n\n          if (mainCard?.chosen) {\n            setPageCount(Math.ceil((count - 1) / pageSize));\n          } else {\n            setPageCount(Math.ceil(count / pageSize));\n          }\n\n          setCategories(defineCategories(tagsData, mainCard?.chosen));\n        })\n        .catch(() => setIsPageError(true))\n        .finally(() => setIsCityChanging(false));\n    }\n  }, [userCity, pageSize]);\n\n  useEffect(() => {\n    if (!userCity) {\n      setTimeout(() => {\n        openPopupCities();\n      }, DELAY_RENDER);\n    }\n  }, []);\n\n  // функции рендера\n  const renderAnimatedContainer = () => (\n    <>\n      {!isCityChanging ? (\n        <>\n          <AnimatedPageContainer titleText={textStubNoData} />\n          {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n        </>\n      ) : (\n        <Loader isNested />\n      )}\n    </>\n  );\n\n  function renderPagination() {\n    if (pageCount > 1) {\n      return (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      );\n    }\n    return null;\n  }\n\n  const renderPlaces = () => {\n    if (isChosenCardHidden && places?.length === 0) {\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContent}\n          sectionClass=\"no-data-text_padding-top\"\n        />\n      );\n    }\n\n    if (chosenPlace || places?.length > 0) {\n      return (\n        <>\n          {chosenPlace && !isChosenCardHidden && !isLoadingPaginate && (\n            <section className=\"places__main\">\n              <CardPlace\n                key={chosenPlace?.id}\n                data={chosenPlace}\n                activityTypes={activityTypes}\n                sectionClass=\"card-container_type_main-article scale-in\"\n                isBig\n              />\n            </section>\n          )}\n\n          {!isLoadingPaginate ? (\n            <section className=\"places__cards-grid\">\n              {places.map((place, i) => (\n                <CardPlace\n                  key={place?.id}\n                  data={place}\n                  activityTypes={activityTypes}\n                  color={COLORS[(i + 1) % COLORS.length]}\n                  sectionClass=\"card-container_type_article scale-in\"\n                />\n              ))}\n            </section>\n          ) : (\n            <Loader isNested />\n          )}\n          {renderPagination()}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    if (isFirstRender && !chosenPlace && places?.length === 0) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"places__title\" />\n        {!isCityChanging ? (\n          <>\n            <TagsList\n              filterList={categories}\n              name=\"categories\"\n              handleClick={changeCategory}\n            />\n            <TagsList\n              filterList={ages}\n              name=\"ages\"\n              handleClick={changeAge}\n              sectionClass=\"places__tags\"\n            />\n            {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n\n            {!isLoadingFilters ? renderPlaces() : <Loader isNested />}\n          </>\n        ) : (\n          <Loader isNested />\n        )}\n      </>\n    );\n  };\n\n  if (!places) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"places page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Places;\n","const rightsPageTexts = {\n  headTitle: 'Права детей',\n  headDescription: 'Информационные рубрики о правах детей',\n  title: 'Права детей',\n  textStubNoData:\n    'В данный момент страница со статьями о правах детей пуста. Возвращайтесь позже!',\n};\n\nexport default rightsPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение всех \"прав\" на странице Права\nfunction getRightsData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий прав (список фильтров)\nfunction getRightsTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение Статьи для страницы Права Детей\nfunction getRightsArticle(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getRightsData, getRightsTags, getRightsArticle };\n","import React from 'react';\nimport './CardRights.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Rubric } from '../../utils/index';\nimport CardFigure from '../CardFigure/CardFigure';\n\nfunction CardRights({ title, tags, shape, color, sectionClass, id }) {\n  return (\n    <div className={`rights-card ${sectionClass}`}>\n      <Link to={`/rights/${id}`} className=\"rights-card__link\">\n        <CardFigure shape={shape} title={title} color={color}>\n          <div className=\"rights-card__block\">\n            {tags.map((tag) => (\n              <Rubric\n                key={tag.id}\n                sectionClass=\"rights-card__rubric\"\n                title={tag.name}\n              />\n            ))}\n          </div>\n        </CardFigure>\n      </Link>\n    </div>\n  );\n}\n\nCardRights.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  tags: PropTypes.arrayOf(Array),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  id: PropTypes.number,\n};\n\nCardRights.defaultProps = {\n  title: '',\n  shape: 'square',\n  tags: [],\n  color: '',\n  sectionClass: '',\n  id: 0,\n};\n\nexport default CardRights;\n","import React, { useState, useEffect, useContext } from 'react';\nimport rightsPageTexts from '../../locales/rights-page-RU';\nimport './Rights.scss';\nimport {\n  ALL_CATEGORIES,\n  FIGURES,\n  COLORS,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport { getRightsData, getRightsTags } from '../../api/rights-page';\nimport {\n  BasePage,\n  Loader,\n  TitleH1,\n  CardRights,\n  CardsSectionWithLines,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = rightsPageTexts;\n\nconst Rights = () => {\n  useScrollToTop();\n\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [articles, setArticles] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // Фильтры страницы\n  const renderTagsContainer = () => {\n    if (articles && !isLoadingPage) {\n      return (\n        <TagsList\n          filterList={categories}\n          name=\"rights\"\n          handleClick={changeCategory}\n        />\n      );\n    }\n    return null;\n  };\n\n  // Карточки с видео страницы\n  const renderCards = () => (\n    <>\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        isLoading={isLoadingPaginate}\n        dataLength={articles.length}\n        pageSize={pageSize}\n      >\n        {articles.map((item, i) => (\n          <CardRights\n            key={item?.id}\n            sectionClass=\"cards-section__item scale-in\"\n            title={item?.title}\n            tags={item?.tags}\n            shape={FIGURES[i % FIGURES.length]}\n            color={COLORS[i % COLORS.length]}\n            id={item?.id}\n          />\n        ))}\n      </CardsSectionWithLines>\n    </>\n  );\n\n  // Контент страницы\n  const renderMainContent = () => {\n    if ((!articles && !isLoadingPage) || (!categories && !isLoadingPage)) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return isFiltersUsed ? <Loader isNested /> : renderCards();\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getArticlesData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getRightsData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setArticles(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  // Промис олл для плавного отображения\n  const getFirstPageData = () => {\n    Promise.all([\n      getRightsTags(),\n      getRightsData({\n        limit: pageSize,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        setPageCount(Math.ceil(count / pageSize));\n        setArticles(results);\n\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getArticlesData(activeCategories);\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getArticlesData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (isLoadingPage && pageSize) {\n      getFirstPageData();\n    }\n\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  // Резайз пагинации при первой загрузке\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"rights page__section fade-in\">\n        {isPageError ? (\n          <AnimatedPageContainer\n            titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          />\n        ) : (\n          <>\n            <TitleH1 title={title} sectionClass=\"rights__title\" />\n            {categories?.length > 1 && renderTagsContainer()}\n            {renderMainContent()}\n          </>\n        )}\n      </section>\n    </BasePage>\n  );\n};\n\nexport default Rights;\n","const moviesPageTexts = {\n  headTitle: 'Фильмы',\n  headDescription:\n    'Подборка фильмов, которые можно посмотреть, с аннотацией к ним.',\n  title: 'Фильмы',\n  textStubNoData:\n    'В данный момент страница c фильмами пуста. Возвращайтесь позже!',\n};\n\nexport default moviesPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей фильмы\nfunction getMoviesPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getMoviesPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getMoviesPageData, getMoviesPageFilter };\n","import './Movies.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport moviesPageTexts from '../../locales/movies-page-RU';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport { getMoviesPageData, getMoviesPageFilter } from '../../api/movies-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardFilm,\n  CardAnnotation,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport Paginate from '../../components/utils/Paginate/Paginate';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { ErrorsContext, PopupsContext } from '../../contexts/index';\n\nconst PAGE_SIZE_PAGINATE = {\n  mobile: 2,\n  tablet: 4,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = moviesPageTexts;\n\nfunction Movies() {\n  useScrollToTop();\n\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейты с данными Фильмов, Теги\n  const [moviesPageData, setMoviesPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  const getMoviesData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getMoviesPageData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setMoviesPageData(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const getMoviesFilter = () => {\n    getMoviesPageFilter()\n      .then((tags) => {\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true));\n  };\n\n  // хэндлер клика по фильтру КАТЕГОРИЯ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getMoviesData(activeCategories);\n    }\n  };\n\n  /// Фильтрация с делэем\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getMoviesData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Первая отрисовка страницы + переход по страницам пагинации\n  useEffect(() => {\n    if (isLoading && pageSize) {\n      getMoviesData();\n      getMoviesFilter();\n    }\n\n    if (!isLoading && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const mobileQuery = window.matchMedia('(max-width: 900px)');\n    const smallQuery = window.matchMedia('(max-width: 1216px)');\n    const largeQuery = window.matchMedia('(max-width: 1451px)');\n\n    const listener = () => {\n      if (mobileQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.mobile);\n      } else if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.tablet);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n    mobileQuery.addEventListener('change', listener);\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      mobileQuery.removeEventListener('change', listener);\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // контейнер с фильмами\n  const renderMoviesContainer = () => {\n    if (!moviesPageData && !isLoading) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        {isLoadingPaginate ? (\n          <Loader isNested />\n        ) : (\n          <ul className=\"movies__cards cards-grid cards-grid_content_small-cards fade-in\">\n            {moviesPageData.map((movie) => (\n              <li className=\"card-container scale-in\" key={movie.id}>\n                <CardFilm data={movie} />\n                <CardAnnotation description={movie.annotation} />\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageNumber}\n            onChange={setPageNumber}\n          />\n        )}\n      </>\n    );\n  };\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"movies__title\" />\n\n        {/* рендер фильтров */}\n        {categories?.length > 1 && (\n          <TagsList\n            filterList={categories}\n            name=\"tag\"\n            handleClick={changeCategory}\n          />\n        )}\n\n        {/* рендерим фильмы */}\n        {isFiltersUsed ? <Loader isNested /> : renderMoviesContainer()}\n      </>\n    );\n  };\n\n  // глобальный лоадер\n  if (isLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"movies page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Movies;\n","const articlesPageTexts = {\n  headTitle: 'Статьи',\n  headDescription: 'Статьи, которые рекомендуют наши наставники.',\n  title: 'Статьи',\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default articlesPageTexts;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import './CardArticle.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport { TitleH2, Card, Caption } from '../../utils/index';\n\nfunction CardArticle({\n  data: { title, info, annotation, image, articleUrl },\n  isMain,\n  color,\n  sectionClass,\n}) {\n  const classNames = [\n    'card-container',\n    isMain\n      ? 'card-container_type_main-article'\n      : 'card-container_type_article fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n  const cardColor = isMain ? 'yellow' : color;\n\n  return (\n    <article className={classNames}>\n      <Card\n        sectionClass={`article-card ${isMain ? 'article-card_main' : ''}`}\n        color={cardColor}\n      >\n        <div className=\"article-card__title-wrap\">\n          <a\n            href={articleUrl}\n            className=\"article-card__link-wrap\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <TitleH2 sectionClass=\"article-card__title\" title={title} />\n          </a>\n          <Caption sectionClass=\"article-card__info\" title={info} />\n        </div>\n\n        {isMain && (\n          <div className=\"article-card__link-wrap article-card__link-wrap_content_article-img\">\n            <img\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n              className=\"article-card__image\"\n            />\n          </div>\n        )}\n\n        <a\n          href={articleUrl}\n          className=\"link article-card__link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {texts.linkText}\n        </a>\n      </Card>\n      <CardAnnotation description={annotation} isMain={isMain} />\n    </article>\n  );\n}\n\nCardArticle.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  info: PropTypes.string,\n  image: PropTypes.string,\n  articleUrl: PropTypes.string,\n  annotation: PropTypes.string,\n  color: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardArticle.defaultProps = {\n  data: {},\n  title: '',\n  info: '',\n  image: '',\n  articleUrl: '',\n  annotation: '',\n  color: 'white',\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardArticle;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getArticlesPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/articles/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getArticlesPageData;\n","import './Articles.scss';\nimport { useEffect, useState } from 'react';\nimport articlesPageTexts from '../../locales/articles-page-RU';\nimport { useScrollToTop } from '../../hooks/index';\nimport { COLORS, ERROR_MESSAGES } from '../../config/constants';\nimport {\n  BasePage,\n  TitleH1,\n  CardArticle,\n  Paginate,\n  AnimatedPageContainer,\n  Loader,\n} from './index';\nimport getArticlesPageData from '../../api/articles-page';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 2,\n  big: 12,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = articlesPageTexts;\n\nfunction Articles() {\n  useScrollToTop();\n\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [articlesPageData, setArticlesPageData] = useState(null);\n  const [mainArticle, setMainCard] = useState(null);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  function getPageData() {\n    const offset = pageSize * pageNumber;\n    const fixedPageSize =\n      pageNumber === 0 && mainArticle ? pageSize + 1 : pageSize;\n    const fixedOffset = pageNumber > 0 && mainArticle ? offset + 1 : offset;\n\n    getArticlesPageData({ limit: fixedPageSize, offset: fixedOffset })\n      .then(({ results }) => {\n        if (pageNumber === 0 && mainArticle) {\n          setArticlesPageData(() =>\n            results.filter((item) => !item?.pinnedFullSize)\n          );\n        } else setArticlesPageData(results);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n      });\n  }\n\n  // пагинация\n  useEffect(() => {\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n      getPageData();\n    }\n  }, [pageNumber]);\n\n  useEffect(() => {\n    if (pageSize) {\n      getArticlesPageData({ limit: pageSize + 1 })\n        .then(({ results, count }) => {\n          const articlesData = results;\n          const mainCard = articlesData.find((item) => item?.pinnedFullSize);\n          setMainCard(mainCard);\n          if (mainCard) {\n            setArticlesPageData(() =>\n              articlesData.filter((item) => !item?.pinnedFullSize)\n            );\n            setPageCount(Math.ceil((count - 1) / pageSize));\n          } else {\n            articlesData.pop();\n            setArticlesPageData(articlesData);\n            setPageCount(Math.ceil(count / pageSize));\n          }\n        })\n        .catch(() => {\n          setIsPageError(true);\n        })\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n  }, [pageSize]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1024px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // отрисовка заглушки\n  function renderAnimatedContainer() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  function renderPagination() {\n    if (pageCount > 1) {\n      return (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      );\n    }\n    return null;\n  }\n\n  function renderCards() {\n    return (\n      <>\n        {mainArticle && !pageNumber && (\n          <section className=\"articles__main scale-in\">\n            <CardArticle data={mainArticle} isMain />\n          </section>\n        )}\n\n        <section className=\"articles__cards-grid\">\n          {articlesPageData.map((item, i) => (\n            <CardArticle\n              key={item?.id}\n              color={COLORS[(i + 1) % COLORS.length]}\n              data={item}\n              sectionClass=\"scale-in\"\n            />\n          ))}\n        </section>\n      </>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <section className=\"articles page__section\">\n        <TitleH1 title={title} sectionClass=\"fade-in\" />\n\n        {isLoadingPaginate ? <Loader isNested /> : renderCards()}\n\n        {renderPagination()}\n      </section>\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {!articlesPageData && !isLoadingPage\n        ? renderAnimatedContainer()\n        : renderPageContent()}\n    </BasePage>\n  );\n}\n\nexport default Articles;\n","const readAndWatchPageTexts = {\n  headTitle: 'Читать и смотреть',\n  headDescription: 'Превью основных публичных информационных разделов сайта.',\n  pageTitles: {\n    catalogTitle: 'Справочник',\n    articlesTitle: 'Статьи',\n    moviesTitle: 'Фильмы',\n    videosTitle: 'Видео',\n    booksTitle: 'Книги',\n  },\n  paragraphNoContent: 'В данной категории пока ничего нет.',\n};\n\nexport default readAndWatchPageTexts;\n","import './CardBook.scss';\nimport PropTypes from 'prop-types';\nimport { Card, TitleH2 } from '../../utils/index';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\n\nfunction CardBook({\n  data: {\n    title,\n    author,\n    year,\n    type: { color },\n    url,\n    annotation,\n  },\n  sectionClass,\n}) {\n  const backgroundColor = { backgroundColor: color };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass=\"card-book\">\n        <a\n          className=\"card-book__cover\"\n          style={backgroundColor}\n          href={url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <TitleH2 sectionClass=\"card-book__title\" title={title} />\n          <div className=\"card-book__info\">\n            <div className=\"card-book__border\" />\n            <p className=\"caption card-book__text\">{author}</p>\n            <p className=\"caption card-book__text\">{year}</p>\n          </div>\n        </a>\n      </Card>\n      <CardAnnotation description={annotation} />\n    </article>\n  );\n}\nCardBook.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  type: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  author: PropTypes.string,\n  year: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  url: PropTypes.string,\n  annotation: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardBook.defaultProps = {\n  data: {},\n  type: {},\n  title: '',\n  author: '',\n  year: '',\n  url: '',\n  annotation: '',\n  sectionClass: '',\n};\n\nexport default CardBook;\n","// Страница \"Read and watch\" (RAW)\nexport const RAW_DELAY_SLIDER_TRANSITION = 1250;\nexport const RAW_SLIDER_PADDINGS = [0, 15, 0, 15];\nexport const RAW_SLIDER_BREAKPOINTS = {\n  S: 700,\n  M: 1120,\n  L: 1440,\n  ХL: 1441,\n};\nexport const ELEMS_PER_SLIDE = {\n  one: 1,\n  two: 2,\n  three: 3,\n  four: 4,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel from 'react-elastic-carousel';\nimport {\n  PAGES_TO_LOAD,\n  INDEX_ERROR_FOR_PENULTIMATE_PAGE,\n  INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX,\n} from './constants';\nimport {\n  TitleH3,\n  LinkableHeading,\n  NoDataNotificationBox,\n  Loader,\n} from '../utils/index';\nimport { FIGURES, COLORS, ERROR_MESSAGES } from '../../config/constants';\n\nfunction ReadAndWatchSection({\n  pageSize,\n  getDataFromApi,\n  CardTemplateComponent,\n  path,\n  sectionTitle,\n  breakpoints,\n  elemPaddings,\n  transitionDelay,\n  paragraphNoContentText,\n  sectionClass,\n}) {\n  const { S, M, L, XL } = breakpoints;\n  const ref = useRef();\n\n  // индекс страницы\n  const [pageIndex, setPageIndex] = useState(0);\n  // всего возможных страниц при текущем разрешении\n  const [totalPages, setTotalPages] = useState(null);\n  const [sectionData, setSectionData] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSectionError, setIsSectionError] = useState(false);\n\n  const breakPoints = [\n    { width: S, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: M, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: L, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: XL, itemsToShow: pageSize, itemsToScroll: pageSize },\n  ];\n\n  function addNewData() {\n    // Логика: при добавлении новых блоков нужно загрузить 3 страницы начиная с последнего имеющегося элемента\n    const offset = sectionData.length;\n    const loadThreePages = pageSize * PAGES_TO_LOAD;\n    return getDataFromApi({ limit: loadThreePages, offset });\n  }\n\n  useEffect(() => {\n    const offset = pageSize * pageIndex;\n    const loadThreePages = pageSize * 3;\n\n    getDataFromApi({ limit: loadThreePages, offset })\n      .then(({ results, count }) => {\n        setTotalPages(Math.ceil(count / pageSize));\n        setSectionData(results);\n        setIsLoading(false);\n      })\n      .catch(() => setIsSectionError(true));\n  }, [pageSize]);\n\n  function slideBackHandler() {\n    setPageIndex((prevIndex) => prevIndex - 1);\n  }\n\n  function slideNextHandler(currentItem, newPageIndex) {\n    const pagesLoadedNow = ref.current.getNumOfPages();\n    const isPenultimatePage =\n      pagesLoadedNow - INDEX_ERROR_FOR_PENULTIMATE_PAGE === newPageIndex;\n    const isLastPage =\n      pagesLoadedNow - INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX === newPageIndex;\n\n    const isNoMoreDataToLoad = pagesLoadedNow === totalPages;\n    if (isNoMoreDataToLoad) {\n      return;\n    }\n\n    // значит произошел скрол вперед + это предпоследняя страница\n    if (isPenultimatePage || isLastPage) {\n      addNewData()\n        .then(({ results }) => {\n          setSectionData((previousData) => [...previousData, ...results]);\n          setPageIndex((prevIndex) => prevIndex + 1);\n        })\n        .catch(() => setIsSectionError(true));\n    } else {\n      setPageIndex((prevIndex) => prevIndex + 1);\n    }\n  }\n\n  function renderCardsForSlider() {\n    if (sectionData) {\n      const cardArray = sectionData.map((item, i) => (\n        <CardTemplateComponent\n          key={`${sectionTitle}-${item?.id}`}\n          sectionClass=\"cards-section__item\"\n          // для \"статей\" надо добавлять card-container_type_article\n          // для секции Фильмы, Книги, Видео, Статьи\n          data={item}\n          // для секции Справочник\n          shape={FIGURES[i % FIGURES.length]}\n          // для секции Статьи\n          color={COLORS[(i + 1) % COLORS.length]}\n          {...item}\n        />\n      ));\n\n      return cardArray;\n    }\n    return [];\n  }\n\n  function renderSliderSection() {\n    if (isSectionError) {\n      return (\n        <NoDataNotificationBox\n          text={ERROR_MESSAGES.generalErrorMessage.title}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (\n      !isLoading &&\n      !isSectionError &&\n      sectionData &&\n      sectionData?.length === 0\n    ) {\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContentText}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (!isLoading && totalPages && sectionData) {\n      return (\n        <Carousel\n          ref={ref}\n          transitionMs={transitionDelay}\n          pagination={false}\n          outerSpacing={0}\n          preventDefaultTouchmoveEvent\n          itemPadding={elemPaddings}\n          breakPoints={breakPoints}\n          disableArrowsOnEnd\n          showEmptySlots\n          onNextEnd={slideNextHandler}\n          onPrevEnd={slideBackHandler}\n        >\n          {renderCardsForSlider()}\n        </Carousel>\n      );\n    }\n\n    return <Loader isNested />;\n  }\n\n  return (\n    <section className=\"readwatch__section\">\n      <div className=\"readwatch__container\">\n        <LinkableHeading\n          title={sectionTitle}\n          path={path}\n          titleSectionClass=\"readwatch__heading\"\n          linkSectionClass=\"readwatch__heading-link\"\n          Component={TitleH3}\n        />\n      </div>\n      <div className={`readwatch__slider-container ${sectionClass}`}>\n        {renderSliderSection()}\n      </div>\n    </section>\n  );\n}\n\nReadAndWatchSection.propTypes = {\n  pageSize: PropTypes.number.isRequired,\n  getDataFromApi: PropTypes.func.isRequired,\n  CardTemplateComponent: PropTypes.func.isRequired,\n  path: PropTypes.string.isRequired,\n  sectionTitle: PropTypes.string.isRequired,\n  breakpoints: PropTypes.objectOf(PropTypes.number).isRequired,\n  elemPaddings: PropTypes.arrayOf(PropTypes.number).isRequired,\n  transitionDelay: PropTypes.number.isRequired,\n  paragraphNoContentText: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nReadAndWatchSection.defaultProps = {\n  sectionClass: '',\n};\n\nexport default ReadAndWatchSection;\n","export const PAGES_TO_LOAD = 3;\nexport const INDEX_ERROR_FOR_PENULTIMATE_PAGE = 2;\nexport const INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX = 1;\n","/* eslint-disable camelcase */\nimport axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение/фильтрация видео на странице \"Видео\"\nfunction getVideoPageData({ limit, offset, tags, resource_group }) {\n  const query = resource_group\n    ? { limit, offset, tags, resource_group }\n    : { limit, offset, tags };\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий видео (список фильтров)\nfunction getVideoPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getVideoPageTags, getVideoPageData };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей книги\nfunction getBooksPageData({ limit, offset, types }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/`, {\n      params: { types, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getBooksPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/types/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getBooksPageData, getBooksPageFilter };\n","import { useState, useEffect } from 'react';\nimport './ReadAndWatch.scss';\nimport readAndWatchPageTexts from '../../locales/read-and-watch-page-RU';\nimport {\n  BasePage,\n  CardCatalog,\n  CardArticle,\n  CardFilm,\n  CardBook,\n} from './index';\nimport {\n  CATALOG_URL,\n  ARTICLES_URL,\n  MOVIES_URL,\n  VIDEO_URL,\n  BOOKS_URL,\n} from '../../config/routes';\nimport {\n  RAW_DELAY_SLIDER_TRANSITION,\n  RAW_SLIDER_PADDINGS,\n  RAW_SLIDER_BREAKPOINTS,\n  ELEMS_PER_SLIDE,\n} from './constants';\nimport ReadAndWatchSection from '../../components/ReadAndWatchSection/ReadAndWatchSection';\n// АПИ\nimport getCatalogPageDatа from '../../api/catalog-page';\nimport { getVideoPageData } from '../../api/video-page';\nimport getArticlesPageData from '../../api/articles-page';\nimport { getMoviesPageData } from '../../api/movies-page';\nimport { getBooksPageData } from '../../api/books-page';\n\n// константы страницы\nconst { headTitle, headDescription, pageTitles, paragraphNoContent } =\n  readAndWatchPageTexts;\nconst { catalogTitle, articlesTitle, moviesTitle, videosTitle, booksTitle } =\n  pageTitles;\nconst { S, M, L } = RAW_SLIDER_BREAKPOINTS;\nconst { one, two, three, four } = ELEMS_PER_SLIDE;\n\nfunction ReadAndWatch() {\n  // определяет сколько объектов показывать в ряду\n  const [pageSize, setPageSize] = useState(null);\n\n  useEffect(() => {\n    // 1 элемент в ряду (до 700px)\n    const querySizeS = window.matchMedia(`(max-width: ${S}px)`);\n    // 2 элемента в ряду (до 1120px)\n    const querySizeM = window.matchMedia(`(max-width: ${M}px)`);\n    // 3 элемента в ряду (до 1440px)\n    const querySizeL = window.matchMedia(`(max-width: ${L}px)`);\n    // больше 1440px будет 4 элемента в ряду\n\n    const listener = () => {\n      if (querySizeS.matches) {\n        setPageSize(one);\n      } else if (querySizeM.matches) {\n        setPageSize(two);\n      } else if (querySizeL.matches) {\n        setPageSize(three);\n      } else {\n        setPageSize(four);\n      }\n    };\n    listener();\n\n    querySizeS.addEventListener('change', listener);\n    querySizeM.addEventListener('change', listener);\n    querySizeL.addEventListener('change', listener);\n    return () => {\n      querySizeS.removeEventListener('change', listener);\n      querySizeM.removeEventListener('change', listener);\n      querySizeL.removeEventListener('change', listener);\n    };\n  }, []);\n\n  function renderUniqueSliderSections() {\n    return (\n      <>\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getCatalogPageDatа}\n          CardTemplateComponent={CardCatalog}\n          path={CATALOG_URL}\n          sectionTitle={catalogTitle}\n          sectionClass=\"readwatch__slider-container_el_catalog\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getVideoPageData}\n          CardTemplateComponent={CardFilm}\n          path={VIDEO_URL}\n          sectionTitle={videosTitle}\n          sectionClass=\"readwatch__slider-container_el_video\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getArticlesPageData}\n          CardTemplateComponent={CardArticle}\n          path={ARTICLES_URL}\n          sectionTitle={articlesTitle}\n          sectionClass=\"readwatch__slider-container_el_articles\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getMoviesPageData}\n          CardTemplateComponent={CardFilm}\n          path={MOVIES_URL}\n          sectionTitle={moviesTitle}\n          sectionClass=\"readwatch__slider-container_el_movies\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getBooksPageData}\n          CardTemplateComponent={CardBook}\n          path={BOOKS_URL}\n          sectionTitle={booksTitle}\n          sectionClass=\"readwatch__slider-container_el_books\"\n        />\n      </>\n    );\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"readwatch-page page__section fade-in\">\n        {pageSize && renderUniqueSliderSections()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default ReadAndWatch;\n","const videoPageTexts = {\n  headTitle: 'Видео',\n  headDescription: 'Страница с видео контентом',\n  title: 'Видео',\n  resourceGroupTag: 'Ресурсная группа',\n  textStubNoData:\n    'В данный момент страница с видео пуста. Возвращайтесь позже!',\n};\n\nexport default videoPageTexts;\n","import React, { useContext, useEffect, useState } from 'react';\nimport './Video.scss';\nimport videoPageTexts from '../../locales/video-page-RU';\nimport {\n  BasePage,\n  Loader,\n  TitleH1,\n  Paginate,\n  CardVideoMain,\n  CardFilm,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { getVideoPageTags, getVideoPageData } from '../../api/video-page';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, resourceGroupTag, textStubNoData } =\n  videoPageTexts;\n\nconst Video = () => {\n  useScrollToTop();\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [mainVideo, setMainVideo] = useState({});\n  const [video, setVideo] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  const [isShowMainCard, setIsShowMainCard] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(true);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(false);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Ресурсная группа\"\n  const defineCategories = (tags, resourceGroup) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n    if (resourceGroup) {\n      return [\n        { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n        { filter: resourceGroupTag, name: resourceGroupTag, isActive: false },\n        ...categoriesArray,\n      ];\n    }\n    return [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    const activeCategories = categories.filter(\n      (filter) => filter.isActive && filter.filter !== ALL_CATEGORIES\n    );\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== resourceGroupTag)\n      .map((filter) => filter.filter)\n      .join(',');\n\n    const isResourceGroup = activeCategories.some(\n      (tag) => tag.filter === resourceGroupTag\n    );\n    return { activeTags, isResourceGroup };\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getVideoData = (params, isFiltersActive) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n\n    const fixedPageSize =\n      pageNumber === 0 && mainVideo && !isFiltersActive\n        ? pageSize + 1\n        : pageSize;\n\n    const fixedOffset =\n      pageNumber > 0 && mainVideo && !isFiltersActive ? offset + 1 : offset;\n\n    getVideoPageData({\n      limit: fixedPageSize,\n      offset: fixedOffset,\n      ...params,\n    })\n      .then(({ results, count }) => {\n        if (mainVideo && !isFiltersActive) {\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          setPageCount(Math.ceil(count / pageSize));\n        }\n\n        if (pageNumber === 0 && mainVideo && !isFiltersActive) {\n          setVideo(() => results.filter((item) => !item?.pinnedFullSize));\n          setIsShowMainCard(true);\n        } else setVideo(results);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsFiltersUsed(false);\n        setIsLoadingPaginate(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  const getFirstPageData = () => {\n    Promise.all([\n      getVideoPageTags(),\n      getVideoPageData({\n        limit: pageSize + 1,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        const videoData = results;\n        const mainCard = videoData.find((item) => item?.pinnedFullSize);\n        setMainVideo(mainCard);\n        if (mainCard) {\n          setVideo(() => videoData.filter((item) => !item?.pinnedFullSize));\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          videoData.pop();\n          setVideo(videoData);\n          setPageCount(Math.ceil(count / pageSize));\n        }\n\n        const isResourceGroup = videoData.some((item) => item?.resourceGroup);\n        setCategories(defineCategories(tags, isResourceGroup));\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const { activeTags, isResourceGroup } = getActiveTags();\n\n      if (!activeTags && !isResourceGroup) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n        getVideoData(\n          { tags: activeTags, resource_group: isResourceGroup },\n          false\n        );\n      } else\n        getVideoData(\n          { tags: activeTags, resource_group: isResourceGroup },\n          true\n        );\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getVideoData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (pageSize) {\n      getFirstPageData();\n    }\n  }, [pageSize]);\n\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      const { activeCategories, isResourceGroup } = getActiveTags();\n      const predefinedParams = {\n        tags: activeCategories,\n        resource_group: isResourceGroup,\n      };\n\n      if (activeCategories || isResourceGroup) {\n        debouncePaginate(predefinedParams, true);\n      } else debouncePaginate(predefinedParams, false);\n    }\n  }, [pageNumber]);\n\n  // Резайз пагинации\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1023px)');\n    const largeQuery = window.matchMedia('(max-width: 1450px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // рендеры\n  const renderTagsContainer = () => (\n    <TagsList\n      filterList={categories}\n      name=\"video\"\n      handleClick={changeCategory}\n    />\n  );\n\n  // Загрузка карточек при нажатии на пагинацию\n  const loadingContentPagination = () =>\n    isLoadingPaginate ? (\n      <Loader isNested />\n    ) : (\n      <>\n        {mainVideo && isShowMainCard && !pageNumber && (\n          <section className=\"video__main-card page__section scale-in\">\n            <CardVideoMain data={mainVideo} />\n          </section>\n        )}\n\n        <section className=\"video__cards-grid page__section\">\n          {video &&\n            video.map((item) => (\n              <CardFilm key={item?.id} data={item} sectionClass=\"scale-in\" />\n            ))}\n        </section>\n      </>\n    );\n\n  // Контент страницы\n  const renderMainContent = () => {\n    if (!video && !categories) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <>\n        {isFiltersUsed ? (\n          <Loader isNested />\n        ) : (\n          <>\n            {loadingContentPagination()}\n\n            {pageCount > 1 && (\n              <section className=\"video__cards-paginate\">\n                <Paginate\n                  sectionClass=\"cards-section__pagination \"\n                  pageCount={pageCount}\n                  value={pageNumber}\n                  onChange={setPageNumber}\n                />\n              </section>\n            )}\n          </>\n        )}\n      </>\n    );\n  };\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      ) : (\n        <>\n          <section className=\"lead page__section\">\n            <TitleH1 title={title} sectionClass=\"video__title\" />\n            {categories?.length > 1 && !isLoadingPage && renderTagsContainer()}\n          </section>\n\n          {renderMainContent()}\n        </>\n      )}\n    </BasePage>\n  );\n};\n\nexport default Video;\n","const booksPageTexts = {\n  headTitle: 'Книги',\n  headDescription: 'Подборка книг, которые можно почитать, с аннотацией к ним.',\n  title: 'Книги',\n  textStubNoData:\n    'В данный момент страница с книгами пуста. Возвращайтесь позже!',\n};\n\nexport default booksPageTexts;\n","import './Books.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport booksPageTexts from '../../locales/books-page-RU';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport { getBooksPageData, getBooksPageFilter } from '../../api/books-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardBook,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport Paginate from '../../components/utils/Paginate/Paginate';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\n\nconst PAGE_SIZE_PAGINATE = {\n  mobile: 2,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = booksPageTexts;\n\nfunction Books() {\n  useScrollToTop();\n\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейты с данными Книг, Теги\n  const [booksPageData, setBooksPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  const getBooksData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getBooksPageData({\n      limit: pageSize,\n      offset,\n      types: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setBooksPageData(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const getBooksFilter = () => {\n    getBooksPageFilter()\n      .then((tags) => {\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true));\n  };\n\n  // хэндлер клика по фильтру КАТЕГОРИЯ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getBooksData(activeCategories);\n    }\n  };\n\n  /// Фильтрация с делэем\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getBooksData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Первая отрисовка страницы + переход по страницам пагинации\n  useEffect(() => {\n    if (isLoading && pageSize) {\n      getBooksData();\n      getBooksFilter();\n    }\n\n    if (!isLoading && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1216px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.mobile);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // контейнер с книгами\n  const renderBooksContainer = () => {\n    if (!booksPageData && !isLoading) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        {isLoadingPaginate ? (\n          <Loader isNested />\n        ) : (\n          <ul className=\"books__cards cards-grid cards-grid_content_small-cards fade-in\">\n            {booksPageData.map((books) => (\n              <CardBook key={books.id} data={books} sectionClass=\"scale-in\" />\n            ))}\n          </ul>\n        )}\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageNumber}\n            onChange={setPageNumber}\n          />\n        )}\n      </>\n    );\n  };\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"books__title\" />\n\n        {/* рендер фильтров */}\n        {categories?.length > 1 && (\n          <TagsList\n            filterList={categories}\n            name=\"tag\"\n            handleClick={changeCategory}\n          />\n        )}\n\n        {/* рендерим книги */}\n        {isFiltersUsed ? <Loader isNested /> : renderBooksContainer()}\n      </>\n    );\n  };\n\n  // глобальный лоадер\n  if (isLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"books page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Books;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getCatalogArticlePageData({ articleId } = {}) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/${articleId}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCatalogArticlePageData;\n","const catalogArticlePageTexts = {\n  headTitle: 'Статья',\n  headDescription: 'Полезная статья',\n};\n\nexport default catalogArticlePageTexts;\n","import './CatalogArticle.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { BasePage, Loader } from './index';\nimport getCatalogArticlePageData from '../../api/catalog-article-page';\nimport catalogArticlePageTexts from '../../locales/catalog-article-page-RU';\nimport { AnimatedPageContainer } from '../Books';\nimport { ERROR_MESSAGES } from '../../config/constants';\nimport { CATALOG_URL } from '../../config/routes';\n\nfunction CatalogArticle({ articleId }) {\n  const { headTitle, headDescription } = catalogArticlePageTexts;\n  const [catalogArticlePageData, setCatalogArticlePageData] = useState();\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  useEffect(() => {\n    getCatalogArticlePageData({ articleId })\n      .then((data) => {\n        setCatalogArticlePageData(data);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  }, [articleId]);\n\n  function renderPage() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          urlBack={CATALOG_URL}\n          buttonText=\"Вернуться назад\"\n          staticPage\n        />\n      );\n    }\n    return (\n      <div\n        className=\"page__section\"\n        dangerouslySetInnerHTML={{\n          __html: catalogArticlePageData?.rawHtml,\n        }}\n      />\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {renderPage()}\n    </BasePage>\n  );\n}\n\nCatalogArticle.propTypes = {\n  articleId: PropTypes.string.isRequired,\n};\n\nexport default CatalogArticle;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction PageWithTransparentHeader({ children, headTitle, headDescription }) {\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header isTransparent />\n      <main className=\"main\">{children}</main>\n      <Footer />\n    </>\n  );\n}\n\nPageWithTransparentHeader.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nPageWithTransparentHeader.defaultProps = {\n  children: null,\n};\n\nexport default PageWithTransparentHeader;\n","import './RightsArticle.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport {\n  PageWithTransparentHeader,\n  Loader,\n  TitleH2,\n  AnimatedPageContainer,\n} from './index';\nimport { getRightsArticle } from '../../api/rights-page';\nimport { useScrollToTop } from '../../hooks/index';\nimport { ERROR_MESSAGES } from '../../config/constants';\nimport { RIGHTS_URL } from '../../config/routes';\n\nfunction RightsArticle({ id }) {\n  useScrollToTop();\n\n  const [articleData, setArticleData] = useState(null);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // ХардКод пока не понятно как узнавать ID следующей статьи\n  const [nextId, setNextId] = useState(Number(id) + 1);\n\n  const changeClick = () => {\n    setIsLoadingPage(true);\n    setNextId(nextId + 1);\n  };\n\n  const renderLeadBlock = () => (\n    <section className=\"article-lead\">\n      <div className=\"article-lead__content\">\n        <h1 className=\"chapter-title article-lead__title\">\n          {articleData?.title}\n        </h1>\n        <p className=\"section-title article-lead__text\">{articleData?.text}</p>\n      </div>\n    </section>\n  );\n\n  const renderHtmlBlock = () => (\n    <div\n      className=\"page__section\"\n      dangerouslySetInnerHTML={{\n        __html: articleData?.rawHtml,\n      }}\n    />\n  );\n\n  const rendenNextPageBlock = () => (\n    <section className=\"next-page\">\n      <div className=\"next-page__img-wrap\">\n        <img src=\"#\" alt=\"Льготы детей на жилье\" className=\"next-page__img\" />\n      </div>\n      <Link\n        to={`/rights/${nextId}`}\n        onClick={changeClick}\n        className=\"next-page__link\"\n        target=\"_self\"\n      >\n        <TitleH2 sectionClass=\"next-page__title\" title=\"Следующая статья\" />\n        <div className=\"next-page__arrow-icon\" />\n      </Link>\n    </section>\n  );\n\n  const renderMainContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          urlBack={RIGHTS_URL}\n          buttonText=\"Вернуться назад\"\n          staticPage\n        />\n      );\n    }\n\n    return (\n      <>\n        {renderLeadBlock()}\n        {renderHtmlBlock()}\n        {rendenNextPageBlock()}\n      </>\n    );\n  };\n\n  useEffect(() => {\n    if (isLoadingPage && id) {\n      getRightsArticle(id)\n        .then((res) => setArticleData(res))\n        .catch(() => setIsPageError(true))\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n\n    if (!isLoadingPage && id) {\n      getRightsArticle(nextId)\n        .then((res) => setArticleData(res))\n        .catch(() => setIsPageError(true))\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n\n    // Хард Код для демо\n    window.scrollTo({ top: 0 });\n  }, [id, nextId]);\n\n  return (\n    <PageWithTransparentHeader\n      headTitle={articleData?.title}\n      headDescription={articleData?.description}\n    >\n      {isLoadingPage ? <Loader isNested /> : renderMainContent()}\n    </PageWithTransparentHeader>\n  );\n}\n\nRightsArticle.propTypes = {\n  id: PropTypes.number,\n};\n\nRightsArticle.defaultProps = {\n  id: null,\n};\n\nexport default RightsArticle;\n","const storiesPageTexts = {\n  headTitle: 'Истории дружбы',\n  headDescription: 'Истории дружбы с младшими от наших наставников',\n  title: 'Истории дружбы',\n};\n\nexport default storiesPageTexts;\n","import { BasePage, AnimatedPageContainer } from './index';\nimport storiesPageTexts from '../../locales/stories-page-RU';\n\nconst { headTitle, headDescription } = storiesPageTexts;\nfunction Stories() {\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <AnimatedPageContainer titleText=\"Данная страница пока находится в разработке. Приносим свои извинения!\" />\n    </BasePage>\n  );\n}\n\nexport default Stories;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/index';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() => (currentUser ? <Component {...props} /> : <Redirect to=\"/\" />)}\n    </Route>\n  );\n}\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n};\n\nexport default ProtectedRoute;\n","import { Route, Switch } from 'react-router-dom';\nimport {\n  AboutUs,\n  Profile,\n  Calendar,\n  MainPage,\n  PageNotFound,\n  Catalog,\n  Questions,\n  Places,\n  Rights,\n  Movies,\n  ReadAndWatch,\n  Video,\n  Articles,\n  Books,\n  CatalogArticle,\n  RightsArticle,\n  Stories,\n} from '../pages/index';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport {\n  MAIN_PAGE_URL,\n  ABOUT_US_URL,\n  AFISHA_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  MOVIES_URL,\n  READ_AND_WATCH_URL,\n  CATALOG_URL,\n  PROFILE_URL,\n  VIDEO_URL,\n  ARTICLES_URL,\n  BOOKS_URL,\n  CATALOG_ITEM_URL,\n  RIGHTS_ARTICLE_URL,\n  STORIES_URL,\n} from '../config/routes';\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route exact path={MAIN_PAGE_URL}>\n        <MainPage />\n      </Route>\n\n      <Route exact path={ABOUT_US_URL}>\n        <AboutUs />\n      </Route>\n\n      <Route exact path={AFISHA_URL}>\n        <Calendar />\n      </Route>\n\n      <Route exact path={QUESTIONS_URL}>\n        <Questions />\n      </Route>\n\n      <ProtectedRoute exact path={PROFILE_URL} component={Profile} />\n\n      <Route exact path={PLACES_URL}>\n        <Places />\n      </Route>\n\n      <Route exact path={RIGHTS_URL}>\n        <Rights />\n      </Route>\n\n      <Route\n        path={RIGHTS_ARTICLE_URL}\n        render={({ match }) => <RightsArticle id={match.params.id} />}\n      />\n\n      <Route exact path={MOVIES_URL}>\n        <Movies />\n      </Route>\n\n      <Route exact path={READ_AND_WATCH_URL}>\n        <ReadAndWatch />\n      </Route>\n\n      <Route exact path={CATALOG_URL}>\n        <Catalog />\n      </Route>\n\n      <Route\n        path={CATALOG_ITEM_URL}\n        render={({ match }) => (\n          <CatalogArticle articleId={match.params.articleId} />\n        )}\n      />\n      <Route exact path={VIDEO_URL}>\n        <Video />\n      </Route>\n\n      <Route exact path={BOOKS_URL}>\n        <Books />\n      </Route>\n\n      <Route exact path={ARTICLES_URL}>\n        <Articles />\n      </Route>\n\n      <Route exact path={STORIES_URL}>\n        <Stories />\n      </Route>\n\n      <Route path=\"*\">\n        <PageNotFound />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Router;\n","const texts = {\n  title: 'Подтвердить запись на мероприятие',\n  submitButtonText: 'Подтвердить запись',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","import './PopupConfirmation.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks/index';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils/index';\n\nfunction PopupConfirmation({ isOpen, onClose }) {\n  const { registerOnEvent } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    registerOnEvent(card);\n  };\n\n  return (\n    <Popup\n      type=\"confirmation\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <p className=\"section-title popup__title_type_calendar\">\n          {texts.title}\n        </p>\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`«${card?.title}»`}\n        />\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`${startDay?.day} ${startDay?.monthName} с ${startDay?.hour}:${startDay?.minutes} - ${endDay?.hour}:${endDay?.minutes}`}\n        />\n        <div className=\"popup__buttons_type_calendar\">\n          <Button\n            color=\"blue\"\n            title={texts.submitButtonText}\n            sectionClass=\"popup__button_type_calendar\"\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupConfirmation.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupConfirmation.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupConfirmation;\n","const texts = {\n  popupTitle: 'Вы записаны на мероприятие',\n  paragraph: 'Если у вас не получится прийти — отмените, пожалуйста, запись.',\n  buttonText: 'Вернуться к календарю',\n};\n\nexport default texts;\n","import { useRef, useEffect } from 'react';\nimport './PopupSuccessfully.scss';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\nimport texts from './locales/RU';\nimport { formatDate } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Button } from '../../utils/index';\n\nfunction PopupSuccessfully({ isOpen, onClose }) {\n  const card = getLocalStorageData(localStAfishaEvent);\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"successfully\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-success\" />\n      <p className=\"section-title popup__title_type_calendar\">\n        {texts.popupTitle}\n      </p>\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`«${card?.title}»`}\n      />\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`${startDay?.day} ${startDay?.monthName} с ${startDay?.hour}:${startDay?.minutes} - ${endDay?.hour}:${endDay?.minutes}`}\n      />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_successfully\">\n        {texts.paragraph}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupSuccessfully.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupSuccessfully.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupSuccessfully;\n","const texts = {\n  title:\n    'Спасибо, мы проверим информацию, и скоро все пользователи смогут увидеть вашу рекомендацию',\n  buttonText: 'Вернуться к рекомендациям',\n};\n\nexport default texts;\n","import './PopupRecommendSuccess.scss';\nimport { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport texts from './locales/RU';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils/index';\n\nfunction PopupRecommendSuccess({ isOpen, onClose }) {\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"recommend-success\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.title}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupRecommendSuccess.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupRecommendSuccess.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupRecommendSuccess;\n","const texts = {\n  title: 'Вход',\n  firstParagraph:\n    'Вход в личный кабинет доступен наставникам программы «Старшие Братья Старшие Сёстры».',\n  secondParagraph:\n    'Пожалуйста, введите логин и пароль из письма. Если вам не приходило письмо, свяжитесь с вашим куратором.',\n  loginPlaceholder: 'Логин',\n  passwordPlaceholder: 'Пароль',\n  forgotButtonText: 'Забыли пароль?',\n  submitButtonText: 'Войти',\n  titleForgotForm: 'Восстановление пароля',\n  paragraphForgotForm:\n    'Пожалуйста, для восстановления пароля введите email, который вы указывали при регистрации.',\n  emailPlaceholder: 'Email',\n  backButtonText: 'Я вспомнил пароль',\n  submitButtonTextForgot: 'Отправить',\n};\n\nexport default texts;\n","/* eslint-disable consistent-return */\nimport './PopupLogin.scss';\nimport { useEffect, useContext, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport { CurrentUserContext, ErrorsContext } from '../../../contexts/index';\nimport { useAuth, useFormWithValidation } from '../../../hooks/index';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { ERROR_MESSAGES, ERROR_CODES } from '../../../config/constants';\nimport { recoverPassword } from '../../../api/user';\nimport Popup from '../Popup/Popup';\nimport { Input, Button, TitleH2 } from '../../utils/index';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\n\nfunction PopupLogin({ isOpen, onClose }) {\n  const { updateUser } = useContext(CurrentUserContext);\n  const { serverError, clearError, setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { badRequest } = ERROR_CODES;\n\n  const [isForgotPassword, setIsForgotPassword] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const { handleLogin } = useAuth(updateUser);\n  function handleClickForgotPassword() {\n    setIsForgotPassword(!isForgotPassword);\n  }\n\n  function successForgotPassword() {\n    setIsSuccess(false);\n    setIsForgotPassword(false);\n  }\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(values);\n  }\n\n  function handleError(err) {\n    if (err?.status === badRequest) setError(err?.data);\n    else setError({ message: generalErrorMessage.title });\n  }\n\n  function handleSubmitForgotPassword(evt) {\n    evt.preventDefault();\n    recoverPassword(values)\n      .then((res) => {\n        setSuccessMessage(res?.email);\n        resetForm();\n        clearError();\n        setIsSuccess(true);\n        setTimeout(successForgotPassword, 6000);\n      })\n      .catch(handleError);\n  }\n\n  //! аварийный перевод на главную, если не хочешь логиниться\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  function closePopup() {\n    if (pathname === AFISHA_URL) {\n      history.push('/');\n    }\n    setSuccessMessage('');\n    onClose();\n  }\n\n  function closePopupOnEsc(evt) {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  }\n\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [pathname, isOpen]);\n\n  useEffect(() => {\n    resetForm();\n    clearError();\n  }, [isOpen, isForgotPassword]);\n\n  useEffect(() => {\n    setIsForgotPassword(false);\n  }, [isOpen]);\n\n  const classNameAuth = [\n    'popup__form',\n    'popup__form_type_sign-in',\n    `${isOpen && !isForgotPassword ? 'popup__form_type_sign-in_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const formAuth = () => (\n    <form\n      className={classNameAuth}\n      onSubmit={(evt) => handleSubmit(evt)}\n      noValidate\n    >\n      <TitleH2 sectionClass=\"popup__title_type_sign-in\" title={texts.title} />\n      <p className=\"paragraph popup__sign-in\">{texts.firstParagraph}</p>\n      <p className=\"paragraph popup__sign-in\">{texts.secondParagraph}</p>\n\n      <Input\n        id=\"loginUsernameInput\"\n        sectionClass=\"popup__input\"\n        type=\"text\"\n        name=\"username\"\n        placeholder={texts.loginPlaceholder}\n        onChange={handleChange}\n        value={values?.username}\n        error={errors?.username}\n        minLength=\"4\"\n        required\n      />\n\n      <Input\n        id=\"loginPasswordInput\"\n        sectionClass=\"popup__input\"\n        type=\"password\"\n        name=\"password\"\n        placeholder={texts.passwordPlaceholder}\n        onChange={handleChange}\n        value={values?.password}\n        error={errors?.password}\n        minLength=\"8\"\n        required\n      />\n\n      <button\n        className=\"popup__forgot-password\"\n        type=\"button\"\n        onClick={handleClickForgotPassword}\n      >\n        {texts.forgotButtonText}\n      </button>\n      <span className=\"form-error-message\">{errorsString}</span>\n      <Button\n        sectionClass=\"popup__button_type_sign-in\"\n        color=\"blue\"\n        title={texts.submitButtonText}\n        isDisabled={!isValid}\n        isSubmittable\n      />\n    </form>\n  );\n\n  const classForgotPassword = [\n    'popup__form',\n    'popup__form_type_email',\n    `${isForgotPassword && !isSuccess ? 'popup__form_type_email_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const formForgotPassword = () => (\n    <form\n      className={classForgotPassword}\n      onSubmit={(evt) => handleSubmitForgotPassword(evt)}\n      noValidate\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_sign-in\"\n        title={texts.titleForgotForm}\n      />\n      <p className=\"paragraph popup__sign-in\">{texts.paragraphForgotForm}</p>\n\n      <Input\n        id=\"loginUseremailInput\"\n        sectionClass=\"popup__input\"\n        type=\"email\"\n        name=\"email\"\n        placeholder={texts.emailPlaceholder}\n        onChange={handleChange}\n        value={values?.email}\n        error={errors?.email}\n        required\n      />\n      <button\n        className=\"popup__forgot-password\"\n        type=\"button\"\n        onClick={handleClickForgotPassword}\n      >\n        {texts.backButtonText}\n      </button>\n      <span className=\"form-error-message\">{errorsString}</span>\n      <Button\n        sectionClass=\"popup__button_type_sign-in\"\n        color=\"blue\"\n        title={texts.submitButtonTextForgot}\n        isDisabled={!isValid}\n        isSubmittable\n      />\n    </form>\n  );\n\n  const className = [\n    'popup__login-container_success',\n    `${isSuccess ? 'popup__login-container_success_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const containerAnimationSuccessLogin = () => (\n    <div className={className}>\n      <div\n        ref={animationContainer}\n        className=\"popup__login-container_success-animation\"\n      />\n      <TitleH2 title={successMessage} />\n    </div>\n  );\n\n  return (\n    <Popup\n      type=\"sign-in\"\n      typeContainer=\"sign-in\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      {formAuth()}\n      {formForgotPassword()}\n      {containerAnimationSuccessLogin()}\n    </Popup>\n  );\n}\n\nPopupLogin.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default PopupLogin;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  formatDate,\n  formatWordCase,\n  changeCaseOfFirstLetter,\n} from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2, ModificatedScrollbars } from '../../utils/index';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks/index';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction PopupAboutEvent({ isWithoutRegister, isOpen, onClose }) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n  } = texts;\n\n  const { handleEventBooking } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDateParts = formatDate(card?.startAt);\n  const endDayParts = formatDate(card?.endAt);\n  const isDisabled = card?.remainSeats < 1;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    // передаем карточку и сообщаем функции, что запись без подтверждения\n    handleEventBooking(card, true);\n  }\n\n  return (\n    <Popup\n      type=\"about-event\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      {card && (\n        <form className=\"popup__form\" onSubmit={handleSubmit}>\n          <div className=\"calendar__caption\">\n            <div className=\"calendar__info\">\n              <p className=\"calendar__type\">\n                {changeCaseOfFirstLetter(card?.tags?.name)}\n              </p>\n              <p className=\"calendar__weekday\">\n                {`${startDateParts?.monthName} / ${startDateParts?.weekdayName}`}\n              </p>\n            </div>\n            <div className=\"calendar__about calendar__about_modal\">\n              <TitleH2\n                title={card?.title}\n                sectionClass=\"calendar__title calendar__title_type_popup\"\n              />\n              <p className=\"calendar__date\">{startDateParts?.day}</p>\n            </div>\n          </div>\n          <div className=\"calendar__meetup\">\n            <ul className=\"calendar__info-list\">\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__time\">\n                  {`${startDateParts?.hour}:${startDateParts?.minutes} - ${endDayParts?.hour}:${endDayParts?.minutes}`}\n                </p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__place\">{card?.address}</p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__contact\">{card?.contact}</p>\n              </li>\n            </ul>\n            <div className=\"calendar__description\">\n              <ModificatedScrollbars horizontalScrollClass=\"calendar__thumb\">\n                <p className=\"paragraph calendar__desc-paragraph\">\n                  {card?.description}\n                </p>\n              </ModificatedScrollbars>\n            </div>\n\n            {!isWithoutRegister && (\n              <div className=\"calendar__submit\">\n                <Button\n                  color=\"blue\"\n                  title={buttonTitle}\n                  titleSelected={buttonTitleSelected}\n                  sectionClass=\"button_action_confirm\"\n                  isSubmittable\n                  isBooked={card?.booked}\n                  isDisabled={isDisabled}\n                />\n                <p className=\"calendar__place-left\">\n                  {(isDisabled && buttonTitleDisabled) ||\n                    (!card?.booked &&\n                      `${remainSeatsText} ${card?.remainSeats} ${formatWordCase(\n                        card?.remainSeats\n                      )}`)}\n                </p>\n              </div>\n            )}\n          </div>\n        </form>\n      )}\n    </Popup>\n  );\n}\n\nPopupAboutEvent.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  isWithoutRegister: PropTypes.bool,\n};\n\nPopupAboutEvent.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  isWithoutRegister: false,\n};\n\nexport default PopupAboutEvent;\n","const texts = {\n  title: 'Выберите ваш город',\n};\n\nexport default texts;\n","import './PopupCities.scss';\nimport { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../../contexts/index';\nimport { updateUserProfile } from '../../../api/user';\nimport {\n  localStUserCity,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../../config/constants';\nimport {\n  dispatchLocalStorageEvent,\n  getLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { useDebounce } from '../../../hooks/index';\nimport Popup from '../Popup/Popup';\nimport { TitleH2 } from '../../utils/index';\n\nfunction PopupCities({ isOpen, onClose }) {\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { cities, defaultCity } = useContext(CitiesContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  function closePopup() {\n    if (!currentUser && !getLocalStorageData(localStUserCity)) {\n      dispatchLocalStorageEvent(localStUserCity, defaultCity?.id);\n    }\n    onClose();\n  }\n\n  function closePopupOnEsc(evt) {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  }\n\n  function submitCity(evt) {\n    const cityId = parseInt(evt.target.value, 10);\n    if (currentUser) {\n      updateUserProfile({ city: cityId })\n        .then((res) => {\n          updateUser(res);\n          onClose();\n        })\n        .catch(() => {\n          setError({\n            title: ERROR_MESSAGES.citiesErrorMessage.title,\n            button: ERROR_MESSAGES.citiesErrorMessage.button,\n          });\n          openPopupError();\n        });\n    } else {\n      dispatchLocalStorageEvent(localStUserCity, cityId);\n      onClose();\n    }\n  }\n\n  const debounceSubmitCity = useDebounce(submitCity, DELAY_DEBOUNCE);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (defaultCity) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [defaultCity]);\n\n  return (\n    <Popup\n      type=\"cities\"\n      typeContainer=\"cities\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <div className=\"popup__form\">\n        <TitleH2 title={texts.title} sectionClass=\"cities__title\" />\n        <div className=\"cities__container\">\n          <ul className=\"cities__list cities__list_type_primary\">\n            {cities &&\n              cities\n                .filter((item) => item?.isPrimary === true)\n                .map((item) => (\n                  <li className=\"cities__list-item\" key={item?.id}>\n                    <button\n                      className=\"cities__city\"\n                      type=\"button\"\n                      value={item?.id}\n                      onClick={(evt) => debounceSubmitCity(evt)}\n                    >\n                      {item?.name}\n                    </button>\n                  </li>\n                ))}\n          </ul>\n          <ul className=\"cities__list\">\n            {cities &&\n              cities\n                .filter((item) => item?.isPrimary !== true)\n                .map((item) => (\n                  <li className=\"cities__list-item\" key={item?.id}>\n                    <button\n                      className=\"cities__city\"\n                      type=\"button\"\n                      value={item?.id}\n                      onClick={(evt) => debounceSubmitCity(evt)}\n                    >\n                      {item?.name}\n                    </button>\n                  </li>\n                ))}\n          </ul>\n        </div>\n      </div>\n    </Popup>\n  );\n}\n\nPopupCities.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupCities.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupCities;\n","import './PopupError.scss';\nimport PropTypes from 'prop-types';\nimport { useContext, useEffect } from 'react';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils/index';\nimport { ErrorsContext } from '../../../contexts';\n\nfunction PopupError({ isOpen, onClose }) {\n  const { serverError } = useContext(ErrorsContext);\n\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keyup', closeOnEsc);\n    return () => window.removeEventListener('keyup', closeOnEsc);\n  }, []);\n\n  return (\n    <Popup\n      type=\"error\"\n      typeContainer=\"calendar\"\n      sectionClass=\"popup__container_error\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar popup__title_type_error\"\n        title={serverError?.title}\n      />\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={serverError?.button}\n          sectionClass=\"popup__button_type_error\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupError.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupError.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupError;\n","import React, { useState } from 'react';\nimport './PopupVideo.scss';\nimport PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Caption } from '../../utils/index';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport Loader from '../../utils/Loader/Loader';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\n\nconst PopupVideo = ({ isOpen, onClose }) => {\n  const data = getLocalStorageData(localStChosenVideo);\n  const { frameSrc } = parserLinkYoutube(data?.link);\n\n  const [iframeIsLoading, setIframeIsLoading] = useState(true);\n\n  return (\n    <Popup\n      type=\"video\"\n      typeContainer=\"video\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n    >\n      {iframeIsLoading && <Loader isNested />}\n      <>\n        <iframe\n          title=\"youTubePlayer\"\n          id=\"playeryt\"\n          onLoad={() => setIframeIsLoading(false)}\n          className=\"popup__video-iframe\"\n          src={frameSrc}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          seamless\n        />\n        <TitleH2 sectionClass=\"popup__video-title\" title={data?.title} />\n        <Caption sectionClass=\"popup__video-caption\" title={data?.info} />\n      </>\n    </Popup>\n  );\n};\n\nPopupVideo.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupVideo.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupVideo;\n","const texts = {\n  popupTitle: 'Данная функциональность находится в разработке',\n  buttonText: 'Вернуться на страницу',\n};\n\nexport default texts;\n","import { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils/index';\n\nfunction PopupInfoTooltip({ isOpen, onClose }) {\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"info-tooltip\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.popupTitle}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupInfoTooltip.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupInfoTooltip.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupInfoTooltip;\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { useLocation } from 'react-router-dom';\nimport Router from './navigation/Router';\nimport { MOVIES_URL, VIDEO_URL } from './config/routes';\nimport { localStChosenVideo } from './config/constants';\nimport Loader from './components/utils/Loader/Loader';\n// попапы\nimport {\n  PopupConfirmation,\n  PopupSuccessfully,\n  PopupAboutEvent,\n  PopupError,\n  PopupCities,\n  PopupLogin,\n  PopupRecommendSuccess,\n  PopupVideo,\n  PopupInfoTooltip,\n} from './components/Popups/index';\n// логины, авторизация\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  PopupsContext,\n  ErrorsContext,\n} from './contexts/index';\n// хуки\nimport { useCities, useAuth } from './hooks/index';\nimport { removeLocalStorageData } from './hooks/useLocalStorage';\n\nfunction App() {\n  const { pathname } = useLocation();\n\n  // стейт переменные попапов\n  const [isPopupConfirmationOpen, setIsPopupConfirmationOpen] = useState(false);\n  const [isPopupSuccessfullyOpen, setIsPopupSuccessfullyOpen] = useState(false);\n  const [isPopupAboutDescriptionOpen, setIsPopupAboutDescriptionOpen] =\n    useState(false);\n  const [isPopupErrorOpen, setIsPopupErrorOpen] = useState(false);\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = useState(false);\n  const [isPopupCitiesOpen, setIsPopupCitiesOpen] = useState(false);\n  const [isPopupRecommendSuccessOpen, setIsPopupRecommendSuccessOpen] =\n    useState(false);\n  const [isVideoPopupOpen, setIsVideoPopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n  const [isWithoutRegister, setIsWithoutRegister] = useState(false);\n\n  // управление попапами (открыть/закрыть)\n  function closeAllPopups() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(false);\n    setIsPopupAboutDescriptionOpen(false);\n    setIsPopupRecommendSuccessOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function openPopupInfoTooltip() {\n    setIsInfoTooltipOpen(true);\n  }\n\n  function openPopupConfirmation() {\n    setIsPopupConfirmationOpen(true);\n  }\n\n  function openPopupSuccessfully() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(true);\n  }\n\n  function openPopupAboutEvent(withoutRegister) {\n    if (withoutRegister) {\n      setIsWithoutRegister(true);\n    } else {\n      setIsWithoutRegister(false);\n    }\n    setIsPopupAboutDescriptionOpen(true);\n  }\n\n  function openPopupError() {\n    setIsPopupErrorOpen(true);\n  }\n\n  function closePopupError() {\n    setIsPopupErrorOpen(false);\n  }\n\n  function openPopupCities() {\n    setIsPopupCitiesOpen(true);\n  }\n\n  function closePopupCities() {\n    setIsPopupCitiesOpen(false);\n  }\n\n  function openPopupLogin() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function closePopupLogin() {\n    setIsPopupLoginOpen(false);\n  }\n\n  function openPopupRecommendSuccess() {\n    setIsPopupRecommendSuccessOpen(true);\n  }\n\n  function openPopupVideo() {\n    setIsVideoPopupOpen(true);\n  }\n\n  function closePopupVideo() {\n    removeLocalStorageData(localStChosenVideo);\n    setIsVideoPopupOpen(false);\n  }\n\n  // текущий юзер/контекст\n  const [currentUser, setCurrentUser] = useState(null);\n  const updateUser = (value) => setCurrentUser(value);\n\n  // список городов/контекст\n  const { cities, defaultCity } = useCities();\n\n  // серверные ошибки контекст\n  const [serverError, setServerError] = useState(null);\n  const setError = (value) => setServerError(value);\n  const clearError = () => setServerError(null);\n\n  const { isCheckingToken, checkToken } = useAuth(updateUser);\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  // закрытие всех попапов при смене страницы\n  useEffect(() => {\n    // без проверки попап с видео не откроется при редиректе\n    if (pathname !== MOVIES_URL && pathname !== VIDEO_URL) {\n      closePopupVideo();\n    }\n    closeAllPopups();\n    closePopupError();\n    closePopupCities();\n  }, [pathname]);\n\n  // эффект закрытия модалок по Escape\n  useEffect(() => {\n    window.addEventListener('keyup', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n        closePopupVideo();\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('redirectToPageAndOpenPopup', openPopupVideo);\n    return () =>\n      window.removeEventListener('redirectToPageAndOpenPopup', openPopupVideo);\n  }, []);\n\n  return (\n    <HelmetProvider>\n      <CitiesContext.Provider value={{ cities, defaultCity }}>\n        <CurrentUserContext.Provider value={{ currentUser, updateUser }}>\n          <ErrorsContext.Provider value={{ serverError, setError, clearError }}>\n            <PopupsContext.Provider\n              value={{\n                closeAllPopups,\n                closePopupLogin,\n                openPopupConfirmation,\n                openPopupSuccessfully,\n                openPopupAboutEvent,\n                openPopupError,\n                openPopupCities,\n                openPopupLogin,\n                openPopupRecommendSuccess,\n                openPopupVideo,\n                openPopupInfoTooltip,\n              }}\n            >\n              <div className=\"page\">\n                {!isCheckingToken ? <Router /> : <Loader isCentered />}\n                <PopupConfirmation\n                  isOpen={isPopupConfirmationOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupSuccessfully\n                  isOpen={isPopupSuccessfullyOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupAboutEvent\n                  isWithoutRegister={isWithoutRegister}\n                  isOpen={isPopupAboutDescriptionOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupLogin\n                  isOpen={isPopupLoginOpen}\n                  onClose={closePopupLogin}\n                />\n                <PopupCities\n                  isOpen={isPopupCitiesOpen}\n                  onClose={closePopupCities}\n                />\n                <PopupError\n                  isOpen={isPopupErrorOpen}\n                  onClose={closePopupError}\n                />\n                <PopupRecommendSuccess\n                  isOpen={isPopupRecommendSuccessOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupVideo\n                  isOpen={isVideoPopupOpen}\n                  onClose={closePopupVideo}\n                />\n                <PopupInfoTooltip\n                  isOpen={isInfoTooltipOpen}\n                  onClose={closeAllPopups}\n                />\n              </div>\n            </PopupsContext.Provider>\n          </ErrorsContext.Provider>\n        </CurrentUserContext.Provider>\n      </CitiesContext.Provider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}