{"version":3,"sources":["utils/external-links.js","locales/about-us-page-RU.js","hooks/useClickOutside.js","hooks/useScrollToTop.js","contexts/CurrentUserContext.js","contexts/CitiesContext.js","contexts/PopupsContext.js","contexts/ErrorsContext.js","config/config.js","api/auth.js","api/user.js","config/routes.js","hooks/useLocalStorage.js","config/constants.js","hooks/useAuth.js","api/cities.js","hooks/useDebounce.js","hooks/useCities.js","api/places-page.js","hooks/useActivityTypes.js","hooks/useEventBooking.js","api/event-participants.js","hooks/useFormWithValidation.js","components/Header/locales/RU.js","components/NavBar/locales/RU.js","components/utils/Blockquote/Blockquote.js","components/utils/Button/Button.js","components/utils/ButtonDots/ButtonDots.js","components/utils/ButtonRound/ButtonRound.js","components/utils/Caption/Caption.js","components/utils/Card/Card.js","components/utils/NavItem/NavItem.js","utils/drop-down-menu-link.js","components/utils/DropDownMenu/DropDownMenu.js","components/utils/DropDownSelect/locales/RU.js","components/utils/DropDownSelect/DropDownSelect.js","components/utils/Input/Input.js","components/utils/LinkableHeading/LinkableHeading.js","components/utils/Loader/Loader.js","assets/logo.svg","components/utils/LogoBlue/LogoBlue.js","components/utils/ModificatedScrollbars/ModificatedScrollbars.js","components/utils/NoDataNotificationBox/locales/RU.js","components/utils/NoDataNotificationBox/NoDataNotificationBox.js","components/utils/Paginate/Paginate.js","components/utils/PseudoButtonTag/PseudoButtonTag.js","components/utils/Rating/Rating.js","components/utils/Rubric/Rubric.js","components/utils/ScrollableContainer/ScrollableContainer.js","components/utils/SearchButton/SearchButton.js","components/utils/TitleH1/TitleH1.js","components/utils/TitleH2/TitleH2.js","components/utils/TitleH3/TitleH3.js","components/utils/UserIconButton/UserIconButton.js","components/utils/UserMenuButton/UserMenuButton.js","components/utils/Widget/Widget.js","components/NavItemWithDropdown/NavItemWithDropdown.js","components/NavBar/NavBar.js","components/Header/Header.js","components/Footer/locales/RU.js","assets/footer-logo.svg","components/Footer/Footer.js","layout/BasePage.js","components/Cards/CardFigure/CardFigure.js","components/Cards/CardAbout/CardAbout.js","pages/AboutUs/AboutUs.js","locales/profile-page-RU.js","components/Cards/ProfileEventCard/locales/RU.js","utils/utils.js","components/Cards/ProfileEventCard/ProfileEventCard.js","components/ProfileForm/locales/RU.js","utils/rating-captions.js","components/ProfileForm/ProfileForm.js","components/ProfileDiary/locales/RU.js","assets/icon-logo-no-text.svg","components/Cards/CardAnnotation/CardAnnotationContainer.js","components/ProfileDiary/ProfileDiary.js","components/Popups/PopupDeleteDiary/locales/RU.js","components/Popups/Popup/locales/RU.js","components/Popups/Popup/Popup.js","components/Popups/PopupDeleteDiary/PopupDeleteDiary.js","components/AnimatedPageContainer/locales/RU.js","components/AnimatedPageContainer/AnimatedPageContainer.js","pages/Profile/Profile.js","api/profile-page.js","locales/calendar-page-RU.js","utils/filter-tags.js","components/Cards/CardCalendar/locales/RU.js","components/Cards/CardCalendar/CardCalendar.js","components/TagsList/TagsList.js","pages/Calendar/Calendar.js","api/afisha-page.js","locales/main-page-RU.js","api/main-page.js","components/Cards/CardStub/locales/RU.js","components/Cards/CardStub/CardStub.js","components/Cards/CardPlace/locales/RU.js","components/Cards/CardAnnotation/CardAnnotation.js","components/Cards/CardPlace/CardPlace.js","components/Cards/CardArticleBig/locales/RU.js","components/Cards/CardArticleBig/CardArticleBig.js","components/Cards/CardFilm/locales/RU.js","utils/parser-link-youtube.js","components/Cards/CardFilm/CardFilm.js","components/Cards/CardVideoMain/locales/RU.js","components/Cards/CardVideoMain/CardVideoMain.js","components/Cards/CardQuestion/locales/RU.js","components/Cards/CardQuestion/CardQuestion.js","components/Cards/CardAnimatedPlug/CardAnimatedPlug.js","pages/MainPage/MainPage.js","locales/404-page-RU.js","layout/PageNoFooter.js","pages/PageNotFound/PageNotFound.js","locales/catalog-page-RU.js","utils/render-lines.js","components/CardsSectionWithLines/CardsSectionWithLines.js","api/catalog-page.js","components/Cards/CardCatalog/CardCatalog.js","pages/Catalog/Catalog.js","locales/questions-page-RU.js","utils/form-errors.js","api/questions-page.js","pages/Questions/Questions.js","locales/places-page-RU.js","pages/Places/constants.js","components/PlacesRecommend/locales/RU.js","components/FormRecommendation/locales/RU.js","components/FormRecommendation/FormRecommendation.js","components/PlacesRecommend/PlacesRecommend.js","pages/Places/Places.js","locales/rights-page-RU.js","api/rights-page.js","components/Cards/CardRights/CardRights.js","pages/Rights/Rights.js","locales/movies-page-RU.js","api/movies-page.js","pages/Movies/Movies.js","locales/articles-page-RU.js","components/Cards/CardArticle/locales/RU.js","components/Cards/CardArticle/CardArticle.js","api/articles-page.js","pages/Articles/Articles.js","locales/read-and-watch-page-RU.js","components/Cards/CardBook/CardBook.js","pages/ReadAndWatch/constants.js","components/ReadAndWatchSection/ReadAndWatchSection.js","components/ReadAndWatchSection/constants.js","api/video-page.js","api/books-page.js","pages/ReadAndWatch/ReadAndWatch.js","locales/video-page-RU.js","pages/Video/Video.js","locales/books-page-RU.js","pages/Books/Books.js","api/catalog-article-page.js","locales/catalog-article-page-RU.js","pages/CatalogArticle/CatalogArticle.js","layout/PageWithTransparentHeader.js","pages/RightsArticle/RightsArticle.js","locales/stories-page-RU.js","pages/Stories/Stories.js","components/ProtectedRoute/ProtectedRoute.js","navigation/Router.js","components/Popups/PopupConfirmation/locales/RU.js","components/Popups/PopupConfirmation/PopupConfirmation.js","components/Popups/PopupSuccessfully/locales/RU.js","components/Popups/PopupSuccessfully/PopupSuccessfully.js","components/Popups/PopupRecommendSuccess/locales/RU.js","components/Popups/PopupRecommendSuccess/PopupRecommendSuccess.js","components/Popups/PopupLogin/locales/RU.js","components/Popups/PopupLogin/PopupLogin.js","components/Popups/PopupAboutEvent/locales/RU.js","components/Popups/PopupAboutEvent/PopupAboutEvent.js","components/Popups/PopupCities/locales/RU.js","components/Popups/PopupCities/PopupCities.js","components/Popups/PopupError/PopupError.js","components/Popups/PopupVideo/PopupVideo.js","components/Popups/PopupInfoTooltip/locales/RU.js","components/Popups/PopupInfoTooltip/PopupInfoTooltip.js","App.js","index.js"],"names":["socialLinks","id","url","title","bbbsLinks","developmentLinks","aboutUsTexts","headTitle","headDescription","logoLink","aboutTitle","aboutParagraphs","text","blockquote","cards","linkText","href","color","useClickOutside","callback","ref","useRef","clickListener","useCallback","evt","current","contains","target","useEffect","document","addEventListener","removeEventListener","useScrollToTop","deps","window","scrollTo","top","CurrentUserContext","createContext","CitiesContext","PopupsContext","ErrorsContext","baseURL","apiUrl","staticImageUrl","AuthApi","accessToken","axios","defaults","headers","common","Authorization","loginData","post","then","response","data","catch","err","Promise","reject","refreshToken","getUserData","get","AFISHA_URL","ABOUT_US_URL","QUESTIONS_URL","PROFILE_URL","PLACES_URL","RIGHTS_URL","READ_AND_WATCH_URL","CATALOG_URL","VIDEO_URL","ARTICLES_URL","MOVIES_URL","BOOKS_URL","STORIES_URL","AFISHA_TITLE","ABOUT_US_TITLE","QUESTIONS_TITLE","PLACES_TITLE","RIGHTS_TITLE","READ_AND_WATCH_TITLE","STORIES_TITLE","setLocalStorageData","key","value","localStorage","setItem","JSON","stringify","removeLocalStorageData","removeItem","getLocalStorageData","parse","getItem","dispatchLocalStorageEvent","event","Event","dispatchEvent","useLocalStorage","getLocalStorageItem","weekdays","months","COLORS","FIGURES","ALL_CATEGORIES","regExpImages","DELAY_DEBOUNCE","localStUserCity","localStAfishaEvent","jwt","jwtRefresh","localStChosenVideo","ERROR_MESSAGES","button","ERROR_CODES","useAuth","setCurrentUser","generalErrorMessage","unauthorized","badRequest","useState","isCheckingToken","setIsCheckingToken","popups","useContext","errors","history","useHistory","handleError","status","setError","message","handleTokenError","handleLogout","clearAuth","clear","push","handleLogin","authorize","token","access","refresh","setAuth","userData","closePopupLogin","checkToken","finally","getCities","timer","Error","useCities","cities","setCities","defaultCity","setDefaultCity","citiesData","mainCity","find","city","name","console","error","useDebounce","delay","args","clearTimeout","setTimeout","getPlaces","chosen","tags","age_restriction","limit","offset","query","params","getChosenPlace","useActivityTypes","activityTypes","setActivityTypes","results","openPopupError","useEventBooking","openPopupSuccessfully","openPopupConfirmation","closeAllPopups","selectedEvent","setSelectedEvent","listenCancel","newEvent","booked","listenRegister","registerOnEvent","card","eventId","register","setRegisterEvent","cancelRegistration","delete","cancel","setCancelRegisterEvent","handleEventBooking","noConfirm","useFormWithValidation","values","setValues","setErrors","isValid","setIsValid","resetForm","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","handleChangeFiles","pattern","file","files","test","texts","changeCity","changeCityDefault","logoutText","searchPlaceholder","Blockquote","sectionWrapperClass","sectionTitleClass","className","defaultProps","Button","titleSelected","isSubmittable","isDisabled","onClick","isBooked","sectionClass","classNames","join","trim","type","disabled","undefined","ButtonDots","handleClick","ButtonRound","label","isSmall","isSpan","isClick","aria-label","Caption","Card","children","NavItem","sectionLinkClass","rel","to","dropDownMenuLink","DropDownMenu","map","item","buttonAriaLabel","DropDownSelect","placeholder","options","inputName","onChange","isFormOpen","isOpen","setIsOpen","optionSelected","setOptionSelected","classNamesButton","classNamesDropDown","classNamesArrow","dropdownRef","viewBox","fill","xmlns","d","aria-hidden","option","htmlFor","Input","required","max","min","minLength","maxLength","isTextarea","onFocus","errorMessage","classNamesWrap","classNamesInput","classNamesTextarea","LinkableHeading","HeadingComponent","Component","path","titleSectionClass","linkSectionClass","Loader","isNested","isCentered","isSmallGrid","LogoBlue","src","logoPath","alt","ModificatedScrollbars","horizontalScrollClass","renderTrackHorizontal","style","opacity","renderThumbVertical","defaultText","NoDataNotificationBox","Paginate","props","pageCount","containerClassName","pageClassName","pageLinkClassName","activeLinkClassName","previousClassName","breakClassName","nextClassName","disabledClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","selected","initialPage","PseudoButtonTag","isActive","checked","Rating","ratingType","pseudoButtonClassNames","defaultChecked","Rubric","ScrollableContainer","step","isScrolling","clientX","scrollX","state","setState","scrollByWheel","preventDefault","left","scrollLeft","deltaY","behavior","useLayoutEffect","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","SearchButton","openPopupInfoTooltip","TitleH1","TitleH2","TitleH3","UserIconButton","isAuthorized","UserMenuButton","Widget","link","allow","NavItemWithDropdown","NavBar","isMobileMenuOpen","onUserButtonClick","onBurgerButtonClick","onCityChangeClick","onLogout","userCityName","pathname","useLocation","currentUser","Header","isTransparent","updateUser","openPopupCities","openPopupLogin","currentAnonymousCity","setUserCityName","userCity","currentCity","setIsMobileMenuOpen","headerRef","handleCloseMobileMenu","classList","isHeaderActive","setIsHeaderActive","prevScrollPos","currentScrollPos","pageYOffset","classNamesHeader","onKeyPress","logoAlt","helpButtonText","helpButtonLink","devText","devLink","devOrg","designText","designLink","designOrg","copyright","Footer","footerLogoPath","BasePage","content","CardFigure","shape","CardAbout","AboutUs","profilePageTexts","eventsTitle","eventsTitleArchive","eventsArchiveButton","eventsCurrentButton","eventsTitleNoResults","eventsTitleNoResultsArchive","formTitle","buttonLabel","formatDuration","duration","hours","Math","floor","minutes","seconds","format","formatDate","date","parsedDate","Date","day","getDate","month","getMonth","weekdayName","getDay","monthName","hour","String","getHours","year","getFullYear","getMinutes","formatWordCase","remainSeats","lastTwoDigits","lastDigit","questionForm","titleClass","formVisibilityClass","changeCaseOfFirstLetter","str","toUpperCase","slice","formatMonthsGenitiveCase","randomizeArray","arr","size","length","array","Array","splice","random","formatPhoneNumber","phoneNum","str1","str2","str3","str4","str5","ProfileEventCard","onOpen","startDay","startAt","rateCaptionText","uploadCaptionText","placePlaceholder","datePlaceholder","datePlaceholderError","descrPlaceholder","buttonAddText","buttonDeleteText","buttonCancelText","buttonSaveText","captions","good","neutral","bad","validationSettings","ProfileForm","isEditMode","onClose","onSubmit","serverError","clearError","errorsString","Object","caption","setCaption","userImage","setUserImage","handleSubmit","mark","image","imageUrl","URL","createObjectURL","handleChangeImage","place","description","noValidate","accept","currentTarget","buttonShareText","buttonTextShared","buttonEditText","CardAnnotationContainer","classNamesDesc","ProfileDiary","onEdit","onDelete","onShare","sentToCurator","eventDay","defaultImage","submitButtonText","cancelButtonText","closeButtonLabel","Popup","typeContainer","withoutCloseButton","PopupDeleteDiary","onCardDelete","cardData","parseInt","title404","buttonText","AnimatedPageContainer","is404","titleText","staticPage","urlBack","animationContainer","Lottie","loadAnimation","container","renderer","loop","autoplay","animationData","animation404","Profile","openPopupAboutEvent","events","setEvents","archivedEvents","setArchivedEvents","diaries","setDiaries","isArchiveOpen","setIsArchiveOpen","setIsFormOpen","setIsEditMode","formDataToEdit","setFormDataToEdit","isDeleteDiaryPopupOpen","setIsDeleteDiaryPopupOpen","isLoadingEvents","setIsLoadingEvents","isPageError","setIsPageError","getArchiveOfEvents","eventsData","getCurrentBookedEvents","sortedEvents","sort","a","b","updatedEvent","prevEvents","filter","openEventCard","openArchiveOfEvents","openCurrentEvents","scrollAnchorRef","openForm","scrollIntoView","closeForm","handleEditMode","createFormData","formData","FormData","append","handleErrorOnFormSubmit","handleCreateDiary","createDiary","newDiary","prevDiaries","handleEditDiary","diaryId","patch","editDiary","diary","handleSubmitDiary","selectedDiary","setSelectedDiary","openDeleteDiaryPopup","closeDeleteDiaryPopup","handleShareDiary","shareDiary","titleH1Current","titleH1Archive","renderEventCards","renderingEvents","prevDiary","calendarPageTexts","textStubNoData","handleCheckboxBehavior","inputValue","isChecked","stateFilters","filterItem","selectOneTag","tagName","deselectOneTag","deselectAllTags","buttonTitle","buttonTitleSelected","buttonTitleDisabled","remainSeatsText","eventCanceled","CardCalendar","onEventSignUpClick","onEventDescriptionClick","endAt","address","contact","phoneNumber","canceled","startDateParts","endDayParts","TagsList","filterList","classNamesList","PAGE_SIZE_PAGINATE","Calendar","isLoading","setIsLoading","isGlobalLoader","setIsGlobalLoader","isLoadingPaginate","setIsLoadingPaginate","calendarPageData","setCalendarPageData","filters","setFilters","isFiltersUsed","setIsFiltersUsed","pageSize","setPageSize","totalPages","setTotalPages","pageIndex","setPageIndex","isFirstRender","setIsFirstRender","small","matchMedia","medium","listener","matches","areThereEventsMoreForOneMonth","getActiveFilters","getPageData","activeFilters","getCalendarPageData","count","ceil","handleFilterButtonClick","handleRadioBehavior","monthsTags","customFilters","tag","debounceFiltration","activeMonths","debouncePaginate","mainPageTexts","CardAnimatedPlugText","getMainPageData","CardStub","genderMale","genderFemale","chosenTagText","activityTypeDefault","CardAnnotation","info","isMain","CardPlace","gender","age","activityType","isBig","isMainPage","cardColor","cardSize","sexType","imageClassNames","types","reduce","obj","CardArticleBig","articleUrl","altText","linkTextMovie","linkTextVideo","parserLinkYoutube","idVideo","getYouTubeID","frameSrc","imagePreview","CardFilm","isVideo","openPopupVideo","renderVideoPlayback","childrenElem","draggable","durationString","renderPrewiew","imageAlt","CardVideoMain","labelText","CardQuestion","answer","isQuestionsPage","isOpenByDefault","isOpened","setIsOpened","isAnimated","setIsAnimated","handleClickButton","tagsClassNames","answerWrapperClassNames","childElement","role","tabIndex","minHeight","clientHeight","height","CardAnimatedPlug","animation","MainPage","mainPageData","setMainPageData","randomQuestions","setRandomQuestions","randomMovies","setRandomMovies","isCityChanging","setIsCityChanging","isPageLoading","setIsPageLoading","prevData","questions","movies","renderEventsBlock","renderHistoryBlock","renderPlaceSection","renderArticleSection","article","renderMoviesSection","additionalMoviesClasses","movie","renderVideoSection","video","fromMainPage","question","articles","renderPageContent","page404Texts","animatedContainerText","PageNoFooter","PageNotFound","catalogPageTexts","subtitle","renderThoseDamnedLines","dataLength","isTablet","renderOneLine","renderTwoLines","renderThreeLines","CardsSectionWithLines","pageNumber","setPageNumber","setIsTablet","tablet","getCatalogPageData","CardCatalog","Catalog","setPageCount","catalogPageData","setCatalogPageData","isLoadingPage","setIsLoadingPage","smallQuery","largeQuery","i","questionsPageTexts","formPlaceholder","formSubmitButton","loadMoreButton","getServerErrors","serverErrorObj","getQuestionsPageData","Questions","chosenQuestion","questionsPageData","setQuestionsPageData","isChosenQuestionVisible","setIsChosenQuestionVisible","categories","setCategories","questionFormState","setQuestionFormState","setFormState","isError","postQuestion","changeCategory","getActiveCategories","getQuestionsData","activeCategories","activeTags","all","filteredResult","categoriesArr","slug","isDataForPage","placesPageTexts","paragraphNoContent","mentorTag","ageFilterNames","ageFilters","closeButtonlabel","recommendadionTextPart1","recommendadionButton","recommendadionTextPart2","titlePlaceholder","linkPlaceholder","addressPlaceholder","agePlaceholder","activityPlaceholder","cityPlaceholder","descPlaceholder","descPlaceholderMobile","addPhotoBtnDefault","addPhotoBtnChange","addPhotoAdded","FormRecommendation","textAreaPlaceholder","setTextAreaPlaceholder","formClassNames","PlacesRecommend","openPopupRecommendSuccess","postPlace","Places","places","setPlaces","chosenPlace","setChosenPlace","isChosenOnPageOne","setIsChosenOnPageOne","isLoadingFilters","setIsLoadingFilters","isChosenCardHidden","setIsChosenCardHidden","ages","setAges","changeAge","definePlaces","placesData","isFiltered","mainCard","chosenCard","restOfPlaces","pop","defineActiveTags","category","activeAges","isMentorFlag","some","getFilteredPlaces","isFiltersActive","fixedPageSize","fixedOffset","debouncePagination","predefinedParams","scroll","tagsData","chosenPlaceData","categoriesArray","toLowerCase","defineCategories","rightsPageTexts","getRightsData","getRightsArticle","CardRights","Rights","setArticles","getActiveTags","getArticlesData","moviesPageTexts","getMoviesPageData","Movies","moviesPageData","setMoviesPageData","getMoviesData","getMoviesFilter","mobileQuery","renderMoviesContainer","annotation","articlesPageTexts","CardArticle","getArticlesPageData","Articles","articlesPageData","setArticlesPageData","mainArticle","setMainCard","pinnedFullSize","articlesData","readAndWatchPageTexts","pageTitles","catalogTitle","articlesTitle","moviesTitle","videosTitle","booksTitle","CardBook","author","backgroundColor","RAW_DELAY_SLIDER_TRANSITION","RAW_SLIDER_PADDINGS","RAW_SLIDER_BREAKPOINTS","S","M","L","ХL","ELEMS_PER_SLIDE","ReadAndWatchSection","getDataFromApi","CardTemplateComponent","sectionTitle","breakpoints","elemPaddings","transitionDelay","paragraphNoContentText","XL","sectionData","setSectionData","isSectionError","setIsSectionError","breakPoints","width","itemsToShow","itemsToScroll","slideBackHandler","prevIndex","slideNextHandler","currentItem","newPageIndex","pagesLoadedNow","getNumOfPages","addNewData","previousData","transitionMs","pagination","outerSpacing","itemPadding","disableArrowsOnEnd","showEmptySlots","onNextEnd","onPrevEnd","getVideoPageData","resource_group","getBooksPageData","one","two","three","four","ReadAndWatch","querySizeS","querySizeM","querySizeL","getCatalogPageDatа","videoPageTexts","resourceGroupTag","Video","mainVideo","setMainVideo","setVideo","isShowMainCard","setIsShowMainCard","isResourceGroup","getVideoData","getFirstPageData","videoData","tagsWithoutResorceGroup","tagsWithResourseGroup","resourceGroupData","booksPageTexts","Books","booksPageData","setBooksPageData","getBooksData","getBooksFilter","renderBooksContainer","books","getCatalogArticlePageData","articleId","catalogArticlePageTexts","CatalogArticle","catalogArticlePageData","setCatalogArticlePageData","nextPageLink","nextArticle","imageCaption","body","fillRule","clipRule","PageWithTransparentHeader","RightsArticle","articleData","setArticleData","Number","nextId","setNextId","changeClick","res","dangerouslySetInnerHTML","__html","rawHtml","storiesPageTexts","Stories","ProtectedRoute","component","Router","exact","render","match","PopupConfirmation","endDay","popupTitle","paragraph","buttonTextCalendarPage","buttonTextDefault","PopupSuccessfully","actionOnButtonClick","animationSuccess","PopupRecommendSuccess","animationRecommendSuccess","firstParagraph","secondParagraph","loginPlaceholder","passwordPlaceholder","forgotButtonText","titleForgotForm","paragraphForgotForm","emailPlaceholder","backButtonText","submitButtonTextForgot","PopupLogin","isForgotPassword","setIsForgotPassword","isSuccess","setIsSuccess","successMessage","setSuccessMessage","handleClickForgotPassword","successForgotPassword","handleSubmitForgotPassword","email","closePopup","closePopupOnEsc","classNameAuth","classForgotPassword","username","password","PopupAboutEvent","isWithoutRegister","PopupCities","currentUserCity","debounceSubmitCity","dataToUpdate","cityId","renderCityItem","isPrimary","PopupError","closeOnEsc","PopupVideo","frameBorder","allowFullScreen","seamless","PopupInfoTooltip","App","isPopupConfirmationOpen","setIsPopupConfirmationOpen","isPopupSuccessfullyOpen","setIsPopupSuccessfullyOpen","isPopupAboutDescriptionOpen","setIsPopupAboutDescriptionOpen","isPopupErrorOpen","setIsPopupErrorOpen","isPopupLoginOpen","setIsPopupLoginOpen","isPopupCitiesOpen","setIsPopupCitiesOpen","isPopupRecommendSuccessOpen","setIsPopupRecommendSuccessOpen","isVideoPopupOpen","setIsVideoPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsWithoutRegister","closePopupError","closePopupCities","popupsContextValue","withoutRegister","currentUserContextValue","useMemo","citiesContextValue","setServerError","errorsContextValue","Provider","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a8e8e4ba.chunk.js","sourcesContent":["export const socialLinks = [\n  {\n    id: 1,\n    url: 'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n    title: 'facebook',\n  },\n  {\n    id: 2,\n    url: 'https://vk.com/big.brothers.big.sisters',\n    title: 'vkontakte',\n  },\n  {\n    id: 3,\n    url: 'https://www.instagram.com/nastavniki_org/',\n    title: 'instagram',\n  },\n  {\n    id: 4,\n    url: 'https://www.youtube.com/user/Nastavniki/',\n    title: 'youtube',\n  },\n];\n\nexport const bbbsLinks = {\n  about: 'https://www.nastavniki.org/o-nas/ob-organizaczii/',\n  donations: 'https://www.nastavniki.org/campaign/pomoch-dengami/',\n  volunteering: 'https://www.nastavniki.org/volontyorstvo/kak-stat-volonterom/',\n  partners: 'https://www.nastavniki.org/oficzialno/nashi-partneryi/',\n};\n\nexport const developmentLinks = {\n  praktikum: {\n    title: 'Яндекс.Практикум',\n    url: 'https://praktikum.yandex.ru/',\n  },\n  design: {\n    title: 'krkr.design',\n    url: 'https://krkr.design/',\n  },\n};\n","import { bbbsLinks } from '../utils/external-links';\n\nconst aboutUsTexts = {\n  headTitle: 'О проекте',\n  headDescription: 'Информация об организации Старшие Братья Старшие Сёстры.',\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  logoLink: bbbsLinks.about,\n  aboutTitle: 'Об организации',\n  aboutParagraphs: [\n    {\n      id: 1,\n      text: '«Старшие Братья Старшие Сестры» — межрегиональная общественная организация содействия воспитанию подрастающего поколения. Мы поддерживаем детей, которым требуется внимание: оставшихся без попечения родителей, приемных, детей из неполных, многодетных или неблагополучных семей, детей с ограниченными возможностями.',\n    },\n    {\n      id: 2,\n      text: 'Любому человеку, тем более ребенку, необходимо общение. Без него дети растут неуверенными и замкнутыми. Одиночество токсично, а самое надежное противоядие – дружба.',\n    },\n    {\n      id: 3,\n      text: 'Мы помогаем детям, которым не хватает поддержки взрослого друга, «Младшим». Таким другом становится наш волонтер, «Старший». Он принимает ребенка, какой он есть, поддерживает, помогает раскрыть потенциал, почувствовать уверенность в своих силах, узнать элементарные вещи о жизни, адаптироваться и полноценно участвовать в жизни общества.',\n    },\n  ],\n  blockquote:\n    'Мы хотим, чтобы наставник был у каждого ребенка, который в нем нуждается',\n  cards: [\n    {\n      id: 1,\n      title: 'Пожертвования',\n      text: 'Деньги пойдут на оплату работы кураторов (профессиональные психологи/социальные работники), которые поддерживают дружбу между ребенком и наставником.',\n      linkText: 'сделать пожертвование',\n      href: bbbsLinks.donations,\n      color: 'blue',\n    },\n    {\n      id: 2,\n      title: 'Наставничество',\n      text: 'Наставник «Старшие Братья Старшие Сестры» — значимый взрослый, который становится для ребенка старшим другом, ролевой моделью, принимает своего «Младшего» таким, какой он есть. «Старший» открывает для ребенка дверь в большой мир и дарит ему надежду на более счастливое и успешное будущее.',\n      linkText: 'подробнее',\n      href: bbbsLinks.volunteering,\n      color: 'pink',\n    },\n    {\n      id: 3,\n      title: 'Партнерство',\n      text: 'Компании поддерживают нас не только деньгами, но и делами. Мы собрали все возможные способы поддержки и сотрудничества: профессиональная помощь Pro Bono, организационная помощь, корпоративное волонтерство, мастер-классы, лекции, учебные программы.',\n      linkText: 'подробнее',\n      href: bbbsLinks.partners,\n      color: 'green',\n    },\n  ],\n};\n\nexport default aboutUsTexts;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// отслеживает, что клик произошёл вне контейнера-рефа и запускает колбэк\nconst useClickOutside = (callback) => {\n  const ref = useRef(null);\n\n  const clickListener = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        if (!ref.current.contains(evt.target)) {\n          callback();\n        }\n      }\n    },\n    [ref.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('mousedown', clickListener);\n    return () => document.removeEventListener('mousedown', clickListener);\n  }, []);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","import { useEffect } from 'react';\n\nconst useScrollToTop = (...deps) => {\n  useEffect(() => {\n    window.scrollTo({ top: 0 });\n  }, [...deps]);\n};\n\nexport default useScrollToTop;\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import { createContext } from 'react';\n\nconst CitiesContext = createContext();\nexport default CitiesContext;\n","import { createContext } from 'react';\n\nconst PopupsContext = createContext();\nexport default PopupsContext;\n","import { createContext } from 'react';\n\nconst ErrorsContext = createContext();\nexport default ErrorsContext;\n","export const baseURL = 'http://178.154.192.53';\nexport const apiUrl = '/api/v1';\nexport const adminUrl = 'http://178.154.192.53';\nexport const staticImageUrl = `${adminUrl}/media`;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nclass AuthApi {\n  // установить заголовки авторизации\n  static setAuth(accessToken) {\n    axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\n  }\n\n  // очистить заголовки авторизации\n  static clearAuth() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n\n  // функция авторизации\n  static authorize(loginData) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/`, loginData)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n\n  // функция рефреша токена\n  static refreshToken(refreshToken) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/refresh/`, refreshToken)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n}\n\nexport default AuthApi;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить юзера с сервера\nfunction getUserData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// обновить профиль пользователя\nfunction updateUserProfile(dataToUpdate) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/`, dataToUpdate)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// восстановить пароль\nfunction recoverPassword(email) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/send_password/`, email)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getUserData, updateUserProfile, recoverPassword };\n","export const MAIN_PAGE_URL = '/';\nexport const AFISHA_URL = '/afisha';\nexport const ABOUT_US_URL = '/about-us';\nexport const QUESTIONS_URL = '/questions';\nexport const PROFILE_URL = '/profile';\nexport const PLACES_URL = '/places';\nexport const RIGHTS_URL = '/rights';\nexport const RIGHTS_ARTICLE_URL = '/rights/:id';\nexport const READ_AND_WATCH_URL = '/read-and-watch';\nexport const CATALOG_URL = '/catalog';\nexport const CATALOG_ITEM_URL = '/catalog/:articleId';\nexport const VIDEO_URL = '/video';\nexport const ARTICLES_URL = '/articles';\nexport const MOVIES_URL = '/movies';\nexport const BOOKS_URL = '/books';\nexport const STORIES_URL = '/stories';\nexport const NOT_FOUND_URL = '*';\n\nexport const MAIN_PAGE_TITLE = 'наставники.про';\nexport const AFISHA_TITLE = 'Календарь';\nexport const ABOUT_US_TITLE = 'О проекте';\nexport const QUESTIONS_TITLE = 'Вопросы';\nexport const PROFILE_TITLE = 'Личный кабинет';\nexport const PLACES_TITLE = 'Куда пойти';\nexport const RIGHTS_TITLE = 'Права детей';\nexport const READ_AND_WATCH_TITLE = 'Читать и смотреть';\nexport const CATALOG_TITLE = 'Справочник';\nexport const VIDEO_TITLE = 'Видео';\nexport const ARTICLES_TITLE = 'Статьи';\nexport const MOVIES_TITLE = 'Фильмы';\nexport const BOOKS_TITLE = 'Книги';\nexport const STORIES_TITLE = 'Истории';\n","import { useCallback, useEffect } from 'react';\n\n// вспомогательные функции\nexport const setLocalStorageData = (key, value) =>\n  localStorage.setItem(key, JSON.stringify(value));\n\nexport const removeLocalStorageData = (key) => localStorage.removeItem(key);\n\nexport const clearLocalStorage = () => localStorage.clear();\n\nexport const getLocalStorageData = (key) =>\n  JSON.parse(localStorage.getItem(key));\n\nexport const dispatchLocalStorageEvent = (key, value) => {\n  const event = new Event('changeLocalStorage');\n  setLocalStorageData(key, value);\n  window.dispatchEvent(event);\n};\n\n// хук слушает изменение определённого ключа в localStorage и возвращает его значение при любом изменении\n// работает в связке с dispatchLocalStorageEvent\nexport const useLocalStorage = (key) => {\n  const getLocalStorageItem = useCallback(\n    () => getLocalStorageData(key),\n    [key]\n  );\n\n  useEffect(() => {\n    window.addEventListener('changeLocalStorage', getLocalStorageItem);\n    return () =>\n      window.removeEventListener('changeLocalStorage', getLocalStorageItem);\n  }, []);\n\n  return getLocalStorageItem;\n};\n","export const weekdays = [\n  'воскресенье',\n  'понедельник',\n  'вторник',\n  'среда',\n  'четверг',\n  'пятница',\n  'суббота',\n];\n\nexport const months = [\n  'январь',\n  'февраль',\n  'март',\n  'апрель',\n  'май',\n  'июнь',\n  'июль',\n  'август',\n  'сентябрь',\n  'октябрь',\n  'ноябрь',\n  'декабрь',\n];\n\nexport const COLORS = [\n  'yellow',\n  'green',\n  'yellow',\n  'pink',\n  'blue',\n  'pink',\n  'green',\n  'yellow',\n  'green',\n  'blue',\n  'pink',\n  'blue',\n];\n\nexport const FIGURES = [\n  'square',\n  'circle',\n  'arch',\n  'circle',\n  'arch',\n  'square',\n  'arch',\n  'square',\n  'circle',\n];\n\nexport const ALL_CATEGORIES = 'Все';\nexport const DEFAULT_CITY = 'Москва';\n\nexport const regExpImages = /^[\\W\\w\\S\\s]+\\.(jpe?g|png|webp|jfif|bmp)$/i;\n\nexport const DELAY_DEBOUNCE = 400;\nexport const DELAY_RENDER = 100;\n\nexport const localStUserCity = 'userCity';\nexport const localStAfishaEvent = 'afishaEvent';\nexport const jwt = 'jwt';\nexport const jwtRefresh = 'jwtRefresh';\nexport const localStChosenVideo = 'chosenVideo';\n\nexport const ERROR_MESSAGES = {\n  generalErrorMessage: {\n    title: 'При передаче данных произошла ошибка. Повторите попытку позже.',\n    button: 'Вернуться',\n  },\n  eventAddErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте записаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  eventCancelErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте отписаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  citiesErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать город снова',\n    button: 'Вернуться',\n  },\n  filterErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать фильтр снова',\n    button: 'Вернуться',\n  },\n};\n\nexport const ERROR_CODES = {\n  badRequest: 400,\n  unauthorized: 401,\n};\n","import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PopupsContext, ErrorsContext } from '../contexts/index';\nimport AuthApi from '../api/auth';\nimport { getUserData } from '../api/user';\nimport { MAIN_PAGE_URL } from '../config/routes';\nimport {\n  setLocalStorageData,\n  getLocalStorageData,\n  removeLocalStorageData,\n  clearLocalStorage,\n} from './useLocalStorage';\nimport {\n  jwt,\n  jwtRefresh,\n  ERROR_MESSAGES,\n  ERROR_CODES,\n} from '../config/constants';\n\nconst useAuth = (setCurrentUser) => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\n\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const history = useHistory();\n\n  const handleError = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized)\n      errors.setError(err?.data);\n    else\n      errors.setError({\n        message: generalErrorMessage.title,\n      });\n  };\n\n  const handleLogout = () => {\n    AuthApi.clearAuth();\n    setCurrentUser(null);\n    clearLocalStorage();\n    history.push(MAIN_PAGE_URL);\n  };\n\n  const handleLogin = (loginData) => {\n    AuthApi.authorize(loginData)\n      .then((token) => {\n        const { access, refresh } = token;\n        if (refresh && access) {\n          AuthApi.setAuth(access);\n          setLocalStorageData(jwt, access);\n          setLocalStorageData(jwtRefresh, refresh);\n          getUserData()\n            .then((userData) => setCurrentUser(userData))\n            .then(() => popups.closePopupLogin())\n            .catch((err) => handleError(err));\n        }\n      })\n      .catch((err) => handleError(err)); // авторизация (работа с сервером) закончилась ошибкой\n  };\n\n  const handleTokenError = () => {\n    removeLocalStorageData(jwt);\n    removeLocalStorageData(jwtRefresh);\n    setIsCheckingToken(false);\n  };\n\n  const checkRefreshToken = (refresh) => {\n    AuthApi.refreshToken({ refresh })\n      .then(({ access }) => {\n        AuthApi.setAuth(access);\n        setLocalStorageData(jwt, access);\n        getUserData()\n          .then((userData) => setCurrentUser(userData))\n          .catch((err) => handleError(err))\n          .finally(() => setIsCheckingToken(false));\n      })\n      .catch(() => handleTokenError());\n  };\n\n  const checkToken = () => {\n    const token = getLocalStorageData(jwt);\n    const refreshToken = getLocalStorageData(jwtRefresh);\n    if (token) {\n      AuthApi.setAuth(token);\n      getUserData()\n        .then((userData) => {\n          setCurrentUser(userData);\n          setIsCheckingToken(false);\n        })\n        .catch((err) => {\n          // токен просрочен\n          AuthApi.clearAuth();\n          if (err?.status === unauthorized && refreshToken) {\n            checkRefreshToken(refreshToken);\n          } else {\n            handleTokenError();\n          }\n        });\n    } else {\n      handleTokenError();\n    }\n  };\n\n  return {\n    isCheckingToken,\n    handleLogout,\n    handleLogin,\n    checkToken,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить города\nfunction getCities() {\n  return axios\n    .get(`${baseURL}${apiUrl}/cities/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCities;\n","import { useCallback } from 'react';\n\nlet timer;\nconst useDebounce = (callback, delay) => {\n  const debouncedCallback = useCallback(\n    (...args) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      timer = setTimeout(() => {\n        callback(...args);\n      }, delay);\n    },\n    [callback, delay]\n  );\n\n  return debouncedCallback;\n};\n\nexport default useDebounce;\n","import { useEffect, useState } from 'react';\nimport getCities from '../api/cities';\nimport { DEFAULT_CITY } from '../config/constants';\n\nconst useCities = () => {\n  const [cities, setCities] = useState(null);\n  const [defaultCity, setDefaultCity] = useState({});\n\n  useEffect(() => {\n    getCities()\n      .then((citiesData) => {\n        setCities(citiesData);\n        const mainCity = citiesData.find((city) => city?.name === DEFAULT_CITY);\n        setDefaultCity(mainCity);\n      })\n      .catch(console.error);\n  }, []);\n\n  return { cities, defaultCity };\n};\n\nexport default useCities;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getPlacesTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// python was here :)\n// eslint-disable-next-line camelcase\nfunction getPlaces({ chosen, tags, age_restriction, city, limit, offset }) {\n  const query = chosen\n    ? { city, chosen, tags, age_restriction, limit, offset }\n    : { city, tags, age_restriction, limit, offset };\n  return axios\n    .get(`${baseURL}${apiUrl}/places/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getChosenPlace({ city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/first/`, {\n      params: { city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction postPlace(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/places/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getActivityTypes() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/activity-types/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getPlacesTags,\n  getPlaces,\n  postPlace,\n  getActivityTypes,\n  getChosenPlace,\n};\n","import { useEffect, useState, useContext } from 'react';\nimport { getActivityTypes } from '../api/places-page';\nimport { PopupsContext, ErrorsContext } from '../contexts/index';\nimport { ERROR_MESSAGES } from '../config/constants';\n\nconst useActivityTypes = () => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const [activityTypes, setActivityTypes] = useState(null);\n\n  useEffect(() => {\n    getActivityTypes()\n      .then(setActivityTypes)\n      .catch(() => {\n        errors.setError({\n          title: generalErrorMessage.title,\n          button: generalErrorMessage.button,\n        });\n        popups.openPopupError();\n      });\n  }, []);\n\n  return activityTypes;\n};\n\nexport default useActivityTypes;\n","import { useContext, useState, useEffect } from 'react';\nimport {\n  makeEventRegistration,\n  cancelEventRegistration,\n} from '../api/event-participants';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport { getLocalStorageData } from './useLocalStorage';\nimport { localStAfishaEvent, ERROR_MESSAGES } from '../config/constants';\n\nconst useEventBooking = () => {\n  const {\n    openPopupSuccessfully,\n    openPopupConfirmation,\n    closeAllPopups,\n    openPopupError,\n  } = useContext(PopupsContext);\n\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const { setError } = useContext(ErrorsContext);\n\n  const setRegisterEvent = () => {\n    const register = new Event('registerEvent');\n    window.dispatchEvent(register);\n  };\n\n  const setCancelRegisterEvent = () => {\n    const cancel = new Event('cancelRegisterEvent');\n    window.dispatchEvent(cancel);\n  };\n\n  const listenCancel = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = false;\n    setSelectedEvent(newEvent);\n  };\n\n  const listenRegister = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = true;\n    setSelectedEvent(newEvent);\n  };\n\n  useEffect(() => {\n    window.addEventListener('cancelRegisterEvent', listenCancel);\n    window.addEventListener('registerEvent', listenRegister);\n    return () => {\n      window.removeEventListener('cancelRegisterEvent', listenCancel);\n      window.removeEventListener('registerEvent', listenRegister);\n    };\n  }, []);\n\n  const registerOnEvent = (card) => {\n    makeEventRegistration({ event: card.id })\n      .then(() => setRegisterEvent())\n      .then(() => openPopupSuccessfully())\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.eventAddErrorMessage.title,\n          button: ERROR_MESSAGES.eventAddErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  const cancelRegistration = (card) => {\n    cancelEventRegistration(card.id)\n      .then(() => setCancelRegisterEvent())\n      .then(() => closeAllPopups())\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.eventCancelErrorMessage.title,\n          button: ERROR_MESSAGES.eventCancelErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  const handleEventBooking = (card, noConfirm) => {\n    if (card.booked) {\n      // мы записаны на ивент, надо отписаться\n      cancelRegistration(card);\n    } else if (noConfirm) {\n      closeAllPopups();\n      registerOnEvent(card);\n    } else {\n      // мы НЕ записаны на ивент\n      closeAllPopups(); // закрываем попап подробно\n      openPopupConfirmation(); // открываем попап \"подтвердите\"\n    }\n  };\n\n  return { handleEventBooking, registerOnEvent, selectedEvent };\n};\n\nexport default useEventBooking;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// запись на мероприятие\nfunction makeEventRegistration(eventId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// отписка регистрации на мероприятие\nfunction cancelEventRegistration(eventId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение списка всех мероприятий на которые записан юзер\nfunction getBookedEvents() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getArchiveOfBookedEvents() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/archive/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  makeEventRegistration,\n  cancelEventRegistration,\n  getBookedEvents,\n  getArchiveOfBookedEvents,\n};\n","import { useCallback, useState } from 'react';\n\nconst useFormWithValidation = () => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { name, value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const handleChangeFiles = (evt, pattern) => {\n    const file = evt.target.files[0];\n    const { name } = evt.target;\n\n    if (!file) {\n      return;\n    }\n\n    if (file && pattern.test(file.name)) {\n      setValues({ ...values, [name]: file });\n      setErrors({ ...errors, [name]: '' });\n    } else {\n      setErrors({ ...errors, [name]: 'Некорректный формат файла' });\n    }\n    setIsValid(evt.target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return {\n    values,\n    handleChange,\n    handleChangeFiles,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n  };\n};\n\nexport default useFormWithValidation;\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n};\n\nexport default texts;\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n  searchPlaceholder: 'Поиск',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\n\nfunction Blockquote({ sectionWrapperClass, sectionTitleClass, text }) {\n  return (\n    <blockquote className={sectionWrapperClass}>\n      <h3 className={`chapter-title ${sectionTitleClass}`}>{text}</h3>\n    </blockquote>\n  );\n}\n\nBlockquote.propTypes = {\n  sectionWrapperClass: PropTypes.string,\n  sectionTitleClass: PropTypes.string,\n  text: PropTypes.string,\n};\n\nBlockquote.defaultProps = {\n  sectionWrapperClass: '',\n  sectionTitleClass: '',\n  text: '',\n};\n\nexport default Blockquote;\n","import './Button.scss';\nimport PropTypes from 'prop-types';\n\nfunction Button({\n  title,\n  titleSelected,\n  color,\n  isSubmittable,\n  isDisabled,\n  onClick,\n  isBooked,\n  sectionClass,\n}) {\n  const classNames = [\n    'button',\n    `button_color_${color}`,\n    sectionClass,\n    isBooked ? `button_color_${color}_selected` : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type={isSubmittable ? 'submit' : 'button'}\n      disabled={isDisabled}\n      onClick={onClick}\n    >\n      {!isBooked ? title : titleSelected || title}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  title: PropTypes.string,\n  titleSelected: PropTypes.string,\n  color: PropTypes.string,\n  isSubmittable: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  isBooked: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nButton.defaultProps = {\n  title: '',\n  color: 'blue',\n  isSubmittable: false,\n  titleSelected: undefined,\n  onClick: () => {},\n  isDisabled: false,\n  isBooked: false,\n  sectionClass: '',\n};\n\nexport default Button;\n","import './ButtonDots.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonDots({ handleClick }) {\n  return (\n    <button className=\"button-dots\" type=\"button\" onClick={handleClick}>\n      &#8226;&#8226;&#8226;\n    </button>\n  );\n}\n\nButtonDots.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nButtonDots.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default ButtonDots;\n","import './ButtonRound.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonRound({\n  label,\n  sectionClass,\n  color,\n  isSmall,\n  isDisabled,\n  isSpan,\n  onClick,\n  isClick,\n}) {\n  const classNames = [\n    'button-round',\n    `button-round_color_${color}`,\n    isSmall ? 'button-round_small' : '',\n    sectionClass,\n    isClick ? 'button-round_active' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  if (isSpan) {\n    return <span className={classNames} />;\n  }\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={isDisabled}\n      aria-label={label}\n    />\n  );\n}\n\nButtonRound.propTypes = {\n  label: PropTypes.string,\n  sectionClass: PropTypes.string,\n  color: PropTypes.string,\n  isSmall: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isSpan: PropTypes.bool,\n  onClick: PropTypes.func,\n  isClick: PropTypes.bool,\n};\n\nButtonRound.defaultProps = {\n  label: '',\n  sectionClass: '',\n  color: '',\n  isSmall: false,\n  isDisabled: false,\n  isSpan: false,\n  onClick: undefined,\n  isClick: false,\n};\n\nexport default ButtonRound;\n","import PropTypes from 'prop-types';\n\nfunction Caption({ title, sectionClass }) {\n  return <p className={`caption ${sectionClass}`}>{title}</p>;\n}\n\nCaption.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCaption.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Caption;\n","import './Card.scss';\nimport PropTypes from 'prop-types';\n\nfunction Card({ color, sectionClass, children }) {\n  const classNames = ['card', `card_color_${color}`, sectionClass]\n    .join(' ')\n    .trim();\n\n  return <div className={classNames}>{children}</div>;\n}\n\nCard.propTypes = {\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCard.defaultProps = {\n  color: 'white',\n  sectionClass: '',\n  children: null,\n};\n\nexport default Card;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavItem({\n  sectionWrapperClass,\n  sectionLinkClass,\n  href,\n  linkText,\n  rel,\n  target,\n}) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className={sectionLinkClass} to={href} rel={rel} target={target}>\n        {linkText}\n      </NavLink>\n    </li>\n  );\n}\n\nNavItem.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  sectionLinkClass: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  linkText: PropTypes.string.isRequired,\n  rel: PropTypes.string,\n  target: PropTypes.string,\n};\n\nNavItem.defaultProps = {\n  rel: '',\n  target: '_self',\n  href: '',\n};\n\nexport default NavItem;\n","import {\n  CATALOG_URL,\n  VIDEO_URL,\n  ARTICLES_URL,\n  MOVIES_URL,\n  BOOKS_URL,\n} from '../config/routes';\n\nconst dropDownMenuLink = [\n  {\n    title: 'Справочник',\n    url: CATALOG_URL,\n  },\n  {\n    title: 'Видео',\n    url: VIDEO_URL,\n  },\n  {\n    title: 'Статьи',\n    url: ARTICLES_URL,\n  },\n  {\n    title: 'Фильмы',\n    url: MOVIES_URL,\n  },\n  {\n    title: 'Книги',\n    url: BOOKS_URL,\n  },\n];\n\nexport default dropDownMenuLink;\n","import PropTypes from 'prop-types';\nimport NavItem from '../NavItem/NavItem';\nimport './DropDownMenu.scss';\nimport dropDownMenuLink from '../../../utils/drop-down-menu-link';\n\nfunction DropDownMenu({ sectionWrapperClass }) {\n  return (\n    <ul className={sectionWrapperClass}>\n      {dropDownMenuLink.map((item) => (\n        <NavItem\n          key={item.title}\n          sectionWrapperClass=\"menu__dropdown-list-item\"\n          sectionLinkClass=\"link menu__dropdown-link\"\n          href={item.url}\n          linkText={item.title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nDropDownMenu.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n};\n\nexport default DropDownMenu;\n","const texts = {\n  buttonAriaLabel: 'Выберите опцию',\n};\n\nexport default texts;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './DropDownSelect.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useClickOutside } from '../../../hooks/index';\n\nfunction DropDownSelect({\n  placeholder,\n  options,\n  inputName,\n  onChange,\n  error,\n  sectionClass,\n  isFormOpen,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [optionSelected, setOptionSelected] = useState(null);\n\n  const classNames = ['select', sectionClass].join(' ').trim();\n  const classNamesButton = [\n    'select__button',\n    isOpen ? 'select__button_pressed' : '',\n    optionSelected ? 'select__button_selected' : '',\n    error ? 'select__button_error' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesDropDown = [\n    'select__dropdown',\n    isOpen ? 'select__dropdown_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesArrow = [\n    'select__arrow',\n    isOpen ? 'select__arrow_pressed' : '',\n    error ? 'select__arrow_error' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dropdownRef = useClickOutside(() => setIsOpen(false));\n\n  useEffect(() => {\n    if (isFormOpen) {\n      setOptionSelected(null);\n      setIsOpen(false);\n    }\n  }, [isFormOpen]);\n\n  return (\n    <div className={classNames}>\n      <button\n        aria-label={`${texts.buttonAriaLabel} ${placeholder}`}\n        className={classNamesButton}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      >\n        {optionSelected || placeholder}\n        <svg\n          viewBox=\"0 0 24 19\"\n          fill=\"none\"\n          className={classNamesArrow}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M5 7L11.8814 14L19 7\" />\n        </svg>\n      </button>\n      <ul className={classNamesDropDown} ref={dropdownRef}>\n        <li aria-hidden=\"true\">\n          <button\n            className=\"select__option_hidden\"\n            aria-hidden=\"true\"\n            type=\"button\"\n            onClick={() => setIsOpen(false)}\n          />\n        </li>\n        {options &&\n          options.map((option) => (\n            <li key={option?.id} className=\"select__option\">\n              <label\n                aria-label={option?.name}\n                htmlFor={`${option?.id}-${option?.name}`}\n                className=\"select__label\"\n              >\n                <input\n                  id={`${option?.id}-${option?.name}`}\n                  className=\"select__input\"\n                  type=\"radio\"\n                  name={inputName}\n                  value={option?.id}\n                  onClick={() => {\n                    setOptionSelected(option?.name);\n                    setIsOpen(!isOpen);\n                  }}\n                  onChange={onChange}\n                />\n                <span className=\"select__span\">{option?.name}</span>\n              </label>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nDropDownSelect.propTypes = {\n  placeholder: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.any),\n  inputName: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isFormOpen: PropTypes.bool,\n};\n\nDropDownSelect.defaultProps = {\n  placeholder: '',\n  options: [],\n  inputName: '',\n  onChange: () => {},\n  error: undefined,\n  sectionClass: '',\n  isFormOpen: false,\n};\n\nexport default DropDownSelect;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './Input.scss';\nimport PropTypes from 'prop-types';\n\nfunction Input({\n  id,\n  type,\n  name,\n  placeholder,\n  value,\n  required,\n  max,\n  min,\n  minLength,\n  maxLength,\n  pattern,\n  error,\n  sectionClass,\n  isTextarea,\n  onFocus,\n  onChange,\n}) {\n  const errorMessage = error ? `${placeholder}*` : '';\n\n  const classNamesWrap = ['input-wrap', sectionClass].join(' ').trim();\n\n  const classNamesInput = ['input', error ? 'input__error' : '']\n    .join(' ')\n    .trim();\n  const classNamesTextarea = ['input', error ? 'input__error' : '', 'textarea']\n    .join(' ')\n    .trim();\n\n  if (isTextarea) {\n    return (\n      <label className={classNamesWrap} htmlFor={id}>\n        <textarea\n          id={id}\n          className={classNamesTextarea}\n          type={type}\n          name={name}\n          placeholder={errorMessage || placeholder}\n          onFocus={onFocus}\n          onChange={onChange}\n          value={value}\n          maxLength={maxLength}\n          minLength={minLength}\n          pattern={pattern}\n          required={required}\n        />\n        {error && <span className=\"input__error-message\">{error}</span>}\n      </label>\n    );\n  }\n\n  return (\n    <label className={classNamesWrap} htmlFor={id}>\n      <input\n        id={id}\n        className={classNamesInput}\n        type={type}\n        name={name}\n        placeholder={errorMessage || placeholder}\n        onFocus={onFocus}\n        onChange={onChange}\n        value={value}\n        maxLength={maxLength}\n        minLength={minLength}\n        max={max}\n        min={min}\n        pattern={pattern}\n        required={required}\n      />\n      {error && <span className=\"input__error-message\">{error}</span>}\n    </label>\n  );\n}\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  sectionClass: PropTypes.string,\n  isTextarea: PropTypes.bool,\n  onChange: PropTypes.func,\n  required: PropTypes.bool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  maxLength: PropTypes.number,\n  minLength: PropTypes.number,\n  pattern: PropTypes.string,\n  error: PropTypes.string,\n  onFocus: PropTypes.func,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  value: '',\n  sectionClass: '',\n  isTextarea: false,\n  onChange: () => {},\n  required: false,\n  max: undefined,\n  min: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  pattern: undefined,\n  error: undefined,\n  onFocus: () => {},\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction LinkableHeading({\n  Component: HeadingComponent,\n  title,\n  path,\n  titleSectionClass,\n  linkSectionClass,\n}) {\n  return (\n    <Link className={linkSectionClass} to={path}>\n      <HeadingComponent title={title} sectionClass={titleSectionClass} />\n    </Link>\n  );\n}\n\nLinkableHeading.propTypes = {\n  Component: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  titleSectionClass: PropTypes.string,\n  linkSectionClass: PropTypes.string,\n};\n\nLinkableHeading.defaultProps = {\n  titleSectionClass: '',\n  linkSectionClass: '',\n};\n\nexport default LinkableHeading;\n","import './Loader.scss';\nimport PropTypes from 'prop-types';\n\nfunction Loader({ isNested, isCentered, isSmallGrid }) {\n  const classNames = [\n    'spinner',\n    isNested ? 'spinner_nested' : '',\n    isCentered ? 'spinner_centered' : '',\n    isSmallGrid ? 'spinner_small-grid' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <div className=\"spinner__container\">\n        <div className=\"spinner__circle spinner__circle_1\" />\n        <div className=\"spinner__circle spinner__circle_2\" />\n        <div className=\"spinner__circle spinner__circle_3\" />\n        <div className=\"spinner__circle spinner__circle_4\" />\n        <div className=\"spinner__circle spinner__circle_5\" />\n        <div className=\"spinner__circle spinner__circle_6\" />\n        <div className=\"spinner__circle spinner__circle_7\" />\n        <div className=\"spinner__circle spinner__circle_8\" />\n        <div className=\"spinner__circle spinner__circle_9\" />\n        <div className=\"spinner__circle spinner__circle_10\" />\n        <div className=\"spinner__circle spinner__circle_11\" />\n        <div className=\"spinner__circle spinner__circle_12\" />\n      </div>\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  isNested: PropTypes.bool,\n  isCentered: PropTypes.bool,\n  isSmallGrid: PropTypes.bool,\n};\n\nLoader.defaultProps = {\n  isNested: false,\n  isCentered: false,\n  isSmallGrid: false,\n};\n\nexport default Loader;\n","export default __webpack_public_path__ + \"static/media/logo.35cca11c.svg\";","import './LogoBlue.scss';\nimport logoPath from '../../../assets/logo.svg';\n\nfunction LogoBlue() {\n  return (\n    <img\n      src={logoPath}\n      alt=\"Логотип Старшие Братья Старшие Сестры России\"\n      className=\"logo\"\n    />\n  );\n}\n\nexport default LogoBlue;\n","import { Scrollbars } from 'react-custom-scrollbars';\nimport { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ModificatedScrollbars({ horizontalScrollClass, children }) {\n  const ref = useRef();\n\n  return (\n    <Scrollbars\n      ref={ref}\n      renderTrackHorizontal={() => <div style={{ opacity: 'none' }} />}\n      renderThumbVertical={() => <div className={horizontalScrollClass} />}\n    >\n      {children}\n    </Scrollbars>\n  );\n}\n\nModificatedScrollbars.propTypes = {\n  children: PropTypes.node,\n  horizontalScrollClass: PropTypes.string,\n};\n\nModificatedScrollbars.defaultProps = {\n  children: null,\n  horizontalScrollClass: '',\n};\n\nexport default ModificatedScrollbars;\n","const texts = {\n  defaultText: 'Данных нет',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport './NoDataNotificationBox.scss';\nimport texts from './locales/RU';\n\nfunction NoDataNotificationBox({ text, sectionClass }) {\n  return <p className={`no-data-text ${sectionClass}`}>{text}</p>;\n}\n\nNoDataNotificationBox.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nNoDataNotificationBox.defaultProps = {\n  text: texts.defaultText,\n  sectionClass: '',\n};\n\nexport default NoDataNotificationBox;\n","import './Paginate.scss';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport { useScrollToTop } from '../../../hooks/index';\n\nconst Paginate = (props) => {\n  const { pageCount, sectionClass, value, onChange } = props;\n\n  useScrollToTop(value);\n\n  return (\n    <ReactPaginate\n      containerClassName={`pagination ${sectionClass}`}\n      pageClassName=\"pagination__element\"\n      pageLinkClassName=\"pagination__element-link\"\n      activeLinkClassName=\"pagination__element-link_type_active\"\n      previousClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_previous\"\n      breakClassName=\"pagination__element\"\n      nextClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_next\"\n      disabledClassName=\"pagination__arrow-element_type_disabled\"\n      pageCount={pageCount}\n      pageRangeDisplayed={3}\n      marginPagesDisplayed={1}\n      forcePage={value}\n      onPageChange={({ selected }) => onChange(selected)}\n      initialPage={0}\n    />\n  );\n};\n\nPaginate.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func,\n  pageCount: PropTypes.number.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nPaginate.defaultProps = {\n  onChange: () => {},\n  sectionClass: '',\n};\n\nexport default Paginate;\n","import './PseudoButtonTag.scss';\nimport PropTypes from 'prop-types';\n\nfunction PseudoButtonTag({ name, value, title, isActive, onClick }) {\n  const id = `filter-button-${value}`;\n\n  function handleClick(event) {\n    onClick(value, event.target.checked);\n  }\n\n  return (\n    <label className=\"pseudo-button-label\" htmlFor={id}>\n      <input\n        id={id}\n        className=\"pseudo-button-checkbox\"\n        type=\"checkbox\"\n        name={name}\n        value={value}\n        checked={isActive}\n        onChange={() => {}}\n        onClick={handleClick}\n      />\n      <span className=\"button pseudo-button\">{title}</span>\n    </label>\n  );\n}\n\nPseudoButtonTag.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nPseudoButtonTag.defaultProps = {\n  name: '',\n  value: '',\n  title: '',\n  isActive: false,\n  onClick: () => {},\n};\n\nexport default PseudoButtonTag;\n","import './Rating.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rating({\n  type,\n  name,\n  value,\n  ratingType,\n  sectionClass,\n  checked,\n  onChange,\n}) {\n  const classNames = ['rating', sectionClass].join(' ').trim();\n\n  const pseudoButtonClassNames = [\n    'rating__pseudo-button',\n    `rating__pseudo-button_type_${ratingType}_default`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <label className={classNames} htmlFor={`rating-${name}-${value}`}>\n      <input\n        id={`rating-${name}-${value}`}\n        className=\"rating__checkbox\"\n        type={type}\n        name={name}\n        value={value}\n        defaultChecked={checked}\n        onChange={onChange}\n      />\n      <span className={pseudoButtonClassNames} />\n    </label>\n  );\n}\n\nRating.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  ratingType: PropTypes.string,\n  sectionClass: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nRating.defaultProps = {\n  name: '',\n  value: 'neutral',\n  ratingType: 'neutral',\n  sectionClass: '',\n  checked: false,\n  onChange: () => {},\n};\n\nexport default Rating;\n","import './Rubric.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rubric({ title, sectionClass }) {\n  return <span className={`rubric ${sectionClass}`}>{title}</span>;\n}\n\nRubric.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nRubric.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Rubric;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable consistent-return */\nimport './ScrollableContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useCallback, useLayoutEffect, useRef, useState } from 'react';\n\nconst DELAY_NO_POINTER_EVENTS = 150;\n\nfunction ScrollableContainer({ children, step, sectionClass }) {\n  const ref = useRef();\n  const [state, setState] = useState({\n    isScrolling: false,\n    clientX: 0,\n    scrollX: 0,\n  });\n\n  const scrollByWheel = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        evt.preventDefault();\n        ref.current.scrollTo({\n          left: ref.current.scrollLeft + evt.deltaY * step,\n          behavior: 'smooth',\n        });\n      }\n    },\n    [ref.current]\n  );\n\n  useLayoutEffect(() => {\n    if (ref && ref.current) {\n      ref.current.addEventListener('wheel', scrollByWheel);\n      return () => ref.current.removeEventListener('wheel', scrollByWheel);\n    }\n  }, [ref.current]);\n\n  const onMouseDown = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    evt.preventDefault();\n    setTimeout(() => {\n      setState({\n        ...state,\n        isScrolling: true,\n        clientX: evt.clientX,\n      });\n    }, DELAY_NO_POINTER_EVENTS);\n  };\n\n  const onMouseUp = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const onMouseMove = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    const { clientX, scrollX, isScrolling } = state;\n    if (isScrolling) {\n      ref.current.scrollLeft = scrollX - evt.clientX + clientX;\n      setState({\n        ...state,\n        scrollX: scrollX - evt.clientX + clientX,\n        clientX: evt.clientX,\n      });\n    }\n  };\n\n  const onMouseLeave = (evt) => {\n    if (ref && ref.current && !ref.current.contains(evt.target)) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const classNames = [\n    'scrollable-container',\n    state.isScrolling ? 'scrollable-container_scrolling' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div\n      className={classNames}\n      onMouseDown={onMouseDown}\n      onMouseMove={onMouseMove}\n      onMouseUp={onMouseUp}\n      onMouseLeave={onMouseLeave}\n      ref={ref}\n    >\n      {children}\n    </div>\n  );\n}\n\nScrollableContainer.propTypes = {\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n  step: PropTypes.number,\n};\n\nScrollableContainer.defaultProps = {\n  sectionClass: '',\n  children: null,\n  step: 1,\n};\n\nexport default ScrollableContainer;\n","import './SearchButton.scss';\nimport { useContext } from 'react';\nimport { PopupsContext } from '../../../contexts/index';\n\nfunction SearchButton() {\n  const { openPopupInfoTooltip } = useContext(PopupsContext);\n  return (\n    <button\n      className=\"search-button search__button\"\n      type=\"button\"\n      aria-label=\"Поиск\"\n      title=\"Поиск\"\n      onClick={() => openPopupInfoTooltip()}\n    />\n  );\n}\n\nexport default SearchButton;\n","import './TitleH1.scss';\nimport PropTypes from 'prop-types';\n\nfunction TitleH1({ title, sectionClass }) {\n  return <h1 className={`main-title ${sectionClass}`}>{title}</h1>;\n}\n\nTitleH1.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH1.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH1;\n","import PropTypes from 'prop-types';\n\nfunction TitleH2({ title, sectionClass }) {\n  return <h2 className={`section-title ${sectionClass}`}>{title}</h2>;\n}\n\nTitleH2.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH2.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH2;\n","import PropTypes from 'prop-types';\n\nfunction TitleH3({ title, sectionClass }) {\n  return <h3 className={`chapter-title ${sectionClass}`}>{title}</h3>;\n}\n\nTitleH3.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nTitleH3.defaultProps = {\n  sectionClass: '',\n};\n\nexport default TitleH3;\n","import './UserIconButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserIconButton({ sectionClass, isAuthorized, handleClick }) {\n  const classNames = [\n    'user-button',\n    isAuthorized ? 'user-button_authorized' : 'user-button_unauthorized',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      aria-label=\"Личный кабинет\"\n      title=\"Личный кабинет\"\n      onClick={handleClick}\n    />\n  );\n}\n\nUserIconButton.propTypes = {\n  sectionClass: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  handleClick: PropTypes.func,\n};\n\nUserIconButton.defaultProps = {\n  sectionClass: '',\n  isAuthorized: false,\n  handleClick: () => {},\n};\n\nexport default UserIconButton;\n","import './UserMenuButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserMenuButton({ title, handleClick, sectionClass }) {\n  const classNames = ['user-menu-button', sectionClass].join(' ').trim();\n\n  return (\n    <button className={classNames} type=\"button\" onClick={handleClick}>\n      {title}\n    </button>\n  );\n}\n\nUserMenuButton.propTypes = {\n  title: PropTypes.string,\n  handleClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nUserMenuButton.defaultProps = {\n  title: '',\n  handleClick: () => {},\n  sectionClass: '',\n};\n\nexport default UserMenuButton;\n","import './Widget.scss';\nimport PropTypes from 'prop-types';\n\nfunction Widget({ link, title }) {\n  return (\n    <div>\n      <iframe\n        className=\"widget-facebook\"\n        title={title}\n        src={link}\n        allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\n      >\n        Если вы видите этот текст - ваш браузер случайно обрезал наш виджет\n        Facebook.\n      </iframe>\n    </div>\n  );\n}\n\nWidget.propTypes = {\n  link: PropTypes.string,\n  title: PropTypes.string,\n};\n\nWidget.defaultProps = {\n  link: '#',\n  title: '',\n};\n\nexport default Widget;\n","import './NavItemWithDropdown.scss';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { DropDownMenu } from '../utils/index';\n\nfunction NavItemWithDropdown({ sectionWrapperClass, linkText, href }) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className=\"menu__link\" to={href}>\n        {linkText}\n      </NavLink>\n\n      <DropDownMenu sectionWrapperClass=\"menu__dropdown-list\" />\n    </li>\n  );\n}\n\nNavItemWithDropdown.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nNavItemWithDropdown.defaultProps = {\n  href: '',\n};\n\nexport default NavItemWithDropdown;\n","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useContext } from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport texts from './locales/RU';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n  STORIES_URL,\n  MAIN_PAGE_TITLE,\n  ABOUT_US_TITLE,\n  AFISHA_TITLE,\n  PLACES_TITLE,\n  QUESTIONS_TITLE,\n  READ_AND_WATCH_TITLE,\n  RIGHTS_TITLE,\n  STORIES_TITLE,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport NavItemWithDropdown from '../NavItemWithDropdown/NavItemWithDropdown';\nimport {\n  NavItem,\n  SearchButton,\n  UserIconButton,\n  UserMenuButton,\n} from '../utils/index';\nimport './NavBar.scss';\n\nfunction NavBar({\n  isMobileMenuOpen,\n  onUserButtonClick,\n  onBurgerButtonClick,\n  onCityChangeClick,\n  onLogout,\n  userCityName,\n}) {\n  const { pathname } = useLocation();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <nav className=\"menu\">\n      {/* логотип */}\n      <Link to=\"/\" target=\"_self\" className=\"menu__logo mobile-link\">\n        {MAIN_PAGE_TITLE}\n      </Link>\n      {/* обычное меню */}\n      <div\n        className={`menu__lists-wrap ${\n          !isMobileMenuOpen ? 'menu__lists-wrap_hidden' : ''\n        }`}\n      >\n        <ul className=\"menu__list\">\n          {/* О проекте, скрытый */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item menu__list-item_hidden\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* Календарь */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* Куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* Вопросы */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* выпадающее меню  \"Читать и смотреть\" */}\n          <NavItemWithDropdown\n            sectionWrapperClass=\"menu__list-item menu__dropdown-item\"\n            linkText={READ_AND_WATCH_TITLE}\n            href={READ_AND_WATCH_URL}\n          />\n          {/* Права детей */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* Истории */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n\n        <ul\n          className={`menu__list menu__list_type_social ${\n            !isMobileMenuOpen ? 'menu__list_hidden' : ''\n          }`}\n        >\n          {socialLinks.map((link) => (\n            <li key={link?.id} className=\"menu__list-item\">\n              <a\n                className=\"menu__link mobile-link\"\n                href={link?.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                {link?.title}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {currentUser && (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass=\"mobile-link\"\n          />\n          <UserMenuButton\n            title={texts.logoutText}\n            sectionClass=\"mobile-link\"\n            handleClick={onLogout}\n          />\n        </div>\n      )}\n\n      {!currentUser && pathname === PLACES_URL && (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass=\"mobile-link menu__user-info_center\"\n          />\n        </div>\n      )}\n\n      <button\n        onClick={onBurgerButtonClick}\n        className={`menu__burger ${\n          isMobileMenuOpen ? 'menu__burger_active' : ''\n        }`}\n        type=\"button\"\n      >\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n      </button>\n\n      <ul className=\"menu__button-list\">\n        <li className=\"menu__button-item\">\n          <form className=\"search\" name=\"search-form\">\n            <SearchButton />\n            <div className=\"search__options menu__search-options\">\n              <input\n                type=\"text\"\n                name=\"search\"\n                placeholder={texts.searchPlaceholder}\n                className=\"search__input paragraph\"\n              />\n              <ul className=\"search__option-list\">\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./article.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Причины подростковой агрессии\n                  </a>\n                  <a href=\"./article.html\" className=\"link search__link\">\n                    статьи\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./video.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Агрессивное поведение детей-сирот\n                  </a>\n                  <a href=\"./video.html\" className=\"link search__link\">\n                    видео\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./questions.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Что делать если ваш младший агрессивно себя ведет, решил\n                    закрыть пару?\n                  </a>\n                  <a href=\"./questions.html\" className=\"link search__link\">\n                    вопросы\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./books.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Как реагировать на агрессивное поведения ребенка\n                  </a>\n                  <a href=\"./books.html\" className=\"link search__link\">\n                    книги\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </form>\n        </li>\n        <li className=\"menu__button-item\">\n          <UserIconButton\n            sectionClass=\"mobile-link\"\n            isAuthorized={!!currentUser}\n            handleClick={onUserButtonClick}\n          />\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nNavBar.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onBurgerButtonClick: PropTypes.func,\n  onCityChangeClick: PropTypes.func,\n  onLogout: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  userCityName: PropTypes.string,\n};\n\nNavBar.defaultProps = {\n  onUserButtonClick: () => {},\n  onBurgerButtonClick: () => {},\n  onCityChangeClick: () => {},\n  onLogout: () => {},\n  isMobileMenuOpen: false,\n  userCityName: '',\n};\n\nexport default NavBar;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport './Header.scss';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  PopupsContext,\n} from '../../contexts/index';\nimport texts from './locales/RU';\nimport { useClickOutside, useAuth, useLocalStorage } from '../../hooks/index';\nimport { PROFILE_URL, AFISHA_URL, PLACES_URL } from '../../config/routes';\nimport { localStUserCity } from '../../config/constants';\nimport NavBar from '../NavBar/NavBar';\nimport { UserMenuButton } from '../utils/index';\n\nconst headerWindowOffsetY = 200;\n\nfunction Header({ isTransparent }) {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupLogin, closeAllPopups } =\n    useContext(PopupsContext);\n  const { cities } = useContext(CitiesContext);\n\n  const { handleLogout } = useAuth(updateUser, closeAllPopups);\n\n  function handleUserButtonClick() {\n    if (currentUser) {\n      history.push(PROFILE_URL);\n    } else {\n      openPopupLogin();\n    }\n  }\n\n  const [userCityName, setUserCityName] = useState('');\n  let currentAnonymousCity;\n\n  if (pathname === PLACES_URL) {\n    const getLocalStorageItem = useLocalStorage(localStUserCity);\n    currentAnonymousCity = getLocalStorageItem();\n  }\n\n  // сохранённый в localStorage город анонимуса\n  const userCity = currentUser?.city || currentAnonymousCity;\n\n  // определение города пользователя, используется в кнопках\n  useEffect(() => {\n    if (cities && userCity) {\n      const currentCity = cities.find((city) => city?.id === userCity);\n      setUserCityName(currentCity?.name);\n    }\n  }, [cities, userCity]);\n\n  // меню бургер\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  // закрытие мобильного меню по клику вне хедера\n  const headerRef = useClickOutside(() => setIsMobileMenuOpen(false));\n\n  // закрытие мобильного меню по клику на ссылки\n  const handleCloseMobileMenu = (evt) => {\n    const { target } = evt;\n    if (isMobileMenuOpen && target.classList.contains('mobile-link')) {\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  // липкий хедер\n  const [isHeaderActive, setIsHeaderActive] = useState(true);\n  let prevScrollPos = 0;\n\n  useEffect(() => {\n    window.addEventListener('scroll', () => {\n      const currentScrollPos = window.pageYOffset;\n      // если prevScrollPos больше currentScrollPos значит мы скролим наверх\n      if (prevScrollPos > currentScrollPos) {\n        setIsHeaderActive(true);\n      } else {\n        setIsHeaderActive(false);\n        setIsMobileMenuOpen(false);\n      }\n\n      if (currentScrollPos === 0) {\n        setIsHeaderActive(true);\n      }\n      prevScrollPos = currentScrollPos;\n    });\n  }, []);\n\n  const classNamesHeader = [\n    'header',\n    isTransparent && !(window.pageYOffset > headerWindowOffsetY)\n      ? 'header_transparent'\n      : '',\n    isMobileMenuOpen ? 'header_displayed' : '',\n    !isHeaderActive ? 'header__on-scroll-up' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <header\n      className={classNamesHeader}\n      ref={headerRef}\n      onClick={handleCloseMobileMenu}\n      onKeyPress={handleCloseMobileMenu}\n    >\n      <div className=\"header__container\">\n        <NavBar\n          onUserButtonClick={handleUserButtonClick}\n          onBurgerButtonClick={toggleMobileMenu}\n          userCityName={userCityName}\n          onCityChangeClick={openPopupCities}\n          onLogout={handleLogout}\n          isMobileMenuOpen={isMobileMenuOpen}\n        />\n\n        {pathname === PROFILE_URL && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              sectionClass=\"mobile-link\"\n              handleClick={openPopupCities}\n            />\n            <UserMenuButton\n              title={texts.logoutText}\n              sectionClass=\"mobile-link\"\n              handleClick={handleLogout}\n            />\n          </div>\n        )}\n\n        {(pathname === AFISHA_URL || pathname === PLACES_URL) && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              handleClick={openPopupCities}\n              sectionClass=\"mobile-link\"\n            />\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n\nHeader.propTypes = {\n  isTransparent: PropTypes.bool,\n};\n\nHeader.defaultProps = {\n  isTransparent: false,\n};\n\nexport default Header;\n","import { bbbsLinks, developmentLinks } from '../../../utils/external-links';\n\nconst texts = {\n  logoAlt: 'Логотип Старшие Братья Старшие Сестры России',\n  logoLink: bbbsLinks.about,\n  helpButtonText: 'Помочь деньгами',\n  helpButtonLink: bbbsLinks.donations,\n  devText: 'Разработка – студенты ',\n  devLink: developmentLinks.praktikum.url,\n  devOrg: developmentLinks.praktikum.title,\n  designText: 'Концепция и дизайн – ',\n  designLink: developmentLinks.design.url,\n  designOrg: developmentLinks.design.title,\n  copyright: `${'\\u00A9'} Старшие Братья Старшие Сестры`,\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/footer-logo.476770b8.svg\";","import './Footer.scss';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n  STORIES_URL,\n  AFISHA_TITLE,\n  ABOUT_US_TITLE,\n  PLACES_TITLE,\n  QUESTIONS_TITLE,\n  READ_AND_WATCH_TITLE,\n  RIGHTS_TITLE,\n  STORIES_TITLE,\n} from '../../config/routes';\nimport texts from './locales/RU';\nimport { socialLinks } from '../../utils/external-links';\nimport footerLogoPath from '../../assets/footer-logo.svg';\nimport { NavItem } from '../utils/index';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <a\n        href={texts.logoLink}\n        className=\"footer__logo\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <img\n          className=\"footer__logo-image\"\n          src={footerLogoPath}\n          alt={texts.logoAlt}\n        />\n      </a>\n      <a\n        className=\"button footer__button\"\n        href={texts.helpButtonLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.helpButtonText}\n      </a>\n      <div className=\"footer__column footer__column_content_concept\">\n        <p className=\"footer__brand\">{texts.copyright}</p>\n        <div className=\"footer__copyright\">\n          <p className=\"footer__authors\">\n            {texts.devText}\n            <a\n              href={texts.devLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.devOrg}\n            </a>\n          </p>\n          <p className=\"footer__design\">\n            {texts.designText}\n            <a\n              href={texts.designLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.designOrg}\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"footer__column footer__column_content_info\">\n        <ul className=\"footer__column-list\">\n          {/* о проекте */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* каленарь */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* вопросы */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* читать и смотреть */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={READ_AND_WATCH_URL}\n            linkText={READ_AND_WATCH_TITLE}\n          />\n          {/* права детей */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* истории */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n      </div>\n      <div className=\"footer__column footer__column_content_social\">\n        <ul className=\"footer__column-list\">\n          {socialLinks.map((link) => (\n            <li key={link?.id} className=\"footer__column-links\">\n              <a\n                className=\"footer__column-link\"\n                href={link?.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                {link?.title}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../hooks/index';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction BasePage({ children, headTitle, headDescription }) {\n  useScrollToTop();\n\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header />\n      <main className=\"main\">{children}</main>\n      <Footer />\n    </>\n  );\n}\n\nBasePage.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nBasePage.defaultProps = {\n  children: null,\n};\n\nexport default BasePage;\n","import './CardFigure.scss';\nimport PropTypes from 'prop-types';\n\nfunction CardFigure({ title, shape, color, children, sectionClass }) {\n  return (\n    <div\n      className={`card-figure card-figure_color_${color} card-figure_form_${shape} ${sectionClass}`}\n    >\n      {title && <h2 className=\"section-title\">{title}</h2>}\n      {children}\n    </div>\n  );\n}\n\nCardFigure.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  sectionClass: PropTypes.string,\n};\n\nCardFigure.defaultProps = {\n  title: '',\n  shape: 'square',\n  color: 'yellow',\n  children: null,\n  sectionClass: '',\n};\n\nexport default CardFigure;\n","import './CardAbout.scss';\nimport PropTypes from 'prop-types';\nimport { TitleH2 } from '../../utils/index';\n\nfunction CardAbout({ title, text, color, linkText, href }) {\n  return (\n    <article className=\"card-container card-about\">\n      <div className={`card-about__heading card-about__heading_color_${color}`}>\n        <TitleH2 title={title} />\n      </div>\n      <div className=\"card-about__container\">\n        <p className=\"paragraph card-about__paragraph\">{text}</p>\n        <a\n          className=\"link card-about__card-link\"\n          href={href}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {linkText}\n        </a>\n      </div>\n    </article>\n  );\n}\n\nCardAbout.propTypes = {\n  title: PropTypes.string,\n  color: PropTypes.string,\n  text: PropTypes.string,\n  linkText: PropTypes.string,\n  href: PropTypes.string,\n};\n\nCardAbout.defaultProps = {\n  title: '',\n  color: '',\n  text: '',\n  linkText: '',\n  href: '#',\n};\n\nexport default CardAbout;\n","import './AboutUs.scss';\nimport aboutUsTexts from '../../locales/about-us-page-RU';\nimport {\n  BasePage,\n  TitleH3,\n  Blockquote,\n  LogoBlue,\n  CardFigure,\n  CardAbout,\n  Card,\n} from './index';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  logoLink,\n  aboutTitle,\n  aboutParagraphs,\n  blockquote,\n  cards,\n} = aboutUsTexts;\n\nfunction AboutUs() {\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"about page__section fade-in\">\n        <TitleH3 sectionClass=\"about__title\" title={title} />\n        <a\n          className=\"about__logo\"\n          href={logoLink}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n\n        {/* желтый круг + белая карточка */}\n        <div className=\"about__us\">\n          <CardFigure title={aboutTitle} color=\"yellow\" shape=\"circle\" />\n\n          <Card sectionClass=\"about__annotation\" color=\"white\">\n            {aboutParagraphs?.map((item) => (\n              <p key={item?.id} className=\"paragraph about__paragraph\">\n                {item?.text}\n              </p>\n            ))}\n          </Card>\n        </div>\n\n        {/* цитата */}\n        <Blockquote\n          sectionWrapperClass=\"about__quote\"\n          sectionTitleClass=\"about__quote-text\"\n          text={blockquote}\n        />\n\n        {/* секция из 3 карточек с плашками */}\n        <div className=\"about__cards\">\n          {cards?.map((item) => (\n            <CardAbout\n              key={item.id}\n              title={item?.title}\n              text={item?.text}\n              linkText={item?.linkText}\n              href={item?.href}\n              color={item?.color}\n            />\n          ))}\n        </div>\n      </section>\n    </BasePage>\n  );\n}\n\nexport default AboutUs;\n","const profilePageTexts = {\n  headTitle: 'Личный кабинет',\n  headDescription: 'Личный кабинет наставника.',\n  eventsTitle: 'Вы записаны на мероприятия:',\n  eventsTitleArchive: 'Ваши прошлые мероприятия:',\n  eventsArchiveButton: 'Архив мероприятий',\n  eventsCurrentButton: 'Текущие мероприятия',\n  eventsTitleNoResults: 'У вас нет записи на мероприятия',\n  eventsTitleNoResultsArchive: 'Вы ещё не участвовали в мероприятиях',\n  formTitle:\n    'Составьте историю вашей дружбы с младшим. Эта страница доступна только вам.',\n};\n\nexport default profilePageTexts;\n","const texts = {\n  buttonLabel: 'Открыть карточку',\n};\n\nexport default texts;\n","import { months, weekdays } from '../config/constants';\n\n// форматирует секунды в часы, минуты и секунды, принимает на вход number\nexport const formatDuration = (duration) => {\n  const hours = Math.floor(duration / (60 * 60));\n  const minutes = Math.floor((duration / 60) % 60);\n  const seconds = duration % 60;\n  const format = (value) => (value < 10 ? `0${value}` : `${value}`);\n\n  return {\n    hours: format(hours),\n    minutes: format(minutes),\n    seconds: format(seconds),\n  };\n};\n\n// форматирует дату в объект по разным ключам, принимает на вход string вида \"2021-05-08T21:22:00Z\"\nexport const formatDate = (date) => {\n  const parsedDate = new Date(date);\n  let day = parsedDate.getDate();\n  let month = parsedDate.getMonth() + 1;\n  const weekdayName = weekdays[parsedDate.getDay()];\n  const monthName = months[parsedDate.getMonth()];\n  const hour = String(parsedDate.getHours());\n  const year = String(parsedDate.getFullYear());\n  let minutes = parsedDate.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  if (month < 10) {\n    month = `0${month}`;\n  }\n\n  return {\n    year,\n    day,\n    month,\n    weekdayName,\n    monthName,\n    hour,\n    minutes,\n  };\n};\n\n// форматирует дату типа \"2021-05-08T21:22:00Z\" в 'YYYY/MM/DD'\nexport const parseDate = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  return `${year}-${month}-${day}`;\n};\n\n// падеж слова \"место\" в зависимости от числа мест\n// принимает на вход количество оставшихся мест из чего формирует падеж слова\n// нужно в карточках, попапах\nexport const formatWordCase = (remainSeats) => {\n  // промежуток 11 - 14\n  const lastTwoDigits = remainSeats % 100;\n  if (lastTwoDigits > 10 && lastTwoDigits < 15) {\n    return 'мест';\n  }\n  // если кончается на 1 - окончание О\n  // если кончается на 2 3 4 - окончание A\n  // если кончается на другое - окончания нет\n  const lastDigit = remainSeats % 10;\n\n  if (lastDigit === 1) {\n    return 'место';\n  }\n  if (lastDigit === 2 || lastDigit === 3 || lastDigit === 4) {\n    return 'местa';\n  }\n  return 'мест';\n};\n\nexport const questionForm = {\n  beforeSubmit: {\n    title:\n      'Если вы не нашли ответ на свой вопрос — напишите нам, и мы включим его в список',\n    titleClass: '',\n    formVisibilityClass: '',\n  },\n  successSubmit: {\n    title:\n      'Спасибо! Мы приняли ваш вопрос. Ваш вопрос опубликуют, как только он пройдет проверку и модератор даст на него ответ!',\n    titleClass: 'add-question__title_success',\n    formVisibilityClass: 'question-form_invisible',\n  },\n  errorSubmit: {\n    title:\n      'Произошла ошибка при отправке вашего вопроса! Попробуйте повторить позже или обратиться в службу поддержки!',\n    titleClass: 'add-question__title_error',\n  },\n};\n\n// меняет в слове первую букву на заглавную\nexport const changeCaseOfFirstLetter = (str) => {\n  if (!str) return str;\n\n  return str[0].toUpperCase() + str.slice(1);\n};\n\n// управление падежами месяцев\nexport const formatMonthsGenitiveCase = (month) => {\n  if (month) {\n    if (month === 'март' || month === 'август') return `${month}а`;\n    return `${month.slice(0, -1)}я`;\n  }\n  return month;\n};\n\nexport const randomizeArray = (arr, size) => {\n  if (arr && size < arr.length) {\n    const array = arr.slice();\n    return [...Array(size)].map(\n      () => array.splice(Math.floor(Math.random() * array.length), 1)[0]\n    );\n  }\n  return arr;\n};\n\nexport const formatPhoneNumber = (phoneNum) => {\n  if (phoneNum.length === 12) {\n    const str1 = phoneNum.slice(0, 2);\n    const str2 = phoneNum.slice(2, 5);\n    const str3 = phoneNum.slice(5, 8);\n    const str4 = phoneNum.slice(8, 10);\n    const str5 = phoneNum.slice(10, 12);\n    return `${str1} ${str2} ${str3}-${str4}-${str5}`;\n  }\n  return phoneNum;\n};\n","import './ProfileEventCard.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport { formatDate } from '../../../utils/utils';\nimport { Card } from '../../utils/index';\n\nfunction ProfileEventCard({ data, onOpen, sectionClass }) {\n  const startDay = formatDate(data?.startAt);\n\n  const handleOpen = () => {\n    setLocalStorageData(localStAfishaEvent, data);\n    onOpen();\n  };\n\n  return (\n    <button\n      className={`profile-event-card ${sectionClass}`}\n      type=\"button\"\n      aria-label={texts.buttonLabel}\n      onClick={handleOpen}\n    >\n      <Card sectionClass=\"profile-event-card__card\">\n        <p className=\"profile-event-card__day\">{`${startDay?.day}.${startDay?.month}`}</p>\n        <p className=\"profile-event-card__title\">{data?.title}</p>\n      </Card>\n    </button>\n  );\n}\n\nProfileEventCard.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onOpen: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileEventCard.defaultProps = {\n  onOpen: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileEventCard;\n","const texts = {\n  rateCaptionText: 'Оцените проведенное время',\n  uploadCaptionText: 'Загрузить фото',\n  placePlaceholder: 'Место встречи',\n  datePlaceholder: 'Дата __.__.____',\n  datePlaceholderError: 'Дата* ',\n  descrPlaceholder:\n    'Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось',\n  buttonAddText: 'Добавить',\n  buttonDeleteText: 'Удалить',\n  buttonCancelText: 'Отмена',\n  buttonSaveText: 'Сохранить',\n};\n\nexport default texts;\n","const captions = {\n  good: 'Было классно!',\n  neutral: 'Нормально',\n  bad: 'Что-то пошло не так',\n};\n\nexport default captions;\n","import './ProfileForm.scss';\nimport { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { ErrorsContext } from '../../contexts/index';\nimport { useFormWithValidation } from '../../hooks/index';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport { regExpImages } from '../../config/constants';\nimport {\n  Card,\n  Input,\n  Caption,\n  Rating,\n  Button,\n  ButtonRound,\n} from '../utils/index';\n\nconst {\n  rateCaptionText,\n  uploadCaptionText,\n  placePlaceholder,\n  datePlaceholder,\n  descrPlaceholder,\n  buttonAddText,\n  buttonDeleteText,\n  buttonCancelText,\n  buttonSaveText,\n} = texts;\n\nconst validationSettings = {\n  place: {\n    minLength: 5,\n    maxLength: 128,\n  },\n  description: {\n    maxLength: 1024,\n  },\n};\n\nfunction ProfileForm({\n  data,\n  sectionClass,\n  isEditMode,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  const classNames = ['card-container', 'profile-form', sectionClass]\n    .join(' ')\n    .trim();\n\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const [caption, setCaption] = useState(rateCaptionText);\n  const [userImage, setUserImage] = useState(null);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!values?.mark) {\n      values.mark = 'neutral';\n    }\n    onSubmit(values);\n  };\n\n  const handleFocusDataInput = (evt) => {\n    // eslint-disable-next-line no-param-reassign\n    evt.currentTarget.type = 'date';\n  };\n\n  const handleChangeImage = () => {\n    if (values?.image) {\n      // ссылка-блоб для отображения загруженной картинки\n      const imageUrl = URL.createObjectURL(values.image);\n      setUserImage({ ...userImage, imageUrl });\n    }\n  };\n\n  const handleCloseForm = () => {\n    setUserImage(null);\n    resetForm();\n    clearError();\n    setCaption(rateCaptionText);\n    onClose();\n  };\n\n  useEffect(() => {\n    if (values?.mark) setCaption(captions[values.mark]);\n    else setCaption(rateCaptionText);\n  }, [values.mark]);\n\n  useEffect(() => {\n    handleChangeImage();\n  }, [values.image]);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (data) {\n        setUserImage({ image: data.image });\n        setValues({\n          id: data?.id,\n          date: data?.date,\n          place: data?.place,\n          description: data?.description,\n          mark: data?.mark,\n        });\n      }\n    }\n  }, [isOpen, data]);\n\n  return (\n    <form\n      name=\"addStoryForm\"\n      onSubmit={(evt) => handleSubmit(evt)}\n      className={classNames}\n      noValidate\n    >\n      <Card sectionClass=\"profile-form__photo-upload\">\n        {(userImage?.imageUrl || userImage?.image) && (\n          <img\n            src={userImage.imageUrl || `${staticImageUrl}/${userImage.image}`}\n            alt={data?.place}\n            className=\"profile-form__uploaded-image\"\n          />\n        )}\n\n        <div\n          className={`profile-form__input-upload ${\n            (userImage?.imageUrl || userImage?.image) && !errors?.image\n              ? 'profile-form__input-upload_hidden'\n              : ''\n          } ${errors?.image ? 'profile-form__input-upload_error' : ''}\n          `}\n        >\n          <label htmlFor=\"input-upload\" className=\"profile-form__label-file\">\n            <input\n              id=\"input-upload\"\n              type=\"file\"\n              accept=\"image/*\"\n              name=\"image\"\n              className=\"profile-form__input-file\"\n              onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n            />\n            <ButtonRound\n              sectionClass={`profile-form__pseudo-button ${\n                errors?.image ? 'profile-form__pseudo-button_error' : ''\n              }`}\n              color={`${errors?.image ? 'error' : 'lightGray'}`}\n              isSpan\n            />\n            <Caption\n              title={errors?.image || uploadCaptionText}\n              sectionClass={`profile-form__caption ${\n                errors?.image ? 'profile-form__caption_error' : ''\n              }`}\n            />\n          </label>\n        </div>\n      </Card>\n\n      <Card sectionClass=\"profile-form__text-container\">\n        <div className=\"profile-form__texts\">\n          <Input\n            id=\"profileInputPlace\"\n            type=\"text\"\n            name=\"place\"\n            placeholder={placePlaceholder}\n            onChange={handleChange}\n            value={values.place}\n            required\n            minLength={validationSettings.place.minLength}\n            maxLength={validationSettings.place.maxLength}\n            error={errors?.place}\n          />\n\n          <Input\n            id=\"profileInputDate\"\n            type=\"text\"\n            name=\"date\"\n            placeholder={datePlaceholder}\n            onFocus={handleFocusDataInput}\n            onChange={handleChange}\n            value={values.date}\n            required\n            error={errors?.date}\n          />\n\n          <Input\n            id=\"profileInputTextarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={descrPlaceholder}\n            sectionClass=\"profile-form__input-wrap profile-form__input-wrap_textarea\"\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength={validationSettings.description.maxLength}\n            error={errors?.description}\n            isTextarea\n          />\n\n          <div className=\"profile-form__submit-zone\">\n            <span className=\"form-error-message\">{errorsString}</span>\n            <div className=\"profile-form__ratings-buttons\">\n              <div className=\"profile-form__ratings\">\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"good\"\n                  onChange={handleChange}\n                  value=\"good\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'good'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"neutral\"\n                  onChange={handleChange}\n                  value=\"neutral\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'neutral'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"bad\"\n                  onChange={handleChange}\n                  value=\"bad\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'bad'}\n                />\n                <Caption\n                  title={caption}\n                  sectionClass={`profile-form__ratings-text profile-form__ratings-text_type_${values.mark}`}\n                />\n              </div>\n              <div className=\"profile-form__buttons\">\n                <Button\n                  title={`${isEditMode ? buttonCancelText : buttonDeleteText}`}\n                  color=\"gray-borderless\"\n                  sectionClass=\"profile-form__button_el_delete\"\n                  onClick={handleCloseForm}\n                />\n                <Button\n                  title={`${isEditMode ? buttonSaveText : buttonAddText}`}\n                  sectionClass=\"profile-form__button_el_add\"\n                  isDisabled={!isValid}\n                  isSubmittable\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card>\n    </form>\n  );\n}\n\nProfileForm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  isEditMode: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nProfileForm.defaultProps = {\n  data: {},\n  sectionClass: '',\n  onClose: () => {},\n  isOpen: false,\n  isEditMode: false,\n  onSubmit: () => {},\n};\n\nexport default ProfileForm;\n","const texts = {\n  buttonShareText: 'Поделиться с куратором',\n  buttonTextShared: 'Открыто куратору',\n  buttonEditText: 'Редактировать',\n  buttonDeleteText: 'Удалить',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/icon-logo-no-text.ebdb8e22.svg\";","import PropTypes from 'prop-types';\nimport { Caption, ModificatedScrollbars } from '../../utils/index';\n\nfunction CardAnnotationContainer({ caption, children }) {\n  const classNamesDesc = [\n    'card-annotation__desc',\n    caption ? '' : 'card-annotation__desc_center',\n  ]\n    .join(' ')\n    .trim();\n  return (\n    <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n      {caption && (\n        <Caption sectionClass=\"card-annotation__caption\" title={caption} />\n      )}\n\n      <div className={classNamesDesc}>{children}</div>\n    </ModificatedScrollbars>\n  );\n}\n\nCardAnnotationContainer.propTypes = {\n  caption: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCardAnnotationContainer.defaultProps = {\n  caption: null,\n  children: null,\n};\n\nexport default CardAnnotationContainer;\n","import './ProfileDiary.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport defaultImage from '../../assets/icon-logo-no-text.svg';\nimport CardAnnotationContainer from '../Cards/CardAnnotation/CardAnnotationContainer';\nimport { Card, TitleH2, Rating, Caption, Button } from '../utils/index';\n\nfunction ProfileDiary({ data, onEdit, onDelete, onShare, sectionClass }) {\n  const { image, place, description, mark, date, sentToCurator } = data;\n\n  const eventDay = formatDate(date);\n  const [caption, setCaption] = useState('');\n\n  useEffect(() => {\n    setCaption(captions[mark]);\n  }, [mark]);\n\n  const handleEditButtonClick = () => {\n    onEdit(data);\n  };\n\n  const handleDeleteButtonClick = () => {\n    onDelete(data);\n  };\n\n  const handleShareButtonClick = () => {\n    if (!sentToCurator) {\n      onShare(data?.id);\n    }\n  };\n\n  return (\n    <div className={`card-container profile-diary ${sectionClass}`}>\n      <Card sectionClass=\"profile-diary__image-container\">\n        <img\n          className={\n            image ? 'profile-diary__image' : 'profile-diary__image_default'\n          }\n          src={image ? `${staticImageUrl}/${image}` : defaultImage}\n          alt={place}\n        />\n      </Card>\n      <Card sectionClass=\"profile-diary__date-container\">\n        <div className=\"profile-diary__text-wrap\">\n          <TitleH2 sectionClass=\"profile-diary__card-title\" title={place} />\n          <div className=\"profile-diary__card-text\">\n            <CardAnnotationContainer>\n              <p className=\"profile-diary__paragraph\">{description}</p>\n            </CardAnnotationContainer>\n          </div>\n        </div>\n        <div className=\"profile-diary__card-date\">\n          <p className=\"profile-diary__weekday\">{`${eventDay.monthName}, ${eventDay.year}`}</p>\n          <p className=\"profile-diary__day\">{eventDay.day}</p>\n        </div>\n        <div className=\"profile-diary__actions\">\n          <div className=\"profile-diary__rating\">\n            <Rating\n              type=\"radio\"\n              ratingType={mark}\n              value={mark}\n              checked\n              sectionClass=\"profile-diary__rate\"\n            />\n            <Caption\n              title={caption}\n              sectionClass={`profile-diary__ratings-text profile-diary__ratings-text_type_${\n                mark || 'neutral'\n              }`}\n            />\n          </div>\n          <div className=\"profile-diary__action-elements\">\n            <Button\n              title={\n                sentToCurator ? texts.buttonTextShared : texts.buttonShareText\n              }\n              color=\"gray-borderless\"\n              sectionClass={`profile-diary__button ${\n                sentToCurator ? 'profile-diary__button_shared' : ''\n              }`}\n              onClick={handleShareButtonClick}\n            />\n            <Button\n              title={texts.buttonEditText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleEditButtonClick}\n            />\n            <Button\n              title={texts.buttonDeleteText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleDeleteButtonClick}\n            />\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nProfileDiary.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func,\n  onShare: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nProfileDiary.defaultProps = {\n  data: {},\n  onEdit: () => {},\n  onDelete: () => {},\n  onShare: () => {},\n  sectionClass: '',\n};\n\nexport default ProfileDiary;\n","const texts = {\n  title: 'Удалить встречу в',\n  submitButtonText: 'Удалить',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","const texts = {\n  closeButtonLabel: 'Закрыть попап',\n};\n\nexport default texts;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport './Popup.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Popup({\n  children,\n  type,\n  typeContainer,\n  isOpen,\n  onClose,\n  withoutCloseButton,\n  sectionClass,\n}) {\n  const closeAllPopupsOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n  return (\n    <div\n      className={`popup popup_type_${type} ${isOpen ? 'popup_opened' : ''} `}\n      onClick={closeAllPopupsOnOverlay}\n    >\n      <div\n        className={`popup__container popup__container_type_${typeContainer} ${sectionClass}`}\n      >\n        {!withoutCloseButton && (\n          <button\n            className={`popup__close popup__close_type_${typeContainer}`}\n            type=\"button\"\n            aria-label={texts.closeButtonLabel}\n            onClick={onClose}\n          />\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  typeContainer: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  withoutCloseButton: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nPopup.defaultProps = {\n  children: null,\n  type: '',\n  typeContainer: '',\n  isOpen: false,\n  onClose: () => {},\n  sectionClass: '',\n  withoutCloseButton: false,\n};\n\nexport default Popup;\n","import './PopupDeleteDiary.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Button } from '../../utils/index';\n\nfunction PopupDeleteDiary({ isOpen, onClose, onCardDelete, cardData }) {\n  const { place, date } = cardData;\n  const day = formatDate(date);\n  const month = formatMonthsGenitiveCase(day?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onCardDelete(cardData);\n  };\n\n  return (\n    <Popup\n      type=\"confirm-delete-diary\"\n      typeContainer=\"confirm-diary\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n      sectionClass=\"popup-diary\"\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <TitleH2\n          title={`${texts.title} ${place} ${parseInt(day.day, 10)} ${month} ${\n            day.year\n          }?`}\n          sectionClass=\"popup-diary__title\"\n        />\n        <div className=\"popup-diary__buttons\">\n          <Button\n            color=\"gray\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.submitButtonText}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupDeleteDiary.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onCardDelete: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupDeleteDiary.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onCardDelete: () => {},\n  cardData: {},\n};\n\nexport default PopupDeleteDiary;\n","const texts = {\n  title404: '404',\n  buttonText: 'Вернуться на главную',\n};\n\nexport default texts;\n","import './AnimatedPageContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animation404 from '../../assets/animation/Illustration_404.json';\nimport { TitleH2 } from '../utils/index';\n\nfunction AnimatedPageContainer({\n  is404,\n  titleText,\n  buttonText,\n  staticPage,\n  urlBack,\n}) {\n  const animationContainer = useRef();\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation404,\n    });\n  }, []);\n\n  return (\n    <div className=\"animated-section\">\n      <div ref={animationContainer} className=\"animated-section__animation\" />\n      {is404 && <h1 className=\"page-not-found-title\">{texts.title404}</h1>}\n      <TitleH2 title={titleText} sectionClass=\"animated-section__subtitle\" />\n      <Link\n        className=\"button animated-section__link button_color_blue\"\n        to={staticPage ? `${urlBack}` : '/'}\n      >\n        {buttonText}\n      </Link>\n    </div>\n  );\n}\n\nAnimatedPageContainer.propTypes = {\n  is404: PropTypes.bool,\n  titleText: PropTypes.string,\n  buttonText: PropTypes.string,\n  staticPage: PropTypes.bool,\n  urlBack: PropTypes.string,\n};\n\nAnimatedPageContainer.defaultProps = {\n  is404: false,\n  titleText: '',\n  buttonText: texts.buttonText,\n  staticPage: false,\n  urlBack: '',\n};\n\nexport default AnimatedPageContainer;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport './Profile.scss';\nimport profilePageTexts from '../../locales/profile-page-RU';\nimport { PopupsContext, ErrorsContext } from '../../contexts/index';\nimport { useEventBooking } from '../../hooks/index';\nimport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n  shareDiary,\n} from '../../api/profile-page';\nimport {\n  getBookedEvents,\n  getArchiveOfBookedEvents,\n} from '../../api/event-participants';\nimport {\n  DELAY_RENDER,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  BasePage,\n  ProfileEventCard,\n  TitleH2,\n  ProfileForm,\n  ProfileDiary,\n  PopupDeleteDiary,\n  ButtonRound,\n  Loader,\n  ScrollableContainer,\n  UserMenuButton,\n  AnimatedPageContainer,\n} from './index';\n\nconst {\n  headTitle,\n  headDescription,\n  eventsTitle,\n  eventsTitleNoResults,\n  formTitle,\n  eventsArchiveButton,\n  eventsCurrentButton,\n  eventsTitleArchive,\n  eventsTitleNoResultsArchive,\n} = profilePageTexts;\n\nfunction Profile() {\n  const { openPopupAboutEvent, openPopupError } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [events, setEvents] = useState(null);\n  const [archivedEvents, setArchivedEvents] = useState(null);\n  const [diaries, setDiaries] = useState(null);\n  const [isArchiveOpen, setIsArchiveOpen] = useState(false);\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [formDataToEdit, setFormDataToEdit] = useState(null);\n  const [isDeleteDiaryPopupOpen, setIsDeleteDiaryPopupOpen] = useState(false);\n\n  const [isLoadingEvents, setIsLoadingEvents] = useState(true);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getArchiveOfEvents = () => {\n    getArchiveOfBookedEvents()\n      .then((eventsData) => {\n        setArchivedEvents(eventsData);\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.generalErrorMessage.title,\n          button: ERROR_MESSAGES.generalErrorMessage.button,\n        });\n        openPopupError();\n      })\n      .finally(() => setIsLoadingEvents(false));\n  };\n\n  const getCurrentBookedEvents = () => {\n    getBookedEvents()\n      .then((eventsData) => {\n        const sortedEvents = eventsData\n          .sort((a, b) => {\n            const date1 = new Date(a?.event?.startAt);\n            const date2 = new Date(b?.event?.startAt);\n            return date1 - date2;\n          })\n          .map(({ event }) => {\n            const updatedEvent = event;\n            updatedEvent.booked = true;\n            return updatedEvent;\n          });\n        setEvents(sortedEvents);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsLoadingEvents(false));\n  };\n\n  useEffect(() => {\n    getCurrentBookedEvents();\n  }, []);\n\n  useEffect(() => {\n    getProfileDiariesData()\n      .then(setDiaries)\n      .catch(() => setIsPageError(true));\n  }, []);\n\n  // отписка от ивентов\n  const { selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setEvents((prevEvents) =>\n        prevEvents.filter((event) =>\n          event?.id === selectedEvent?.id ? null : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // работа с карточками мероприятий календаря\n  const openEventCard = () => {\n    if (isArchiveOpen) {\n      // без записи на ивент\n      openPopupAboutEvent(true);\n    } else openPopupAboutEvent();\n  };\n\n  const openArchiveOfEvents = () => {\n    setIsArchiveOpen(true);\n    setIsLoadingEvents(true);\n    getArchiveOfEvents();\n  };\n\n  const openCurrentEvents = () => {\n    setIsArchiveOpen(false);\n    setIsLoadingEvents(true);\n    getCurrentBookedEvents();\n  };\n\n  // работа с формой\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const openForm = (data) => {\n    if (!data) setIsEditMode(false);\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    setIsEditMode(false);\n    setFormDataToEdit(null);\n  };\n\n  const handleEditMode = (data) => {\n    setIsFormOpen(false);\n    //! небольшая задержка перед ререндером\n    setTimeout(() => {\n      setIsEditMode(true);\n      setFormDataToEdit(data);\n      openForm(data);\n    }, DELAY_RENDER);\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data) {\n      if (data.id) formData.append('id', data.id);\n      if (data.image) formData.append('image', data.image);\n      formData.append('date', data.date);\n      formData.append('place', data.place);\n      formData.append('description', data.description);\n      formData.append('mark', data.mark);\n    }\n    return formData;\n  };\n\n  const handleErrorOnFormSubmit = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized) {\n      setError(err?.data);\n    } else openPopupError();\n  };\n\n  const handleCreateDiary = (data) => {\n    createDiary(createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) => [newDiary, ...prevDiaries]);\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleEditDiary = (data) => {\n    editDiary(data?.id, createFormData(data))\n      .then((newDiary) => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleSubmitDiary = (data) => {\n    if (isEditMode) handleEditDiary(data);\n    else handleCreateDiary(data);\n  };\n\n  // удаление дневника\n  const [selectedDiary, setSelectedDiary] = useState({});\n\n  const openDeleteDiaryPopup = (diary) => {\n    setIsDeleteDiaryPopupOpen(true);\n    setSelectedDiary(diary);\n  };\n\n  const closeDeleteDiaryPopup = () => {\n    setIsDeleteDiaryPopupOpen(false);\n  };\n\n  const handleDeleteDiary = (diary) => {\n    deleteDiary(diary?.id, diary)\n      .then(() => {\n        setDiaries((prevDiaries) =>\n          prevDiaries.filter((prevDiary) =>\n            prevDiary?.id === diary?.id ? null : prevDiary\n          )\n        );\n        closeDeleteDiaryPopup();\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.generalErrorMessage.title,\n          button: ERROR_MESSAGES.generalErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  const handleShareDiary = (diaryId) => {\n    shareDiary(diaryId)\n      .then(() => {\n        const newDiary = diaries.find((diary) => diary?.id === diaryId);\n        newDiary.sentToCurator = true;\n        setDiaries((prevDiaries) =>\n          prevDiaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n      })\n      .catch(() => {\n        setError({\n          title: ERROR_MESSAGES.generalErrorMessage.title,\n          button: ERROR_MESSAGES.generalErrorMessage.button,\n        });\n        openPopupError();\n      });\n  };\n\n  // функции рендера\n  const titleH1Current =\n    events?.length > 0 ? eventsTitle : eventsTitleNoResults;\n  const titleH1Archive =\n    archivedEvents?.length > 0\n      ? eventsTitleArchive\n      : eventsTitleNoResultsArchive;\n\n  const renderEventCards = () => {\n    const renderingEvents = isArchiveOpen ? archivedEvents : events;\n    if (renderingEvents && renderingEvents?.length > 0) {\n      return (\n        <>\n          {renderingEvents.map((item) => (\n            <ProfileEventCard\n              key={item?.id}\n              data={item}\n              onOpen={openEventCard}\n              sectionClass=\"scrollable-container__child slide-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderAddDiaryButton = () => {\n    if (!isFormOpen && diaries && diaries.length > 0) {\n      return (\n        <button\n          className=\"profile__button-add-diary fade-in\"\n          type=\"button\"\n          onClick={openForm}\n        >\n          <ButtonRound color=\"blue\" isSmall isSpan />\n        </button>\n      );\n    }\n    return null;\n  };\n\n  const renderDiaryForm = () => {\n    if (isFormOpen || (diaries && diaries.length === 0)) {\n      return (\n        <div className=\"profile__form-container\">\n          {!isEditMode && (\n            <TitleH2 sectionClass=\"profile__title fade-in\" title={formTitle} />\n          )}\n          <ProfileForm\n            sectionClass=\"profile__diary-form scale-in\"\n            isEditMode={isEditMode}\n            isOpen={isFormOpen}\n            data={formDataToEdit}\n            onClose={closeForm}\n            onSubmit={handleSubmitDiary}\n          />\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const renderDiaries = () => {\n    if (diaries && diaries.length > 0) {\n      return (\n        <>\n          {diaries.map((diary) => (\n            <ProfileDiary\n              key={diary?.id}\n              data={diary}\n              onEdit={handleEditMode}\n              onDelete={openDeleteDiaryPopup}\n              onShare={handleShareDiary}\n              sectionClass=\"scale-in\"\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <div className=\"profile__events-area page__section\">\n          {!isLoadingEvents ? (\n            <>\n              <div className=\"profile__events-heading\">\n                <UserMenuButton\n                  sectionClass=\"profile__archive-button\"\n                  title={\n                    isArchiveOpen ? eventsCurrentButton : eventsArchiveButton\n                  }\n                  handleClick={\n                    isArchiveOpen ? openCurrentEvents : openArchiveOfEvents\n                  }\n                />\n                <TitleH2\n                  sectionClass=\"profile__title profile__title_shifted\"\n                  title={isArchiveOpen ? titleH1Archive : titleH1Current}\n                />\n              </div>\n              <ScrollableContainer sectionClass=\"profile__events\" step={3}>\n                {renderEventCards()}\n              </ScrollableContainer>\n            </>\n          ) : (\n            <Loader isSmallGrid />\n          )}\n        </div>\n\n        <div className=\"profile__diaries page__section\">\n          <span className=\"profile__scroll-anchor\" ref={scrollAnchorRef} />\n          <div className=\"profile__diaries-container\">\n            {renderAddDiaryButton()}\n\n            {renderDiaryForm()}\n\n            {renderDiaries()}\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  if (!events && !diaries) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        <section className=\"profile fade-in\">{renderPageContent()}</section>\n      </BasePage>\n      <PopupDeleteDiary\n        isOpen={isDeleteDiaryPopupOpen}\n        cardData={selectedDiary}\n        onClose={closeDeleteDiaryPopup}\n        onCardDelete={handleDeleteDiary}\n      />\n    </>\n  );\n}\n\nexport default Profile;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getProfileDiariesData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// создать дневник\nfunction createDiary(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// редактировать дневник\nfunction editDiary(diaryId, data) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// удалить дневник\nfunction deleteDiary(diaryId, data) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// открыть дневник куратору\nfunction shareDiary(diaryId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/send/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n  shareDiary,\n};\n","const calendarPageTexts = {\n  headTitle: 'Календарь',\n  headDescription: 'Календарь событий и мероприятий для наставников.',\n  title: 'Календарь',\n  textStubNoData: 'Мы работаем над планом мероприятий на ближайшие месяцы.',\n};\n\nexport default calendarPageTexts;\n","/* eslint-disable no-param-reassign */\nexport const handleCheckboxBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const handleRadioBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const selectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = true;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectAllTags = (setState) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      filterItem.isActive = false;\n      return filterItem;\n    })\n  );\n};\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n  eventCanceled: 'Мероприятие отменено',\n};\n\nexport default texts;\n","import './CardCalendar.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  formatDate,\n  formatWordCase,\n  changeCaseOfFirstLetter,\n  formatPhoneNumber,\n} from '../../../utils/utils';\nimport { ButtonDots, Button } from '../../utils/index';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction CardCalendar({\n  cardData,\n  onEventSignUpClick,\n  onEventDescriptionClick,\n  sectionClass,\n}) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n  } = texts;\n\n  const {\n    booked,\n    tags,\n    title,\n    startAt,\n    endAt,\n    address,\n    contact,\n    remainSeats,\n    phoneNumber,\n    canceled,\n  } = cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n\n  // будет ли заблокирована кнопка\n  const isDisabled = (remainSeats < 1 && !booked) || canceled;\n\n  function changeStateOfEvent() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventSignUpClick(cardData);\n  }\n\n  function prepareDataForAboutEventPopup() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventDescriptionClick();\n  }\n\n  const classNames = [\n    'calendar',\n    booked ? 'calendar_selected' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  const renderPhone = () => (\n    <a className=\"calendar__phone\" href={`tel:${phoneNumber}`}>\n      {formatPhoneNumber(phoneNumber)}\n    </a>\n  );\n\n  return (\n    <article className={classNames}>\n      <div className=\"calendar__caption\">\n        <div className=\"calendar__info\">\n          <p className=\"calendar__type\">\n            {changeCaseOfFirstLetter(tags?.name)}\n          </p>\n          <p className=\"calendar__weekday\">\n            {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n          </p>\n        </div>\n        <div className=\"calendar__about\">\n          <h2 className=\"section-title calendar__title\">{title}</h2>\n          <p className=\"calendar__date\">{startDateParts.day}</p>\n        </div>\n      </div>\n      <div className=\"calendar__meetup\">\n        <ul className=\"calendar__info-list\">\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__time\">\n              {`${startDateParts.hour}:${startDateParts.minutes}–${endDayParts.hour}:${endDayParts.minutes}`}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__place\">{address}</p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__contact\">\n              {`${contact}, `}\n              {renderPhone()}\n            </p>\n          </li>\n        </ul>\n        <div className=\"calendar__submit\">\n          <Button\n            title={buttonTitle}\n            titleSelected={buttonTitleSelected}\n            color=\"blue\"\n            isDisabled={isDisabled}\n            onClick={changeStateOfEvent}\n            isBooked={booked}\n          />\n          <p className=\"calendar__place-left\">\n            {/* если запись закрыта, то карточка не должна быть выделенной */}\n            {(isDisabled && buttonTitleDisabled) ||\n              (!booked &&\n                `${remainSeatsText} ${remainSeats} ${formatWordCase(\n                  remainSeats\n                )}`)}\n          </p>\n          <ButtonDots handleClick={prepareDataForAboutEventPopup} />\n        </div>\n      </div>\n    </article>\n  );\n}\n\nCardCalendar.propTypes = {\n  cardData: PropTypes.objectOf(PropTypes.any),\n  onEventSignUpClick: PropTypes.func,\n  onEventDescriptionClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nCardCalendar.defaultProps = {\n  cardData: {},\n  onEventSignUpClick: () => {},\n  onEventDescriptionClick: () => {},\n  sectionClass: '',\n};\n\nexport default CardCalendar;\n","import './TagsList.scss';\nimport PropTypes from 'prop-types';\nimport { PseudoButtonTag } from '../utils/index';\n\nfunction TagsList({ filterList, name, handleClick, sectionClass }) {\n  const classNames = ['tags', sectionClass].join(' ').trim();\n  const classNamesList = [\n    'tags__list',\n    filterList.length > 3 ? 'tags__list_mobile' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <ul className={classNamesList}>\n        {filterList.map((item) => (\n          <li className=\"tags__list-item\" key={item?.name}>\n            <PseudoButtonTag\n              name={name}\n              value={item?.filter}\n              title={item?.name}\n              isActive={item?.isActive}\n              onClick={handleClick}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nTagsList.propTypes = {\n  filterList: PropTypes.arrayOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  name: PropTypes.string,\n  handleClick: PropTypes.func,\n};\n\nTagsList.defaultProps = {\n  filterList: [],\n  sectionClass: '',\n  name: '',\n  handleClick: () => {},\n};\n\nexport default TagsList;\n","import './Calendar.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport calendarPageTexts from '../../locales/calendar-page-RU';\nimport {\n  ErrorsContext,\n  CurrentUserContext,\n  PopupsContext,\n} from '../../contexts/index';\nimport { useDebounce, useEventBooking } from '../../hooks/index';\nimport { months, DELAY_DEBOUNCE, ERROR_MESSAGES } from '../../config/constants';\nimport { handleRadioBehavior } from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { getCalendarPageData, getActiveMonthTags } from '../../api/afisha-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardCalendar,\n  AnimatedPageContainer,\n  Loader,\n  TagsList,\n  Paginate,\n} from './index';\n\nconst { headTitle, headDescription, title, textStubNoData } = calendarPageTexts;\n\nconst INITIAL_PAGE_INDEX = 0;\nexport const PAGE_SIZE_PAGINATE = {\n  small: 6,\n  medium: 8,\n  big: 12,\n};\n\nfunction Calendar() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupLogin, openPopupAboutEvent, openPopupError } =\n    useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n\n  // переход между фильтрами/страницами пагинации, лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // переход между городами, лоадер\n  const [isGlobalLoader, setIsGlobalLoader] = useState(false);\n  // лоадер для пагинации\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  // загрузка данных страницы календаря, если ты залогиненный\n  const [calendarPageData, setCalendarPageData] = useState(null);\n\n  // весь список доступных фильтров\n  // { isActive, name, filter }\n  const [filters, setFilters] = useState(null);\n\n  // флаг использования фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [totalPages, setTotalPages] = useState(null);\n  const [pageIndex, setPageIndex] = useState(INITIAL_PAGE_INDEX);\n  const [isFirstRender, setIsFirstRender] = useState(true);\n\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // определение размера страницы\n  useEffect(() => {\n    const small = window.matchMedia('(max-width: 1024px)');\n    const medium = window.matchMedia('(max-width: 1440px)');\n\n    const listener = () => {\n      if (small.matches) {\n        // 320px-1024px по 6 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (medium.matches) {\n        // 1024px-1440px по 8 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        // больше 1440px по 12 элементов на странице\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    small.addEventListener('change', listener);\n    medium.addEventListener('change', listener);\n\n    return () => {\n      small.removeEventListener('change', listener);\n      medium.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // нужно ли рисовать фильтры (если месяц всего 1 - не рисуем)\n  const areThereEventsMoreForOneMonth = calendarPageData?.length > 0;\n\n  function getActiveFilters() {\n    if (!filters) {\n      // обязательно возвращаем пустой массив\n      return [];\n    }\n\n    return filters.filter((filter) => filter.isActive);\n  }\n\n  // общая функция загрузки ивентов\n  // в будущем упростить эту функцию\n  function getPageData({ offset, activeFilters }) {\n    getCalendarPageData({\n      limit: pageSize,\n      offset,\n      months: activeFilters,\n    })\n      .then((events) => {\n        const { results, count } = events;\n        setTotalPages(Math.ceil(count / pageSize));\n        setCalendarPageData(results);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsGlobalLoader(false);\n        setIsLoadingPaginate(false);\n      });\n  }\n\n  // загрузка страницы палендаря при старте либо показ попапа логина\n  useEffect(() => {\n    if (currentUser && pageSize) {\n      const offset = pageSize * pageIndex;\n      getPageData({ offset });\n      setIsFirstRender(false);\n    }\n\n    if (!currentUser) {\n      openPopupLogin();\n    }\n  }, [pageSize, currentUser]);\n\n  // загрузка фильтров страницы при старте или смене города юзера\n  useEffect(() => {\n    if (currentUser) {\n      setIsGlobalLoader(true);\n      getActiveMonthTags()\n        .then((monthsTags) => {\n          const customFilters = monthsTags.map((tag) => {\n            const filterName = changeCaseOfFirstLetter(months[tag - 1]); // бэк считает с 1, у нас массив с 0\n            return {\n              isActive: false,\n              name: filterName,\n              filter: tag,\n            };\n          });\n          setFilters(customFilters);\n        })\n        .catch(() => setIsPageError(true));\n    }\n  }, [currentUser?.city]);\n\n  // хэндлер фильтр-кнопки\n  function handleFilterButtonClick(inputValue, isChecked) {\n    handleRadioBehavior(setFilters, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  }\n\n  // вспомогательная функция фильтрации\n  function handleFiltration() {\n    const activeMonths = getActiveFilters();\n\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n    // фильтров нет (грузим стартовую страницу)\n    if (activeMonths.length === 0) {\n      getPageData({ limit: pageSize, offset });\n    } else {\n      // фильтруемся по месяцу\n      const { filter } = activeMonths[0]; // задел под мультифильтры\n      getPageData({ limit: pageSize, offset, activeFilters: filter });\n    }\n  }\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  // эффект фильтрации\n  useEffect(() => {\n    // в дальнейшем надо изменить количество секунд\n    if (isFiltersUsed) {\n      setIsLoading(true);\n      debounceFiltration();\n    }\n\n    // провели фильтрацию, флажок фильтров меняем\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  // эффект пагинации\n  const debouncePaginate = useDebounce(getPageData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (!isFirstRender) {\n      const activeMonths = getActiveFilters();\n      setIsLoadingPaginate(true);\n      // при нажатых фильтрах нажимаем пагинацию\n      if (activeMonths.length > 0) {\n        const offset = pageSize * pageIndex;\n        const { filter } = activeMonths[0]; // задел под мультифильтры\n        debouncePaginate({ offset, activeFilters: filter });\n      }\n\n      // просто нажимаем пагинацию + месяц не выбран\n      if (activeMonths.length === 0) {\n        const offset = pageSize * pageIndex;\n        debouncePaginate({ offset });\n      }\n    }\n  }, [pageIndex]);\n\n  // подписка/отписка от ивентов\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n  useEffect(() => {\n    if (selectedEvent) {\n      setCalendarPageData(() =>\n        calendarPageData.map((event) =>\n          event.id === selectedEvent.id ? selectedEvent : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // рендеринг\n  // отрисовка заглушки, если ивентов нет\n  function returnAnimatedContainer() {\n    return (\n      <>\n        {isGlobalLoader ? (\n          <Loader isNested />\n        ) : (\n          <AnimatedPageContainer titleText={textStubNoData} />\n        )}\n      </>\n    );\n  }\n\n  // отрисовка карточек ивентов\n  function renderEventCardsContainer() {\n    const cards = calendarPageData.map((cardData) => (\n      <CardCalendar\n        key={cardData.id}\n        cardData={cardData}\n        onEventSignUpClick={handleEventBooking}\n        onEventDescriptionClick={openPopupAboutEvent}\n        sectionClass=\"scale-in\"\n      />\n    ));\n    return cards;\n  }\n\n  // фильтры\n  function renderFilters() {\n    return (\n      <TagsList\n        filterList={filters}\n        name=\"month\"\n        handleClick={handleFilterButtonClick}\n      />\n    );\n  }\n\n  // блок пагинации\n  function renderPagination() {\n    return (\n      <Paginate\n        sectionClass=\"cards-section__pagination\"\n        pageCount={totalPages}\n        value={pageIndex}\n        onChange={setPageIndex}\n      />\n    );\n  }\n\n  // главная функция рендера\n  function renderPageContent() {\n    // ошибка загрузки данных\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n\n    // залогинен и есть ивенты\n    if (currentUser && areThereEventsMoreForOneMonth) {\n      return (\n        <>\n          {/* лоадер смены городов */}\n          {isGlobalLoader ? (\n            <Loader isNested />\n          ) : (\n            <>\n              <TitleH1 title={title} sectionClass=\"calendar-page__title\" />\n              <div className=\"calendar-page__container\">\n                {filters?.length > 1 && renderFilters()}\n\n                {/* лоадер смены фильтров */}\n                {isLoading ? (\n                  <Loader isNested />\n                ) : (\n                  <>\n                    {/* лоадер переключения пагинации */}\n                    {isLoadingPaginate ? (\n                      <Loader isNested />\n                    ) : (\n                      <div className=\"calendar-page__grid\">\n                        {renderEventCardsContainer()}\n                      </div>\n                    )}\n                    {totalPages > 1 && renderPagination()}\n                  </>\n                )}\n              </div>\n            </>\n          )}\n        </>\n      );\n    }\n\n    // залогинен и нет ивентов для города вообще\n    if (currentUser && !areThereEventsMoreForOneMonth && calendarPageData) {\n      return returnAnimatedContainer();\n    }\n\n    return null;\n  }\n\n  // глобальный лоадер при первой загрузке пока ждем ивенты и фильтры\n  if ((!calendarPageData || !filters) && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"calendar-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Calendar;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить дату страницы\nfunction getCalendarPageData({ limit, offset, months }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/`, {\n      params: { limit, offset, months },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получить тегсы-месяцы (список фильтров)\nfunction getActiveMonthTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/months/`)\n    .then((response) => response.data.months)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getCalendarPageData, getActiveMonthTags };\n","const mainPageTexts = {\n  headTitle: 'наставники.про',\n  headDescription:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  CardAnimatedPlugText: 'Пока тут ничего нет',\n};\n\nexport default mainPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные главной страницы\nfunction getMainPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/main/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getMainPageData;\n","import { bbbsLinks } from '../../../../utils/external-links';\n\nconst texts = {\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  link: bbbsLinks.about,\n};\n\nexport default texts;\n","import './CardStub.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, LogoBlue, TitleH2 } from '../../utils/index';\n\nfunction CardStub({ sectionClass }) {\n  return (\n    <Card sectionClass={`stub ${sectionClass}`} color=\"green\">\n      <div className=\"stub__upper-element\">\n        <a\n          className=\"stub__logo\"\n          href={texts.link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n      </div>\n      <div className=\"stub__content\">\n        <TitleH2 sectionClass=\"stub__text\" title={texts.title} />\n      </div>\n    </Card>\n  );\n}\n\nCardStub.propTypes = {\n  sectionClass: PropTypes.string,\n};\n\nCardStub.defaultProps = {\n  sectionClass: '',\n};\n\nexport default CardStub;\n","const texts = {\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  chosenTagText: 'Выбор наставника',\n  linkText: 'перейти на сайт',\n  activityTypeDefault: 'Развлекательный',\n};\n\nexport default texts;\n","import './CardAnnotation.scss';\nimport PropTypes from 'prop-types';\nimport { Card } from '../../utils/index';\nimport CardAnnotationContainer from './CardAnnotationContainer';\n\nfunction CardAnnotation({ info, description, isMain, sectionClass }) {\n  const classNames = [\n    'card-annotation',\n    isMain ? 'card-annotation_main' : '',\n    info && isMain ? '' : 'card-annotation_main_center',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n  return (\n    <Card sectionClass={classNames}>\n      <CardAnnotationContainer caption={info}>\n        <p className=\"paragraph card-annotation__paragraph\">{description}</p>\n      </CardAnnotationContainer>\n    </Card>\n  );\n}\n\nCardAnnotation.propTypes = {\n  info: PropTypes.string,\n  description: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardAnnotation.defaultProps = {\n  info: undefined,\n  description: undefined,\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardAnnotation;\n","import './CardPlace.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { PLACES_TITLE } from '../../../config/routes';\nimport { Rubric, TitleH2, Card, Caption } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\n\nfunction CardPlace({\n  data: {\n    image,\n    title,\n    description,\n    link,\n    chosen,\n    address,\n    gender,\n    age,\n    activityType,\n  },\n  activityTypes,\n  color,\n  sectionClass,\n  isBig,\n  isMainPage,\n}) {\n  const {\n    genderMale,\n    genderFemale,\n    linkText,\n    chosenTagText,\n    activityTypeDefault,\n  } = texts;\n\n  const cardColor = isBig ? 'yellow' : color;\n  const cardSize = isBig ? 'card-place_main' : '';\n  const sexType = gender === 'male' ? genderMale : genderFemale;\n\n  const imageClassNames = [\n    'card-place__image',\n    'card-place__image_type_article',\n    link ? '' : 'card-place__image_big',\n  ]\n    .join(' ')\n    .trim();\n\n  const types = activityTypes\n    ? activityTypes.reduce((obj, { id, name }) => {\n        // eslint-disable-next-line no-param-reassign\n        obj[id] = name;\n        return obj;\n      }, {})\n    : null;\n\n  const info = chosen\n    ? `${sexType}, ${age} лет, ${\n        activityTypes ? types[activityType] : activityTypeDefault\n      } отдых`\n    : '';\n\n  const renderImage = () => {\n    if ((chosen && isBig) || isMainPage) {\n      return (\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={title}\n          className={imageClassNames}\n        />\n      );\n    }\n    return null;\n  };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass={`card-place ${cardSize}`} color={cardColor}>\n        {isMainPage && (\n          <Rubric title={PLACES_TITLE} sectionClass=\"card-place__rubric\" />\n        )}\n\n        {chosen && !isMainPage && (\n          <Rubric title={chosenTagText} sectionClass=\"card-place__rubric\" />\n        )}\n\n        <div className=\"card-place__title-wrap\">\n          <TitleH2 sectionClass=\"card-place__title\" title={title} />\n          <Caption sectionClass=\"card-place__address\" title={address} />\n        </div>\n\n        {renderImage()}\n\n        {link && (\n          <a\n            href={link}\n            className=\"link card-place__link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {linkText}\n          </a>\n        )}\n      </Card>\n\n      <CardAnnotation info={info} description={description} isMain={isBig} />\n    </article>\n  );\n}\n\nCardPlace.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  chosen: PropTypes.bool,\n  title: PropTypes.string,\n  address: PropTypes.string,\n  image: PropTypes.string,\n  link: PropTypes.string,\n  description: PropTypes.string,\n  gender: PropTypes.string,\n  age: PropTypes.number,\n  activityType: PropTypes.number,\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isBig: PropTypes.bool,\n  isMainPage: PropTypes.bool,\n};\n\nCardPlace.defaultProps = {\n  data: {},\n  chosen: false,\n  title: '',\n  address: '',\n  image: '',\n  link: '',\n  description: '',\n  gender: 'male',\n  age: 18,\n  activityType: 1,\n  activityTypes: [],\n  color: 'white',\n  isBig: false,\n  sectionClass: '',\n  isMainPage: false,\n};\n\nexport default CardPlace;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import './CardArticleBig.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, TitleH3 } from '../../utils/index';\n\nfunction CardArticleBig({ title, color, articleUrl }) {\n  return (\n    <Card sectionClass=\"card-article\" color={color}>\n      <a\n        href={articleUrl}\n        className=\"card-article__link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <TitleH3 sectionClass=\"card-article__title\" title={title} />\n      </a>\n      <a\n        className=\"link card-article__link\"\n        href={articleUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.linkText}\n      </a>\n    </Card>\n  );\n}\n\nCardArticleBig.propTypes = {\n  color: PropTypes.string,\n  title: PropTypes.string,\n  articleUrl: PropTypes.string,\n};\n\nCardArticleBig.defaultProps = {\n  color: 'white',\n  title: '',\n  articleUrl: '#',\n};\n\nexport default CardArticleBig;\n","const texts = {\n  altText: 'Превью к видео:',\n  linkTextMovie: 'смотреть трейлер',\n  linkTextVideo: 'смотреть видео',\n};\n\nexport default texts;\n","import getYouTubeID from 'get-youtube-id';\n\nconst parserLinkYoutube = (link) => {\n  if (link) {\n    const idVideo = getYouTubeID(link);\n    const frameSrc = `https://www.youtube.com/embed/${idVideo}`;\n    const imagePreview = `http://img.youtube.com/vi/${idVideo}/maxresdefault.jpg`;\n\n    return { frameSrc, imagePreview };\n  }\n  return '';\n};\n\nexport default parserLinkYoutube;\n","import './CardFilm.scss';\nimport PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { PopupsContext } from '../../../contexts/index';\nimport { TitleH2, Card, Caption, Rubric } from '../../utils/index';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\n\nfunction CardFilm({\n  data: { image, title, info, link, tags, duration },\n  sectionClass,\n  isVideo,\n}) {\n  const { openPopupVideo } = useContext(PopupsContext);\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    // записать дату в локал, ключ вынести в константы\n    setLocalStorageData(localStChosenVideo, {\n      image,\n      title,\n      info,\n      link,\n      tags,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  // Рендерим верхную часть с фоткой\n  const renderPrewiew = () => {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          draggable=\"false\"\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.altText} ${title}`}\n          className=\"card-film__preview image-scale\"\n        />\n        {duration ? (\n          <span className=\"card-film__duration paragraph\">\n            {durationString}\n          </span>\n        ) : (\n          <ul className=\"card-film__rubric-list\">\n            {tags.map((tag) => (\n              <li key={tag.id}>\n                <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  };\n\n  const renderVideoPlayback = (childrenElem) => (\n    <button\n      className=\"link card-film__button\"\n      type=\"button\"\n      onClick={handleClick}\n      draggable=\"false\"\n    >\n      {childrenElem}\n    </button>\n  );\n\n  return (\n    <Card sectionClass={`card-film ${sectionClass}`}>\n      <div className=\"card-film__video\">\n        {renderVideoPlayback(renderPrewiew())}\n      </div>\n\n      <div className=\"card-film__video-info\">\n        <div className=\"card-film__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-film__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-film__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link &&\n          renderVideoPlayback(\n            isVideo ? texts.linkTextVideo : texts.linkTextMovie\n          )}\n      </div>\n    </Card>\n  );\n}\n\nCardFilm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  sectionClass: PropTypes.string,\n  isVideo: PropTypes.bool,\n};\n\nCardFilm.defaultProps = {\n  data: {},\n  image: '',\n  title: '',\n  info: '',\n  link: '',\n  tags: [],\n  duration: '',\n  sectionClass: '',\n  isVideo: false,\n};\n\nexport default CardFilm;\n","const texts = {\n  linkText: 'смотреть видео',\n  imageAlt: 'Превью к видео',\n};\n\nexport default texts;\n","import './CardVideoMain.scss';\nimport { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext } from '../../../contexts/index';\nimport { Card, TitleH2, Caption } from '../../utils/index';\nimport { formatDuration, changeCaseOfFirstLetter } from '../../../utils/utils';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\n\nfunction CardVideoMain({ data: { title, info, link, image, duration } }) {\n  const { openPopupVideo } = useContext(PopupsContext);\n\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      title,\n      info,\n      link,\n      image,\n      duration,\n    });\n    openPopupVideo();\n    // записать дату в локал, ключ вынести в константы\n  };\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  // Рендерим верхную часть с фоткой и props.children из компонета выше\n  const renderPrewiew = () => {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.imageAlt}: ${title}`}\n          className=\"card-video-main__image image-scale\"\n        />\n\n        <span className=\"card-video-main__duration paragraph\">\n          {durationString}\n        </span>\n      </>\n    );\n  };\n\n  const renderVideoPlayback = (childrenElem) => (\n    <button\n      className=\"link card-video-main__button\"\n      type=\"button\"\n      onClick={handleClick}\n    >\n      {childrenElem}\n    </button>\n  );\n\n  return (\n    <div className=\"card-container card-container_type_main-video\">\n      <Card sectionClass=\"card-video-main\" color=\"yellow\">\n        <div className=\"card-video-main__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-video-main__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-video-main__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && renderVideoPlayback(texts.linkText)}\n      </Card>\n\n      <Card sectionClass=\"card-video-main__video\">\n        {renderVideoPlayback(renderPrewiew())}\n      </Card>\n    </div>\n  );\n}\n\nCardVideoMain.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n};\n\nCardVideoMain.defaultProps = {\n  data: {},\n};\n\nexport default CardVideoMain;\n","const texts = {\n  labelText: 'Показать ответ',\n};\n\nexport default texts;\n","import './CardQuestion.scss';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { QUESTIONS_URL } from '../../../config/routes';\nimport { Rubric, TitleH2, Card, ButtonRound } from '../../utils/index';\n\nconst animationTransition = 300;\n\nfunction CardQuestion({\n  data: { title, tags, answer },\n  sectionClass,\n  href,\n  isQuestionsPage,\n  isOpenByDefault,\n}) {\n  const [isOpened, setIsOpened] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const ref = useRef();\n\n  function handleClickButton() {\n    if (isQuestionsPage) {\n      if (isOpened) {\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsOpened(false);\n        }, animationTransition);\n      } else {\n        setIsOpened(true);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, animationTransition);\n      }\n    }\n  }\n\n  const getDynamicStyle = () => {\n    if (ref && ref.current && isOpened) {\n      return {\n        minHeight: ref.current.clientHeight,\n      };\n    }\n\n    if (isOpenByDefault && isAnimated) return { height: 'auto' };\n\n    return { height: 0 };\n  };\n\n  const tagsClassNames = [\n    'card-question__tags',\n    isQuestionsPage ? 'card-question__tags_questions-page' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const answerWrapperClassNames = [\n    'card-question__answer',\n    isOpened ? 'card-question__answer_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  useEffect(() => {\n    if (ref && ref.current && isOpenByDefault) {\n      setIsOpened(true);\n      setIsAnimated(true);\n    }\n  }, [ref.current]);\n\n  const renderTitleWrap = (childElement) => {\n    if (isQuestionsPage)\n      return (\n        <div\n          className=\"card-question__title-wrap\"\n          onClick={handleClickButton}\n          onKeyPress={handleClickButton}\n          role=\"button\"\n          tabIndex=\"0\"\n          aria-label={texts.labelText}\n        >\n          {childElement}\n        </div>\n      );\n    return (\n      <Link\n        to={href}\n        className=\"card-question__title-wrap\"\n        onClick={handleClickButton}\n      >\n        {childElement}\n      </Link>\n    );\n  };\n\n  return (\n    <Card sectionClass={`card-question ${sectionClass}`}>\n      <div className=\"card-question__wrap\">\n        {isQuestionsPage && (\n          <ButtonRound\n            label={texts.labelText}\n            sectionClass=\"button-round__questions-page clickable\"\n            color=\"lightblue\"\n            onClick={handleClickButton}\n            isClick={isOpened}\n          />\n        )}\n\n        {renderTitleWrap(\n          <TitleH2\n            sectionClass=\"card-question__title clickable\"\n            title={title}\n          />\n        )}\n\n        <ul className={tagsClassNames}>\n          {tags?.map((tag) => (\n            <li className=\"card-question__tag\" key={tag?.id}>\n              <Rubric title={tag?.name} sectionClass=\"card-question__rubric\" />\n            </li>\n          ))}\n        </ul>\n      </div>\n      {isQuestionsPage && (\n        <div className={answerWrapperClassNames} style={getDynamicStyle()}>\n          <p\n            ref={ref}\n            className={`paragraph card-question__paragraph card-question__answer_text-hidden ${\n              isAnimated ? 'card-question__answer_text-active' : ''\n            }`}\n          >\n            {answer}\n          </p>\n        </div>\n      )}\n    </Card>\n  );\n}\n\nCardQuestion.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n  answer: PropTypes.string,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  isQuestionsPage: PropTypes.bool,\n  isOpenByDefault: PropTypes.bool,\n};\n\nCardQuestion.defaultProps = {\n  data: {},\n  title: '',\n  tags: [],\n  sectionClass: '',\n  answer: '',\n  href: QUESTIONS_URL,\n  isQuestionsPage: false,\n  isOpenByDefault: false,\n};\n\nexport default CardQuestion;\n","import { useEffect, useRef } from 'react';\nimport './CardAnimatedPlug.scss';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animation from '../../../assets/animation/ill_popup_recommend-success.json';\nimport { Card } from '../../utils/index';\n\nfunction CardAnimatedPlug({ text, sectionClass }) {\n  const animationContainer = useRef(null);\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation,\n    });\n  }, []);\n\n  return (\n    <Card sectionClass={sectionClass}>\n      <div className=\"card-animatedbox\">\n        <div className=\"card-animatedbox__animation\" ref={animationContainer} />\n        <p className=\"paragraph card-animatedbox__text\">{text}</p>\n      </div>\n    </Card>\n  );\n}\n\nCardAnimatedPlug.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardAnimatedPlug.defaultProps = {\n  text: '',\n  sectionClass: '',\n};\n\nexport default CardAnimatedPlug;\n","import './MainPage.scss';\nimport { Link } from 'react-router-dom';\nimport { useState, useContext, useEffect } from 'react';\nimport mainPageTexts from '../../locales/main-page-RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts/index';\nimport { useEventBooking, useActivityTypes } from '../../hooks/index';\nimport { QUESTIONS_URL, STORIES_URL } from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\nimport { ERROR_MESSAGES } from '../../config/constants';\nimport { randomizeArray } from '../../utils/utils';\nimport getMainPageData from '../../api/main-page';\nimport {\n  BasePage,\n  Loader,\n  Card,\n  CardStub,\n  CardCalendar,\n  CardPlace,\n  CardArticleBig,\n  CardFilm,\n  CardVideoMain,\n  Widget,\n  CardQuestion,\n  CardAnimatedPlug,\n  AnimatedPageContainer,\n} from './index';\n\n// количество отображаемых карточек с фильмами и вопросами\nconst MOVIES_COUNT = 4;\nconst QUESTIONS_COUNT = 3;\n\nconst { headTitle, headDescription, CardAnimatedPlugText } = mainPageTexts;\n\nfunction MainPage() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupAboutEvent } = useContext(PopupsContext);\n\n  const [mainPageData, setMainPageData] = useState(null);\n  const [randomQuestions, setRandomQuestions] = useState([]);\n  const [randomMovies, setRandomMovies] = useState([]);\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n  const [isPageLoading, setIsPageLoading] = useState(true);\n  const activityTypes = useActivityTypes();\n\n  // запись/отписка на мероприятия\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setMainPageData((prevData) => ({ ...prevData, event: selectedEvent }));\n    }\n  }, [selectedEvent]);\n\n  // запрос даты главной страницы при загрузке и при смене города\n  function getMainPageDataOnLoad() {\n    getMainPageData()\n      .then((data) => setMainPageData(data))\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsCityChanging(false));\n  }\n\n  useEffect(() => {\n    if (currentUser) {\n      setIsCityChanging(true);\n    }\n    getMainPageDataOnLoad();\n  }, [currentUser?.city]);\n\n  // рандомизируем вопросы и фильмы 1 раз при загрузке страницы\n  useEffect(() => {\n    if (mainPageData && isPageLoading) {\n      setRandomQuestions(\n        randomizeArray(mainPageData.questions, QUESTIONS_COUNT)\n      );\n      setRandomMovies(randomizeArray(mainPageData.movies, MOVIES_COUNT));\n      setIsPageLoading(false);\n    }\n  }, [mainPageData]);\n\n  // глобальный лоадер (без футера)\n  if (!mainPageData && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  function renderEventsBlock() {\n    // карточка ивента\n    if (currentUser && mainPageData?.event) {\n      return (\n        <CardCalendar\n          sectionClass=\"scale-in\"\n          key={mainPageData.event?.id}\n          cardData={mainPageData.event}\n          onEventSignUpClick={handleEventBooking}\n          onEventDescriptionClick={openPopupAboutEvent}\n        />\n      );\n    }\n\n    // красно-зеленая заглушка\n    return <CardStub sectionClass=\"scale-in\" />;\n  }\n\n  function renderHistoryBlock() {\n    if (mainPageData?.history) {\n      return (\n        <Card\n          sectionClass=\"lead__media scale-in\"\n          key={mainPageData?.history?.id}\n        >\n          <Link to={STORIES_URL} className=\"lead__link\">\n            {mainPageData?.history?.title}\n          </Link>\n          <img\n            src={`${staticImageUrl}/${mainPageData?.history?.image}`}\n            alt={mainPageData.history.title}\n            className=\"lead__media-img\"\n          />\n        </Card>\n      );\n    }\n\n    return (\n      <CardAnimatedPlug\n        text={CardAnimatedPlugText}\n        sectionClass=\"lead__media scale-in\"\n      />\n    );\n  }\n\n  function renderPlaceSection() {\n    return (\n      <section className=\"place main-section page__section\">\n        <CardPlace\n          key={mainPageData?.place?.id}\n          data={mainPageData?.place}\n          sectionClass=\"card-container_type_main-article scale-in\"\n          activityTypes={activityTypes}\n          isBig\n          isMainPage\n        />\n      </section>\n    );\n  }\n\n  function renderArticleSection(article, color) {\n    return (\n      <section className=\"articles main-section page__section scale-in\">\n        <CardArticleBig\n          key={article?.id}\n          title={article?.title}\n          color={color}\n          articleUrl={article?.articleUrl}\n        />\n      </section>\n    );\n  }\n\n  function renderMoviesSection() {\n    const additionalMoviesClasses =\n      randomMovies.length > 1\n        ? `movies_pagination movies_pagination_${randomMovies.length} scale-in`\n        : '';\n    // возвращаем\n    return (\n      <section className=\"movies main-section page__section cards-grid cards-grid_content_small-cards\">\n        {randomMovies.map((movie) => (\n          <CardFilm\n            data={movie}\n            key={movie.id}\n            sectionClass={additionalMoviesClasses}\n          />\n        ))}\n      </section>\n    );\n  }\n\n  function renderVideoSection() {\n    return (\n      <section className=\"video main-section page__section scale-in\">\n        <CardVideoMain\n          key={mainPageData?.video?.id}\n          data={mainPageData?.video}\n        />\n      </section>\n    );\n  }\n\n  function renderQuestionBlock() {\n    return (\n      <div className=\"main-questions__container\">\n        {randomQuestions.map((item) => (\n          <CardQuestion\n            key={item?.id}\n            data={item}\n            href={{\n              pathname: QUESTIONS_URL,\n              state: { fromMainPage: true, question: item },\n            }}\n            sectionClass={`main-section__question scale-in ${\n              randomQuestions.length > 2 ? ' main-questions_pagination' : ''\n            }`}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <>\n        <section className=\"lead page__section\">\n          <div className=\"card-container card-container_type_identical\">\n            {isCityChanging ? <Loader isNested /> : renderEventsBlock()}\n            {renderHistoryBlock()}\n          </div>\n        </section>\n\n        <section className=\"main-questions main-section page__section fade-in\">\n          <div className=\"card-container card-container_type_iframe\">\n            <Widget\n              title=\"Facebook\"\n              link=\"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=420&height=627&small_header=false&adapt_container_width=false&hide_cover=false&show_facepile=true&appId\"\n            />\n            {randomQuestions?.length > 0 && renderQuestionBlock()}\n          </div>\n        </section>\n\n        {mainPageData?.place && renderPlaceSection()}\n\n        {mainPageData?.articles?.length > 0 &&\n          renderArticleSection(mainPageData?.articles[0], 'blue')}\n\n        {randomMovies?.length > 0 && renderMoviesSection()}\n\n        {mainPageData?.video && renderVideoSection()}\n\n        {mainPageData?.articles?.length > 1 &&\n          renderArticleSection(mainPageData?.articles[1], 'green')}\n      </>\n    );\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      ) : (\n        renderPageContent()\n      )}\n    </BasePage>\n  );\n}\n\nexport default MainPage;\n","const page404Texts = {\n  headTitle: 'Страницы не существует',\n  headDescription: 'Запрашиваемая страница не найдена.',\n  animatedContainerText:\n    'К сожалению, запрашиваемая страница не найдена. Попробуйте перейти на главную страницу',\n};\n\nexport default page404Texts;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../hooks/index';\nimport Header from '../components/Header/Header';\n\nfunction PageNoFooter({ children, headTitle, headDescription }) {\n  useScrollToTop();\n\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header />\n      <main className=\"main\">{children}</main>\n    </>\n  );\n}\n\nPageNoFooter.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nPageNoFooter.defaultProps = {\n  children: null,\n};\n\nexport default PageNoFooter;\n","import './PageNotFound.scss';\nimport page404Texts from '../../locales/404-page-RU';\nimport { PageNoFooter, AnimatedPageContainer } from './index';\n\nconst { headTitle, headDescription, animatedContainerText } = page404Texts;\n\nfunction PageNotFound() {\n  return (\n    <PageNoFooter headTitle={headTitle} headDescription={headDescription}>\n      <AnimatedPageContainer titleText={animatedContainerText} is404 />\n    </PageNoFooter>\n  );\n}\n\nexport default PageNotFound;\n","const catalogPageTexts = {\n  headTitle: 'Справочник',\n  headDescription: 'Справочник полезных статей.',\n  title: 'Справочник',\n  subtitle: `Памятка новичка${'\\u00A0'}– наши материалы, где сможете найти всю базовую информацию, рассказанную на вводном тренинге. Если вы захотите освежить свои знания и${'\\u00A0'}напомнить себе о${'\\u00A0'}чем-то.`,\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default catalogPageTexts;\n","//! хардкод\n// eslint-disable-next-line consistent-return\nfunction renderThoseDamnedLines(dataLength, pageSize, isTablet) {\n  const renderOneLine = () => (\n    <>\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderTwoLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderThreeLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  if (isTablet) {\n    if (dataLength < 2) return null;\n\n    if (dataLength < 3) return renderOneLine();\n\n    if (dataLength < 4) return renderTwoLines();\n\n    return renderThreeLines();\n  }\n\n  switch (pageSize) {\n    case 16: {\n      if (dataLength < 5) return null;\n\n      if (dataLength < 9) return renderOneLine();\n\n      if (dataLength < 13) return renderTwoLines();\n\n      return renderThreeLines();\n    }\n\n    case 12: {\n      if (dataLength < 4) return null;\n\n      if (dataLength < 7) return renderOneLine();\n\n      if (dataLength < 10) return renderTwoLines();\n\n      return renderThreeLines();\n    }\n\n    case 9: {\n      if (dataLength < 4) return null;\n\n      if (dataLength < 7) return renderOneLine();\n\n      return renderTwoLines();\n    }\n\n    default: {\n      if (dataLength < 3) return null;\n\n      return renderOneLine();\n    }\n  }\n}\n\nexport default renderThoseDamnedLines;\n","import PropTypes from 'prop-types';\nimport './CardsSectionWithLines.scss';\nimport { useEffect, useState } from 'react';\nimport { Paginate, Loader } from '../utils/index';\nimport renderThoseDamnedLines from '../../utils/render-lines';\n\nfunction CardsSectionWithLines({\n  pageCount,\n  children,\n  pageNumber,\n  setPageNumber,\n  sectionClass,\n  isLoading,\n  dataLength,\n  pageSize,\n}) {\n  const [isTablet, setIsTablet] = useState(false);\n\n  useEffect(() => {\n    const tablet = window.matchMedia('(max-width: 900px)');\n\n    const listener = () => {\n      if (tablet.matches) setIsTablet(true);\n      else setIsTablet(false);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader isNested />\n      ) : (\n        <>\n          <section className={`cards-section ${sectionClass}`}>\n            {renderThoseDamnedLines(dataLength, pageSize, isTablet)}\n            {children}\n          </section>\n        </>\n      )}\n\n      {pageCount > 1 && (\n        <Paginate\n          sectionClass=\"cards-section__pagination cards-section__pagination_no-padding\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      )}\n    </>\n  );\n}\n\nCardsSectionWithLines.propTypes = {\n  pageCount: PropTypes.number,\n  children: PropTypes.node,\n  pageNumber: PropTypes.number,\n  setPageNumber: PropTypes.func,\n  sectionClass: PropTypes.string,\n  isLoading: PropTypes.bool,\n  dataLength: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n};\n\nCardsSectionWithLines.defaultProps = {\n  pageCount: 0,\n  children: null,\n  pageNumber: 0,\n  setPageNumber: () => {},\n  sectionClass: '',\n  isLoading: false,\n};\n\nexport default CardsSectionWithLines;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы каталога\nfunction getCatalogPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCatalogPageData;\n","import './CardCatalog.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { TitleH2 } from '../../utils/index';\nimport CardFigure from '../CardFigure/CardFigure';\nimport { staticImageUrl } from '../../../config/config';\n\nfunction CardCatalog({ data: { id, title, image }, shape, sectionClass }) {\n  const link = `/catalog/${id}`;\n  return (\n    <div className={`card-catalog ${sectionClass}`}>\n      <Link to={link} className=\"card-catalog__link-wrap\">\n        <div className=\"card-catalog__image-wrap\">\n          <CardFigure\n            sectionClass=\"card-catalog_type_shaped\"\n            shape={shape}\n            color=\"white\"\n          >\n            <img\n              draggable=\"false\"\n              className=\"card-catalog__image\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n            />\n          </CardFigure>\n        </div>\n        <TitleH2 sectionClass=\"card-catalog__title\" title={title} />\n      </Link>\n    </div>\n  );\n}\n\nCardCatalog.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  image: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardCatalog.defaultProps = {\n  data: {},\n  title: '',\n  shape: 'square',\n  image: '',\n  sectionClass: '',\n};\n\nexport default CardCatalog;\n","import './Catalog.scss';\nimport { useEffect, useState } from 'react';\nimport catalogPageTexts from '../../locales/catalog-page-RU';\nimport {\n  BasePage,\n  TitleH1,\n  TitleH2,\n  CardsSectionWithLines,\n  AnimatedPageContainer,\n  Loader,\n} from './index';\nimport getCatalogPageData from '../../api/catalog-page';\nimport CardCatalog from '../../components/Cards/CardCatalog/CardCatalog';\nimport { ERROR_MESSAGES, FIGURES } from '../../config/constants';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 9,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, subtitle, textStubNoData } =\n  catalogPageTexts;\n\nfunction Catalog() {\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [catalogPageData, setCatalogPageData] = useState([]);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  function getPageData() {\n    const offset = pageSize * pageNumber;\n\n    getCatalogPageData({ limit: pageSize, offset })\n      .then(({ results, count }) => {\n        setCatalogPageData(results);\n        setPageCount(Math.ceil(count / pageSize));\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsLoadingPage(false);\n      });\n  }\n\n  useEffect(() => {\n    if (pageSize) {\n      getPageData();\n    }\n\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  function renderCards() {\n    return (\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        isLoading={isLoadingPaginate}\n        dataLength={catalogPageData.length}\n        pageSize={pageSize}\n      >\n        {catalogPageData.map((item, i) => (\n          <CardCatalog\n            sectionClass=\"cards-section__item scale-in\"\n            key={item?.id}\n            data={item}\n            shape={FIGURES[i % FIGURES.length]}\n          />\n        ))}\n      </CardsSectionWithLines>\n    );\n  }\n\n  function renderPageContent() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    if (!catalogPageData && !isLoadingPage && !isPageError) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <section className=\"catalog page__section fade-in\">\n        <TitleH1 sectionClass=\"catalog__title\" title={title} />\n        <TitleH2 sectionClass=\"catalog__subtitle\" title={subtitle} />\n        {renderCards()}\n      </section>\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {renderPageContent()}\n    </BasePage>\n  );\n}\n\nexport default Catalog;\n","const questionsPageTexts = {\n  headTitle: 'Ответы на вопросы',\n  headDescription: 'Страница с ответами на основные вопросы.',\n  title: 'Ответы на вопросы',\n  textStubNoData:\n    'В данный момент страница вопросов пуста. Возвращайтесь позже!',\n  formPlaceholder: 'Введите вопрос',\n  formSubmitButton: 'Отправить',\n  loadMoreButton: 'Загрузить еще',\n};\n\nexport default questionsPageTexts;\n","const getServerErrors = (serverErrorObj) => {\n  if (!serverErrorObj) {\n    throw Error('Invalid input');\n  }\n\n  return Object.values(serverErrorObj)\n    .map((err) => err)\n    .join(' ')\n    .trim();\n};\n\nexport default getServerErrors;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы\nfunction getQuestionsPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/`, {\n      params: { limit, offset, tags },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получить тагсы (список фильтров)\nfunction getQuestionsPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// постинг вопроса\nfunction postQuestion(question) {\n  return axios\n    .post(`${baseURL}${apiUrl}/questions/`, question)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getQuestionsPageData, getQuestionsPageTags, postQuestion };\n","import './Questions.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport questionsPageTexts from '../../locales/questions-page-RU';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts/index';\nimport { useDebounce, useFormWithValidation } from '../../hooks/index';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_CODES,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport { questionForm, changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport getServerErrors from '../../utils/form-errors';\nimport {\n  BasePage,\n  TitleH1,\n  TitleH2,\n  CardQuestion,\n  Input,\n  Button,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n  Paginate,\n} from './index';\nimport {\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  postQuestion,\n} from '../../api/questions-page';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  textStubNoData,\n  formPlaceholder,\n  formSubmitButton,\n} = questionsPageTexts;\n\nconst validationSettings = {\n  question: {\n    minLength: 10,\n    maxLength: 200,\n  },\n};\n\nconst pageSize = 10;\n\nconst formTransformDelay = 4000;\n\nfunction Questions() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { serverError, setError, clearError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  const { unauthorized, badRequest } = ERROR_CODES;\n  const [isPageError, setIsPageError] = useState(false);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  // определение редиректа с Главной, чтобы показать выбранный вопрос\n  const { state } = useLocation();\n  const chosenQuestion = state?.question;\n\n  // начальная дата с API\n  const [questionsPageData, setQuestionsPageData] = useState(null);\n\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // показывать ли выбранный на главной вопрос\n  const [isChosenQuestionVisible, setIsChosenQuestionVisible] = useState(false);\n  // категории фильтрации, состояние кнопок фильтров\n  const [categories, setCategories] = useState(null);\n\n  // Стейты для пагинации\n  const [pageCount, setPageCount] = useState(0);\n  const [pageIndex, setPageIndex] = useState(0);\n\n  // форма\n  const [questionFormState, setQuestionFormState] = useState(\n    questionForm.beforeSubmit\n  );\n  // валидация\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  // форма вопросов\n  const setFormState = (isError) => {\n    if (isError) {\n      // форму не чистим!\n      setQuestionFormState(questionForm.errorSubmit);\n    } else {\n      setQuestionFormState(questionForm.successSubmit);\n      // вернулись к изначальной\n      setTimeout(() => {\n        resetForm();\n        clearError();\n        setQuestionFormState(questionForm.beforeSubmit);\n      }, formTransformDelay);\n    }\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const { question } = values;\n    postQuestion({ title: question })\n      .then(() => setFormState(false))\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized)\n          setError(err?.data);\n        else setFormState(true);\n      });\n  };\n\n  // хэндлер клика по фильтру\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // фильтрация\n  const getActiveCategories = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getQuestionsData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageIndex;\n    const activeTags = activeCategories || getActiveCategories();\n\n    getQuestionsPageData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        setQuestionsPageData(results);\n        setIsChosenQuestionVisible(false);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveCategories();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getQuestionsData(activeCategories);\n    }\n  };\n\n  // фильтры/пагинация\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getQuestionsData, DELAY_DEBOUNCE);\n\n  // фильтрация\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // пагинация\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageIndex]);\n\n  // API, первая загрузка\n  useEffect(() => {\n    Promise.all([\n      getQuestionsPageData({ limit: pageSize }),\n      getQuestionsPageTags(),\n    ])\n      .then(([{ results, count }, tags]) => {\n        setPageCount(Math.ceil(count / pageSize));\n\n        if (chosenQuestion) {\n          setIsChosenQuestionVisible(true);\n          const filteredResult = results.filter(\n            (question) => question.id !== chosenQuestion.id\n          );\n          setQuestionsPageData(filteredResult);\n        } else setQuestionsPageData(results);\n\n        const categoriesArr = tags.map((tag) => {\n          const filterName = changeCaseOfFirstLetter(tag?.name);\n          return {\n            isActive: false,\n            name: filterName,\n            filter: tag?.slug,\n          };\n        });\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsLoadingPage(false));\n  }, []);\n\n  // рендеринг\n  // заглушка, если нет даты или ошибка\n  const renderAnimatedContainer = () => (\n    <AnimatedPageContainer\n      titleText={\n        isPageError ? ERROR_MESSAGES.generalErrorMessage.title : textStubNoData\n      }\n    />\n  );\n\n  // форма вопросов\n  const renderQuestionForm = () => (\n    <>\n      <section className=\"add-question fade-in\">\n        <TitleH2\n          sectionClass={`add-question__title ${questionFormState.titleClass}`}\n          title={questionFormState.title}\n        />\n        <form\n          className={`question-form ${questionFormState.formVisibilityClass}`}\n          onSubmit={(evt) => handleSubmit(evt)}\n          noValidate\n        >\n          <fieldset className=\"question-form__add-question\">\n            <Input\n              id=\"questionsFormInput\"\n              type=\"text\"\n              name=\"question\"\n              placeholder={formPlaceholder}\n              onChange={handleChange}\n              value={values?.question}\n              minLength={validationSettings.question.minLength}\n              maxLength={validationSettings.question.maxLength}\n              required\n              error={errors?.question}\n              sectionClass=\"input__question-form\"\n            />\n            <Button\n              title={formSubmitButton}\n              color=\"black\"\n              sectionClass=\"question-form__button\"\n              isSubmittable\n              isDisabled={!isValid}\n            />\n          </fieldset>\n          <span className=\"form-error-message\">{errorsString}</span>\n        </form>\n      </section>\n    </>\n  );\n\n  const renderChosenQuestion = () => {\n    if (state?.fromMainPage && isChosenQuestionVisible) {\n      return (\n        <li className=\"questions__list-item fade-in\" key={chosenQuestion.id}>\n          <CardQuestion\n            data={chosenQuestion}\n            sectionClass=\"card__questions_type_questions-page\"\n            isQuestionsPage\n            isOpenByDefault\n          />\n        </li>\n      );\n    }\n\n    return null;\n  };\n\n  const renderQuestionsContainer = () => (\n    <>\n      <ul className=\"questions\">\n        {renderChosenQuestion()}\n        {questionsPageData.map((question) => (\n          <li\n            className=\"questions__list-item slide-bottom-up\"\n            key={question?.id}\n          >\n            <CardQuestion\n              data={question}\n              sectionClass=\"card__questions_type_questions-page\"\n              isQuestionsPage\n            />\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n\n  const renderQuestionsWithPaginate = () => {\n    if (isFiltersUsed) {\n      return <Loader isNested />;\n    }\n    return (\n      <>\n        {isLoadingPaginate ? <Loader isNested /> : renderQuestionsContainer()}\n\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageIndex}\n            onChange={setPageIndex}\n          />\n        )}\n      </>\n    );\n  };\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (questionsPageData?.length > 0) {\n      return (\n        <>\n          <TitleH1 title={title} sectionClass=\"questions__title\" />\n\n          {categories?.length > 1 && (\n            <TagsList\n              filterList={categories}\n              name=\"tag\"\n              handleClick={changeCategory}\n            />\n          )}\n\n          {renderQuestionsWithPaginate()}\n\n          {currentUser && renderQuestionForm()}\n        </>\n      );\n    }\n\n    // залогинен и нет вопросов, покажем заглушку\n    const isDataForPage = questionsPageData?.length > 1;\n    if (isPageError || !isDataForPage) {\n      return renderAnimatedContainer();\n    }\n\n    return null;\n  };\n\n  // глобальный лоадер\n  if ((!questionsPageData || !categories) && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"questions-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Questions;\n","const placesPageTexts = {\n  headTitle: 'Куда пойти',\n  headDescription: 'Куда вы можете пойти, что рекомендуют наши наставники.',\n  title: 'Куда пойти',\n  textStubNoData:\n    'Рекомендуемых мест для выбранного города ещё нет, но они обязательно появятся!',\n  paragraphNoContent: 'По вашему запросу ничего не нашлось.',\n  mentorTag: 'Выбор наставников',\n  ageFilterNames: [\n    { filter: '8-10', name: '8-10 лет' },\n    { filter: '11-13', name: '11-13 лет' },\n    { filter: '14-17', name: '14-17 лет' },\n    { filter: '18', name: '18+ лет' },\n  ],\n};\n\nexport default placesPageTexts;\n","import placesPageTexts from '../../locales/places-page-RU';\n\nconst { ageFilterNames } = placesPageTexts;\n\nexport const ageFilters = [\n  {\n    filter: ageFilterNames[0].filter,\n    name: ageFilterNames[0].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[1].filter,\n    name: ageFilterNames[1].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[2].filter,\n    name: ageFilterNames[2].name,\n    isActive: false,\n  },\n  {\n    filter: ageFilterNames[3].filter,\n    name: ageFilterNames[3].name,\n    isActive: false,\n  },\n];\n\nexport const PAGE_SIZE_PAGINATE = {\n  small: 8,\n  medium: 12,\n  big: 12,\n};\n","const texts = {\n  closeButtonlabel: 'Закрыть форму',\n  recommendadionTextPart1: `Если вы были в интересном месте и хотите порекомендовать его другим${'\\u00A0'}наставникам –${'\\u00A0'}`,\n  recommendadionButton: `заполните${'\\u00A0'}форму`,\n  recommendadionTextPart2: `, и мы добавим вашу${'\\u00A0'}рекомендацию.`,\n};\n\nexport default texts;\n","const texts = {\n  titlePlaceholder: 'Название*',\n  linkPlaceholder: 'Сайт',\n  addressPlaceholder: 'Адрес*',\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  agePlaceholder: 'Возраст*',\n  activityPlaceholder: 'Тип отдыха*',\n  cityPlaceholder: 'Город*',\n  descPlaceholder:\n    'Комментарий* Поделитесь впечатлениями о проведенном времени',\n  descPlaceholderMobile: 'Комментарий*',\n  buttonText: 'Отправить',\n  addPhotoBtnDefault: 'Добавить фото',\n  addPhotoBtnChange: 'Изменить',\n  addPhotoAdded: 'Фото добавлено',\n};\n\nexport default texts;\n","import './FormRecommendation.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { CitiesContext, ErrorsContext } from '../../contexts/index';\nimport { regExpImages } from '../../config/constants';\nimport { useFormWithValidation } from '../../hooks/index';\nimport { Input, Button, ButtonRound, DropDownSelect } from '../utils/index';\n\nconst {\n  titlePlaceholder,\n  linkPlaceholder,\n  addressPlaceholder,\n  genderMale,\n  genderFemale,\n  agePlaceholder,\n  activityPlaceholder,\n  cityPlaceholder,\n  descPlaceholder,\n  descPlaceholderMobile,\n  buttonText,\n  addPhotoBtnDefault,\n  addPhotoBtnChange,\n  addPhotoAdded,\n} = texts;\n\nconst validationSettings = {\n  title: {\n    minLength: 5,\n    maxLength: 50,\n  },\n  address: {\n    minLength: 5,\n    maxLength: 50,\n  },\n  age: {\n    min: 8,\n    max: 25,\n  },\n  description: {\n    maxLength: 200,\n  },\n};\n\nfunction FormRecommendation({ isOpen, onSubmit, activityTypes }) {\n  const [textAreaPlaceholder, setTextAreaPlaceholder] = useState('');\n\n  useEffect(() => {\n    const tablet = window.matchMedia('(max-width: 900px)');\n\n    const listener = () => {\n      if (tablet.matches) setTextAreaPlaceholder(descPlaceholderMobile);\n      else setTextAreaPlaceholder(descPlaceholder);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  const { cities } = useContext(CitiesContext);\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const [isAnimated, setIsAnimated] = useState(false);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onSubmit(values);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      resetForm();\n      setTimeout(() => {\n        setIsAnimated(true);\n      }, 600);\n    } else {\n      setIsAnimated(false);\n    }\n    clearError();\n  }, [isOpen]);\n\n  const formClassNames = [\n    'form-recom',\n    isOpen ? 'form-recom_opened' : '',\n    isAnimated ? 'form-recom_animated' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <form\n      className={formClassNames}\n      name=\"formRecomendation\"\n      onSubmit={handleSubmit}\n      noValidate\n    >\n      {isOpen && (\n        <>\n          <div className=\"form-recom__input-container\">\n            <Input\n              id=\"formRecommendTitle\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium form-recom__input-wrap_indentation\"\n              type=\"text\"\n              name=\"title\"\n              placeholder={titlePlaceholder}\n              onChange={handleChange}\n              value={values.title}\n              required\n              minLength={validationSettings.title.minLength}\n              maxLength={validationSettings.title.maxLength}\n              error={errors?.title}\n            />\n\n            <Input\n              id=\"formRecommendLink\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium\"\n              type=\"text\"\n              name=\"link\"\n              placeholder={linkPlaceholder}\n              onChange={handleChange}\n              value={values.link}\n              error={errors?.link}\n            />\n          </div>\n\n          <Input\n            id=\"formRecommendAddress\"\n            sectionClass=\"form-recom__input-wrap\"\n            type=\"text\"\n            name=\"address\"\n            placeholder={addressPlaceholder}\n            onChange={handleChange}\n            value={values.address}\n            required\n            minLength={validationSettings.address.minLength}\n            maxLength={validationSettings.address.maxLength}\n            error={errors?.address}\n          />\n\n          <div className=\"form-recom__input-container\">\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationBoy\"\n            >\n              <input\n                id=\"formRecommendationBoy\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"male\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderMale}\n              </span>\n            </label>\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationGirl\"\n            >\n              <input\n                id=\"formRecommendationGirl\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"female\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderFemale}\n              </span>\n            </label>\n\n            <Input\n              id=\"formRecommendAge\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_narrow\"\n              type=\"number\"\n              name=\"age\"\n              placeholder={agePlaceholder}\n              onChange={handleChange}\n              value={values.age}\n              required\n              max={validationSettings.age.max}\n              min={validationSettings.age.min}\n              error={errors?.age}\n            />\n          </div>\n\n          <DropDownSelect\n            placeholder={activityPlaceholder}\n            options={activityTypes}\n            inputName=\"activityType\"\n            onChange={handleChange}\n            error={errors?.activityType}\n            isFormOpen={isOpen}\n          />\n\n          <DropDownSelect\n            placeholder={cityPlaceholder}\n            options={cities}\n            inputName=\"city\"\n            onChange={handleChange}\n            error={errors?.city}\n            isFormOpen={isOpen}\n          />\n\n          <Input\n            id=\"formRecommendDescription\"\n            sectionClass=\"form-recom__input form-recom__input_textarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={textAreaPlaceholder}\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength={validationSettings.description.maxLength}\n            error={errors?.description}\n            isTextarea\n          />\n\n          <span className=\"form-error-message\">{errorsString}</span>\n\n          <div className=\"form-recom__submit-zone\">\n            <div className=\"form-recom__add-photo\">\n              {errors?.image && (\n                <span className=\"form-recom__add-photo-error\">\n                  {errors?.image}\n                </span>\n              )}\n              <div className=\"form-recom__add-photo-container\">\n                {values?.image && (\n                  <span className=\"form-recom__add-photo-span form-recom__add-photo-span_text\">\n                    {addPhotoAdded}\n                  </span>\n                )}\n                <label\n                  className=\"form-recom__add-photo-label\"\n                  htmlFor=\"formRecomInputUpload\"\n                >\n                  <input\n                    id=\"formRecomInputUpload\"\n                    type=\"file\"\n                    name=\"image\"\n                    accept=\"image/png, image/jpeg\"\n                    className=\"form-recom__input-radio\"\n                    onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n                    required\n                  />\n                  {!values?.image && (\n                    <ButtonRound\n                      sectionClass={`form-recom__add-photo-btn ${\n                        errors?.image ? 'form-recom__add-photo-btn_error' : ''\n                      }`}\n                      color={`${errors?.image ? 'error' : 'lightGray'}`}\n                      isSmall\n                      isSpan\n                    />\n                  )}\n                  <span\n                    className={`form-recom__add-photo-span ${\n                      errors?.image ? 'form-recom__add-photo-span_error' : ''\n                    }`}\n                  >\n                    {values?.image ? addPhotoBtnChange : addPhotoBtnDefault}\n                  </span>\n                </label>\n              </div>\n            </div>\n\n            <Button\n              title={buttonText}\n              color=\"blue\"\n              isDisabled={!isValid}\n              isSubmittable\n            />\n          </div>\n        </>\n      )}\n    </form>\n  );\n}\n\nFormRecommendation.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  isOpen: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nFormRecommendation.defaultProps = {\n  activityTypes: [],\n  isOpen: false,\n  onSubmit: () => {},\n};\n\nexport default FormRecommendation;\n","import './PlacesRecommend.scss';\nimport { useState, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext, ErrorsContext } from '../../contexts/index';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport FormRecommendation from '../FormRecommendation/FormRecommendation';\nimport { postPlace } from '../../api/places-page';\n\nfunction PlacesRecommend({ sectionClass, activityTypes }) {\n  const { openPopupRecommendSuccess } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n  };\n\n  const openForm = () => {\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data.link) formData.append('link', data.link);\n    formData.append('image', data.image);\n    formData.append('title', data.title);\n    formData.append('description', data.description);\n    formData.append('address', data.address);\n    formData.append('gender', data.gender);\n    formData.append('age', data.age);\n    formData.append('city', data.city);\n    formData.append('activityType', data.activityType);\n    return formData;\n  };\n\n  const handleFormSubmit = (data) => {\n    postPlace(createFormData(data))\n      .then(() => {\n        openPopupRecommendSuccess(true);\n        closeForm();\n      })\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized) {\n          setError(err?.data);\n        } else\n          setError({\n            message: generalErrorMessage.title,\n          });\n      });\n  };\n\n  const classNames = [\n    'recommendation',\n    'recommendation_place_page',\n    'fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <>\n      <section className={classNames} ref={scrollAnchorRef}>\n        <div className=\"recommendation__container\">\n          {isFormOpen && (\n            <button\n              className=\"recommendation__close-button\"\n              type=\"button\"\n              aria-label={texts.closeButtonlabel}\n              onClick={closeForm}\n            />\n          )}\n          <p className=\"section-title recommendation__text\">\n            {texts.recommendadionTextPart1}\n            <button\n              className=\"recommendation__text-link\"\n              type=\"button\"\n              onClick={openForm}\n            >\n              {texts.recommendadionButton}\n            </button>\n            {texts.recommendadionTextPart2}\n          </p>\n          <FormRecommendation\n            isOpen={isFormOpen}\n            onSubmit={handleFormSubmit}\n            activityTypes={activityTypes}\n          />\n        </div>\n      </section>\n    </>\n  );\n}\n\nPlacesRecommend.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n};\n\nPlacesRecommend.defaultProps = {\n  activityTypes: [],\n  sectionClass: '',\n};\n\nexport default PlacesRecommend;\n","import './Places.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport placesPageTexts from '../../locales/places-page-RU';\nimport { ageFilters, PAGE_SIZE_PAGINATE } from './constants';\nimport {\n  CurrentUserContext,\n  PopupsContext,\n  ErrorsContext,\n} from '../../contexts/index';\nimport {\n  useDebounce,\n  useActivityTypes,\n  useLocalStorage,\n} from '../../hooks/index';\nimport {\n  COLORS,\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  DELAY_RENDER,\n  localStUserCity,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n  deselectAllTags,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  BasePage,\n  TitleH1,\n  CardPlace,\n  PlacesRecommend,\n  AnimatedPageContainer,\n  Loader,\n  TagsList,\n  NoDataNotificationBox,\n  Paginate,\n} from './index';\nimport {\n  getPlaces,\n  getPlacesTags,\n  getChosenPlace,\n} from '../../api/places-page';\n\nconst {\n  headTitle,\n  headDescription,\n  title,\n  textStubNoData,\n  paragraphNoContent,\n  mentorTag,\n} = placesPageTexts;\n\nfunction Places() {\n  const activityTypes = useActivityTypes();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupError } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n\n  const getLocalStorageItem = useLocalStorage(localStUserCity);\n\n  // сохранённый в localStorage город анонимуса\n  const currentAnonymousCity = getLocalStorageItem();\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  // места из API\n  const [places, setPlaces] = useState(null);\n  const [chosenPlace, setChosenPlace] = useState(null);\n  const [isChosenOnPageOne, setIsChosenOnPageOne] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // переход между фильтрами, лоадер\n  const [isLoadingFilters, setIsLoadingFilters] = useState(false);\n  // переход пагинаций без фильтров, лоадер\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // переход между городами, лоадер\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  // триггер фильтра для useEffect\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // видна ли главная карточка\n  const [isChosenCardHidden, setIsChosenCardHidden] = useState(false);\n  // стейт для определения первой отрисовки страницы (нужен при отсутствии данных)\n  const [isFirstRender, setIsFirstRender] = useState(false);\n  // категории фильтрации\n  const [ages, setAges] = useState(ageFilters); // состояние кнопок фильтра возраста\n  const [categories, setCategories] = useState([]); // состояние кнопок фильтра категорий\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Резайз пагинации при первой загрузке\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1024px)');\n    const largeQuery = window.matchMedia('(max-width: 1279px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // хэндлер клика по фильтру КАТЕГОРИИ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      deselectAllTags(setAges);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // хэндлер клика по фильтру ВОЗРАСТ\n  const changeAge = (inputValue, isChecked) => {\n    handleCheckboxBehavior(setAges, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Выбор наставника\"\n  const defineCategories = (tags, chosenPlaceData) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n    if (chosenPlaceData) {\n      return [\n        { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n        { filter: mentorTag, name: mentorTag, isActive: false },\n        ...categoriesArray,\n      ];\n    }\n    return [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n  };\n\n  // restOfPlaces - массив без главной карточки\n  const definePlaces = (placesData, isFiltered, mainCard) => {\n    const chosenCard = mainCard || chosenPlace;\n    let restOfPlaces = placesData;\n\n    // главная\n    if (pageNumber === 0 && !isFiltered) {\n      if (chosenCard?.chosen && !isFiltered) {\n        restOfPlaces = restOfPlaces.filter(\n          (place) => place?.id !== chosenCard?.id\n        );\n        if (restOfPlaces.length !== placesData.length) {\n          setIsChosenOnPageOne(true);\n        } else restOfPlaces.pop();\n      }\n      if (restOfPlaces.length === placesData.length) {\n        restOfPlaces.pop();\n      }\n    }\n    return { restOfPlaces };\n  };\n\n  const defineActiveTags = () => {\n    const activeCategories = categories.filter(\n      (category) => category.isActive && category.filter !== ALL_CATEGORIES\n    );\n\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== mentorTag)\n      .map((tag) => tag.filter)\n      .join(',');\n\n    const activeAges = ages\n      .filter((age) => age.isActive)\n      .map((age) => age.filter)\n      .join(',');\n\n    const isMentorFlag = activeCategories.some(\n      (tag) => tag.filter === mentorTag\n    );\n\n    return {\n      activeCategories,\n      activeTags,\n      activeAges,\n      isMentorFlag,\n    };\n  };\n\n  // запрос отфильтрованного массива карточек\n  const getFilteredPlaces = (params, isFiltersActive) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n\n    const fixedPageSize =\n      pageNumber === 0 && !isFiltersActive ? pageSize + 1 : pageSize;\n\n    const fixedOffset =\n      pageNumber > 0 && chosenPlace && isChosenOnPageOne && !isFiltersActive\n        ? offset + 1\n        : offset;\n\n    getPlaces({ limit: fixedPageSize, offset: fixedOffset, ...params })\n      .then(({ results, count }) => {\n        if (chosenPlace && !isFiltersActive) {\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          setPageCount(Math.ceil(count / pageSize));\n        }\n\n        const { restOfPlaces } = definePlaces(results, isFiltersActive);\n\n        if (pageNumber > 0 || isFiltersActive) {\n          setIsChosenCardHidden(true);\n        }\n\n        setPlaces(restOfPlaces);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingFilters(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  // функция-фильтратор\n  const handleFiltration = () => {\n    setIsFirstRender(false);\n\n    const { activeCategories, activeTags, activeAges, isMentorFlag } =\n      defineActiveTags();\n\n    // ВСЕ\n    if (activeCategories.length === 0) {\n      if (activeAges.length === 0) {\n        // + БЕЗ ВОЗРАСТА (по умолчанию)\n        getFilteredPlaces(\n          {\n            city: userCity,\n          },\n          false\n        );\n        setIsChosenCardHidden(false);\n      } else {\n        // + ВОЗРАСТ\n        getFilteredPlaces(\n          {\n            age_restriction: activeAges,\n            city: userCity,\n          },\n          true\n        );\n      }\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      return;\n    }\n\n    // КАТЕГОРИИ + ВОЗРАСТ (или без него)\n    if (activeCategories.length > 0) {\n      getFilteredPlaces(\n        {\n          chosen: isMentorFlag,\n          tags: activeTags,\n          age_restriction: activeAges,\n          city: userCity,\n        },\n        true\n      );\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePagination = useDebounce(getFilteredPlaces, DELAY_DEBOUNCE);\n  // запуск фильтрации\n  useEffect(() => {\n    if (!isLoadingPage && isFiltersUsed) {\n      setIsLoadingFilters(true);\n      debounceFiltration();\n    }\n    setIsLoadingPage(false);\n  }, [isFiltersUsed, pageNumber]);\n\n  // запуск пагинации\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      const { activeTags, activeAges, isMentorFlag } = defineActiveTags();\n      // для пагинации, чтобы сохранить настройки фильтров\n      const predefinedParams = {\n        chosen: isMentorFlag,\n        tags: activeTags,\n        age_restriction: activeAges,\n        city: userCity,\n      };\n\n      if (!activeTags && !activeAges && !isMentorFlag) {\n        if (pageNumber === 0) setIsChosenCardHidden(false);\n        debouncePagination(predefinedParams, false);\n      } else {\n        debouncePagination(predefinedParams, true);\n      }\n\n      setIsLoadingPaginate(true);\n    }\n  }, [pageNumber]);\n\n  // Promise.all нужен для формирования тега \"Выбор наставников\" по метке на карточках\n  useEffect(() => {\n    if (userCity && pageSize) {\n      window.scroll({ top: 0 });\n      setIsFirstRender(true);\n      setIsCityChanging(true);\n      setIsChosenCardHidden(false);\n      setChosenPlace(null);\n      setPlaces(null);\n      deselectAllTags(setAges);\n\n      Promise.all([\n        getChosenPlace({ city: userCity }),\n        getPlaces({\n          city: userCity,\n          limit: pageSize + 1,\n        }),\n        getPlacesTags(),\n      ])\n        .then(([mainCard, { results, count }, tagsData]) => {\n          if (mainCard?.chosen) {\n            setChosenPlace(mainCard);\n          }\n          // стейт главной карточки не успевает обновиться, поэтому передаем аргументом\n          // второй агрумент - это используется ли фильтр или пагинация\n          const { restOfPlaces } = definePlaces(results, false, mainCard);\n          setPlaces(restOfPlaces);\n\n          if (mainCard?.chosen) {\n            setPageCount(Math.ceil((count - 1) / pageSize));\n          } else {\n            setPageCount(Math.ceil(count / pageSize));\n          }\n\n          setCategories(defineCategories(tagsData, mainCard?.chosen));\n        })\n        .catch(() => setIsPageError(true))\n        .finally(() => setIsCityChanging(false));\n    }\n  }, [userCity, pageSize]);\n\n  useEffect(() => {\n    if (!userCity) {\n      setTimeout(() => {\n        openPopupCities();\n      }, DELAY_RENDER);\n    }\n  }, []);\n\n  // функции рендера\n  const renderAnimatedContainer = () => (\n    <>\n      {!isCityChanging ? (\n        <>\n          <AnimatedPageContainer titleText={textStubNoData} />\n          {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n        </>\n      ) : (\n        <Loader isNested />\n      )}\n    </>\n  );\n\n  function renderPagination() {\n    if (pageCount > 1) {\n      return (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      );\n    }\n    return null;\n  }\n\n  const renderPlaces = () => {\n    if (isChosenCardHidden && places?.length === 0) {\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContent}\n          sectionClass=\"no-data-text_padding-top\"\n        />\n      );\n    }\n\n    if (chosenPlace || places?.length > 0) {\n      return (\n        <>\n          {chosenPlace && !isChosenCardHidden && !isLoadingPaginate && (\n            <section className=\"places__main\">\n              <CardPlace\n                key={chosenPlace?.id}\n                data={chosenPlace}\n                activityTypes={activityTypes}\n                sectionClass=\"card-container_type_main-article scale-in\"\n                isBig\n              />\n            </section>\n          )}\n\n          {!isLoadingPaginate ? (\n            <section className=\"places__cards-grid\">\n              {places.map((place, i) => (\n                <CardPlace\n                  key={place?.id}\n                  data={place}\n                  activityTypes={activityTypes}\n                  color={COLORS[(i + 1) % COLORS.length]}\n                  sectionClass=\"card-container_type_article scale-in\"\n                />\n              ))}\n            </section>\n          ) : (\n            <Loader isNested />\n          )}\n          {renderPagination()}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    if (isFirstRender && !chosenPlace && places?.length === 0) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"places__title\" />\n        {!isCityChanging ? (\n          <>\n            <TagsList\n              filterList={categories}\n              name=\"categories\"\n              handleClick={changeCategory}\n            />\n            <TagsList\n              filterList={ages}\n              name=\"ages\"\n              handleClick={changeAge}\n              sectionClass=\"places__tags\"\n            />\n            {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n\n            {!isLoadingFilters ? renderPlaces() : <Loader isNested />}\n          </>\n        ) : (\n          <Loader isNested />\n        )}\n      </>\n    );\n  };\n\n  if (!places) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"places page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Places;\n","const rightsPageTexts = {\n  headTitle: 'Права детей',\n  headDescription: 'Информационные рубрики о правах детей',\n  title: 'Права детей',\n  textStubNoData:\n    'В данный момент страница со статьями о правах детей пуста. Возвращайтесь позже!',\n};\n\nexport default rightsPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение всех \"прав\" на странице Права\nfunction getRightsData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий прав (список фильтров)\nfunction getRightsTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение Статьи для страницы Права Детей\nfunction getRightsArticle(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getRightsData, getRightsTags, getRightsArticle };\n","import React from 'react';\nimport './CardRights.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Rubric } from '../../utils/index';\nimport CardFigure from '../CardFigure/CardFigure';\n\nfunction CardRights({ title, tags, shape, color, sectionClass, id }) {\n  return (\n    <div className={`rights-card ${sectionClass}`}>\n      <Link to={`/rights/${id}`} className=\"rights-card__link\">\n        <CardFigure\n          shape={shape}\n          title={title}\n          color={color}\n          sectionClass=\"rights-card__card\"\n        >\n          <div className=\"rights-card__block\">\n            {tags.map((tag) => (\n              <Rubric\n                key={tag.id}\n                sectionClass=\"rights-card__rubric\"\n                title={tag.name}\n              />\n            ))}\n          </div>\n        </CardFigure>\n      </Link>\n    </div>\n  );\n}\n\nCardRights.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  tags: PropTypes.arrayOf(Array),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  id: PropTypes.number,\n};\n\nCardRights.defaultProps = {\n  title: '',\n  shape: 'square',\n  tags: [],\n  color: '',\n  sectionClass: '',\n  id: 0,\n};\n\nexport default CardRights;\n","import React, { useState, useEffect, useContext } from 'react';\nimport rightsPageTexts from '../../locales/rights-page-RU';\nimport './Rights.scss';\nimport {\n  ALL_CATEGORIES,\n  FIGURES,\n  COLORS,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { useDebounce } from '../../hooks/index';\nimport { getRightsData, getRightsTags } from '../../api/rights-page';\nimport {\n  BasePage,\n  Loader,\n  TitleH1,\n  CardRights,\n  CardsSectionWithLines,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = rightsPageTexts;\n\nconst Rights = () => {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [articles, setArticles] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // Фильтры страницы\n  const renderTagsContainer = () => {\n    if (articles && !isLoadingPage) {\n      return (\n        <TagsList\n          filterList={categories}\n          name=\"rights\"\n          handleClick={changeCategory}\n        />\n      );\n    }\n    return null;\n  };\n\n  // Карточки с видео страницы\n  const renderCards = () => (\n    <>\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        isLoading={isLoadingPaginate}\n        dataLength={articles.length}\n        pageSize={pageSize}\n      >\n        {articles.map((item, i) => (\n          <CardRights\n            key={item?.id}\n            sectionClass=\"cards-section__item scale-in\"\n            title={item?.title}\n            tags={item?.tags}\n            shape={FIGURES[i % FIGURES.length]}\n            color={COLORS[i % COLORS.length]}\n            id={item?.id}\n          />\n        ))}\n      </CardsSectionWithLines>\n    </>\n  );\n\n  // Контент страницы\n  const renderMainContent = () => {\n    if ((!articles && !isLoadingPage) || (!categories && !isLoadingPage)) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return isFiltersUsed ? <Loader isNested /> : renderCards();\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getArticlesData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getRightsData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setArticles(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  // Промис олл для плавного отображения\n  const getFirstPageData = () => {\n    Promise.all([\n      getRightsTags(),\n      getRightsData({\n        limit: pageSize,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        setPageCount(Math.ceil(count / pageSize));\n        setArticles(results);\n\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getArticlesData(activeCategories);\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getArticlesData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (isLoadingPage && pageSize) {\n      getFirstPageData();\n    }\n\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  // Резайз пагинации при первой загрузке\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"rights page__section fade-in\">\n        {isPageError ? (\n          <AnimatedPageContainer\n            titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          />\n        ) : (\n          <>\n            <TitleH1 title={title} sectionClass=\"rights__title\" />\n            {categories?.length > 1 && renderTagsContainer()}\n            {renderMainContent()}\n          </>\n        )}\n      </section>\n    </BasePage>\n  );\n};\n\nexport default Rights;\n","const moviesPageTexts = {\n  headTitle: 'Фильмы',\n  headDescription:\n    'Подборка фильмов, которые можно посмотреть, с аннотацией к ним.',\n  title: 'Фильмы',\n  textStubNoData:\n    'В данный момент страница c фильмами пуста. Возвращайтесь позже!',\n};\n\nexport default moviesPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей фильмы\nfunction getMoviesPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getMoviesPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getMoviesPageData, getMoviesPageFilter };\n","import './Movies.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport moviesPageTexts from '../../locales/movies-page-RU';\nimport { useDebounce } from '../../hooks/index';\nimport { getMoviesPageData, getMoviesPageFilter } from '../../api/movies-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardFilm,\n  CardAnnotation,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport Paginate from '../../components/utils/Paginate/Paginate';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { ErrorsContext, PopupsContext } from '../../contexts/index';\n\nconst PAGE_SIZE_PAGINATE = {\n  mobile: 8,\n  tablet: 8,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = moviesPageTexts;\n\nfunction Movies() {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейты с данными Фильмов, Теги\n  const [moviesPageData, setMoviesPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  const getMoviesData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getMoviesPageData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setMoviesPageData(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const getMoviesFilter = () => {\n    getMoviesPageFilter()\n      .then((tags) => {\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true));\n  };\n\n  // хэндлер клика по фильтру КАТЕГОРИЯ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getMoviesData(activeCategories);\n    }\n  };\n\n  /// Фильтрация с делэем\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getMoviesData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Первая отрисовка страницы + переход по страницам пагинации\n  useEffect(() => {\n    if (isLoading && pageSize) {\n      getMoviesData();\n      getMoviesFilter();\n    }\n\n    if (!isLoading && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const mobileQuery = window.matchMedia('(max-width: 900px)');\n    const smallQuery = window.matchMedia('(max-width: 1216px)');\n    const largeQuery = window.matchMedia('(max-width: 1451px)');\n\n    const listener = () => {\n      if (mobileQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.mobile);\n      } else if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.tablet);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n    mobileQuery.addEventListener('change', listener);\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      mobileQuery.removeEventListener('change', listener);\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // контейнер с фильмами\n  const renderMoviesContainer = () => {\n    if (!moviesPageData && !isLoading) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        {isLoadingPaginate ? (\n          <Loader isNested />\n        ) : (\n          <ul className=\"movies__cards cards-grid cards-grid_content_small-cards fade-in\">\n            {moviesPageData.map((movie) => (\n              <li className=\"card-container scale-in\" key={movie.id}>\n                <CardFilm data={movie} />\n                <CardAnnotation description={movie.annotation} />\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageNumber}\n            onChange={setPageNumber}\n          />\n        )}\n      </>\n    );\n  };\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"movies__title\" />\n\n        {/* рендер фильтров */}\n        {categories?.length > 1 && (\n          <TagsList\n            filterList={categories}\n            name=\"tag\"\n            handleClick={changeCategory}\n          />\n        )}\n\n        {/* рендерим фильмы */}\n        {isFiltersUsed ? <Loader isNested /> : renderMoviesContainer()}\n      </>\n    );\n  };\n\n  // глобальный лоадер\n  if (isLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"movies page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Movies;\n","const articlesPageTexts = {\n  headTitle: 'Статьи',\n  headDescription: 'Статьи, которые рекомендуют наши наставники.',\n  title: 'Статьи',\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default articlesPageTexts;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import './CardArticle.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport { TitleH2, Card, Caption } from '../../utils/index';\n\nfunction CardArticle({\n  data: { title, info, annotation, image, articleUrl },\n  isMain,\n  color,\n  sectionClass,\n}) {\n  const classNames = [\n    'card-container',\n    isMain\n      ? 'card-container_type_main-article'\n      : 'card-container_type_article fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n  const cardColor = isMain ? 'yellow' : color;\n\n  return (\n    <article className={classNames}>\n      <Card\n        sectionClass={`article-card ${isMain ? 'article-card_main' : ''}`}\n        color={cardColor}\n      >\n        <div className=\"article-card__title-wrap\">\n          <a\n            draggable=\"false\"\n            href={articleUrl}\n            className=\"article-card__link-wrap\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <TitleH2 sectionClass=\"article-card__title\" title={title} />\n          </a>\n          <Caption sectionClass=\"article-card__info\" title={info} />\n        </div>\n\n        {isMain && (\n          <div className=\"article-card__link-wrap article-card__link-wrap_content_article-img\">\n            <img\n              draggable=\"false\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n              className=\"article-card__image image-scale\"\n            />\n          </div>\n        )}\n\n        <a\n          draggable=\"false\"\n          href={articleUrl}\n          className=\"link article-card__link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {texts.linkText}\n        </a>\n      </Card>\n      <CardAnnotation description={annotation} isMain={isMain} />\n    </article>\n  );\n}\n\nCardArticle.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  info: PropTypes.string,\n  image: PropTypes.string,\n  articleUrl: PropTypes.string,\n  annotation: PropTypes.string,\n  color: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardArticle.defaultProps = {\n  data: {},\n  title: '',\n  info: '',\n  image: '',\n  articleUrl: '',\n  annotation: '',\n  color: 'white',\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardArticle;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getArticlesPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/articles/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getArticlesPageData;\n","import './Articles.scss';\nimport { useEffect, useState } from 'react';\nimport articlesPageTexts from '../../locales/articles-page-RU';\nimport { COLORS, ERROR_MESSAGES } from '../../config/constants';\nimport {\n  BasePage,\n  TitleH1,\n  CardArticle,\n  Paginate,\n  AnimatedPageContainer,\n  Loader,\n} from './index';\nimport getArticlesPageData from '../../api/articles-page';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 8,\n  big: 12,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = articlesPageTexts;\n\nfunction Articles() {\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [articlesPageData, setArticlesPageData] = useState(null);\n  const [mainArticle, setMainCard] = useState(null);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  function getPageData() {\n    const offset = pageSize * pageNumber;\n    const fixedPageSize =\n      pageNumber === 0 && mainArticle ? pageSize + 1 : pageSize;\n    const fixedOffset = pageNumber > 0 && mainArticle ? offset + 1 : offset;\n\n    getArticlesPageData({ limit: fixedPageSize, offset: fixedOffset })\n      .then(({ results }) => {\n        if (pageNumber === 0 && mainArticle) {\n          setArticlesPageData(() =>\n            results.filter((item) => !item?.pinnedFullSize)\n          );\n        } else setArticlesPageData(results);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n      });\n  }\n\n  // пагинация\n  useEffect(() => {\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n      getPageData();\n    }\n  }, [pageNumber]);\n\n  useEffect(() => {\n    if (pageSize) {\n      getArticlesPageData({ limit: pageSize + 1 })\n        .then(({ results, count }) => {\n          const articlesData = results;\n          const mainCard = articlesData.find((item) => item?.pinnedFullSize);\n          setMainCard(mainCard);\n          if (mainCard) {\n            setArticlesPageData(() =>\n              articlesData.filter((item) => !item?.pinnedFullSize)\n            );\n            setPageCount(Math.ceil((count - 1) / pageSize));\n          } else {\n            articlesData.pop();\n            setArticlesPageData(articlesData);\n            setPageCount(Math.ceil(count / pageSize));\n          }\n        })\n        .catch(() => {\n          setIsPageError(true);\n        })\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n  }, [pageSize]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1024px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // отрисовка заглушки\n  function renderAnimatedContainer() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  function renderPagination() {\n    if (pageCount > 1) {\n      return (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      );\n    }\n    return null;\n  }\n\n  function renderCards() {\n    return (\n      <>\n        {mainArticle && !pageNumber && (\n          <section className=\"articles__main scale-in\">\n            <CardArticle data={mainArticle} isMain />\n          </section>\n        )}\n\n        <section className=\"articles__cards-grid\">\n          {articlesPageData.map((item, i) => (\n            <CardArticle\n              key={item?.id}\n              color={COLORS[(i + 1) % COLORS.length]}\n              data={item}\n              sectionClass=\"scale-in\"\n            />\n          ))}\n        </section>\n      </>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <section className=\"articles page__section\">\n        <TitleH1 title={title} sectionClass=\"fade-in\" />\n\n        {isLoadingPaginate ? <Loader isNested /> : renderCards()}\n\n        {renderPagination()}\n      </section>\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {!articlesPageData && !isLoadingPage\n        ? renderAnimatedContainer()\n        : renderPageContent()}\n    </BasePage>\n  );\n}\n\nexport default Articles;\n","const readAndWatchPageTexts = {\n  headTitle: 'Читать и смотреть',\n  headDescription: 'Превью основных публичных информационных разделов сайта.',\n  pageTitles: {\n    catalogTitle: 'Справочник',\n    articlesTitle: 'Статьи',\n    moviesTitle: 'Фильмы',\n    videosTitle: 'Видео',\n    booksTitle: 'Книги',\n  },\n  paragraphNoContent: 'В данной категории пока ничего нет.',\n};\n\nexport default readAndWatchPageTexts;\n","import './CardBook.scss';\nimport PropTypes from 'prop-types';\nimport { Card, TitleH2 } from '../../utils/index';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\n\nfunction CardBook({\n  data: {\n    title,\n    author,\n    year,\n    type: { color },\n    annotation,\n  },\n  sectionClass,\n}) {\n  const backgroundColor = { backgroundColor: color };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass=\"card-book\">\n        <div className=\"card-book__cover\" style={backgroundColor}>\n          <TitleH2 sectionClass=\"card-book__title\" title={title} />\n          <div className=\"card-book__info\">\n            <div className=\"card-book__border\" />\n            <p className=\"caption card-book__text\">{author}</p>\n            <p className=\"caption card-book__text\">{year}</p>\n          </div>\n        </div>\n      </Card>\n      <CardAnnotation description={annotation} />\n    </article>\n  );\n}\nCardBook.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  type: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  author: PropTypes.string,\n  year: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  annotation: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardBook.defaultProps = {\n  data: {},\n  type: {},\n  title: '',\n  author: '',\n  year: '',\n  annotation: '',\n  sectionClass: '',\n};\n\nexport default CardBook;\n","// Страница \"Read and watch\" (RAW)\nexport const RAW_DELAY_SLIDER_TRANSITION = 1250;\nexport const RAW_SLIDER_PADDINGS = [0, 15, 0, 15];\nexport const RAW_SLIDER_BREAKPOINTS = {\n  S: 700,\n  M: 1120,\n  L: 1440,\n  ХL: 1441,\n};\nexport const ELEMS_PER_SLIDE = {\n  one: 1,\n  two: 2,\n  three: 3,\n  four: 4,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './ReadAndWatchSection.scss';\nimport { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel from 'react-elastic-carousel';\nimport {\n  PAGES_TO_LOAD,\n  INDEX_ERROR_FOR_PENULTIMATE_PAGE,\n  INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX,\n} from './constants';\nimport {\n  TitleH3,\n  LinkableHeading,\n  NoDataNotificationBox,\n  Loader,\n} from '../utils/index';\nimport { FIGURES, COLORS, ERROR_MESSAGES } from '../../config/constants';\n\nfunction ReadAndWatchSection({\n  pageSize,\n  getDataFromApi,\n  CardTemplateComponent,\n  isVideo,\n  path,\n  sectionTitle,\n  breakpoints,\n  elemPaddings,\n  transitionDelay,\n  paragraphNoContentText,\n  sectionClass,\n}) {\n  const { S, M, L, XL } = breakpoints;\n  const ref = useRef();\n\n  // индекс страницы\n  const [pageIndex, setPageIndex] = useState(0);\n  // всего возможных страниц при текущем разрешении\n  const [totalPages, setTotalPages] = useState(null);\n  const [sectionData, setSectionData] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSectionError, setIsSectionError] = useState(false);\n\n  const breakPoints = [\n    { width: S, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: M, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: L, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: XL, itemsToShow: pageSize, itemsToScroll: pageSize },\n  ];\n\n  function addNewData() {\n    // Логика: при добавлении новых блоков нужно загрузить 3 страницы начиная с последнего имеющегося элемента\n    const offset = sectionData.length;\n    const loadThreePages = pageSize * PAGES_TO_LOAD;\n    return getDataFromApi({ limit: loadThreePages, offset });\n  }\n\n  useEffect(() => {\n    const offset = pageSize * pageIndex;\n    const loadThreePages = pageSize * 3;\n\n    getDataFromApi({ limit: loadThreePages, offset })\n      .then(({ results, count }) => {\n        setTotalPages(Math.ceil(count / pageSize));\n        setSectionData(results);\n        setIsLoading(false);\n      })\n      .catch(() => setIsSectionError(true));\n  }, [pageSize]);\n\n  function slideBackHandler() {\n    setPageIndex((prevIndex) => prevIndex - 1);\n  }\n\n  function slideNextHandler(currentItem, newPageIndex) {\n    const pagesLoadedNow = ref.current.getNumOfPages();\n    const isPenultimatePage =\n      pagesLoadedNow - INDEX_ERROR_FOR_PENULTIMATE_PAGE === newPageIndex;\n    const isLastPage =\n      pagesLoadedNow - INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX === newPageIndex;\n\n    const isNoMoreDataToLoad = pagesLoadedNow === totalPages;\n    if (isNoMoreDataToLoad) {\n      return;\n    }\n\n    // значит произошел скрол вперед + это предпоследняя страница\n    if (isPenultimatePage || isLastPage) {\n      addNewData()\n        .then(({ results }) => {\n          setSectionData((previousData) => [...previousData, ...results]);\n          setPageIndex((prevIndex) => prevIndex + 1);\n        })\n        .catch(() => setIsSectionError(true));\n    } else {\n      setPageIndex((prevIndex) => prevIndex + 1);\n    }\n  }\n\n  function renderCardsForSlider() {\n    if (sectionData) {\n      const cardArray = sectionData.map((item, i) => (\n        <CardTemplateComponent\n          key={`${sectionTitle}-${item?.id}`}\n          sectionClass=\"cards-section__item\"\n          // для \"статей\" надо добавлять card-container_type_article\n          // для секции Фильмы, Книги, Видео, Статьи\n          data={item}\n          // для секции Справочник\n          shape={FIGURES[i % FIGURES.length]}\n          // для секции Статьи\n          color={COLORS[(i + 1) % COLORS.length]}\n          // для секции с Видео\n          isVideo={isVideo}\n          {...item}\n        />\n      ));\n\n      return cardArray;\n    }\n    return [];\n  }\n\n  function renderSliderSection() {\n    if (isSectionError) {\n      return (\n        <NoDataNotificationBox\n          text={ERROR_MESSAGES.generalErrorMessage.title}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (\n      !isLoading &&\n      !isSectionError &&\n      sectionData &&\n      sectionData?.length === 0\n    ) {\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContentText}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (!isLoading && totalPages && sectionData) {\n      return (\n        <Carousel\n          ref={ref}\n          transitionMs={transitionDelay}\n          pagination={false}\n          outerSpacing={0}\n          itemPadding={elemPaddings}\n          breakPoints={breakPoints}\n          disableArrowsOnEnd\n          showEmptySlots\n          onNextEnd={slideNextHandler}\n          onPrevEnd={slideBackHandler}\n        >\n          {renderCardsForSlider()}\n        </Carousel>\n      );\n    }\n\n    return <Loader isNested />;\n  }\n\n  return (\n    <section className=\"readwatch__section\">\n      <div className=\"readwatch__container\">\n        <LinkableHeading\n          title={sectionTitle}\n          path={path}\n          titleSectionClass=\"readwatch__heading\"\n          linkSectionClass=\"readwatch__heading-link\"\n          Component={TitleH3}\n        />\n      </div>\n      <div className={`readwatch__slider-container ${sectionClass}`}>\n        {renderSliderSection()}\n      </div>\n    </section>\n  );\n}\n\nReadAndWatchSection.propTypes = {\n  pageSize: PropTypes.number.isRequired,\n  getDataFromApi: PropTypes.func.isRequired,\n  CardTemplateComponent: PropTypes.func.isRequired,\n  path: PropTypes.string.isRequired,\n  sectionTitle: PropTypes.string.isRequired,\n  breakpoints: PropTypes.objectOf(PropTypes.number).isRequired,\n  elemPaddings: PropTypes.arrayOf(PropTypes.number).isRequired,\n  transitionDelay: PropTypes.number.isRequired,\n  paragraphNoContentText: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n  isVideo: PropTypes.bool,\n};\n\nReadAndWatchSection.defaultProps = {\n  sectionClass: '',\n  isVideo: false,\n};\n\nexport default ReadAndWatchSection;\n","export const PAGES_TO_LOAD = 3;\nexport const INDEX_ERROR_FOR_PENULTIMATE_PAGE = 2;\nexport const INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX = 1;\n","/* eslint-disable camelcase */\nimport axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение/фильтрация видео на странице \"Видео\"\nfunction getVideoPageData({ limit, offset, tags, resource_group }) {\n  const query = resource_group\n    ? { limit, offset, tags, resource_group }\n    : { limit, offset, tags };\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий видео (список фильтров)\nfunction getVideoPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getVideoPageTags, getVideoPageData };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей книги\nfunction getBooksPageData({ limit, offset, types }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/`, {\n      params: { types, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getBooksPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/types/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getBooksPageData, getBooksPageFilter };\n","import { useState, useEffect } from 'react';\nimport './ReadAndWatch.scss';\nimport readAndWatchPageTexts from '../../locales/read-and-watch-page-RU';\nimport {\n  BasePage,\n  CardCatalog,\n  CardArticle,\n  CardFilm,\n  CardBook,\n} from './index';\nimport {\n  CATALOG_URL,\n  ARTICLES_URL,\n  MOVIES_URL,\n  VIDEO_URL,\n  BOOKS_URL,\n} from '../../config/routes';\nimport {\n  RAW_DELAY_SLIDER_TRANSITION,\n  RAW_SLIDER_PADDINGS,\n  RAW_SLIDER_BREAKPOINTS,\n  ELEMS_PER_SLIDE,\n} from './constants';\nimport ReadAndWatchSection from '../../components/ReadAndWatchSection/ReadAndWatchSection';\n// АПИ\nimport getCatalogPageDatа from '../../api/catalog-page';\nimport { getVideoPageData } from '../../api/video-page';\nimport getArticlesPageData from '../../api/articles-page';\nimport { getMoviesPageData } from '../../api/movies-page';\nimport { getBooksPageData } from '../../api/books-page';\n\n// константы страницы\nconst { headTitle, headDescription, pageTitles, paragraphNoContent } =\n  readAndWatchPageTexts;\nconst { catalogTitle, articlesTitle, moviesTitle, videosTitle, booksTitle } =\n  pageTitles;\nconst { S, M, L } = RAW_SLIDER_BREAKPOINTS;\nconst { one, two, three, four } = ELEMS_PER_SLIDE;\n\nfunction ReadAndWatch() {\n  // определяет сколько объектов показывать в ряду\n  const [pageSize, setPageSize] = useState(null);\n\n  useEffect(() => {\n    // 1 элемент в ряду (до 700px)\n    const querySizeS = window.matchMedia(`(max-width: ${S}px)`);\n    // 2 элемента в ряду (до 1120px)\n    const querySizeM = window.matchMedia(`(max-width: ${M}px)`);\n    // 3 элемента в ряду (до 1440px)\n    const querySizeL = window.matchMedia(`(max-width: ${L}px)`);\n    // больше 1440px будет 4 элемента в ряду\n\n    const listener = () => {\n      if (querySizeS.matches) {\n        setPageSize(one);\n      } else if (querySizeM.matches) {\n        setPageSize(two);\n      } else if (querySizeL.matches) {\n        setPageSize(three);\n      } else {\n        setPageSize(four);\n      }\n    };\n    listener();\n\n    querySizeS.addEventListener('change', listener);\n    querySizeM.addEventListener('change', listener);\n    querySizeL.addEventListener('change', listener);\n    return () => {\n      querySizeS.removeEventListener('change', listener);\n      querySizeM.removeEventListener('change', listener);\n      querySizeL.removeEventListener('change', listener);\n    };\n  }, []);\n\n  function renderUniqueSliderSections() {\n    return (\n      <>\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getCatalogPageDatа}\n          CardTemplateComponent={CardCatalog}\n          path={CATALOG_URL}\n          sectionTitle={catalogTitle}\n          sectionClass=\"readwatch-page__slider-container_el_catalog\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getVideoPageData}\n          CardTemplateComponent={CardFilm}\n          path={VIDEO_URL}\n          sectionTitle={videosTitle}\n          sectionClass=\"readwatch-page__slider-container_el_video\"\n          isVideo\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getArticlesPageData}\n          CardTemplateComponent={CardArticle}\n          path={ARTICLES_URL}\n          sectionTitle={articlesTitle}\n          sectionClass=\"readwatch-page__slider-container_el_articles\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getMoviesPageData}\n          CardTemplateComponent={CardFilm}\n          path={MOVIES_URL}\n          sectionTitle={moviesTitle}\n          sectionClass=\"readwatch-page__slider-container_el_movies\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getBooksPageData}\n          CardTemplateComponent={CardBook}\n          path={BOOKS_URL}\n          sectionTitle={booksTitle}\n          sectionClass=\"readwatch-page__slider-container_el_books\"\n        />\n      </>\n    );\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"readwatch-page page__section fade-in\">\n        {pageSize && renderUniqueSliderSections()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default ReadAndWatch;\n","const videoPageTexts = {\n  headTitle: 'Видео',\n  headDescription: 'Страница с видео контентом',\n  title: 'Видео',\n  resourceGroupTag: 'Ресурсная группа',\n  textStubNoData:\n    'В данный момент страница с видео пуста. Возвращайтесь позже!',\n};\n\nexport default videoPageTexts;\n","import React, { useContext, useEffect, useState } from 'react';\nimport './Video.scss';\nimport videoPageTexts from '../../locales/video-page-RU';\nimport {\n  BasePage,\n  Loader,\n  TitleH1,\n  Paginate,\n  CardVideoMain,\n  CardFilm,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport { useDebounce } from '../../hooks/index';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { getVideoPageTags, getVideoPageData } from '../../api/video-page';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../contexts';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 8,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, resourceGroupTag, textStubNoData } =\n  videoPageTexts;\n\nconst Video = () => {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [mainVideo, setMainVideo] = useState({});\n  const [video, setVideo] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  const [isShowMainCard, setIsShowMainCard] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(true);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(false);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Ресурсная группа\"\n  const defineCategories = (tags) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n\n    let isResourceGroup = false;\n\n    const tagsWithoutResorceGroup = [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n\n    const tagsWithResourseGroup = [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      { filter: resourceGroupTag, name: resourceGroupTag, isActive: false },\n      ...categoriesArray,\n    ];\n\n    if (currentUser) {\n      getVideoPageData({\n        resource_group: true,\n      })\n        .then((resourceGroupData) => {\n          isResourceGroup = resourceGroupData.count > 0;\n\n          if (isResourceGroup) {\n            setCategories(tagsWithResourseGroup);\n          }\n        })\n        .catch(() => setIsPageError(true));\n    }\n\n    setCategories(tagsWithoutResorceGroup);\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    const activeCategories = categories.filter(\n      (filter) => filter.isActive && filter.filter !== ALL_CATEGORIES\n    );\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== resourceGroupTag)\n      .map((filter) => filter.filter)\n      .join(',');\n\n    const isResourceGroup = activeCategories.some(\n      (tag) => tag.filter === resourceGroupTag\n    );\n    return { activeTags, isResourceGroup };\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getVideoData = (params, isFiltersActive) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n\n    const fixedPageSize =\n      pageNumber === 0 && mainVideo && !isFiltersActive\n        ? pageSize + 1\n        : pageSize;\n\n    const fixedOffset =\n      pageNumber > 0 && mainVideo && !isFiltersActive ? offset + 1 : offset;\n\n    getVideoPageData({\n      limit: fixedPageSize,\n      offset: fixedOffset,\n      ...params,\n    })\n      .then(({ results, count }) => {\n        if (mainVideo && !isFiltersActive) {\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          setPageCount(Math.ceil(count / pageSize));\n        }\n\n        if (pageNumber === 0 && mainVideo && !isFiltersActive) {\n          setVideo(() => results.filter((item) => !item?.pinnedFullSize));\n          setIsShowMainCard(true);\n        } else setVideo(results);\n      })\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsFiltersUsed(false);\n        setIsLoadingPaginate(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  const getFirstPageData = () => {\n    Promise.all([\n      getVideoPageTags(),\n      getVideoPageData({\n        limit: pageSize + 1,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        const videoData = results;\n        const mainCard = videoData.find((item) => item?.pinnedFullSize);\n        setMainVideo(mainCard);\n        if (mainCard) {\n          setVideo(() => videoData.filter((item) => !item?.pinnedFullSize));\n          setPageCount(Math.ceil((count - 1) / pageSize));\n        } else {\n          videoData.pop();\n          setVideo(videoData);\n          setPageCount(Math.ceil(count / pageSize));\n        }\n        defineCategories(tags);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const { activeTags, isResourceGroup } = getActiveTags();\n\n      if (!activeTags && !isResourceGroup) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n        getVideoData(\n          { tags: activeTags, resource_group: isResourceGroup },\n          false\n        );\n      } else\n        getVideoData(\n          { tags: activeTags, resource_group: isResourceGroup },\n          true\n        );\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getVideoData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (pageSize) {\n      getFirstPageData();\n    }\n  }, [pageSize, currentUser]);\n\n  useEffect(() => {\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      const { activeCategories, isResourceGroup } = getActiveTags();\n      const predefinedParams = {\n        tags: activeCategories,\n        resource_group: isResourceGroup,\n      };\n\n      if (activeCategories || isResourceGroup) {\n        debouncePaginate(predefinedParams, true);\n      } else debouncePaginate(predefinedParams, false);\n    }\n  }, [pageNumber]);\n\n  // Резайз пагинации\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1023px)');\n    const largeQuery = window.matchMedia('(max-width: 1450px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // рендеры\n  const renderTagsContainer = () => (\n    <TagsList\n      filterList={categories}\n      name=\"video\"\n      handleClick={changeCategory}\n    />\n  );\n\n  // Загрузка карточек при нажатии на пагинацию\n  const loadingContentPagination = () =>\n    isLoadingPaginate ? (\n      <Loader isNested />\n    ) : (\n      <>\n        {mainVideo && isShowMainCard && !pageNumber && (\n          <section className=\"video__main-card page__section scale-in\">\n            <CardVideoMain data={mainVideo} />\n          </section>\n        )}\n\n        <section className=\"video__cards-grid page__section\">\n          {video &&\n            video.map((item) => (\n              <CardFilm\n                key={item?.id}\n                data={item}\n                sectionClass=\"scale-in\"\n                isVideo\n              />\n            ))}\n        </section>\n      </>\n    );\n\n  // Контент страницы\n  const renderMainContent = () => {\n    if (!video && !categories) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <>\n        {isFiltersUsed ? (\n          <Loader isNested />\n        ) : (\n          <>\n            {loadingContentPagination()}\n\n            {pageCount > 1 && (\n              <section className=\"video__cards-paginate\">\n                <Paginate\n                  sectionClass=\"cards-section__pagination \"\n                  pageCount={pageCount}\n                  value={pageNumber}\n                  onChange={setPageNumber}\n                />\n              </section>\n            )}\n          </>\n        )}\n      </>\n    );\n  };\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      ) : (\n        <>\n          <section className=\"lead page__section\">\n            <TitleH1 title={title} sectionClass=\"video__title\" />\n            {categories?.length > 1 && !isLoadingPage && renderTagsContainer()}\n          </section>\n\n          {renderMainContent()}\n        </>\n      )}\n    </BasePage>\n  );\n};\n\nexport default Video;\n","const booksPageTexts = {\n  headTitle: 'Книги',\n  headDescription: 'Подборка книг, которые можно почитать, с аннотацией к ним.',\n  title: 'Книги',\n  textStubNoData:\n    'В данный момент страница с книгами пуста. Возвращайтесь позже!',\n};\n\nexport default booksPageTexts;\n","import './Books.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport booksPageTexts from '../../locales/books-page-RU';\nimport { useDebounce } from '../../hooks/index';\nimport { getBooksPageData, getBooksPageFilter } from '../../api/books-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardBook,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport Paginate from '../../components/utils/Paginate/Paginate';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { ErrorsContext, PopupsContext } from '../../contexts';\n\nconst PAGE_SIZE_PAGINATE = {\n  mobile: 8,\n  medium: 12,\n  big: 16,\n};\n\nconst { headTitle, headDescription, title, textStubNoData } = booksPageTexts;\n\nfunction Books() {\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  // Стейты с данными Книг, Теги\n  const [booksPageData, setBooksPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  const getBooksData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getBooksPageData({\n      limit: pageSize,\n      offset,\n      types: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setBooksPageData(results))\n      .catch(() => {\n        if (isFiltersUsed) {\n          setError({\n            title: ERROR_MESSAGES.filterErrorMessage.title,\n            button: ERROR_MESSAGES.filterErrorMessage.button,\n          });\n          openPopupError();\n        } else {\n          setIsPageError(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  const getBooksFilter = () => {\n    getBooksPageFilter()\n      .then((tags) => {\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch(() => setIsPageError(true));\n  };\n\n  // хэндлер клика по фильтру КАТЕГОРИЯ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getBooksData(activeCategories);\n    }\n  };\n\n  /// Фильтрация с делэем\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getBooksData, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Первая отрисовка страницы + переход по страницам пагинации\n  useEffect(() => {\n    if (isLoading && pageSize) {\n      getBooksData();\n      getBooksFilter();\n    }\n\n    if (!isLoading && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1216px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.mobile);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // контейнер с книгами\n  const renderBooksContainer = () => {\n    if (!booksPageData && !isLoading) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        {isLoadingPaginate ? (\n          <Loader isNested />\n        ) : (\n          <ul className=\"books__cards cards-grid cards-grid_content_small-cards fade-in\">\n            {booksPageData.map((books) => (\n              <CardBook key={books.id} data={books} sectionClass=\"scale-in\" />\n            ))}\n          </ul>\n        )}\n        {pageCount > 1 && (\n          <Paginate\n            sectionClass=\"cards-section__pagination\"\n            pageCount={pageCount}\n            value={pageNumber}\n            onChange={setPageNumber}\n          />\n        )}\n      </>\n    );\n  };\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      );\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"books__title\" />\n\n        {/* рендер фильтров */}\n        {categories?.length > 1 && (\n          <TagsList\n            filterList={categories}\n            name=\"tag\"\n            handleClick={changeCategory}\n          />\n        )}\n\n        {/* рендерим книги */}\n        {isFiltersUsed ? <Loader isNested /> : renderBooksContainer()}\n      </>\n    );\n  };\n\n  // глобальный лоадер\n  if (isLoading) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"books page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Books;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getCatalogArticlePageData({ articleId } = {}) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/${articleId}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCatalogArticlePageData;\n","const catalogArticlePageTexts = {\n  headTitle: 'Статья',\n  headDescription: 'Полезная статья',\n};\n\nexport default catalogArticlePageTexts;\n","import './CatalogArticle.scss';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactMarkdown from 'react-markdown';\nimport PropTypes from 'prop-types';\nimport { BasePage, Loader } from './index';\nimport getCatalogArticlePageData from '../../api/catalog-article-page';\nimport catalogArticlePageTexts from '../../locales/catalog-article-page-RU';\nimport { AnimatedPageContainer, TitleH1 } from '../Books';\nimport { ERROR_MESSAGES } from '../../config/constants';\nimport { CATALOG_URL } from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\n\nfunction CatalogArticle({ articleId }) {\n  const { headTitle, headDescription } = catalogArticlePageTexts;\n  const [catalogArticlePageData, setCatalogArticlePageData] = useState();\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  useEffect(() => {\n    getCatalogArticlePageData({ articleId })\n      .then((data) => {\n        setCatalogArticlePageData(data);\n      })\n      .catch(() => setIsPageError(true))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  }, [articleId]);\n  const nextPageLink = `/catalog/${catalogArticlePageData?.nextArticle?.id}`;\n  function renderPage() {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          urlBack={CATALOG_URL}\n          buttonText=\"Вернуться назад\"\n          staticPage\n        />\n      );\n    }\n    return (\n      <div className=\"article page__section\">\n        <TitleH1\n          title={catalogArticlePageData.title}\n          sectionClass=\"article__main-title\"\n        />\n        <p className=\"article__description section-title\">\n          {catalogArticlePageData.description}\n        </p>\n        <figure className=\"article__figure\">\n          <img\n            src={`${staticImageUrl}/${catalogArticlePageData.image}`}\n            alt={catalogArticlePageData.title}\n            className=\"article__image\"\n          />\n          {catalogArticlePageData.imageCaption ? (\n            <figcaption className=\"caption article__figcaption\">\n              {catalogArticlePageData.imageCaption}\n            </figcaption>\n          ) : (\n            ''\n          )}\n        </figure>\n        <ReactMarkdown className=\"article__markdown\">\n          {catalogArticlePageData.body}\n        </ReactMarkdown>\n        {catalogArticlePageData.nextArticle ? (\n          <Link className=\"article__link\" to={nextPageLink}>\n            <p className=\"article__link-text\">\n              {catalogArticlePageData.nextArticle.title}\n            </p>\n            <svg\n              className=\"article__link-arrow\"\n              width=\"30\"\n              height=\"30\"\n              viewBox=\"0 0 30 30\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M16.5916 0L30 14.3793L15.5318 30H13.4987L23.3441 19.3448C25.5145 17.1724 24.9357 15.3103 22.1865 15.1552H0V13.6034H22.0418C24.791 13.4483 25.3698 11.8966 23.6334 9.72414L14.5659 0H16.5916Z\"\n                fill=\"#224CFF\"\n              />\n            </svg>\n          </Link>\n        ) : (\n          ''\n        )}\n      </div>\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {renderPage()}\n    </BasePage>\n  );\n}\n\nCatalogArticle.propTypes = {\n  articleId: PropTypes.string.isRequired,\n};\n\nexport default CatalogArticle;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../hooks/index';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction PageWithTransparentHeader({ children, headTitle, headDescription }) {\n  useScrollToTop();\n\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header isTransparent />\n      <main className=\"main\">{children}</main>\n      <Footer />\n    </>\n  );\n}\n\nPageWithTransparentHeader.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nPageWithTransparentHeader.defaultProps = {\n  children: null,\n};\n\nexport default PageWithTransparentHeader;\n","import './RightsArticle.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport {\n  PageWithTransparentHeader,\n  Loader,\n  TitleH2,\n  AnimatedPageContainer,\n} from './index';\nimport { getRightsArticle } from '../../api/rights-page';\nimport { ERROR_MESSAGES } from '../../config/constants';\nimport { RIGHTS_URL } from '../../config/routes';\n\nfunction RightsArticle({ id }) {\n  const [articleData, setArticleData] = useState(null);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  // Стейт ошибки\n  const [isPageError, setIsPageError] = useState(false);\n\n  // ХардКод пока не понятно как узнавать ID следующей статьи\n  const [nextId, setNextId] = useState(Number(id) + 1);\n\n  const changeClick = () => {\n    setIsLoadingPage(true);\n    setNextId(nextId + 1);\n  };\n\n  const renderLeadBlock = () => (\n    <section className=\"article-lead\">\n      <div className=\"article-lead__content\">\n        <h1 className=\"chapter-title article-lead__title\">\n          {articleData?.title}\n        </h1>\n        <p className=\"section-title article-lead__text\">{articleData?.text}</p>\n      </div>\n    </section>\n  );\n\n  const renderHtmlBlock = () => (\n    <div\n      className=\"page__section\"\n      dangerouslySetInnerHTML={{\n        __html: articleData?.rawHtml,\n      }}\n    />\n  );\n\n  const rendenNextPageBlock = () => (\n    <section className=\"next-page\">\n      <div className=\"next-page__img-wrap\">\n        <img src=\"#\" alt=\"Льготы детей на жилье\" className=\"next-page__img\" />\n      </div>\n      <Link\n        to={`/rights/${nextId}`}\n        onClick={changeClick}\n        className=\"next-page__link\"\n        target=\"_self\"\n      >\n        <TitleH2 sectionClass=\"next-page__title\" title=\"Следующая статья\" />\n        <div className=\"next-page__arrow-icon\" />\n      </Link>\n    </section>\n  );\n\n  const renderMainContent = () => {\n    if (isPageError) {\n      return (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n          urlBack={RIGHTS_URL}\n          buttonText=\"Вернуться назад\"\n          staticPage\n        />\n      );\n    }\n\n    return (\n      <>\n        {renderLeadBlock()}\n        {renderHtmlBlock()}\n        {rendenNextPageBlock()}\n      </>\n    );\n  };\n\n  useEffect(() => {\n    if (isLoadingPage && id) {\n      getRightsArticle(id)\n        .then((res) => setArticleData(res))\n        .catch(() => setIsPageError(true))\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n\n    if (!isLoadingPage && id) {\n      getRightsArticle(nextId)\n        .then((res) => setArticleData(res))\n        .catch(() => setIsPageError(true))\n        .finally(() => {\n          setIsLoadingPage(false);\n        });\n    }\n\n    // Хард Код для демо\n    window.scrollTo({ top: 0 });\n  }, [id, nextId]);\n\n  return (\n    <PageWithTransparentHeader\n      headTitle={articleData?.title}\n      headDescription={articleData?.description}\n    >\n      {isLoadingPage ? <Loader isNested /> : renderMainContent()}\n    </PageWithTransparentHeader>\n  );\n}\n\nRightsArticle.propTypes = {\n  id: PropTypes.number,\n};\n\nRightsArticle.defaultProps = {\n  id: null,\n};\n\nexport default RightsArticle;\n","const storiesPageTexts = {\n  headTitle: 'Истории дружбы',\n  headDescription: 'Истории дружбы с младшими от наших наставников',\n  title: 'Истории дружбы',\n};\n\nexport default storiesPageTexts;\n","import { BasePage, AnimatedPageContainer } from './index';\nimport storiesPageTexts from '../../locales/stories-page-RU';\n\nconst { headTitle, headDescription } = storiesPageTexts;\nfunction Stories() {\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <AnimatedPageContainer titleText=\"Данная страница пока находится в разработке. Приносим свои извинения!\" />\n    </BasePage>\n  );\n}\n\nexport default Stories;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/index';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() => (currentUser ? <Component {...props} /> : <Redirect to=\"/\" />)}\n    </Route>\n  );\n}\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n};\n\nexport default ProtectedRoute;\n","import { Route, Switch } from 'react-router-dom';\nimport {\n  AboutUs,\n  Profile,\n  Calendar,\n  MainPage,\n  PageNotFound,\n  Catalog,\n  Questions,\n  Places,\n  Rights,\n  Movies,\n  ReadAndWatch,\n  Video,\n  Articles,\n  Books,\n  CatalogArticle,\n  RightsArticle,\n  Stories,\n} from '../pages/index';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport {\n  MAIN_PAGE_URL,\n  ABOUT_US_URL,\n  AFISHA_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  MOVIES_URL,\n  READ_AND_WATCH_URL,\n  CATALOG_URL,\n  PROFILE_URL,\n  VIDEO_URL,\n  ARTICLES_URL,\n  BOOKS_URL,\n  CATALOG_ITEM_URL,\n  RIGHTS_ARTICLE_URL,\n  STORIES_URL,\n  NOT_FOUND_URL,\n} from '../config/routes';\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route exact path={MAIN_PAGE_URL}>\n        <MainPage />\n      </Route>\n\n      <Route exact path={ABOUT_US_URL}>\n        <AboutUs />\n      </Route>\n\n      <Route exact path={AFISHA_URL}>\n        <Calendar />\n      </Route>\n\n      <Route exact path={QUESTIONS_URL}>\n        <Questions />\n      </Route>\n\n      <ProtectedRoute exact path={PROFILE_URL} component={Profile} />\n\n      <Route exact path={PLACES_URL}>\n        <Places />\n      </Route>\n\n      <Route exact path={RIGHTS_URL}>\n        <Rights />\n      </Route>\n\n      <Route\n        path={RIGHTS_ARTICLE_URL}\n        render={({ match }) => <RightsArticle id={match.params.id} />}\n      />\n\n      <Route exact path={MOVIES_URL}>\n        <Movies />\n      </Route>\n\n      <Route exact path={READ_AND_WATCH_URL}>\n        <ReadAndWatch />\n      </Route>\n\n      <Route exact path={CATALOG_URL}>\n        <Catalog />\n      </Route>\n\n      <Route\n        path={CATALOG_ITEM_URL}\n        render={({ match }) => (\n          <CatalogArticle articleId={match.params.articleId} />\n        )}\n      />\n      <Route exact path={VIDEO_URL}>\n        <Video />\n      </Route>\n\n      <Route exact path={BOOKS_URL}>\n        <Books />\n      </Route>\n\n      <Route exact path={ARTICLES_URL}>\n        <Articles />\n      </Route>\n\n      <Route exact path={STORIES_URL}>\n        <Stories />\n      </Route>\n\n      <Route path={NOT_FOUND_URL}>\n        <PageNotFound />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Router;\n","const texts = {\n  title: 'Подтвердить запись на мероприятие',\n  submitButtonText: 'Подтвердить запись',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","import './PopupConfirmation.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks/index';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils/index';\n\nfunction PopupConfirmation({ isOpen, onClose }) {\n  const { registerOnEvent } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    registerOnEvent(card);\n  };\n\n  return (\n    <Popup\n      type=\"confirmation\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <p className=\"section-title popup__title_type_calendar\">\n          {texts.title}\n        </p>\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`«${card?.title}»`}\n        />\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n            startDay?.minutes\n          }—${endDay?.hour}:${endDay?.minutes}`}\n        />\n        <div className=\"popup__buttons_type_calendar\">\n          <Button\n            color=\"blue\"\n            title={texts.submitButtonText}\n            sectionClass=\"popup__button_type_calendar\"\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupConfirmation.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupConfirmation.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupConfirmation;\n","const texts = {\n  popupTitle: 'Вы записаны на мероприятие',\n  paragraph: 'Если у вас не получится прийти — отмените, пожалуйста, запись.',\n  buttonTextCalendarPage: 'Вернуться к календарю',\n  buttonTextDefault: 'Перейти в календарь',\n};\n\nexport default texts;\n","import { useRef, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport './PopupSuccessfully.scss';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\nimport texts from './locales/RU';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Button } from '../../utils/index';\n\nconst { popupTitle, paragraph, buttonTextCalendarPage, buttonTextDefault } =\n  texts;\n\nfunction PopupSuccessfully({ isOpen, onClose }) {\n  const { pathname } = useLocation();\n  const history = useHistory();\n\n  const card = getLocalStorageData(localStAfishaEvent);\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const pushToCalendar = () => {\n    history.push(AFISHA_URL);\n  };\n\n  const buttonText =\n    pathname === AFISHA_URL ? buttonTextCalendarPage : buttonTextDefault;\n\n  const actionOnButtonClick =\n    pathname === AFISHA_URL ? onClose : pushToCalendar;\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"successfully\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-success\" />\n      <p className=\"section-title popup__title_type_calendar\">{popupTitle}</p>\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`«${card?.title}»`}\n      />\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n          startDay?.minutes\n        }—${endDay?.hour}:${endDay?.minutes}`}\n      />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_successfully\">\n        {paragraph}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={actionOnButtonClick}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupSuccessfully.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupSuccessfully.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupSuccessfully;\n","const texts = {\n  title:\n    'Спасибо, мы проверим информацию, и скоро все пользователи смогут увидеть вашу рекомендацию',\n  buttonText: 'Вернуться к рекомендациям',\n};\n\nexport default texts;\n","import './PopupRecommendSuccess.scss';\nimport { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport texts from './locales/RU';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils/index';\n\nfunction PopupRecommendSuccess({ isOpen, onClose }) {\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"recommend-success\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.title}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupRecommendSuccess.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupRecommendSuccess.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupRecommendSuccess;\n","const texts = {\n  title: 'Вход',\n  firstParagraph:\n    'Вход в личный кабинет доступен наставникам программы «Старшие Братья Старшие Сёстры».',\n  secondParagraph:\n    'Пожалуйста, введите логин и пароль из письма. Если вам не приходило письмо, свяжитесь с вашим куратором.',\n  loginPlaceholder: 'Логин',\n  passwordPlaceholder: 'Пароль',\n  forgotButtonText: 'Забыли пароль?',\n  submitButtonText: 'Войти',\n  titleForgotForm: 'Восстановление пароля',\n  paragraphForgotForm:\n    'Пожалуйста, для восстановления пароля введите email, который вы указывали при регистрации.',\n  emailPlaceholder: 'Email',\n  backButtonText: 'Я вспомнил пароль',\n  submitButtonTextForgot: 'Отправить',\n};\n\nexport default texts;\n","/* eslint-disable consistent-return */\nimport './PopupLogin.scss';\nimport { useEffect, useContext, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport { CurrentUserContext, ErrorsContext } from '../../../contexts/index';\nimport { useAuth, useFormWithValidation } from '../../../hooks/index';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { ERROR_MESSAGES, ERROR_CODES } from '../../../config/constants';\nimport { recoverPassword } from '../../../api/user';\nimport Popup from '../Popup/Popup';\nimport { Input, Button, TitleH2 } from '../../utils/index';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\n\nconst {\n  title,\n  firstParagraph,\n  secondParagraph,\n  loginPlaceholder,\n  passwordPlaceholder,\n  forgotButtonText,\n  submitButtonText,\n  titleForgotForm,\n  paragraphForgotForm,\n  emailPlaceholder,\n  backButtonText,\n  submitButtonTextForgot,\n} = texts;\n\nconst validationSettings = {\n  username: {\n    minLength: 4,\n  },\n  password: {\n    minLength: 8,\n  },\n};\n\nfunction PopupLogin({ isOpen, onClose }) {\n  const { updateUser } = useContext(CurrentUserContext);\n  const { serverError, clearError, setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { badRequest } = ERROR_CODES;\n\n  const [isForgotPassword, setIsForgotPassword] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const { handleLogin } = useAuth(updateUser);\n  function handleClickForgotPassword() {\n    setIsForgotPassword(!isForgotPassword);\n  }\n\n  function successForgotPassword() {\n    setIsSuccess(false);\n    setIsForgotPassword(false);\n  }\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(values);\n  }\n\n  function handleError(err) {\n    if (err?.status === badRequest) setError(err?.data);\n    else setError({ message: generalErrorMessage.title });\n  }\n\n  function handleSubmitForgotPassword(evt) {\n    evt.preventDefault();\n    recoverPassword(values)\n      .then((res) => {\n        setSuccessMessage(res?.email);\n        resetForm();\n        clearError();\n        setIsSuccess(true);\n        setTimeout(successForgotPassword, 6000);\n      })\n      .catch(handleError);\n  }\n\n  //! аварийный перевод на главную, если не хочешь логиниться\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  function closePopup() {\n    if (pathname === AFISHA_URL) {\n      history.push('/');\n    }\n    setSuccessMessage('');\n    onClose();\n  }\n\n  function closePopupOnEsc(evt) {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  }\n\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [pathname, isOpen]);\n\n  useEffect(() => {\n    resetForm();\n    clearError();\n  }, [isOpen, isForgotPassword]);\n\n  useEffect(() => {\n    setIsForgotPassword(false);\n  }, [isOpen]);\n\n  const classNameAuth = [\n    'popup__form',\n    'popup__form_type_sign-in',\n    `${isOpen && !isForgotPassword ? 'popup__form_type_sign-in_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const formAuth = () => (\n    <form\n      className={classNameAuth}\n      onSubmit={(evt) => handleSubmit(evt)}\n      noValidate\n    >\n      <TitleH2 sectionClass=\"popup__title_type_sign-in\" title={title} />\n      <p className=\"paragraph popup__sign-in\">{firstParagraph}</p>\n      <p className=\"paragraph popup__sign-in\">{secondParagraph}</p>\n\n      <Input\n        id=\"loginUsernameInput\"\n        sectionClass=\"popup__input\"\n        type=\"text\"\n        name=\"username\"\n        placeholder={loginPlaceholder}\n        onChange={handleChange}\n        value={values?.username}\n        error={errors?.username}\n        minLength={validationSettings.username.minLength}\n        required\n      />\n\n      <Input\n        id=\"loginPasswordInput\"\n        sectionClass=\"popup__input\"\n        type=\"password\"\n        name=\"password\"\n        placeholder={passwordPlaceholder}\n        onChange={handleChange}\n        value={values?.password}\n        error={errors?.password}\n        minLength={validationSettings.password.minLength}\n        required\n      />\n\n      <button\n        className=\"popup__forgot-password\"\n        type=\"button\"\n        onClick={handleClickForgotPassword}\n      >\n        {forgotButtonText}\n      </button>\n      <span className=\"form-error-message\">{errorsString}</span>\n      <Button\n        sectionClass=\"popup__button_type_sign-in\"\n        color=\"blue\"\n        title={submitButtonText}\n        isDisabled={!isValid}\n        isSubmittable\n      />\n    </form>\n  );\n\n  const classForgotPassword = [\n    'popup__form',\n    'popup__form_type_email',\n    `${isForgotPassword && !isSuccess ? 'popup__form_type_email_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const formForgotPassword = () => (\n    <form\n      className={classForgotPassword}\n      onSubmit={(evt) => handleSubmitForgotPassword(evt)}\n      noValidate\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_sign-in\"\n        title={titleForgotForm}\n      />\n      <p className=\"paragraph popup__sign-in\">{paragraphForgotForm}</p>\n\n      <Input\n        id=\"loginUseremailInput\"\n        sectionClass=\"popup__input\"\n        type=\"email\"\n        name=\"email\"\n        placeholder={emailPlaceholder}\n        onChange={handleChange}\n        value={values?.email}\n        error={errors?.email}\n        required\n      />\n      <button\n        className=\"popup__forgot-password\"\n        type=\"button\"\n        onClick={handleClickForgotPassword}\n      >\n        {backButtonText}\n      </button>\n      <span className=\"form-error-message\">{errorsString}</span>\n      <Button\n        sectionClass=\"popup__button_type_sign-in\"\n        color=\"blue\"\n        title={submitButtonTextForgot}\n        isDisabled={!isValid}\n        isSubmittable\n      />\n    </form>\n  );\n\n  const className = [\n    'popup__login-container_success',\n    `${isSuccess ? 'popup__login-container_success_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const containerAnimationSuccessLogin = () => (\n    <div className={className}>\n      <div\n        ref={animationContainer}\n        className=\"popup__login-container_success-animation\"\n      />\n      <TitleH2 title={successMessage} />\n    </div>\n  );\n\n  return (\n    <Popup\n      type=\"sign-in\"\n      typeContainer=\"sign-in\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      {formAuth()}\n      {formForgotPassword()}\n      {containerAnimationSuccessLogin()}\n    </Popup>\n  );\n}\n\nPopupLogin.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default PopupLogin;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  formatDate,\n  formatWordCase,\n  changeCaseOfFirstLetter,\n  formatPhoneNumber,\n} from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2, ModificatedScrollbars } from '../../utils/index';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks/index';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction PopupAboutEvent({ isWithoutRegister, isOpen, onClose }) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n  } = texts;\n\n  const { handleEventBooking } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDateParts = formatDate(card?.startAt);\n  const endDayParts = formatDate(card?.endAt);\n  const isDisabled = (card?.remainSeats < 1 && !card?.booked) || card?.canceled;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    // передаем карточку и сообщаем функции, что запись без подтверждения\n    handleEventBooking(card, true);\n  }\n\n  const renderPhone = () => (\n    <a className=\"calendar__phone\" href={`tel:${card?.phoneNumber}`}>\n      {formatPhoneNumber(card?.phoneNumber)}\n    </a>\n  );\n\n  return (\n    <Popup\n      type=\"about-event\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      {card && (\n        <form className=\"popup__form\" onSubmit={handleSubmit}>\n          <div className=\"calendar__caption\">\n            <div className=\"calendar__info\">\n              <p className=\"calendar__type\">\n                {changeCaseOfFirstLetter(card?.tags?.name)}\n              </p>\n              <p className=\"calendar__weekday\">\n                {`${startDateParts?.monthName} / ${startDateParts?.weekdayName}`}\n              </p>\n            </div>\n            <div className=\"calendar__about calendar__about_modal\">\n              <TitleH2\n                title={card?.title}\n                sectionClass=\"calendar__title calendar__title_type_popup\"\n              />\n              <p className=\"calendar__date\">{startDateParts?.day}</p>\n            </div>\n          </div>\n          <div className=\"calendar__meetup\">\n            <ul className=\"calendar__info-list\">\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__time\">\n                  {`${startDateParts?.hour}:${startDateParts?.minutes}–${endDayParts?.hour}:${endDayParts?.minutes}`}\n                </p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__place\">{card?.address}</p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__contact\">\n                  {`${card?.contact}, `}\n                  {renderPhone()}\n                </p>\n              </li>\n            </ul>\n            <div className=\"calendar__description\">\n              <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n                <p className=\"paragraph calendar__desc-paragraph\">\n                  {card?.description}\n                </p>\n              </ModificatedScrollbars>\n            </div>\n\n            {!isWithoutRegister && (\n              <div className=\"calendar__submit\">\n                <Button\n                  color=\"blue\"\n                  title={buttonTitle}\n                  titleSelected={buttonTitleSelected}\n                  sectionClass=\"button_action_confirm\"\n                  isSubmittable\n                  isBooked={card?.booked}\n                  isDisabled={isDisabled}\n                />\n                <p className=\"calendar__place-left\">\n                  {(isDisabled && buttonTitleDisabled) ||\n                    (!card?.booked &&\n                      `${remainSeatsText} ${card?.remainSeats} ${formatWordCase(\n                        card?.remainSeats\n                      )}`)}\n                </p>\n              </div>\n            )}\n          </div>\n        </form>\n      )}\n    </Popup>\n  );\n}\n\nPopupAboutEvent.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  isWithoutRegister: PropTypes.bool,\n};\n\nPopupAboutEvent.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  isWithoutRegister: false,\n};\n\nexport default PopupAboutEvent;\n","const texts = {\n  title: 'Выберите ваш город',\n};\n\nexport default texts;\n","import { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../../contexts/index';\nimport { updateUserProfile } from '../../../api/user';\nimport {\n  localStUserCity,\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n} from '../../../config/constants';\nimport {\n  dispatchLocalStorageEvent,\n  getLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { useDebounce } from '../../../hooks/index';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, ModificatedScrollbars } from '../../utils/index';\nimport './PopupCities.scss';\n\nfunction PopupCities({ isOpen, onClose }) {\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { cities, defaultCity } = useContext(CitiesContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  const currentUserCity =\n    currentUser?.city || getLocalStorageData(localStUserCity);\n\n  function closePopup() {\n    if (!currentUser && !getLocalStorageData(localStUserCity)) {\n      dispatchLocalStorageEvent(localStUserCity, defaultCity?.id);\n    }\n    onClose();\n  }\n\n  const closePopupOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  };\n\n  const submitCity = (evt) => {\n    const cityId = parseInt(evt.target.value, 10);\n    if (currentUser) {\n      updateUserProfile({ city: cityId })\n        .then((res) => {\n          updateUser(res);\n          onClose();\n        })\n        .catch(() => {\n          setError({\n            title: ERROR_MESSAGES.citiesErrorMessage.title,\n            button: ERROR_MESSAGES.citiesErrorMessage.button,\n          });\n          openPopupError();\n        });\n    } else {\n      dispatchLocalStorageEvent(localStUserCity, cityId);\n      onClose();\n    }\n  };\n\n  const debounceSubmitCity = useDebounce(submitCity, DELAY_DEBOUNCE);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (defaultCity) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [defaultCity]);\n\n  const renderCityItem = (city) => (\n    <li className=\"cities__list-item\" key={city?.id}>\n      <button\n        className={`cities__city ${\n          currentUserCity === city?.id ? 'cities__city_current' : ''\n        }`}\n        type=\"button\"\n        value={city?.id}\n        onClick={(evt) => debounceSubmitCity(evt)}\n      >\n        {city?.name}\n      </button>\n    </li>\n  );\n\n  return (\n    <Popup\n      type=\"cities\"\n      typeContainer=\"cities\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <div className=\"popup__form\">\n        <TitleH2 title={texts.title} sectionClass=\"cities__title\" />\n        <div className=\"cities__container\">\n          <ul className=\"cities__list cities__list_type_primary\">\n            {cities &&\n              cities\n                .filter((city) => city?.isPrimary === true)\n                .map((city) => renderCityItem(city))}\n          </ul>\n          <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n            <ul className=\"cities__list\">\n              {cities &&\n                cities\n                  .filter((city) => city?.isPrimary !== true)\n                  .map((city) => renderCityItem(city))}\n            </ul>\n          </ModificatedScrollbars>\n        </div>\n      </div>\n    </Popup>\n  );\n}\n\nPopupCities.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupCities.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupCities;\n","import './PopupError.scss';\nimport PropTypes from 'prop-types';\nimport { useContext, useEffect } from 'react';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils/index';\nimport { ErrorsContext } from '../../../contexts';\n\nfunction PopupError({ isOpen, onClose }) {\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      onClose();\n      clearError();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keyup', closeOnEsc);\n    return () => window.removeEventListener('keyup', closeOnEsc);\n  }, []);\n\n  return (\n    <Popup\n      type=\"error\"\n      typeContainer=\"calendar\"\n      sectionClass=\"popup__container_error\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar popup__title_type_error\"\n        title={serverError?.title}\n      />\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={serverError?.button}\n          sectionClass=\"popup__button_type_error\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupError.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupError.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupError;\n","import './PopupVideo.scss';\nimport PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Caption } from '../../utils/index';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\n\nconst PopupVideo = ({ isOpen, onClose }) => {\n  const data = getLocalStorageData(localStChosenVideo);\n  const { frameSrc } = parserLinkYoutube(data?.link);\n\n  const closePopup = () => {\n    removeLocalStorageData(localStChosenVideo);\n    onClose();\n  };\n\n  return (\n    <Popup\n      type=\"video\"\n      typeContainer=\"video\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      <>\n        <iframe\n          title=\"youTubePlayer\"\n          id=\"playeryt\"\n          className=\"popup__video-iframe\"\n          src={frameSrc}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          seamless\n        />\n        <TitleH2 sectionClass=\"popup__video-title\" title={data?.title} />\n        <Caption sectionClass=\"popup__video-caption\" title={data?.info} />\n      </>\n    </Popup>\n  );\n};\n\nPopupVideo.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupVideo.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupVideo;\n","const texts = {\n  popupTitle: 'Данная функциональность находится в разработке',\n  buttonText: 'Вернуться на страницу',\n};\n\nexport default texts;\n","import { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils/index';\n\nfunction PopupInfoTooltip({ isOpen, onClose }) {\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"info-tooltip\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.popupTitle}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupInfoTooltip.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupInfoTooltip.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupInfoTooltip;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport './App.scss';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { useLocation } from 'react-router-dom';\nimport Router from './navigation/Router';\nimport Loader from './components/utils/Loader/Loader';\n// попапы\nimport {\n  PopupConfirmation,\n  PopupSuccessfully,\n  PopupAboutEvent,\n  PopupError,\n  PopupCities,\n  PopupLogin,\n  PopupRecommendSuccess,\n  PopupVideo,\n  PopupInfoTooltip,\n} from './components/Popups/index';\n// логины, авторизация\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  PopupsContext,\n  ErrorsContext,\n} from './contexts/index';\n// хуки\nimport { useCities, useAuth } from './hooks/index';\n\nfunction App() {\n  const { pathname } = useLocation();\n\n  // стейт переменные попапов\n  const [isPopupConfirmationOpen, setIsPopupConfirmationOpen] = useState(false);\n  const [isPopupSuccessfullyOpen, setIsPopupSuccessfullyOpen] = useState(false);\n  const [isPopupAboutDescriptionOpen, setIsPopupAboutDescriptionOpen] =\n    useState(false);\n  const [isPopupErrorOpen, setIsPopupErrorOpen] = useState(false);\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = useState(false);\n  const [isPopupCitiesOpen, setIsPopupCitiesOpen] = useState(false);\n  const [isPopupRecommendSuccessOpen, setIsPopupRecommendSuccessOpen] =\n    useState(false);\n  const [isVideoPopupOpen, setIsVideoPopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n  const [isWithoutRegister, setIsWithoutRegister] = useState(false);\n\n  // управление попапами (открыть/закрыть)\n  function closeAllPopups() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(false);\n    setIsPopupAboutDescriptionOpen(false);\n    setIsPopupRecommendSuccessOpen(false);\n    setIsInfoTooltipOpen(false);\n    setIsVideoPopupOpen(false);\n  }\n\n  function openPopupInfoTooltip() {\n    setIsInfoTooltipOpen(true);\n  }\n\n  function openPopupConfirmation() {\n    setIsPopupConfirmationOpen(true);\n  }\n\n  function openPopupSuccessfully() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(true);\n  }\n\n  function openPopupAboutEvent(withoutRegister) {\n    if (withoutRegister) {\n      setIsWithoutRegister(true);\n    } else {\n      setIsWithoutRegister(false);\n    }\n    setIsPopupAboutDescriptionOpen(true);\n  }\n\n  function openPopupError() {\n    setIsPopupErrorOpen(true);\n  }\n\n  function closePopupError() {\n    setIsPopupErrorOpen(false);\n  }\n\n  function openPopupCities() {\n    setIsPopupCitiesOpen(true);\n  }\n\n  function closePopupCities() {\n    setIsPopupCitiesOpen(false);\n  }\n\n  function openPopupLogin() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function closePopupLogin() {\n    setIsPopupLoginOpen(false);\n  }\n\n  function openPopupRecommendSuccess() {\n    setIsPopupRecommendSuccessOpen(true);\n  }\n\n  function openPopupVideo() {\n    setIsVideoPopupOpen(true);\n  }\n\n  // контекст попапов\n  const popupsContextValue = {\n    closeAllPopups,\n    closePopupLogin,\n    openPopupConfirmation,\n    openPopupSuccessfully,\n    openPopupAboutEvent,\n    openPopupError,\n    openPopupCities,\n    openPopupLogin,\n    openPopupRecommendSuccess,\n    openPopupVideo,\n    openPopupInfoTooltip,\n  };\n\n  // текущий юзер/контекст\n  const [currentUser, setCurrentUser] = useState(null);\n  const updateUser = (value) => setCurrentUser(value);\n\n  const currentUserContextValue = useMemo(\n    () => ({ currentUser, updateUser }),\n    [currentUser]\n  );\n\n  // список городов/контекст\n  const { cities, defaultCity } = useCities();\n\n  const citiesContextValue = useMemo(\n    () => ({ cities, defaultCity }),\n    [cities, defaultCity]\n  );\n\n  // серверные ошибки/контекст\n  const [serverError, setServerError] = useState(null);\n  const setError = (value) => setServerError(value);\n  const clearError = () => setServerError(null);\n\n  const errorsContextValue = useMemo(\n    () => ({ serverError, setError, clearError }),\n    [serverError]\n  );\n\n  const { isCheckingToken, checkToken } = useAuth(updateUser);\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  // закрытие всех попапов при смене страницы\n  useEffect(() => {\n    closeAllPopups();\n    closePopupError();\n    closePopupCities();\n  }, [pathname]);\n\n  // эффект закрытия модалок по Escape\n  useEffect(() => {\n    window.addEventListener('keyup', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    });\n  }, []);\n\n  return (\n    <HelmetProvider>\n      <CitiesContext.Provider value={citiesContextValue}>\n        <CurrentUserContext.Provider value={currentUserContextValue}>\n          <ErrorsContext.Provider value={errorsContextValue}>\n            <PopupsContext.Provider value={popupsContextValue}>\n              <div className=\"page\">\n                {!isCheckingToken ? <Router /> : <Loader isCentered />}\n                <PopupConfirmation\n                  isOpen={isPopupConfirmationOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupSuccessfully\n                  isOpen={isPopupSuccessfullyOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupAboutEvent\n                  isWithoutRegister={isWithoutRegister}\n                  isOpen={isPopupAboutDescriptionOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupLogin\n                  isOpen={isPopupLoginOpen}\n                  onClose={closePopupLogin}\n                />\n                <PopupCities\n                  isOpen={isPopupCitiesOpen}\n                  onClose={closePopupCities}\n                />\n                <PopupError\n                  isOpen={isPopupErrorOpen}\n                  onClose={closePopupError}\n                />\n                <PopupRecommendSuccess\n                  isOpen={isPopupRecommendSuccessOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupVideo\n                  isOpen={isVideoPopupOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupInfoTooltip\n                  isOpen={isInfoTooltipOpen}\n                  onClose={closeAllPopups}\n                />\n              </div>\n            </PopupsContext.Provider>\n          </ErrorsContext.Provider>\n        </CurrentUserContext.Provider>\n      </CitiesContext.Provider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}