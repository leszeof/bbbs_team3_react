{"version":3,"sources":["components/Cards/CardFigure/CardFigure.js","components/Cards/CardCatalog/CardCatalog.js","api/catalog-page.js","api/movies-page.js","api/video-page.js","api/articles-page.js","api/books-page.js","pages/ReadAndWatch/locales/read-and-watch-page-RU.js","pages/ReadAndWatch/constants.js","components/ReadAndWatchSection/ReadAndWatchSection.js","components/ReadAndWatchSection/constants.js","pages/ReadAndWatch/ReadAndWatch.js"],"names":["CardFigure","title","shape","color","children","sectionClass","className","defaultProps","CardCatalog","data","id","image","link","to","draggable","src","staticImageUrl","alt","getCatalogPageData","limit","offset","axios","get","baseURL","apiUrl","params","then","response","catch","err","Promise","reject","Error","message","getCatalogArticlePageData","articleId","getMoviesPageData","tags","getMoviesPageFilter","getMovie","getVideoPageData","resource_group","query","getVideoPageTags","getVideo","getArticlesPageData","getArticle","getBooksPageData","types","getBooksPageFilter","getBook","readAndWatchPageTexts","headTitle","MAIN_PAGE_TITLE","READ_AND_WATCH_TITLE","headDescription","pageTitles","catalogTitle","CATALOG_TITLE","articlesTitle","ARTICLES_TITLE","moviesTitle","MOVIES_TITLE","videosTitle","VIDEO_TITLE","booksTitle","BOOKS_TITLE","paragraphNoContent","RAW_DELAY_SLIDER_TRANSITION","RAW_SLIDER_PADDINGS","RAW_SLIDER_BREAKPOINTS","S","M","L","XL","ELEMS_PER_SLIDE","ReadAndWatchSection","pageSize","getDataFromApi","CardTemplateComponent","isVideo","path","sectionTitle","breakpoints","elemPaddings","transitionDelay","paragraphNoContentText","ref","useRef","useState","pageIndex","setPageIndex","totalPages","setTotalPages","sectionData","setSectionData","isLoading","setIsLoading","isSectionError","setIsSectionError","breakPoints","width","itemsToShow","itemsToScroll","slideBackHandler","prevIndex","slideNextHandler","currentItem","newPageIndex","pagesLoadedNow","current","getNumOfPages","length","addNewData","results","previousData","useEffect","count","Math","ceil","titleSectionClass","linkSectionClass","Component","TitleH3","text","ERROR_MESSAGES","generalErrorMessage","transitionMs","pagination","outerSpacing","itemPadding","disableArrowsOnEnd","showEmptySlots","onNextEnd","onPrevEnd","enableMouseSwipe","renderCardsForSlider","isNested","renderSliderSection","map","item","i","FIGURES","COLORS","one","two","three","four","ReadAndWatch","setPageSize","querySizeS","window","matchMedia","querySizeM","querySizeL","listener","matches","addEventListener","removeEventListener","BasePage","CATALOG_URL","CardFilm","VIDEO_URL","CardArticle","ARTICLES_URL","MOVIES_URL","CardBook","BOOKS_URL"],"mappings":"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","file":"static/js/5.1bfb6c56.chunk.js","sourcesContent":["import './CardFigure.scss';\nimport PropTypes from 'prop-types';\n\nfunction CardFigure({ title, shape, color, children, sectionClass }) {\n  return (\n    <div\n      className={`card-figure card-figure_color_${color} card-figure_form_${shape} ${sectionClass}`}\n    >\n      {title && <h2 className=\"section-title\">{title}</h2>}\n      {children}\n    </div>\n  );\n}\n\nCardFigure.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string.isRequired,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  sectionClass: PropTypes.string,\n};\n\nCardFigure.defaultProps = {\n  title: '',\n  color: 'yellow',\n  children: null,\n  sectionClass: '',\n};\n\nexport default CardFigure;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { TitleH2 } from '../../utils';\nimport CardFigure from '../CardFigure/CardFigure';\nimport { staticImageUrl } from '../../../config/config';\nimport './CardCatalog.scss';\n\nfunction CardCatalog({ data: { id, title, image }, shape, sectionClass }) {\n  const link = `/catalog/${id}`;\n  return (\n    <div className={`card-catalog ${sectionClass}`}>\n      <Link to={link} className=\"card-catalog__link-wrap\">\n        <div className=\"card-catalog__image-wrap\">\n          <CardFigure\n            sectionClass=\"card-catalog_type_shaped\"\n            shape={shape}\n            color=\"white\"\n          >\n            <img\n              draggable=\"false\"\n              className=\"card-catalog__image\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n            />\n          </CardFigure>\n        </div>\n        <TitleH2 sectionClass=\"card-catalog__title\" title={title} />\n      </Link>\n    </div>\n  );\n}\n\nCardCatalog.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  shape: PropTypes.string.isRequired,\n  image: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardCatalog.defaultProps = {\n  data: {},\n  title: '',\n  image: '',\n  sectionClass: '',\n};\n\nexport default CardCatalog;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы каталога\nfunction getCatalogPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getCatalogArticlePageData({ articleId } = {}) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/${articleId}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getCatalogPageData, getCatalogArticlePageData };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей фильмы\nfunction getMoviesPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getMoviesPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного видео\nfunction getMovie(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getMoviesPageData, getMoviesPageFilter, getMovie };\n","/* eslint-disable camelcase */\nimport axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение/фильтрация видео на странице \"Видео\"\nfunction getVideoPageData({ limit, offset, tags, resource_group }) {\n  const query = resource_group\n    ? { limit, offset, tags, resource_group }\n    : { limit, offset, tags };\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий видео (список фильтров)\nfunction getVideoPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного видео\nfunction getVideo(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getVideoPageTags, getVideoPageData, getVideo };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getArticlesPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/articles/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного книги\nfunction getArticle(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/articles/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getArticlesPageData, getArticle };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей книги\nfunction getBooksPageData({ limit, offset, types }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/`, {\n      params: { types, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getBooksPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/types/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение одного книги\nfunction getBook(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getBooksPageData, getBooksPageFilter, getBook };\n","import {\n  ARTICLES_TITLE,\n  BOOKS_TITLE,\n  CATALOG_TITLE,\n  MAIN_PAGE_TITLE,\n  MOVIES_TITLE,\n  READ_AND_WATCH_TITLE,\n  VIDEO_TITLE,\n} from '../../../config/routes';\n\nconst readAndWatchPageTexts = {\n  headTitle: `${MAIN_PAGE_TITLE} | ${READ_AND_WATCH_TITLE}`,\n  headDescription: 'Превью основных публичных информационных разделов сайта.',\n  pageTitles: {\n    catalogTitle: CATALOG_TITLE,\n    articlesTitle: ARTICLES_TITLE,\n    moviesTitle: MOVIES_TITLE,\n    videosTitle: VIDEO_TITLE,\n    booksTitle: BOOKS_TITLE,\n  },\n  paragraphNoContent: 'В данной категории пока ничего нет.',\n};\n\nexport default readAndWatchPageTexts;\n","// Страница \"Read and watch\" (RAW)\nexport const RAW_DELAY_SLIDER_TRANSITION = 1250;\nexport const RAW_SLIDER_PADDINGS = [0, 15, 0, 15];\nexport const RAW_SLIDER_BREAKPOINTS = {\n  S: 700,\n  M: 1120,\n  L: 1440,\n  XL: 1441,\n};\nexport const ELEMS_PER_SLIDE = {\n  one: 1,\n  two: 2,\n  three: 3,\n  four: 4,\n};\n","import { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel from 'react-elastic-carousel';\nimport {\n  INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX,\n  INDEX_ERROR_FOR_PENULTIMATE_PAGE,\n  PAGES_TO_LOAD,\n} from './constants';\nimport {\n  LinkableHeading,\n  Loader,\n  NoDataNotificationBox,\n  TitleH3,\n} from '../utils';\nimport { COLORS, ERROR_MESSAGES, FIGURES } from '../../config/constants';\nimport './ReadAndWatchSection.scss';\n\nfunction ReadAndWatchSection({\n  pageSize,\n  getDataFromApi,\n  CardTemplateComponent,\n  isVideo,\n  path,\n  sectionTitle,\n  breakpoints,\n  elemPaddings,\n  transitionDelay,\n  paragraphNoContentText,\n  sectionClass,\n}) {\n  const { S, M, L, XL } = breakpoints;\n  const ref = useRef();\n\n  // индекс страницы\n  const [pageIndex, setPageIndex] = useState(0);\n  // всего возможных страниц при текущем разрешении\n  const [totalPages, setTotalPages] = useState(null);\n  const [sectionData, setSectionData] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSectionError, setIsSectionError] = useState(false);\n\n  const breakPoints = [\n    { width: S, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: M, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: L, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: XL, itemsToShow: pageSize, itemsToScroll: pageSize },\n  ];\n\n  function addNewData() {\n    // Логика: при добавлении новых блоков нужно загрузить 3 страницы начиная с последнего имеющегося элемента\n    const offset = sectionData.length;\n    const loadThreePages = pageSize * PAGES_TO_LOAD;\n    return getDataFromApi({ limit: loadThreePages, offset });\n  }\n\n  useEffect(() => {\n    const offset = pageSize * pageIndex;\n    const loadThreePages = pageSize * 3;\n\n    getDataFromApi({ limit: loadThreePages, offset })\n      .then(({ results, count }) => {\n        setTotalPages(Math.ceil(count / pageSize));\n        setSectionData(results);\n        setIsLoading(false);\n      })\n      .catch(() => setIsSectionError(true));\n  }, [pageSize]);\n\n  function slideBackHandler() {\n    setPageIndex((prevIndex) => prevIndex - 1);\n  }\n\n  function slideNextHandler(currentItem, newPageIndex) {\n    const pagesLoadedNow = ref.current.getNumOfPages();\n    const isPenultimatePage =\n      pagesLoadedNow - INDEX_ERROR_FOR_PENULTIMATE_PAGE === newPageIndex;\n    const isLastPage =\n      pagesLoadedNow - INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX === newPageIndex;\n\n    const isNoMoreDataToLoad = pagesLoadedNow === totalPages;\n    if (isNoMoreDataToLoad) {\n      return;\n    }\n\n    // значит произошел скрол вперед + это предпоследняя страница\n    if (isPenultimatePage || isLastPage) {\n      addNewData()\n        .then(({ results }) => {\n          setSectionData((previousData) => [...previousData, ...results]);\n          setPageIndex((prevIndex) => prevIndex + 1);\n        })\n        .catch(() => setIsSectionError(true));\n    } else {\n      setPageIndex((prevIndex) => prevIndex + 1);\n    }\n  }\n\n  return (\n    <section className=\"readwatch__section\">\n      <div className=\"readwatch__container\">\n        <LinkableHeading\n          title={sectionTitle}\n          path={path}\n          titleSectionClass=\"readwatch__heading\"\n          linkSectionClass=\"readwatch__heading-link\"\n          Component={TitleH3}\n        />\n      </div>\n      <div className={`readwatch__slider-container ${sectionClass}`}>\n        {renderSliderSection()}\n      </div>\n    </section>\n  );\n\n  function renderCardsForSlider() {\n    if (sectionData) {\n      return sectionData.map((item, i) => (\n        <CardTemplateComponent\n          key={`${sectionTitle}-${item?.id}`}\n          sectionClass=\"cards-section__item\"\n          // для \"статей\" надо добавлять card-container_type_article\n          // для секции Фильмы, Книги, Видео, Статьи\n          data={item}\n          // для секции Справочник\n          shape={FIGURES[i % FIGURES.length]}\n          // для секции Статьи\n          color={COLORS[(i + 1) % COLORS.length]}\n          // для секции с Видео\n          isVideo={isVideo}\n          {...item}\n        />\n      ));\n    }\n    return [];\n  }\n\n  function renderSliderSection() {\n    if (isSectionError) {\n      return (\n        <NoDataNotificationBox\n          text={ERROR_MESSAGES.generalErrorMessage.title}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (\n      !isLoading &&\n      !isSectionError &&\n      sectionData &&\n      sectionData?.length === 0\n    ) {\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContentText}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    if (!isLoading && totalPages && sectionData) {\n      return (\n        <Carousel\n          ref={ref}\n          className=\"readwatch__carousel\"\n          transitionMs={transitionDelay}\n          pagination={false}\n          outerSpacing={0}\n          itemPadding={elemPaddings}\n          breakPoints={breakPoints}\n          disableArrowsOnEnd\n          showEmptySlots\n          onNextEnd={slideNextHandler}\n          onPrevEnd={slideBackHandler}\n          enableMouseSwipe={false}\n        >\n          {renderCardsForSlider()}\n        </Carousel>\n      );\n    }\n\n    return <Loader isNested />;\n  }\n}\n\nReadAndWatchSection.propTypes = {\n  pageSize: PropTypes.number.isRequired,\n  getDataFromApi: PropTypes.func.isRequired,\n  CardTemplateComponent: PropTypes.func.isRequired,\n  path: PropTypes.string.isRequired,\n  sectionTitle: PropTypes.string.isRequired,\n  breakpoints: PropTypes.objectOf(PropTypes.number).isRequired,\n  elemPaddings: PropTypes.arrayOf(PropTypes.number).isRequired,\n  transitionDelay: PropTypes.number.isRequired,\n  paragraphNoContentText: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n  isVideo: PropTypes.bool,\n};\n\nReadAndWatchSection.defaultProps = {\n  sectionClass: '',\n  isVideo: false,\n};\n\nexport default ReadAndWatchSection;\n","export const PAGES_TO_LOAD = 3;\nexport const INDEX_ERROR_FOR_PENULTIMATE_PAGE = 2;\nexport const INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX = 1;\n","import { useEffect, useState } from 'react';\nimport readAndWatchPageTexts from './locales/read-and-watch-page-RU';\nimport {\n  BasePage,\n  CardArticle,\n  CardBook,\n  CardCatalog,\n  CardFilm,\n} from './index';\nimport {\n  ARTICLES_URL,\n  BOOKS_URL,\n  CATALOG_URL,\n  MOVIES_URL,\n  VIDEO_URL,\n} from '../../config/routes';\nimport {\n  ELEMS_PER_SLIDE,\n  RAW_DELAY_SLIDER_TRANSITION,\n  RAW_SLIDER_BREAKPOINTS,\n  RAW_SLIDER_PADDINGS,\n} from './constants';\nimport ReadAndWatchSection from '../../components/ReadAndWatchSection/ReadAndWatchSection';\n// АПИ\nimport { getCatalogPageData } from '../../api/catalog-page';\nimport { getVideoPageData } from '../../api/video-page';\nimport { getArticlesPageData } from '../../api/articles-page';\nimport { getMoviesPageData } from '../../api/movies-page';\nimport { getBooksPageData } from '../../api/books-page';\nimport './ReadAndWatch.scss';\n\n// константы страницы\nconst { headTitle, headDescription, pageTitles, paragraphNoContent } =\n  readAndWatchPageTexts;\nconst { catalogTitle, articlesTitle, moviesTitle, videosTitle, booksTitle } =\n  pageTitles;\nconst { S, M, L } = RAW_SLIDER_BREAKPOINTS;\nconst { one, two, three, four } = ELEMS_PER_SLIDE;\n\nfunction ReadAndWatch() {\n  // определяет сколько объектов показывать в ряду\n  const [pageSize, setPageSize] = useState(null);\n\n  useEffect(() => {\n    // 1 элемент в ряду (до 700px)\n    const querySizeS = window.matchMedia(`(max-width: ${S}px)`);\n    // 2 элемента в ряду (до 1120px)\n    const querySizeM = window.matchMedia(`(max-width: ${M}px)`);\n    // 3 элемента в ряду (до 1440px)\n    const querySizeL = window.matchMedia(`(max-width: ${L}px)`);\n    // больше 1440px будет 4 элемента в ряду\n\n    const listener = () => {\n      if (querySizeS.matches) {\n        setPageSize(one);\n      } else if (querySizeM.matches) {\n        setPageSize(two);\n      } else if (querySizeL.matches) {\n        setPageSize(three);\n      } else {\n        setPageSize(four);\n      }\n    };\n    listener();\n\n    querySizeS.addEventListener('change', listener);\n    querySizeM.addEventListener('change', listener);\n    querySizeL.addEventListener('change', listener);\n    return () => {\n      querySizeS.removeEventListener('change', listener);\n      querySizeM.removeEventListener('change', listener);\n      querySizeL.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"readwatch-page page__section fade-in\">\n        {pageSize && renderUniqueSliderSections()}\n      </section>\n    </BasePage>\n  );\n\n  function renderUniqueSliderSections() {\n    return (\n      <>\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getCatalogPageData}\n          CardTemplateComponent={CardCatalog}\n          path={CATALOG_URL}\n          sectionTitle={catalogTitle}\n          sectionClass=\"readwatch-page__slider-container_el_catalog\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getVideoPageData}\n          CardTemplateComponent={CardFilm}\n          path={VIDEO_URL}\n          sectionTitle={videosTitle}\n          sectionClass=\"readwatch-page__slider-container_el_video\"\n          isVideo\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getArticlesPageData}\n          CardTemplateComponent={CardArticle}\n          path={ARTICLES_URL}\n          sectionTitle={articlesTitle}\n          sectionClass=\"readwatch-page__slider-container_el_articles\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getMoviesPageData}\n          CardTemplateComponent={CardFilm}\n          path={MOVIES_URL}\n          sectionTitle={moviesTitle}\n          sectionClass=\"readwatch-page__slider-container_el_movies\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getBooksPageData}\n          CardTemplateComponent={CardBook}\n          path={BOOKS_URL}\n          sectionTitle={booksTitle}\n          sectionClass=\"readwatch-page__slider-container_el_books\"\n        />\n      </>\n    );\n  }\n}\n\nexport default ReadAndWatch;\n"],"sourceRoot":""}