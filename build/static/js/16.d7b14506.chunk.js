(this.webpackJsonpbbbs_team3_react=this.webpackJsonpbbbs_team3_react||[]).push([[16],{180:function(t,e,n){"use strict";var i=n(2),c=(n(182),n(0));function s(t){var e=t.filterList,n=t.name,s=t.handleClick,a=["tags",t.sectionClass].join(" ").trim(),o=["tags__list",e.length>3?"tags__list_mobile":""].join(" ").trim();return Object(c.jsx)("div",{className:a,children:Object(c.jsx)("ul",{className:o,children:e.map((function(t){return Object(c.jsx)("li",{className:"tags__list-item",children:Object(c.jsx)(i.r,{name:n,value:null===t||void 0===t?void 0:t.filter,title:null===t||void 0===t?void 0:t.name,isActive:null===t||void 0===t?void 0:t.isActive,onClick:s})},null===t||void 0===t?void 0:t.name)}))})})}s.defaultProps={filterList:[],sectionClass:"",name:"",handleClick:function(){}},e.a=s},181:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(t,e){var n=e.inputValue,i=e.isChecked;t((function(t){return t.map((function(t){return t.filter===n&&(t.isActive=i),t}))}))},c=function(t,e){var n=e.inputValue,i=e.isChecked;t((function(t){return t.map((function(t){return t.filter===n?t.isActive=i:t.isActive=!1,t}))}))},s=function(t,e){t((function(t){return t.map((function(t){return t.filter===e?t.isActive=!0:t.isActive=!1,t}))}))},a=function(t,e){t((function(t){return t.map((function(t){return t.filter===e&&(t.isActive=!1),t}))}))},o=function(t){t((function(t){return t.map((function(t){return t.isActive=!1,t}))}))}},182:function(t,e,n){},207:function(t,e,n){},255:function(t,e,n){"use strict";n.r(e);var i=n(46),c=n(5),s=n(1),a=n(16),o=n(3),r={headTitle:"".concat(o.l," | ").concat(o.v),headDescription:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u043e\u0442\u0432\u0435\u0442\u0430\u043c\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b.",title:"\u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b",textStubNoData:"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u0443\u0441\u0442\u0430. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u043e\u0437\u0436\u0435!",formPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441",formSubmitButton:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",formSubmitButtonLoading:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430..."},u=n(8),l=n(7),f=n(4),d=n(11),b={beforeSubmit:{title:"\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0441\u0432\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u2014 \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u043c, \u0438 \u043c\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u043c \u0435\u0433\u043e \u0432 \u0441\u043f\u0438\u0441\u043e\u043a",titleClass:"",formVisibilityClass:""},successSubmit:{title:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u044b \u043f\u0440\u0438\u043d\u044f\u043b\u0438 \u0432\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441. \u0412\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u044e\u0442, \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u043d \u043f\u0440\u043e\u0439\u0434\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0438 \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u0430\u0441\u0442 \u043d\u0430 \u043d\u0435\u0433\u043e \u043e\u0442\u0432\u0435\u0442!",titleClass:"add-question__title_success",formVisibilityClass:"question-form_invisible"},errorSubmit:{title:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0432\u0430\u0448\u0435\u0433\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u0430! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435 \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438!",titleClass:"add-question__title_error"}},j=n(181),m=n(51),v=n(14),O=n.n(v),h=n(6);function g(t){var e=t.limit,n=t.offset,i=t.tags;return O.a.get("".concat(h.b).concat(h.a,"/questions/"),{params:{limit:e,offset:n,tags:i}}).then((function(t){return t.data})).catch((function(t){return Promise.reject(null===t||void 0===t?void 0:t.response)}))}var p=n(44),_=n(54),x=n(45),q=n(180),C=n(2),S=(n(207),n(0)),k=r.headTitle,N=r.headDescription,P=r.title,A=r.textStubNoData,L=r.formPlaceholder,y=r.formSubmitButton,E=r.formSubmitButtonLoading,D={minLength:10,maxLength:500},V=10;e.default=function(){var t=Object(s.useContext)(u.b).currentUser,e=Object(s.useContext)(u.c),n=e.serverError,o=e.setError,r=e.clearError,v=Object(s.useContext)(u.d).openPopupError,F=f.f.unauthorized,B=f.f.badRequest,T=Object(s.useState)(!1),w=Object(c.a)(T,2),M=w[0],J=w[1],Q=Object(s.useState)(!1),z=Object(c.a)(Q,2),I=z[0],R=z[1],U=n?Object(m.a)(n):"",G=Object(s.useState)(null),H=Object(c.a)(G,2),K=H[0],W=H[1],X=Object(a.h)().state,Y=null===X||void 0===X?void 0:X.question,Z=null===X||void 0===X?void 0:X.id,$=Object(s.useState)(null),tt=Object(c.a)($,2),et=tt[0],nt=tt[1],it=Object(s.useState)(!0),ct=Object(c.a)(it,2),st=ct[0],at=ct[1],ot=Object(s.useState)(!1),rt=Object(c.a)(ot,2),ut=rt[0],lt=rt[1],ft=Object(s.useState)(!1),dt=Object(c.a)(ft,2),bt=dt[0],jt=dt[1],mt=Object(s.useState)(!1),vt=Object(c.a)(mt,2),Ot=vt[0],ht=vt[1],gt=Object(s.useState)(null),pt=Object(c.a)(gt,2),_t=pt[0],xt=pt[1],qt=Object(s.useState)(0),Ct=Object(c.a)(qt,2),St=Ct[0],kt=Ct[1],Nt=Object(s.useState)(0),Pt=Object(c.a)(Nt,2),At=Pt[0],Lt=Pt[1],yt=Object(s.useState)(b.beforeSubmit),Et=Object(c.a)(yt,2),Dt=Et[0],Vt=Et[1],Ft=Object(l.h)(),Bt=Ft.values,Tt=Ft.handleChange,wt=Ft.errors,Mt=Ft.isValid,Jt=Ft.resetForm,Qt=function(t){t?Vt(b.errorSubmit):(Vt(b.successSubmit),setTimeout((function(){Jt(),r(),Vt(b.beforeSubmit)}),4e3))},zt=function(t){t.preventDefault();var e=Bt.question;R(!0),function(t){return O.a.post("".concat(h.b).concat(h.a,"/questions/"),t).then((function(t){return t.data})).catch((function(t){return Promise.reject(null===t||void 0===t?void 0:t.response)}))}({title:e}).then((function(){return Qt(!1)})).catch((function(t){(null===t||void 0===t?void 0:t.status)===B||(null===t||void 0===t?void 0:t.status)===F?o(null===t||void 0===t?void 0:t.data):Qt(!0)})).finally((function(){return R(!1)}))},It=function(t,e){t===f.a?Object(j.e)(xt,f.a):(Object(j.c)(xt,{inputValue:t,isChecked:e}),Object(j.b)(xt,f.a)),jt(!0)},Rt=function(){return _t?_t.filter((function(t){return t.isActive&&t.filter!==f.a})).map((function(t){return t.filter})).join(","):null},Ut=function(t){var e=bt?0:V*At,n=t||Rt();g({limit:V,offset:e,tags:n}).then((function(t){var e=t.results,n=t.count;kt(Math.ceil(n/V)),nt(e),ht(!1)})).catch((function(){bt?(o(f.g.filterErrorMessage),v()):J(!0)})).finally((function(){lt(!1),jt(!1)}))},Gt=Object(l.f)((function(){if(_t&&bt){var t=Rt();0===t.length&&Object(j.e)(xt,f.a),Ut(t)}}),f.d),Ht=Object(l.f)(Ut,f.d);return Object(s.useEffect)((function(){bt&&Gt()}),[bt]),Object(s.useEffect)((function(){st||bt||(lt(!0),Ht())}),[V,At]),Object(s.useEffect)((function(){Promise.all([g({limit:V}),O.a.get("".concat(h.b).concat(h.a,"/questions/tags/")).then((function(t){return t.data})).catch((function(t){return Promise.reject(null===t||void 0===t?void 0:t.response)}))]).then((function(t){var e,n=Object(c.a)(t,2),s=n[0],a=s.results,o=s.count,r=n[1];if(kt(Math.ceil(o/V)),Z&&(e=Z,O.a.get("".concat(h.b).concat(h.a,"/questions/").concat(e)).then((function(t){return t.data})).catch((function(t){return Promise.reject(new Error("".concat(t.message)))}))).then((function(t){ht(!0);var e=a.filter((function(e){return e.id!==t.id}));W(t),nt(e)})).catch((function(){return J(!0)})),Y){ht(!0);var u=a.filter((function(t){return t.id!==Y.id}));W(Y),nt(u)}else nt(a);var l=r.map((function(t){return{isActive:!1,name:Object(d.a)(null===t||void 0===t?void 0:t.name),filter:null===t||void 0===t?void 0:t.slug}}));xt([{filter:f.a,name:f.a,isActive:!0}].concat(Object(i.a)(l)))})).catch((function(){return J(!0)})).finally((function(){return at(!1)}))}),[Z]),et&&_t||M?Object(S.jsx)(p.a,{headTitle:k,headDescription:N,children:Object(S.jsx)("section",{className:"questions-page page__section fade-in",children:function(){if((null===et||void 0===et?void 0:et.length)>0)return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(C.w,{title:P,sectionClass:"questions__title"}),(null===_t||void 0===_t?void 0:_t.length)>1&&Object(S.jsx)(q.a,{filterList:_t,name:"tag",handleClick:It}),Kt(),t&&Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("section",{className:"add-question fade-in",children:[Object(S.jsx)(C.x,{sectionClass:"add-question__title ".concat(Dt.titleClass),title:Dt.title}),Object(S.jsxs)("form",{className:"question-form ".concat(Dt.formVisibilityClass),onSubmit:function(t){return zt(t)},noValidate:!0,children:[Object(S.jsxs)("fieldset",{className:"question-form__add-question",children:[Object(S.jsx)(C.i,{id:"questionsFormInput",type:"text",name:"question",placeholder:L,onChange:Tt,value:null===Bt||void 0===Bt?void 0:Bt.question,minLength:D.minLength,maxLength:D.maxLength,required:!0,error:null===wt||void 0===wt?void 0:wt.question,sectionClass:"input__question-form"}),Object(S.jsx)(C.b,{title:I?E:y,color:"black",sectionClass:"question-form__button",isSubmittable:!0,isDisabled:I||!Mt})]}),Object(S.jsx)("span",{className:"form-error-message",children:U})]})]})})]});var e=(null===et||void 0===et?void 0:et.length)>1;if(M||!e)return Object(S.jsx)(x.a,{titleText:M?f.g.generalErrorMessage.title:A});return null}()})}):Object(S.jsx)(C.k,{isCentered:!0});function Kt(){return bt?Object(S.jsx)(C.k,{isPaginate:!0}):Object(S.jsxs)(S.Fragment,{children:[ut?Object(S.jsx)(C.k,{isPaginate:!0}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("ul",{className:"questions",children:[Ot&&K?Object(S.jsx)("li",{className:"questions__list-item fade-in",children:Object(S.jsx)(_.a,{data:K,sectionClass:"card__questions_type_questions-page",isQuestionsPage:!0,isOpenByDefault:!0})}):null,et.map((function(t){return Object(S.jsx)("li",{className:"questions__list-item slide-bottom-up",children:Object(S.jsx)(_.a,{data:t,sectionClass:"card__questions_type_questions-page",isQuestionsPage:!0})},null===t||void 0===t?void 0:t.id)}))]})}),St>1&&Object(S.jsx)(C.q,{sectionClass:"cards-section__pagination",pageCount:St,value:At,onChange:Lt})]})}}}}]);
//# sourceMappingURL=16.d7b14506.chunk.js.map