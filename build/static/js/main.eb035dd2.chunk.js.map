{"version":3,"sources":["utils/external-links.js","locales/about-us-page-RU.js.js","hooks/useClickOutside.js","hooks/useSmoothHorizontalScroll.js","hooks/useScrollToTop.js","contexts/CurrentUserContext.js","contexts/CitiesContext.js","contexts/PopupsContext.js","contexts/ErrorsContext.js","config/config.js","api/auth.js","api/user.js","config/routes.js","hooks/useLocalStorage.js","config/constants.js","hooks/useAuth.js","api/cities.js","hooks/useDebounce.js","hooks/useCities.js","api/places-page.js","hooks/useActivityTypes.js","hooks/useEventBooking.js","api/event-participants.js","hooks/useFormWithValidation.js","components/Header/locales/RU.js","components/NavBar/locales/RU.js","components/utils/Blockquote/Blockquote.js","components/utils/Button/Button.js","components/utils/ButtonDots/ButtonDots.js","components/utils/ButtonRound/ButtonRound.js","components/utils/Caption/Caption.js","components/utils/Card/Card.js","components/utils/NavItem/NavItem.js","utils/drop-down-menu-link.js","components/utils/DropDownMenu/DropDownMenu.js","components/utils/DropDownSelect/locales/RU.js","components/utils/DropDownSelect/DropDownSelect.js","components/utils/Input/Input.js","components/utils/LinkableHeading/LinkableHeading.js","components/utils/Loader/Loader.js","assets/logo.svg","components/utils/LogoBlue/LogoBlue.js","components/utils/NoDataNotificationBox/locales/RU.js","components/utils/NoDataNotificationBox/NoDataNotificationBox.js","components/utils/Paginate/Paginate.js","components/utils/PseudoButtonTag/PseudoButtonTag.js","components/utils/Rating/Rating.js","components/utils/Rubric/Rubric.js","components/utils/SearchButton/SearchButton.js","components/utils/TitleH1/TitleH1.js","components/utils/TitleH2/TitleH2.js","components/utils/TitleH3/TitleH3.js","components/utils/UserIconButton/UserIconButton.js","components/utils/UserMenuButton/UserMenuButton.js","components/utils/Widget/Widget.js","components/NavItemWithDropdown/NavItemWithDropdown.js","components/NavBar/NavBar.js","components/Header/Header.js","components/Footer/locales/RU.js","assets/footer-logo.svg","components/Footer/Footer.js","layout/BasePage.js","components/Cards/CardFigure/CardFigure.js","components/Cards/CardAbout/CardAbout.js","pages/AboutUs/AboutUs.js","locales/profile-page-RU.js","components/Cards/ProfileEventCard/locales/RU.js","utils/utils.js","components/Cards/ProfileEventCard/ProfileEventCard.js","components/ProfileForm/locales/RU.js","utils/rating-captions.js","components/ProfileForm/ProfileForm.js","components/ProfileDiary/locales/RU.js","assets/icon-logo-no-text.svg","components/Cards/CardAnnotation/CardAnnotationContainer.js","components/ProfileDiary/ProfileDiary.js","components/Popups/PopupDeleteDiary/locales/RU.js","components/Popups/Popup/locales/RU.js","components/Popups/Popup/Popup.js","components/Popups/PopupDeleteDiary/PopupDeleteDiary.js","pages/Profile/Profile.js","api/profile-page.js","locales/calendar-page-RU.js","utils/filter-tags.js","components/Cards/CardCalendar/locales/RU.js","components/Cards/CardCalendar/CardCalendar.js","components/AnimatedPageContainer/locales/RU.js","components/AnimatedPageContainer/AnimatedPageContainer.js","components/TagsList/TagsList.js","pages/Calendar/Calendar.js","api/afisha-page.js","locales/main-page-RU.js","api/main-page.js","components/Cards/CardStub/locales/RU.js","components/Cards/CardStub/CardStub.js","components/Cards/CardPlace/locales/RU.js","components/Cards/CardAnnotation/CardAnnotation.js","components/Cards/CardPlace/CardPlace.js","components/Cards/CardArticleBig/locales/RU.js","components/Cards/CardArticleBig/CardArticleBig.js","components/Cards/CardFilm/locales/RU.js","components/Cards/CardFilm/CardFilm.js","components/Cards/CardVideoMain/locales/RU.js","components/Cards/CardVideoMain/CardVideoMain.js","components/Cards/CardQuestion/locales/RU.js","components/Cards/CardQuestion/CardQuestion.js","pages/MainPage/MainPage.js","locales/404-page-RU.js","layout/PageNoFooter.js","pages/PageNotFound/PageNotFound.js","locales/catalog-page-RU.js","utils/render-lines.js","components/Cards/CardsSectionWithLines/CardsSectionWithLines.js","api/catalog-page.js","components/Cards/CardCatalog/CardCatalog.js","pages/Catalog/Catalog.js","locales/questions-page-RU.js","api/questions-page.js","pages/Questions/Questions.js","locales/places-page-RU.js","components/PlacesRecommend/locales/RU.js","components/FormRecommendation/locales/RU.js","components/FormRecommendation/FormRecommendation.js","components/PlacesRecommend/PlacesRecommend.js","pages/Places/Places.js","locales/rights-page-RU.js","api/rights-page.js","components/Cards/CardRights/CardRights.js","pages/Rights/Rights.js","locales/movies-page-RU.js","api/movies-page.js","pages/Movies/Movies.js","locales/articles-page-RU.js","components/Cards/CardArticle/locales/RU.js","components/Cards/CardArticle/CardArticle.js","api/articles-page.js","pages/Articles/Articles.js","locales/read-and-watch-page-RU.js","components/Cards/CardBook/CardBook.js","pages/ReadAndWatch/constants.js","components/ReadAndWatchSection/ReadAndWatchSection.js","components/ReadAndWatchSection/constants.js","api/videos-page.js","api/books-page.js","pages/ReadAndWatch/ReadAndWatch.js","locales/video-page-RU.js","api/video-page.js","pages/Video/Video.js","locales/books-page-RU.js","pages/Books/Books.js","components/ProtectedRoute/ProtectedRoute.js","navigation/Router.js","components/Popups/PopupConfirmation/locales/RU.js","components/Popups/PopupConfirmation/PopupConfirmation.js","components/Popups/PopupSuccessfully/locales/RU.js","components/Popups/PopupSuccessfully/PopupSuccessfully.js","components/Popups/PopupRecommendSuccess/locales/RU.js","components/Popups/PopupRecommendSuccess/PopupRecommendSuccess.js","components/Popups/PopupLogin/locales/RU.js","components/Popups/PopupLogin/PopupLogin.js","components/Popups/PopupAboutEvent/locales/RU.js","components/Popups/PopupAboutEvent/PopupAboutEvent.js","components/Popups/PopupCities/locales/RU.js","components/Popups/PopupCities/PopupCities.js","components/Popups/PopupError/PopupError.js","utils/parser-link-youtube.js","components/Popups/PopupVideo/PopupVideo.js","App.js","index.js"],"names":["socialLinks","id","url","title","bbbsLinks","developmentLinks","aboutUsTexts","headTitle","headDescription","logoLink","aboutTitle","aboutParagraphs","text","blockquote","cards","linkText","href","color","useClickOutside","callback","ref","useRef","clickListener","useCallback","evt","current","contains","target","useEffect","document","addEventListener","removeEventListener","useSmoothHorizontalScroll","step","scrollByWheel","preventDefault","scrollTo","left","scrollLeft","deltaY","behavior","useLayoutEffect","useScrollToTop","deps","window","top","CurrentUserContext","createContext","CitiesContext","PopupsContext","ErrorsContext","baseURL","apiUrl","staticImageUrl","AuthApi","accessToken","axios","defaults","headers","common","Authorization","loginData","post","then","response","data","catch","err","Promise","reject","getUserData","get","Error","message","AFISHA_URL","ABOUT_US_URL","QUESTIONS_URL","PROFILE_URL","PLACES_URL","RIGHTS_URL","READ_AND_WATCH_URL","CATALOG_URL","VIDEO_URL","ARTICLES_URL","MOVIES_URL","BOOKS_URL","HISTORY_URL","AFISHA_TITLE","ABOUT_US_TITLE","QUESTIONS_TITLE","PLACES_TITLE","RIGHTS_TITLE","READ_AND_WATCH_TITLE","HISTORY_TITLE","setLocalStorageData","key","value","localStorage","setItem","JSON","stringify","getLocalStorageData","parse","getItem","useLocalStorage","getLocalStorageItem","weekdays","months","COLORS","FIGURES","ALL_CATEGORIES","regExpImages","DELAY_DEBOUNCE","localStUserCity","localStAfishaEvent","localStChosenVideo","ERROR_MESSAGES","ERROR_CODES","useAuth","setCurrentUser","generalErrorMessage","unauthorized","badRequest","useState","isCheckingToken","setIsCheckingToken","popups","useContext","errors","history","useHistory","handleError","status","setError","handleLogout","clearAuth","clear","push","handleLogin","authorize","token","access","refresh","setAuth","userData","closeAllPopups","checkToken","error","console","log","getCities","timer","useCities","cities","setCities","useDebounce","delay","args","clearTimeout","setTimeout","getPlaces","chosen","tags","age_restriction","city","params","results","useActivityTypes","activityTypes","setActivityTypes","useEventBooking","openPopupSuccessfully","openPopupConfirmation","selectedEvent","setSelectedEvent","listenCancel","newEvent","booked","listenRegister","cancelRegistration","card","eventId","delete","cancel","Event","dispatchEvent","setCancelRegisterEvent","handleEventBooking","registerOnEvent","event","register","setRegisterEvent","useFormWithValidation","values","setValues","setErrors","isValid","setIsValid","resetForm","newValues","newErrors","newIsValid","handleChange","name","validationMessage","closest","checkValidity","handleChangeFiles","pattern","file","files","test","texts","changeCity","changeCityDefault","logoutText","searchPlaceholder","Blockquote","sectionWrapperClass","sectionTitleClass","className","defaultProps","Button","titleSelected","isSubmittable","isDisabled","onClick","isBooked","sectionClass","classNames","join","trim","type","disabled","undefined","ButtonDots","handleClick","ButtonRound","label","isSmall","isSpan","isClick","aria-label","Caption","Card","children","NavItem","sectionLinkClass","rel","to","dropDownMenuLink","DropDownMenu","map","item","buttonAriaLabel","DropDownSelect","placeholder","options","inputName","onChange","isFormOpen","isOpen","setIsOpen","optionSelected","setOptionSelected","classNamesButton","classNamesDropDown","classNamesArrow","dropdownRef","viewBox","fill","xmlns","d","aria-hidden","option","htmlFor","Input","required","max","min","minLength","maxLength","isTextarea","onFocus","errorMessage","classNamesWrap","classNamesInput","classNamesTextarea","LinkableHeading","HeadingComponent","Component","path","titleSectionClass","linkSectionClass","Loader","isNested","isCentered","LogoBlue","src","logoPath","alt","defaultText","NoDataNotificationBox","Paginate","props","pageCount","containerClassName","pageClassName","pageLinkClassName","activeLinkClassName","previousClassName","breakClassName","nextClassName","disabledClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","selected","initialPage","PseudoButtonTag","isActive","checked","Rating","ratingType","pseudoButtonClassNames","defaultChecked","Rubric","SearchButton","TitleH1","TitleH2","TitleH3","UserIconButton","isAuthorized","UserMenuButton","Widget","link","allow","NavItemWithDropdown","NavBar","isMobileMenuOpen","onUserButtonClick","onBurgerButtonClick","onCityChangeClick","onLogout","userCityName","pathname","useLocation","currentUser","Header","currentAnonymousCity","updateUser","openPopupCities","openPopupLogin","setUserCityName","userCity","currentCity","find","setIsMobileMenuOpen","headerRef","handleCloseMobileMenu","classList","isHeaderActive","setIsHeaderActive","prevScrollPos","currentScrollPos","pageYOffset","classNamesHeader","onKeyPress","logoAlt","helpButtonText","helpButtonLink","devText","devLink","devOrg","designText","designLink","designOrg","copyright","Footer","footerLogoPath","BasePage","content","CardFigure","shape","CardAbout","AboutUs","profilePageTexts","eventsTitle","eventsTitleNoResults","formTitle","buttonLabel","formatDuration","duration","hours","parseInt","minutes","seconds","format","formatDate","date","parsedDate","Date","day","getDate","weekdayName","getDay","monthName","getMonth","hour","String","getHours","year","getFullYear","getMinutes","formatWordCase","remainSeats","lastTwoDigits","lastDigit","questionForm","titleClass","formVisibilityClass","changeCaseOfFirstLetter","str","toUpperCase","slice","randomizeArray","arr","size","length","array","Array","splice","Math","floor","random","ProfileEventCard","onOpen","startDay","startAt","rateCaptionText","uploadCaptionText","placePlaceholder","datePlaceholder","datePlaceholderError","descrPlaceholder","buttonAddText","buttonDeleteText","buttonCancelText","buttonSaveText","captions","good","neutral","bad","ProfileForm","isEditMode","onClose","onSubmit","serverError","clearError","errorsString","Object","caption","setCaption","userImage","setUserImage","handleSubmit","mark","image","imageUrl","URL","createObjectURL","handleChangeImage","place","description","noValidate","accept","currentTarget","buttonShareText","buttonEditText","CardAnnotationContainer","renderThumbVertical","ProfileDiary","onEdit","onDelete","eventDay","defaultImage","submitButtonText","cancelButtonText","closeButtonLabel","Popup","typeContainer","withoutCloseButton","PopupDeleteDiary","onCardDelete","cardData","month","setMonth","formatMonthsGenitiveCase","Profile","openPopupAboutEvent","openPopupError","events","setEvents","diaries","setDiaries","setIsFormOpen","setIsEditMode","formDataToEdit","setFormDataToEdit","isDeleteDiaryPopupOpen","setIsDeleteDiaryPopupOpen","eventsData","updatedEvent","filter","openEventCard","containerEvents","scrollAnchorRef","openForm","scrollIntoView","closeForm","handleEditMode","createFormData","formData","FormData","append","handleErrorOnFormSubmit","handleCreateDiary","createDiary","newDiary","handleEditDiary","diaryId","patch","editDiary","diary","handleSubmitDiary","selectedDiary","setSelectedDiary","openDeleteDiaryPopup","closeDeleteDiaryPopup","titleH1","prevDiary","calendarPageTexts","textStubNoData","handleCheckboxBehavior","setState","inputValue","isChecked","stateFilters","filterItem","selectOneTag","tagName","deselectOneTag","buttonTitle","buttonTitleSelected","buttonTitleDisabled","remainSeatsText","CardCalendar","onEventSignUpClick","onEventDescriptionClick","endAt","address","contact","startDateParts","endDayParts","title404","buttonText","AnimatedPageContainer","is404","titleText","animationContainer","Lottie","loadAnimation","container","renderer","loop","autoplay","animationData","animation404","TagsList","filterList","classNamesList","Calendar","isLoading","setIsLoading","isCityChanging","setIsCityChanging","calendarPageData","setCalendarPageData","filters","setFilters","isFiltersUsed","setIsFiltersUsed","dataForCurrentCityExist","getInitialPageData","calendarEvents","finally","handleFilterClick","handleRadioBehavior","monthsTags","customFilters","tag","debounceFiltration","activeFilter","monthNumber","filteredEvents","mainPageTexts","getMainPageData","CardStub","genderMale","genderFemale","chosenTagText","activityTypeDefault","CardAnnotation","info","isMain","CardPlace","gender","age","activityType","isBig","isMainPage","cardColor","cardSize","sex","types","reduce","obj","CardArticleBig","altText","CardFilm","openPopupVideo","isMobile","setIsMobile","mobile","matchMedia","listener","matches","renderVideoPlayback","childrenElem","durationString","renderPrewiew","imageAlt","CardVideoMain","labelText","CardQuestion","answer","isQuestionsPage","isOpened","setIsOpened","isAnimated","setIsAnimated","answerWrapperClassNames","style","minHeight","clientHeight","height","MainPage","mainPageData","setMainPageData","randomMovies","movies","randomQuestions","questions","renderEventsSection","articles","video","page404Texts","animatedContainerText","PageNoFooter","PageNotFound","catalogPageTexts","subtitle","renderThoseDamnedLines","dataLength","pageSize","isTablet","renderOneLine","renderTwoLines","renderThreeLines","CardsSectionWithLines","pageNumber","setPageNumber","setIsTablet","tablet","getCatalogPageData","limit","offset","CardCatalog","PAGE_SIZE_PAGINATE","Catalog","setPageSize","setPageCount","catalogPageData","setCatalogPageData","isLoadingPage","setIsLoadingPage","isLoadingPaginate","setIsLoadingPaginate","count","ceil","smallQuery","largeQuery","i","questionsPageTexts","formPlaceholder","formSubmitButton","getQuestionsPageData","Questions","questionsPageData","setQuestionsPageData","categories","setCategories","questionFormState","setQuestionFormState","setFormState","isError","question","postQuestion","changeCategory","activeCategories","allQuestions","query","getQuestionsByFilters","filteredQuestions","all","questionsData","tagsFilters","slug","placesPageTexts","paragraphNoContent","mentorTag","ageFilterNames","closeButtonlabel","recommendadionTextPart1","recommendadionButton","recommendadionTextPart2","titlePlaceholder","linkPlaceholder","addressPlaceholder","agePlaceholder","activityPlaceholder","cityPlaceholder","descPlaceholder","descPlaceholderMobile","FormRecommendation","textAreaPlaceholder","setTextAreaPlaceholder","formClassNames","PlacesRecommend","openPopupRecommendSuccess","postPlace","Places","ageFilters","places","setPlaces","chosenPlace","setChosenPlace","isChosenCardHidden","setIsChosenCardHidden","isFirstRender","setIsFirstRender","ages","setAges","changeAge","definePlaces","placesData","chosenPlaces","chosenPlaceLast","restOfPlaces","category","activeTags","activeAges","isMentorFlag","some","tagsData","categoriesArray","toLowerCase","defineCategories","rightsPageTexts","getRightsData","CardRights","Rights","setArticles","getActiveTags","getArticlesData","debouncePaginate","categoriesArr","renderTagsContainer","moviesPageTexts","getMoviesPageData","Movies","isLoadingPagination","setIsLoadingPagination","moviesPageData","setMoviesPageData","booksData","mobileQuery","moviesData","filteredBooks","movie","annotation","articlesPageTexts","CardArticle","articleUrl","getArticlesPageData","Articles","articlesPageData","setArticlesPageData","getPageData","mainCard","pinnedFullSize","cardsWithoutMain","readAndWatchPageTexts","pageTitles","catalogTitle","articlesTitle","moviesTitle","videosTitle","booksTitle","CardBook","author","backgroundColor","RAW_DELAY_SLIDER_TRANSITION","RAW_SLIDER_PADDINGS","RAW_SLIDER_BREAKPOINTS","S","M","L","ХL","ELEMS_PER_SLIDE","ReadAndWatchSection","getDataFromApi","CardTemplateComponent","sectionTitle","breakpoints","elemPaddings","transitionDelay","paragraphNoContentText","XL","pageIndex","setPageIndex","totalPages","setTotalPages","sectionData","setSectionData","breakPoints","width","itemsToShow","itemsToScroll","slideBackHandler","prevIndex","slideNextHandler","currentItem","newPageIndex","pagesLoadedNow","getNumOfPages","addNewData","previousData","transitionMs","pagination","outerSpacing","itemPadding","disableArrowsOnEnd","showEmptySlots","onNextEnd","onPrevEnd","getVideoPageData","getBooksPageData","one","two","three","four","ReadAndWatch","querySizeS","querySizeM","querySizeL","getCatalogPageDatа","videoPageTexts","Video","chosenVideoOnRedirectFromMainPage","mainVideo","setMainVideo","setVideo","isShowMainCard","setIsShowMainCard","getMainCard","getCardsWithoutMain","getVideoData","booksPageTexts","Books","booksPageData","setBooksPageData","books","ProtectedRoute","component","Router","exact","PopupConfirmation","endDay","popupTitle","paragraph","PopupSuccessfully","animationSuccess","PopupRecommendSuccess","animationRecommendSuccess","firstParagraph","secondParagraph","loginPlaceholder","passwordPlaceholder","forgotButtonText","PopupLogin","username","password","PopupAboutEvent","PopupCities","debounceSubmitCity","dataToUpdate","cityId","res","dispatchLocalStorageEvent","isPrimary","PopupError","closeOnEsc","parserLinkYoutube","match","idVideo","PopupVideo","embedSrc","iframeIsLoading","setIframeIsLoading","removeItem","onLoad","frameBorder","allowFullScreen","seamless","App","isPopupConfirmationOpen","setIsPopupConfirmationOpen","isPopupSuccessfullyOpen","setIsPopupSuccessfullyOpen","isPopupAboutDescriptionOpen","setIsPopupAboutDescriptionOpen","isPopupErrorOpen","setIsPopupErrorOpen","isPopupLoginOpen","setIsPopupLoginOpen","isPopupCitiesOpen","setIsPopupCitiesOpen","isPopupRecommendSuccessOpen","setIsPopupRecommendSuccessOpen","isVideoPopupOpen","setIsVideoPopupOpen","closePopupError","setServerError","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eb035dd2.chunk.js","sourcesContent":["export const socialLinks = [\n  {\n    id: 1,\n    url: 'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n    title: 'facebook',\n  },\n  {\n    id: 2,\n    url: 'https://vk.com/big.brothers.big.sisters',\n    title: 'vkontakte',\n  },\n  {\n    id: 3,\n    url: 'https://www.instagram.com/nastavniki_org/',\n    title: 'instagram',\n  },\n  {\n    id: 4,\n    url: 'https://www.youtube.com/user/Nastavniki/',\n    title: 'youtube',\n  },\n];\n\nexport const bbbsLinks = {\n  about: 'https://www.nastavniki.org/o-nas/ob-organizaczii/',\n  donations: 'https://www.nastavniki.org/campaign/pomoch-dengami/',\n  volunteering: 'https://www.nastavniki.org/volontyorstvo/kak-stat-volonterom/',\n  partners: 'https://www.nastavniki.org/oficzialno/nashi-partneryi/',\n};\n\nexport const developmentLinks = {\n  praktikum: {\n    title: 'Яндекс.Практикум',\n    url: 'https://praktikum.yandex.ru/',\n  },\n  design: {\n    title: 'krkr.design',\n    url: 'https://krkr.design/',\n  },\n};\n","import { bbbsLinks } from '../utils/external-links';\n\nconst aboutUsTexts = {\n  headTitle: 'О проекте',\n  headDescription: 'Информация об организации Старшие Братья Старшие Сёстры.',\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  logoLink: bbbsLinks.about,\n  aboutTitle: 'Об организации',\n  aboutParagraphs: [\n    {\n      id: 1,\n      text: '«Старшие Братья Старшие Сестры» — межрегиональная общественная организация содействия воспитанию подрастающего поколения. Мы поддерживаем детей, которым требуется внимание: оставшихся без попечения родителей, приемных, детей из неполных, многодетных или неблагополучных семей, детей с ограниченными возможностями.',\n    },\n    {\n      id: 2,\n      text: 'Любому человеку, тем более ребенку, необходимо общение. Без него дети растут неуверенными и замкнутыми. Одиночество токсично, а самое надежное противоядие – дружба.',\n    },\n    {\n      id: 3,\n      text: 'Мы помогаем детям, которым не хватает поддержки взрослого друга, «Младшим». Таким другом становится наш волонтер, «Старший». Он принимает ребенка, какой он есть, поддерживает, помогает раскрыть потенциал, почувствовать уверенность в своих силах, узнать элементарные вещи о жизни, адаптироваться и полноценно участвовать в жизни общества.',\n    },\n  ],\n  blockquote:\n    'Мы хотим, чтобы наставник был у каждого ребенка, который в нем нуждается',\n  cards: [\n    {\n      id: 1,\n      title: 'Пожертвования',\n      text: 'Деньги пойдут на оплату работы кураторов (профессиональные психологи/социальные работники), которые поддерживают дружбу между ребенком и наставником.',\n      linkText: 'сделать пожертвование',\n      href: bbbsLinks.donations,\n      color: 'blue',\n    },\n    {\n      id: 2,\n      title: 'Наставничество',\n      text: 'Наставник «Старшие Братья Старшие Сестры» — значимый взрослый, который становится для ребенка старшим другом, ролевой моделью, принимает своего «Младшего» таким, какой он есть. «Старший» открывает для ребенка дверь в большой мир и дарит ему надежду на более счастливое и успешное будущее.',\n      linkText: 'подробнее',\n      href: bbbsLinks.volunteering,\n      color: 'pink',\n    },\n    {\n      id: 3,\n      title: 'Партнерство',\n      text: 'Компании поддерживают нас не только деньгами, но и делами. Мы собрали все возможные способы поддержки и сотрудничества: профессиональная помощь Pro Bono, организационная помощь, корпоративное волонтерство, мастер-классы, лекции, учебные программы.',\n      linkText: 'подробнее',\n      href: bbbsLinks.partners,\n      color: 'green',\n    },\n  ],\n};\n\nexport default aboutUsTexts;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// отслеживает, что клик произошёл вне контейнера-рефа и запускает колбэк\nconst useClickOutside = (callback) => {\n  const ref = useRef(null);\n\n  const clickListener = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        if (!ref.current.contains(evt.target)) {\n          callback();\n        }\n      }\n    },\n    [ref.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('mousedown', clickListener);\n    return () => document.removeEventListener('mousedown', clickListener);\n  }, []);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","/* eslint-disable consistent-return */\nimport { useCallback, useLayoutEffect, useRef } from 'react';\n\n// горизонтальная плавная прокрутка\n// step: number\nconst useSmoothHorizontalScroll = ({ step }) => {\n  const ref = useRef();\n\n  const scrollByWheel = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        evt.preventDefault();\n        ref.current.scrollTo({\n          left: ref.current.scrollLeft + evt.deltaY * step,\n          behavior: 'smooth',\n        });\n      }\n    },\n    [ref.current]\n  );\n\n  useLayoutEffect(() => {\n    if (ref && ref.current) {\n      ref.current.addEventListener('wheel', scrollByWheel);\n      return () => ref.current.removeEventListener('wheel', scrollByWheel);\n    }\n  }, [ref.current]);\n\n  return ref;\n};\n\nexport default useSmoothHorizontalScroll;\n","import { useEffect } from 'react';\n\nconst useScrollToTop = (...deps) => {\n  useEffect(() => {\n    window.scrollTo({ top: 0 });\n  }, [...deps]);\n};\n\nexport default useScrollToTop;\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import { createContext } from 'react';\n\nconst CitiesContext = createContext();\nexport default CitiesContext;\n","import { createContext } from 'react';\n\nconst PopupsContext = createContext();\nexport default PopupsContext;\n","import { createContext } from 'react';\n\nconst ErrorsContext = createContext();\nexport default ErrorsContext;\n","// локальный сервер (старый)\n// export const baseURL = 'http://localhost:80';\nexport const baseURL = 'http://178.154.192.53';\nexport const apiUrl = '/api/v1';\n// export const adminUrl = 'http://127.0.0.1';\n// новая админ-ссылка (нужно для правильных картинок)\nexport const adminUrl = 'http://178.154.192.53';\nexport const staticImageUrl = `${adminUrl}/media`;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nclass AuthApi {\n  // установить заголовки авторизации\n  static setAuth(accessToken) {\n    axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\n  }\n\n  // очистить заголовки авторизации\n  static clearAuth() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n\n  // функция авторизации\n  static authorize(loginData) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/`, loginData)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n}\n\nexport default AuthApi;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить юзера с сервера\nfunction getUserData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// обновить профиль пользователя\nfunction updateUserProfile(dataToUpdate) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/`, dataToUpdate)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getUserData, updateUserProfile };\n","export const MAIN_PAGE_URL = '/';\nexport const AFISHA_URL = '/afisha';\nexport const ABOUT_US_URL = '/about-us';\nexport const QUESTIONS_URL = '/questions';\nexport const PROFILE_URL = '/profile';\nexport const PLACES_URL = '/places';\nexport const RIGHTS_URL = '/rights';\nexport const READ_AND_WATCH_URL = '/read-and-watch';\nexport const CATALOG_URL = '/catalog';\nexport const VIDEO_URL = '/video';\nexport const ARTICLES_URL = '/articles';\nexport const MOVIES_URL = '/movies';\nexport const BOOKS_URL = '/books';\nexport const HISTORY_URL = '/history';\n\nexport const MAIN_PAGE_TITLE = 'наставники.про';\nexport const AFISHA_TITLE = 'Календарь';\nexport const ABOUT_US_TITLE = 'О проекте';\nexport const QUESTIONS_TITLE = 'Вопросы';\nexport const PROFILE_TITLE = 'Личный кабинет';\nexport const PLACES_TITLE = 'Куда пойти';\nexport const RIGHTS_TITLE = 'Права детей';\nexport const READ_AND_WATCH_TITLE = 'Читать и смотреть';\nexport const CATALOG_TITLE = 'Справочник';\nexport const VIDEO_TITLE = 'Видео';\nexport const ARTICLES_TITLE = 'Статьи';\nexport const MOVIES_TITLE = 'Фильмы';\nexport const BOOKS_TITLE = 'Книги';\nexport const HISTORY_TITLE = 'Истории';\n","import { useEffect } from 'react';\n\n// вспомогательные функции\nexport const setLocalStorageData = (key, value) =>\n  localStorage.setItem(key, JSON.stringify(value));\n\nexport const removeLocalStorageData = (key) => localStorage.removeItem(key);\n\nexport const clearLocalStorage = () => localStorage.clear();\n\nexport const getLocalStorageData = (key) =>\n  JSON.parse(localStorage.getItem(key));\n\nexport const dispatchLocalStorageEvent = (key, value) => {\n  const event = new Event('changeLocalStorage');\n  setLocalStorageData(key, value);\n  window.dispatchEvent(event);\n};\n\n// хук слушает изменение определённого ключа в localStorage и возвращает его значение при любом изменении\n// работает в связке с dispatchLocalStorageEvent\nexport const useLocalStorage = (key) => {\n  const getLocalStorageItem = () => getLocalStorageData(key);\n  useEffect(() => {\n    window.addEventListener('changeLocalStorage', getLocalStorageItem);\n    return () =>\n      window.removeEventListener('changeLocalStorage', getLocalStorageItem);\n  }, []);\n\n  return getLocalStorageItem;\n};\n","export const weekdays = [\n  'воскресенье',\n  'понедельник',\n  'вторник',\n  'среда',\n  'четверг',\n  'пятница',\n  'суббота',\n];\n\nexport const months = [\n  '', // специально, т.к у бекенда с номера 1 начинается расчет месяцев\n  'январь',\n  'февраль',\n  'март',\n  'апрель',\n  'май',\n  'июнь',\n  'июль',\n  'август',\n  'сентябрь',\n  'октябрь',\n  'ноябрь',\n  'декабрь',\n];\n\nexport const COLORS = [\n  'yellow',\n  'green',\n  'yellow',\n  'pink',\n  'blue',\n  'pink',\n  'green',\n  'yellow',\n  'green',\n  'blue',\n  'pink',\n  'blue',\n];\n\nexport const FIGURES = [\n  'square',\n  'circle',\n  'arch',\n  'circle',\n  'arch',\n  'square',\n  'arch',\n  'square',\n  'circle',\n];\n\nexport const ALL_CATEGORIES = 'Все';\n\nexport const regExpImages = /^[\\W\\w\\S\\s]+\\.(jpe?g|png|webp|jfif|bmp)$/i;\n\nexport const DELAY_DEBOUNCE = 1500;\nexport const DELAY_RENDER = 100;\n\nexport const localStUserCity = 'userCity';\nexport const localStAfishaEvent = 'afishaEvent';\nexport const jwt = 'jwt';\nexport const localStChosenVideo = 'chosenVideo';\n\nexport const ERROR_MESSAGES = {\n  generalErrorMessage:\n    'При передаче данных произошла ошибка. Повторите попытку позже.',\n};\n\nexport const ERROR_CODES = {\n  badRequest: 400,\n  unauthorized: 401,\n};\n","import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PopupsContext, ErrorsContext } from '../contexts/index';\nimport AuthApi from '../api/auth';\nimport { getUserData } from '../api/user';\nimport { MAIN_PAGE_URL } from '../config/routes';\nimport {\n  setLocalStorageData,\n  getLocalStorageData,\n  clearLocalStorage,\n} from './useLocalStorage';\nimport { jwt, ERROR_MESSAGES, ERROR_CODES } from '../config/constants';\n\nconst useAuth = (setCurrentUser) => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\n\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const history = useHistory();\n\n  const handleError = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized)\n      errors.setError(err?.data);\n    else\n      errors.setError({\n        message: generalErrorMessage,\n      });\n  };\n\n  const handleLogout = () => {\n    AuthApi.clearAuth();\n    setCurrentUser(null);\n    clearLocalStorage();\n    history.push(MAIN_PAGE_URL);\n  };\n\n  const handleLogin = (loginData) => {\n    AuthApi.authorize(loginData)\n      .then((token) => {\n        const { access, refresh } = token;\n        if (refresh && access) {\n          AuthApi.setAuth(access);\n          setLocalStorageData(jwt, access);\n          getUserData()\n            .then((userData) => setCurrentUser(userData))\n            .then(() => popups.closeAllPopups())\n            .catch((err) => handleError(err));\n        }\n      })\n      .catch((err) => handleError(err)); // авторизация (работа с сервером) закончилась ошибкой\n  };\n\n  const checkToken = () => {\n    const token = getLocalStorageData(jwt);\n    if (token) {\n      AuthApi.setAuth(token);\n      getUserData()\n        .then((userData) => setCurrentUser(userData))\n        .then(() => setIsCheckingToken(false))\n        .catch((error) => console.log(error)); // при получении userData возникла проблема\n    } else {\n      setIsCheckingToken(false);\n    }\n  };\n\n  return {\n    isCheckingToken,\n    handleLogout,\n    handleLogin,\n    checkToken,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить города\nfunction getCities() {\n  return axios\n    .get(`${baseURL}${apiUrl}/cities/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCities;\n","import { useCallback } from 'react';\n\nlet timer;\nconst useDebounce = (callback, delay) => {\n  const debouncedCallback = useCallback(\n    (...args) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      timer = setTimeout(() => {\n        callback(...args);\n      }, delay);\n    },\n    [callback, delay]\n  );\n\n  return debouncedCallback;\n};\n\nexport default useDebounce;\n","import { useEffect, useState } from 'react';\nimport getCities from '../api/cities';\n\nconst useCities = () => {\n  const [cities, setCities] = useState(null);\n\n  useEffect(() => {\n    getCities().then(setCities).catch(console.log);\n  }, []);\n\n  return cities;\n};\n\nexport default useCities;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getPlacesTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// python was here :)\n// eslint-disable-next-line camelcase\nfunction getPlaces({ chosen, tags, age_restriction, city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/`, {\n      params: chosen\n        ? { city, chosen, tags, age_restriction }\n        : { city, tags, age_restriction },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction postPlace(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/places/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getActivityTypes() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/activity-types/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getPlacesTags, getPlaces, postPlace, getActivityTypes };\n","import { useEffect, useState } from 'react';\nimport { getActivityTypes } from '../api/places-page';\n\nconst useActivityTypes = () => {\n  const [activityTypes, setActivityTypes] = useState(null);\n\n  useEffect(() => {\n    getActivityTypes().then(setActivityTypes).catch(console.log);\n  }, []);\n\n  return activityTypes;\n};\n\nexport default useActivityTypes;\n","import { useContext, useState, useEffect } from 'react';\nimport {\n  makeEventRegistration,\n  cancelEventRegistration,\n} from '../api/event-participants';\nimport { PopupsContext } from '../contexts/index';\nimport { getLocalStorageData } from './useLocalStorage';\nimport { localStAfishaEvent } from '../config/constants';\n\nconst useEventBooking = () => {\n  const { openPopupSuccessfully, openPopupConfirmation, closeAllPopups } =\n    useContext(PopupsContext);\n\n  const [selectedEvent, setSelectedEvent] = useState(null);\n\n  const setRegisterEvent = () => {\n    const register = new Event('registerEvent');\n    window.dispatchEvent(register);\n  };\n\n  const setCancelRegisterEvent = () => {\n    const cancel = new Event('cancelRegisterEvent');\n    window.dispatchEvent(cancel);\n  };\n\n  const listenCancel = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = false;\n    setSelectedEvent(newEvent);\n  };\n\n  const listenRegister = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = true;\n    setSelectedEvent(newEvent);\n  };\n\n  useEffect(() => {\n    window.addEventListener('cancelRegisterEvent', listenCancel);\n    window.addEventListener('registerEvent', listenRegister);\n    return () => {\n      window.removeEventListener('cancelRegisterEvent', listenCancel);\n      window.removeEventListener('registerEvent', listenRegister);\n    };\n  }, []);\n\n  const registerOnEvent = (card) => {\n    makeEventRegistration({ event: card.id })\n      .then(() => setRegisterEvent())\n      .then(() => openPopupSuccessfully())\n      .catch(console.log);\n  };\n\n  const cancelRegistration = (card) => {\n    cancelEventRegistration(card.id)\n      .then(() => setCancelRegisterEvent())\n      .then(() => closeAllPopups())\n      .catch(console.log);\n  };\n\n  const handleEventBooking = (card) => {\n    if (card.booked) {\n      // мы записаны на ивент, надо отписаться\n      cancelRegistration(card);\n    } else {\n      // мы НЕ записаны на ивент\n      closeAllPopups(); // закрываем попап подробно\n      openPopupConfirmation(); // открываем попап \"подтвердите\"\n    }\n  };\n\n  return { handleEventBooking, registerOnEvent, selectedEvent };\n};\n\nexport default useEventBooking;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// запись на мероприятие\nfunction makeEventRegistration(eventId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n    .then((response) => console.log(response))\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// отписка регистрации на мероприятие\nfunction cancelEventRegistration(eventId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n    .then((response) => console.log(response))\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение списка всех мероприятий на которые записан юзер\nfunction getBookedEvents() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { makeEventRegistration, cancelEventRegistration, getBookedEvents };\n","import { useCallback, useState } from 'react';\n\nconst useFormWithValidation = () => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { name, value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const handleChangeFiles = (evt, pattern) => {\n    const file = evt.target.files[0];\n    const { name } = evt.target;\n\n    if (!file) {\n      return;\n    }\n\n    if (file && pattern.test(file.name)) {\n      setValues({ ...values, [name]: file });\n      setErrors({ ...errors, [name]: '' });\n    } else {\n      setErrors({ ...errors, [name]: 'Некорректный формат файла' });\n    }\n    setIsValid(evt.target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return {\n    values,\n    handleChange,\n    handleChangeFiles,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n  };\n};\n\nexport default useFormWithValidation;\n","const texts = {\n  changeCity: 'Изменить ваш город',\n  changeCityDefault: 'Изменить город',\n  logoutText: 'Выйти',\n};\n\nexport default texts;\n","const texts = {\n  changeCity: 'Изменить ваш город',\n  changeCityDefault: 'Изменить город',\n  logoutText: 'Выйти',\n  searchPlaceholder: 'Поиск',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\n\nfunction Blockquote({ sectionWrapperClass, sectionTitleClass, text }) {\n  return (\n    <blockquote className={sectionWrapperClass}>\n      <h3 className={`chapter-title ${sectionTitleClass}`}>{text}</h3>\n    </blockquote>\n  );\n}\n\nBlockquote.propTypes = {\n  sectionWrapperClass: PropTypes.string,\n  sectionTitleClass: PropTypes.string,\n  text: PropTypes.string,\n};\n\nBlockquote.defaultProps = {\n  sectionWrapperClass: '',\n  sectionTitleClass: '',\n  text: '',\n};\n\nexport default Blockquote;\n","import './Button.scss';\nimport PropTypes from 'prop-types';\n\nfunction Button({\n  title,\n  titleSelected,\n  color,\n  isSubmittable,\n  isDisabled,\n  onClick,\n  isBooked,\n  sectionClass,\n}) {\n  const classNames = [\n    'button',\n    `button_color_${color}`,\n    sectionClass,\n    isBooked ? `button_color_${color}_selected` : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type={isSubmittable ? 'submit' : 'button'}\n      disabled={isDisabled}\n      onClick={onClick}\n    >\n      {!isBooked ? title : titleSelected || title}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  title: PropTypes.string,\n  titleSelected: PropTypes.string,\n  color: PropTypes.string,\n  isSubmittable: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  isBooked: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nButton.defaultProps = {\n  title: '',\n  color: 'blue',\n  isSubmittable: false,\n  titleSelected: undefined,\n  onClick: () => {},\n  isDisabled: false,\n  isBooked: false,\n  sectionClass: '',\n};\n\nexport default Button;\n","import './ButtonDots.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonDots({ handleClick }) {\n  return (\n    <button className=\"button-dots\" type=\"button\" onClick={handleClick}>\n      &#8226;&#8226;&#8226;\n    </button>\n  );\n}\n\nButtonDots.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nButtonDots.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default ButtonDots;\n","import './ButtonRound.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonRound({\n  label,\n  sectionClass,\n  color,\n  isSmall,\n  isDisabled,\n  isSpan,\n  onClick,\n  isClick,\n}) {\n  const classNames = [\n    'button-round',\n    `button-round_color_${color}`,\n    isSmall ? 'button-round_small' : '',\n    sectionClass,\n    isClick ? 'button-round_active' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  if (isSpan) {\n    return <span className={classNames} />;\n  }\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={isDisabled}\n      aria-label={label}\n    />\n  );\n}\n\nButtonRound.propTypes = {\n  label: PropTypes.string,\n  sectionClass: PropTypes.string,\n  color: PropTypes.string,\n  isSmall: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isSpan: PropTypes.bool,\n  onClick: PropTypes.func,\n  isClick: PropTypes.bool,\n};\n\nButtonRound.defaultProps = {\n  label: '',\n  sectionClass: '',\n  color: '',\n  isSmall: false,\n  isDisabled: false,\n  isSpan: false,\n  onClick: undefined,\n  isClick: false,\n};\n\nexport default ButtonRound;\n","import PropTypes from 'prop-types';\n\nfunction Caption({ title, sectionClass }) {\n  return <p className={`caption ${sectionClass}`}>{title}</p>;\n}\n\nCaption.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCaption.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Caption;\n","import './Card.scss';\nimport PropTypes from 'prop-types';\n\nfunction Card({ color, sectionClass, children }) {\n  const classNames = ['card', `card_color_${color}`, sectionClass]\n    .join(' ')\n    .trim();\n\n  return <div className={classNames}>{children}</div>;\n}\n\nCard.propTypes = {\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCard.defaultProps = {\n  color: 'white',\n  sectionClass: '',\n  children: null,\n};\n\nexport default Card;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavItem({\n  sectionWrapperClass,\n  sectionLinkClass,\n  href,\n  linkText,\n  rel,\n  target,\n}) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className={sectionLinkClass} to={href} rel={rel} target={target}>\n        {linkText}\n      </NavLink>\n    </li>\n  );\n}\n\nNavItem.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  sectionLinkClass: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  linkText: PropTypes.string.isRequired,\n  rel: PropTypes.string,\n  target: PropTypes.string,\n};\n\nNavItem.defaultProps = {\n  rel: '',\n  target: '_self',\n  href: '',\n};\n\nexport default NavItem;\n","import {\n  CATALOG_URL,\n  VIDEO_URL,\n  ARTICLES_URL,\n  MOVIES_URL,\n  BOOKS_URL,\n} from '../config/routes';\n\nconst dropDownMenuLink = [\n  {\n    title: 'Справочник',\n    url: CATALOG_URL,\n  },\n  {\n    title: 'Видео',\n    url: VIDEO_URL,\n  },\n  {\n    title: 'Статьи',\n    url: ARTICLES_URL,\n  },\n  {\n    title: 'Фильмы',\n    url: MOVIES_URL,\n  },\n  {\n    title: 'Книги',\n    url: BOOKS_URL,\n  },\n];\n\nexport default dropDownMenuLink;\n","import PropTypes from 'prop-types';\nimport NavItem from '../NavItem/NavItem';\nimport './DropDownMenu.scss';\nimport dropDownMenuLink from '../../../utils/drop-down-menu-link';\n\nfunction DropDownMenu({ sectionWrapperClass }) {\n  return (\n    <ul className={sectionWrapperClass}>\n      {dropDownMenuLink.map((item) => (\n        <NavItem\n          key={item.title}\n          sectionWrapperClass=\"menu__dropdown-list-item\"\n          sectionLinkClass=\"link menu__dropdown-link\"\n          href={item.url}\n          linkText={item.title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nDropDownMenu.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n};\n\nexport default DropDownMenu;\n","const texts = {\n  buttonAriaLabel: 'Выберите опцию',\n};\n\nexport default texts;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './DropDownSelect.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useClickOutside } from '../../../hooks/index';\n\nfunction DropDownSelect({\n  placeholder,\n  options,\n  inputName,\n  onChange,\n  error,\n  sectionClass,\n  isFormOpen,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [optionSelected, setOptionSelected] = useState(null);\n\n  const classNames = ['select', sectionClass].join(' ').trim();\n  const classNamesButton = [\n    'select__button',\n    isOpen ? 'select__button_pressed' : '',\n    optionSelected ? 'select__button_selected' : '',\n    error ? 'select__button_error' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesDropDown = [\n    'select__dropdown',\n    isOpen ? 'select__dropdown_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesArrow = [\n    'select__arrow',\n    isOpen ? 'select__arrow_pressed' : '',\n    error ? 'select__arrow_error' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dropdownRef = useClickOutside(() => setIsOpen(false));\n\n  useEffect(() => {\n    if (isFormOpen) {\n      setOptionSelected(null);\n      setIsOpen(false);\n    }\n  }, [isFormOpen]);\n\n  return (\n    <div className={classNames}>\n      <button\n        aria-label={`${texts.buttonAriaLabel} ${placeholder}`}\n        className={classNamesButton}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      >\n        {optionSelected || placeholder}\n        <svg\n          viewBox=\"0 0 24 19\"\n          fill=\"none\"\n          className={classNamesArrow}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M5 7L11.8814 14L19 7\" />\n        </svg>\n      </button>\n      <ul className={classNamesDropDown} ref={dropdownRef}>\n        <li aria-hidden=\"true\">\n          <button\n            className=\"select__option_hidden\"\n            aria-hidden=\"true\"\n            type=\"button\"\n            onClick={() => setIsOpen(false)}\n          />\n        </li>\n        {options &&\n          options.map((option) => (\n            <li key={option?.id} className=\"select__option\">\n              <label\n                aria-label={option?.name}\n                htmlFor={`${option?.id}-${option?.name}`}\n                className=\"select__label\"\n              >\n                <input\n                  id={`${option?.id}-${option?.name}`}\n                  className=\"select__input\"\n                  type=\"radio\"\n                  name={inputName}\n                  value={option?.id}\n                  onClick={() => {\n                    setOptionSelected(option?.name);\n                    setIsOpen(!isOpen);\n                  }}\n                  onChange={onChange}\n                />\n                <span className=\"select__span\">{option?.name}</span>\n              </label>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nDropDownSelect.propTypes = {\n  placeholder: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.any),\n  inputName: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isFormOpen: PropTypes.bool,\n};\n\nDropDownSelect.defaultProps = {\n  placeholder: '',\n  options: [],\n  inputName: '',\n  onChange: () => {},\n  error: undefined,\n  sectionClass: '',\n  isFormOpen: false,\n};\n\nexport default DropDownSelect;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport './Input.scss';\nimport PropTypes from 'prop-types';\n\nfunction Input({\n  id,\n  type,\n  name,\n  placeholder,\n  value,\n  required,\n  max,\n  min,\n  minLength,\n  maxLength,\n  pattern,\n  error,\n  sectionClass,\n  isTextarea,\n  onFocus,\n  onChange,\n}) {\n  const errorMessage = error ? `${placeholder}*` : '';\n\n  const classNamesWrap = ['input-wrap', sectionClass].join(' ').trim();\n\n  const classNamesInput = ['input', error ? 'input__error' : '']\n    .join(' ')\n    .trim();\n  const classNamesTextarea = ['input', error ? 'input__error' : '', 'textarea']\n    .join(' ')\n    .trim();\n\n  if (isTextarea) {\n    return (\n      <label className={classNamesWrap} htmlFor={id}>\n        <textarea\n          id={id}\n          className={classNamesTextarea}\n          type={type}\n          name={name}\n          placeholder={errorMessage || placeholder}\n          onFocus={onFocus}\n          onChange={onChange}\n          value={value}\n          maxLength={maxLength}\n          minLength={minLength}\n          pattern={pattern}\n          required={required}\n        />\n        {error && <span className=\"input__error-message\">{error}</span>}\n      </label>\n    );\n  }\n\n  return (\n    <label className={classNamesWrap} htmlFor={id}>\n      <input\n        id={id}\n        className={classNamesInput}\n        type={type}\n        name={name}\n        placeholder={errorMessage || placeholder}\n        onFocus={onFocus}\n        onChange={onChange}\n        value={value}\n        maxLength={maxLength}\n        minLength={minLength}\n        max={max}\n        min={min}\n        pattern={pattern}\n        required={required}\n      />\n      {error && <span className=\"input__error-message\">{error}</span>}\n    </label>\n  );\n}\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  sectionClass: PropTypes.string,\n  isTextarea: PropTypes.bool,\n  onChange: PropTypes.func,\n  required: PropTypes.bool,\n  max: PropTypes.string,\n  min: PropTypes.string,\n  maxLength: PropTypes.string,\n  minLength: PropTypes.string,\n  pattern: PropTypes.string,\n  error: PropTypes.string,\n  onFocus: PropTypes.func,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  value: '',\n  sectionClass: '',\n  isTextarea: false,\n  onChange: () => {},\n  required: false,\n  max: undefined,\n  min: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  pattern: undefined,\n  error: undefined,\n  onFocus: () => {},\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction LinkableHeading({\n  Component: HeadingComponent,\n  title,\n  path,\n  titleSectionClass,\n  linkSectionClass,\n}) {\n  return (\n    <Link className={linkSectionClass} to={path}>\n      <HeadingComponent title={title} sectionClass={titleSectionClass} />\n    </Link>\n  );\n}\n\nLinkableHeading.propTypes = {\n  Component: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  titleSectionClass: PropTypes.string,\n  linkSectionClass: PropTypes.string,\n};\n\nLinkableHeading.defaultProps = {\n  titleSectionClass: '',\n  linkSectionClass: '',\n};\n\nexport default LinkableHeading;\n","import './Loader.scss';\nimport PropTypes from 'prop-types';\n\nfunction Loader({ isNested, isCentered }) {\n  const classNames = [\n    'spinner',\n    isNested ? 'spinner_waiting-for-data' : '',\n    isCentered ? 'spinner_centered' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <div className=\"spinner__container\">\n        <div className=\"spinner__circle spinner__circle_1\" />\n        <div className=\"spinner__circle spinner__circle_2\" />\n        <div className=\"spinner__circle spinner__circle_3\" />\n        <div className=\"spinner__circle spinner__circle_4\" />\n        <div className=\"spinner__circle spinner__circle_5\" />\n        <div className=\"spinner__circle spinner__circle_6\" />\n        <div className=\"spinner__circle spinner__circle_7\" />\n        <div className=\"spinner__circle spinner__circle_8\" />\n        <div className=\"spinner__circle spinner__circle_9\" />\n        <div className=\"spinner__circle spinner__circle_10\" />\n        <div className=\"spinner__circle spinner__circle_11\" />\n        <div className=\"spinner__circle spinner__circle_12\" />\n      </div>\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  isNested: PropTypes.bool,\n  isCentered: PropTypes.bool,\n};\n\nLoader.defaultProps = {\n  isNested: false,\n  isCentered: false,\n};\n\nexport default Loader;\n","export default __webpack_public_path__ + \"static/media/logo.2968d95e.svg\";","import './LogoBlue.scss';\nimport logoPath from '../../../assets/logo.svg';\n\nfunction LogoBlue() {\n  return (\n    <img\n      src={logoPath}\n      alt=\"Логотип Старшие Братья Старшие Сестры России\"\n      className=\"logo\"\n    />\n  );\n}\n\nexport default LogoBlue;\n","const texts = {\n  defaultText: 'Данных нет',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport './NoDataNotificationBox.scss';\nimport texts from './locales/RU';\n\nfunction NoDataNotificationBox({ text, sectionClass }) {\n  return <p className={`no-data-text ${sectionClass}`}>{text}</p>;\n}\n\nNoDataNotificationBox.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nNoDataNotificationBox.defaultProps = {\n  text: texts.defaultText,\n  sectionClass: '',\n};\n\nexport default NoDataNotificationBox;\n","import './Paginate.scss';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport { useScrollToTop } from '../../../hooks/index';\n\nconst Paginate = (props) => {\n  const { pageCount, sectionClass, value, onChange } = props;\n\n  useScrollToTop(value);\n\n  return (\n    <ReactPaginate\n      containerClassName={`pagination ${sectionClass}`}\n      pageClassName=\"pagination__element\"\n      pageLinkClassName=\"pagination__element-link\"\n      activeLinkClassName=\"pagination__element-link_type_active\"\n      previousClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_previous\"\n      breakClassName=\"pagination__element\"\n      nextClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_next\"\n      disabledClassName=\"pagination__arrow-element_type_disabled\"\n      pageCount={pageCount}\n      pageRangeDisplayed={3}\n      marginPagesDisplayed={1}\n      forcePage={value}\n      onPageChange={({ selected }) => onChange(selected)}\n      initialPage={0}\n    />\n  );\n};\n\nPaginate.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func,\n  pageCount: PropTypes.number.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nPaginate.defaultProps = {\n  onChange: () => {},\n  sectionClass: '',\n};\n\nexport default Paginate;\n","import './PseudoButtonTag.scss';\nimport PropTypes from 'prop-types';\n\nfunction PseudoButtonTag({ name, value, title, isActive, onClick }) {\n  const id = `filter-button-${value}`;\n\n  function handleClick(event) {\n    onClick(value, event.target.checked);\n  }\n\n  return (\n    <label className=\"pseudo-button-label\" htmlFor={id}>\n      <input\n        id={id}\n        className=\"pseudo-button-checkbox\"\n        type=\"checkbox\"\n        name={name}\n        value={value}\n        checked={isActive}\n        onChange={() => {}}\n        onClick={handleClick}\n      />\n      <span className=\"button pseudo-button\">{title}</span>\n    </label>\n  );\n}\n\nPseudoButtonTag.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nPseudoButtonTag.defaultProps = {\n  name: '',\n  value: '',\n  title: '',\n  isActive: false,\n  onClick: () => {},\n};\n\nexport default PseudoButtonTag;\n","import './Rating.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rating({\n  type,\n  name,\n  value,\n  ratingType,\n  sectionClass,\n  checked,\n  onChange,\n}) {\n  const classNames = ['rating', sectionClass].join(' ').trim();\n\n  const pseudoButtonClassNames = [\n    'rating__pseudo-button',\n    `rating__pseudo-button_type_${ratingType}_default`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <label className={classNames} htmlFor={`rating-${name}-${value}`}>\n      <input\n        id={`rating-${name}-${value}`}\n        className=\"rating__checkbox\"\n        type={type}\n        name={name}\n        value={value}\n        defaultChecked={checked}\n        onChange={onChange}\n      />\n      <span className={pseudoButtonClassNames} />\n    </label>\n  );\n}\n\nRating.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  ratingType: PropTypes.string,\n  sectionClass: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nRating.defaultProps = {\n  name: '',\n  value: 'neutral',\n  ratingType: 'neutral',\n  sectionClass: '',\n  checked: false,\n  onChange: () => {},\n};\n\nexport default Rating;\n","import './Rubric.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rubric({ title, sectionClass }) {\n  return <span className={`rubric ${sectionClass}`}>{title}</span>;\n}\n\nRubric.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nRubric.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Rubric;\n","import './SearchButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction SearchButton({ handleClick }) {\n  return (\n    <button\n      className=\"search-button search__button\"\n      type=\"submit\"\n      aria-label=\"Поиск\"\n      title=\"Поиск\"\n      onClick={handleClick}\n    />\n  );\n}\n\nSearchButton.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nSearchButton.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default SearchButton;\n","import './TitleH1.scss';\nimport PropTypes from 'prop-types';\n\nfunction TitleH1({ title, sectionClass }) {\n  return <h1 className={`main-title ${sectionClass}`}>{title}</h1>;\n}\n\nTitleH1.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH1.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH1;\n","import PropTypes from 'prop-types';\n\nfunction TitleH2({ title, sectionClass }) {\n  return <h2 className={`section-title ${sectionClass}`}>{title}</h2>;\n}\n\nTitleH2.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH2.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH2;\n","import PropTypes from 'prop-types';\n\nfunction TitleH3({ title, sectionClass }) {\n  return <h3 className={`chapter-title ${sectionClass}`}>{title}</h3>;\n}\n\nTitleH3.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nTitleH3.defaultProps = {\n  sectionClass: '',\n};\n\nexport default TitleH3;\n","import './UserIconButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserIconButton({ sectionClass, isAuthorized, handleClick }) {\n  const classNames = [\n    'user-button',\n    isAuthorized ? 'user-button_authorized' : 'user-button_unauthorized',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      aria-label=\"Личный кабинет\"\n      title=\"Личный кабинет\"\n      onClick={handleClick}\n    />\n  );\n}\n\nUserIconButton.propTypes = {\n  sectionClass: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  handleClick: PropTypes.func,\n};\n\nUserIconButton.defaultProps = {\n  sectionClass: '',\n  isAuthorized: false,\n  handleClick: () => {},\n};\n\nexport default UserIconButton;\n","import './UserMenuButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserMenuButton({ title, handleClick, sectionClass }) {\n  const classNames = ['user-menu-button', sectionClass].join(' ').trim();\n\n  return (\n    <button className={classNames} type=\"button\" onClick={handleClick}>\n      {title}\n    </button>\n  );\n}\n\nUserMenuButton.propTypes = {\n  title: PropTypes.string,\n  handleClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nUserMenuButton.defaultProps = {\n  title: '',\n  handleClick: () => {},\n  sectionClass: '',\n};\n\nexport default UserMenuButton;\n","import './Widget.scss';\nimport PropTypes from 'prop-types';\n\nfunction Widget({ link, title }) {\n  return (\n    <iframe\n      className=\"widget-facebook\"\n      title={title}\n      src={link}\n      allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\n    />\n  );\n}\n\nWidget.propTypes = {\n  link: PropTypes.string,\n  title: PropTypes.string,\n};\n\nWidget.defaultProps = {\n  link: '#',\n  title: '',\n};\n\nexport default Widget;\n","import './NavItemWithDropdown.scss';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { DropDownMenu } from '../utils/index';\n\nfunction NavItemWithDropdown({ sectionWrapperClass, linkText, href }) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className=\"menu__link\" to={href}>\n        {linkText}\n      </NavLink>\n\n      <DropDownMenu sectionWrapperClass=\"menu__dropdown-list\" />\n    </li>\n  );\n}\n\nNavItemWithDropdown.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nNavItemWithDropdown.defaultProps = {\n  href: '',\n};\n\nexport default NavItemWithDropdown;\n","import './NavBar.scss';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useContext } from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport texts from './locales/RU';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n  HISTORY_URL,\n  MAIN_PAGE_TITLE,\n  ABOUT_US_TITLE,\n  AFISHA_TITLE,\n  PLACES_TITLE,\n  QUESTIONS_TITLE,\n  READ_AND_WATCH_TITLE,\n  RIGHTS_TITLE,\n  HISTORY_TITLE,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport NavItemWithDropdown from '../NavItemWithDropdown/NavItemWithDropdown';\nimport {\n  NavItem,\n  SearchButton,\n  UserIconButton,\n  UserMenuButton,\n} from '../utils/index';\n\nfunction NavBar({\n  isMobileMenuOpen,\n  onUserButtonClick,\n  onBurgerButtonClick,\n  onCityChangeClick,\n  onLogout,\n  userCityName,\n}) {\n  const { pathname } = useLocation();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <nav className=\"menu\">\n      {/* логотип */}\n      <Link to=\"/\" target=\"_self\" className=\"menu__logo mobile-link\">\n        {MAIN_PAGE_TITLE}\n      </Link>\n      {/* обычное меню */}\n      <div\n        className={`menu__lists-wrap ${\n          !isMobileMenuOpen ? 'menu__lists-wrap_hidden' : ''\n        }`}\n      >\n        <ul className=\"menu__list\">\n          {/* О проекте, скрытый */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item menu__list-item_hidden\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* Календарь */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* Куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* Вопросы */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* выпадающее меню  \"Читать и смотреть\" */}\n          <NavItemWithDropdown\n            sectionWrapperClass=\"menu__list-item menu__dropdown-item\"\n            linkText={READ_AND_WATCH_TITLE}\n            href={READ_AND_WATCH_URL}\n          />\n          {/* Права детей */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* Истории */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={HISTORY_URL}\n            linkText={HISTORY_TITLE}\n          />\n        </ul>\n\n        <ul\n          className={`menu__list menu__list_type_social ${\n            !isMobileMenuOpen ? 'menu__list_hidden' : ''\n          }`}\n        >\n          {socialLinks.map((link) => (\n            <li key={link?.id} className=\"menu__list-item\">\n              <a\n                className=\"menu__link mobile-link\"\n                href={link?.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                {link?.title}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {currentUser && (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass=\"mobile-link\"\n          />\n          <UserMenuButton\n            title={texts.logoutText}\n            sectionClass=\"mobile-link\"\n            handleClick={onLogout}\n          />\n        </div>\n      )}\n\n      {!currentUser && pathname === PLACES_URL && (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass=\"mobile-link\"\n          />\n        </div>\n      )}\n\n      <button\n        onClick={onBurgerButtonClick}\n        className={`menu__burger ${\n          isMobileMenuOpen ? 'menu__burger_active' : ''\n        }`}\n        type=\"button\"\n      >\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n      </button>\n\n      <ul className=\"menu__button-list\">\n        <li className=\"menu__button-item\">\n          <form className=\"search\" name=\"search-form\">\n            <SearchButton />\n            <div className=\"search__options menu__search-options\">\n              <input\n                type=\"text\"\n                name=\"search\"\n                placeholder={texts.searchPlaceholder}\n                className=\"search__input paragraph\"\n              />\n              <ul className=\"search__option-list\">\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./article.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Причины подростковой агрессии\n                  </a>\n                  <a href=\"./article.html\" className=\"link search__link\">\n                    статьи\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./video.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Агрессивное поведение детей-сирот\n                  </a>\n                  <a href=\"./video.html\" className=\"link search__link\">\n                    видео\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./questions.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Что делать если ваш младший агрессивно себя ведет, решил\n                    закрыть пару?\n                  </a>\n                  <a href=\"./questions.html\" className=\"link search__link\">\n                    вопросы\n                  </a>\n                </li>\n                <li className=\"search__option-item\">\n                  <a\n                    href=\"./books.html\"\n                    className=\"search__title-link section-title section-title_clickable\"\n                  >\n                    Как реагировать на агрессивное поведения ребенка\n                  </a>\n                  <a href=\"./books.html\" className=\"link search__link\">\n                    книги\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </form>\n        </li>\n        <li className=\"menu__button-item\">\n          <UserIconButton\n            sectionClass=\"mobile-link\"\n            isAuthorized={!!currentUser}\n            handleClick={onUserButtonClick}\n          />\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nNavBar.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onBurgerButtonClick: PropTypes.func,\n  onCityChangeClick: PropTypes.func,\n  onLogout: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  userCityName: PropTypes.string,\n};\n\nNavBar.defaultProps = {\n  onUserButtonClick: () => {},\n  onBurgerButtonClick: () => {},\n  onCityChangeClick: () => {},\n  onLogout: () => {},\n  isMobileMenuOpen: false,\n  userCityName: '',\n};\n\nexport default NavBar;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport './Header.scss';\nimport { useState, useEffect, useContext } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  PopupsContext,\n} from '../../contexts/index';\nimport texts from './locales/RU';\nimport { useClickOutside, useAuth, useLocalStorage } from '../../hooks/index';\nimport { PROFILE_URL, AFISHA_URL, PLACES_URL } from '../../config/routes';\nimport { localStUserCity } from '../../config/constants';\nimport NavBar from '../NavBar/NavBar';\nimport { UserMenuButton } from '../utils/index';\n\nfunction Header() {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupLogin, closeAllPopups } =\n    useContext(PopupsContext);\n  const cities = useContext(CitiesContext);\n\n  const { handleLogout } = useAuth(updateUser, closeAllPopups);\n\n  function handleUserButtonClick() {\n    if (currentUser) {\n      history.push(PROFILE_URL);\n    } else {\n      openPopupLogin();\n    }\n  }\n\n  const [userCityName, setUserCityName] = useState('');\n  let currentAnonymousCity;\n\n  if (pathname === PLACES_URL) {\n    const getLocalStorageItem = useLocalStorage(localStUserCity);\n    currentAnonymousCity = getLocalStorageItem();\n  }\n\n  // сохранённый в localStorage город анонимуса\n  const userCity = currentUser?.city || currentAnonymousCity;\n\n  // определение города пользователя, используется в кнопках\n  useEffect(() => {\n    if (cities && userCity) {\n      const currentCity = cities.find((city) => city?.id === userCity);\n      setUserCityName(currentCity?.name);\n    }\n  }, [cities, userCity]);\n\n  // меню бургер\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  // закрытие мобильного меню по клику вне хедера\n  const headerRef = useClickOutside(() => setIsMobileMenuOpen(false));\n\n  // закрытие мобильного меню по клику на ссылки\n  const handleCloseMobileMenu = (evt) => {\n    const { target } = evt;\n    if (isMobileMenuOpen && target.classList.contains('mobile-link')) {\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  // липкий хедер\n  const [isHeaderActive, setIsHeaderActive] = useState(true);\n  let prevScrollPos = 0;\n\n  useEffect(() => {\n    window.addEventListener('scroll', () => {\n      const currentScrollPos = window.pageYOffset;\n      // если prevScrollPos больше currentScrollPos значит мы скролим наверх\n      if (prevScrollPos > currentScrollPos) {\n        setIsHeaderActive(true);\n      } else {\n        setIsHeaderActive(false);\n        setIsMobileMenuOpen(false);\n      }\n\n      if (currentScrollPos === 0) {\n        setIsHeaderActive(true);\n      }\n      prevScrollPos = currentScrollPos;\n    });\n  }, []);\n\n  const classNamesHeader = [\n    'header',\n    isMobileMenuOpen ? 'header_displayed' : '',\n    !isHeaderActive ? 'header__on-scroll-up' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <header\n      className={classNamesHeader}\n      ref={headerRef}\n      onClick={handleCloseMobileMenu}\n      onKeyPress={handleCloseMobileMenu}\n    >\n      <div className=\"header__container\">\n        <NavBar\n          onUserButtonClick={handleUserButtonClick}\n          onBurgerButtonClick={toggleMobileMenu}\n          userCityName={userCityName}\n          onCityChangeClick={openPopupCities}\n          onLogout={handleLogout}\n          isMobileMenuOpen={isMobileMenuOpen}\n        />\n\n        {pathname === PROFILE_URL && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              sectionClass=\"mobile-link\"\n              handleClick={openPopupCities}\n            />\n            <UserMenuButton\n              title={texts.logoutText}\n              sectionClass=\"mobile-link\"\n              handleClick={handleLogout}\n            />\n          </div>\n        )}\n\n        {(pathname === AFISHA_URL || pathname === PLACES_URL) && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              handleClick={openPopupCities}\n              sectionClass=\"mobile-link\"\n            />\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import { bbbsLinks, developmentLinks } from '../../../utils/external-links';\n\nconst texts = {\n  logoAlt: 'Логотип Старшие Братья Старшие Сестры России',\n  logoLink: bbbsLinks.about,\n  helpButtonText: 'Помочь деньгами',\n  helpButtonLink: bbbsLinks.donations,\n  devText: 'Разработка – студенты ',\n  devLink: developmentLinks.praktikum.url,\n  devOrg: developmentLinks.praktikum.title,\n  designText: 'Концепция и дизайн – ',\n  designLink: developmentLinks.design.url,\n  designOrg: developmentLinks.design.title,\n  copyright: `${'\\u00A9'} Старшие Братья Старшие Сестры`,\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/footer-logo.476770b8.svg\";","import './Footer.scss';\nimport {\n  AFISHA_URL,\n  ABOUT_US_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  READ_AND_WATCH_URL,\n  HISTORY_URL,\n  AFISHA_TITLE,\n  ABOUT_US_TITLE,\n  PLACES_TITLE,\n  QUESTIONS_TITLE,\n  READ_AND_WATCH_TITLE,\n  RIGHTS_TITLE,\n  HISTORY_TITLE,\n} from '../../config/routes';\nimport texts from './locales/RU';\nimport { socialLinks } from '../../utils/external-links';\nimport footerLogoPath from '../../assets/footer-logo.svg';\nimport { NavItem } from '../utils/index';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <a\n        href={texts.logoLink}\n        className=\"footer__logo\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <img\n          className=\"footer__logo-image\"\n          src={footerLogoPath}\n          alt={texts.logoAlt}\n        />\n      </a>\n      <a\n        className=\"button footer__button\"\n        href={texts.helpButtonLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.helpButtonText}\n      </a>\n      <div className=\"footer__column footer__column_content_concept\">\n        <p className=\"footer__brand\">{texts.copyright}</p>\n        <div className=\"footer__copyright\">\n          <p className=\"footer__authors\">\n            {texts.devText}\n            <a\n              href={texts.devLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.devOrg}\n            </a>\n          </p>\n          <p className=\"footer__design\">\n            {texts.designText}\n            <a\n              href={texts.designLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.designOrg}\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"footer__column footer__column_content_info\">\n        <ul className=\"footer__column-list\">\n          {/* о проекте */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* каленарь */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* вопросы */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* читать и смотреть */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={READ_AND_WATCH_URL}\n            linkText={READ_AND_WATCH_TITLE}\n          />\n          {/* права детей */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* истории */}\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={HISTORY_URL}\n            linkText={HISTORY_TITLE}\n          />\n        </ul>\n      </div>\n      <div className=\"footer__column footer__column_content_social\">\n        <ul className=\"footer__column-list\">\n          {socialLinks.map((link) => (\n            <li key={link?.id} className=\"footer__column-links\">\n              <a\n                className=\"footer__column-link\"\n                href={link?.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                {link?.title}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction BasePage({ children, headTitle, headDescription }) {\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header />\n      <main className=\"main\">{children}</main>\n      <Footer />\n    </>\n  );\n}\n\nBasePage.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nBasePage.defaultProps = {\n  children: null,\n};\n\nexport default BasePage;\n","import './CardFigure.scss';\nimport PropTypes from 'prop-types';\n\nfunction CardFigure({ title, shape, color, children, sectionClass }) {\n  return (\n    <div\n      className={`card-figure card-figure_color_${color} card-figure_form_${shape} ${sectionClass}`}\n    >\n      {title && <h2 className=\"section-title\">{title}</h2>}\n      {children}\n    </div>\n  );\n}\n\nCardFigure.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  color: PropTypes.string,\n  children: PropTypes.node,\n  sectionClass: PropTypes.string,\n};\n\nCardFigure.defaultProps = {\n  title: '',\n  shape: 'square',\n  color: 'yellow',\n  children: null,\n  sectionClass: '',\n};\n\nexport default CardFigure;\n","import './CardAbout.scss';\nimport PropTypes from 'prop-types';\nimport { TitleH2 } from '../../utils/index';\n\nfunction CardAbout({ title, text, color, linkText, href }) {\n  return (\n    <article className=\"card-container card-about\">\n      <div className={`card-about__heading card-about__heading_color_${color}`}>\n        <TitleH2 title={title} />\n      </div>\n      <div className=\"card-about__container\">\n        <p className=\"paragraph card-about__paragraph\">{text}</p>\n        <a\n          className=\"link card-about__card-link\"\n          href={href}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {linkText}\n        </a>\n      </div>\n    </article>\n  );\n}\n\nCardAbout.propTypes = {\n  title: PropTypes.string,\n  color: PropTypes.string,\n  text: PropTypes.string,\n  linkText: PropTypes.string,\n  href: PropTypes.string,\n};\n\nCardAbout.defaultProps = {\n  title: '',\n  color: '',\n  text: '',\n  linkText: '',\n  href: '#',\n};\n\nexport default CardAbout;\n","import './AboutUs.scss';\nimport aboutUsTexts from '../../locales/about-us-page-RU.js';\nimport { useScrollToTop } from '../../hooks/index';\nimport {\n  BasePage,\n  TitleH3,\n  Blockquote,\n  LogoBlue,\n  CardFigure,\n  CardAbout,\n  Card,\n} from './index';\n\nfunction AboutUs() {\n  const {\n    headTitle,\n    headDescription,\n    title,\n    logoLink,\n    aboutTitle,\n    aboutParagraphs,\n    blockquote,\n    cards,\n  } = aboutUsTexts;\n\n  useScrollToTop();\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"about page__section fade-in\">\n        <TitleH3 sectionClass=\"about__title\" title={title} />\n        <a\n          className=\"about__logo\"\n          href={logoLink}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n\n        {/* желтый круг + белая карточка */}\n        <div className=\"about__us\">\n          <CardFigure title={aboutTitle} color=\"yellow\" shape=\"circle\" />\n\n          <Card sectionClass=\"about__annotation\" color=\"white\">\n            {aboutParagraphs?.map((item) => (\n              <p key={item?.id} className=\"paragraph about__paragraph\">\n                {item?.text}\n              </p>\n            ))}\n          </Card>\n        </div>\n\n        {/* цитата */}\n        <Blockquote\n          sectionWrapperClass=\"about__quote\"\n          sectionTitleClass=\"about__quote-text\"\n          text={blockquote}\n        />\n\n        {/* секция из 3 карточек с плашками */}\n        <div className=\"about__cards\">\n          {cards?.map((item) => (\n            <CardAbout\n              key={item.id}\n              title={item?.title}\n              text={item?.text}\n              linkText={item?.linkText}\n              href={item?.href}\n              color={item?.color}\n            />\n          ))}\n        </div>\n      </section>\n    </BasePage>\n  );\n}\n\nexport default AboutUs;\n","const profilePageTexts = {\n  headTitle: 'Личный кабинет',\n  headDescription: 'Личный кабинет наставника.',\n  eventsTitle: 'Вы записаны на мероприятия:',\n  eventsTitleNoResults: 'У вас нет записи на мероприятия',\n  formTitle:\n    'Составьте историю вашей дружбы с младшим. Эта страница доступна только вам.',\n};\n\nexport default profilePageTexts;\n","const texts = {\n  buttonLabel: 'Открыть карточку',\n};\n\nexport default texts;\n","import { months, weekdays } from '../config/constants';\n\n// форматирует секунды в часы, минуты и секунды, принимает на вход number\nexport const formatDuration = (duration) => {\n  const hours = parseInt(duration / (60 * 60), 10);\n  const minutes = parseInt((duration / 60) % 60, 10);\n  const seconds = duration % 60;\n  const format = (value) => (value < 10 ? `0${value}` : `${value}`);\n\n  return {\n    hours: format(hours),\n    minutes: format(minutes),\n    seconds: format(seconds),\n  };\n};\n\n// форматирует дату в объект по разным ключам, принимает на вход string вида \"2021-05-08T21:22:00Z\"\nexport const formatDate = (date) => {\n  const parsedDate = new Date(date);\n  let day = parsedDate.getDate();\n  const weekdayName = weekdays[parsedDate.getDay()];\n  const monthName = months[parsedDate.getMonth() + 1]; // потому что months начинается с 1, а не 0\n  const hour = String(parsedDate.getHours());\n  const year = String(parsedDate.getFullYear());\n  let minutes = parsedDate.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  return {\n    year,\n    day,\n    weekdayName,\n    monthName,\n    hour,\n    minutes,\n  };\n};\n\n// форматирует дату типа \"2021-05-08T21:22:00Z\" в 'YYYY/MM/DD'\nexport const parseDate = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  return `${year}-${month}-${day}`;\n};\n\n// падеж слова \"место\" в зависимости от числа мест\n// принимает на вход количество оставшихся мест из чего формирует падеж слова\n// нужно в карточках, попапах\nexport const formatWordCase = (remainSeats) => {\n  // промежуток 11 - 14\n  const lastTwoDigits = remainSeats % 100;\n  if (lastTwoDigits > 10 && lastTwoDigits < 15) {\n    return 'мест';\n  }\n  // если кончается на 1 - окончание О\n  // если кончается на 2 3 4 - окончание A\n  // если кончается на другое - окончания нет\n  const lastDigit = remainSeats % 10;\n\n  if (lastDigit === 1) {\n    return 'место';\n  }\n  if (lastDigit === 2 || lastDigit === 3 || lastDigit === 4) {\n    return 'местa';\n  }\n  return 'мест';\n};\n\nexport const questionForm = {\n  beforeSubmit: {\n    title:\n      'Если вы не нашли ответ на свой вопрос — напишите нам, и мы включим его в список',\n    titleClass: '',\n    formVisibilityClass: '',\n  },\n  successSubmit: {\n    title:\n      'Спасибо! Мы приняли ваш вопрос. Ваш вопрос опубликуют, как только он пройдет проверку и модератор даст на него ответ!',\n    titleClass: 'add-question__title_success',\n    formVisibilityClass: 'question-form_invisible',\n  },\n  errorSubmit: {\n    title:\n      'Произошла ошибка при отправке вашего вопроса! Попробуйте повторить позже или обратиться в службу поддержки!',\n    titleClass: 'add-question__title_error',\n  },\n};\n\n// меняет в слове первую букву на заглавную\nexport const changeCaseOfFirstLetter = (str) => {\n  if (!str) return str;\n\n  return str[0].toUpperCase() + str.slice(1);\n};\n\n// управление падежами месяцев\nexport const formatMonthsGenitiveCase = (month) => {\n  if (month === 'март' || month === 'август') return `${month}а`;\n  return `${month.slice(0, -1)}я`;\n};\n\nexport const randomizeArray = (arr, size) => {\n  if (arr && size < arr.length) {\n    const array = arr.slice();\n    return [...Array(size)].map(\n      () => array.splice(Math.floor(Math.random() * array.length), 1)[0]\n    );\n  }\n  return arr;\n};\n","import './ProfileEventCard.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport { formatDate } from '../../../utils/utils';\nimport { Card } from '../../utils/index';\n\nfunction ProfileEventCard({ data, onOpen }) {\n  const startDay = formatDate(data?.startAt);\n\n  const handleOpen = () => {\n    setLocalStorageData(localStAfishaEvent, data);\n    onOpen();\n  };\n\n  return (\n    <button\n      className=\"profile-event-card\"\n      type=\"button\"\n      aria-label={texts.buttonLabel}\n      onClick={handleOpen}\n    >\n      <Card sectionClass=\"profile-event-card__card\">\n        <div className=\"profile-event-card__date\">\n          <span className=\"profile-event-card__day\">{startDay?.day}</span>\n          <span className=\"profile-event-card__month\">\n            {startDay?.monthName}\n          </span>\n        </div>\n        <p className=\"profile-event-card__title\">{data?.title}</p>\n      </Card>\n    </button>\n  );\n}\n\nProfileEventCard.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any).isRequired,\n  onOpen: PropTypes.func,\n};\n\nProfileEventCard.defaultProps = {\n  onOpen: () => {},\n};\n\nexport default ProfileEventCard;\n","const texts = {\n  rateCaptionText: 'Оцените проведенное время',\n  uploadCaptionText: 'Загрузить фото',\n  placePlaceholder: 'Место встречи',\n  datePlaceholder: 'Дата __.__.____',\n  datePlaceholderError: 'Дата* ',\n  descrPlaceholder:\n    'Опишите вашу встречу, какие чувства вы испытывали, что понравилось / не понравилось',\n  buttonAddText: 'Добавить',\n  buttonDeleteText: 'Удалить',\n  buttonCancelText: 'Отмена',\n  buttonSaveText: 'Сохранить',\n};\n\nexport default texts;\n","const captions = {\n  good: 'Было классно',\n  neutral: 'Нормально',\n  bad: 'Что-то пошло не так',\n};\n\nexport default captions;\n","import './ProfileForm.scss';\nimport { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { ErrorsContext } from '../../contexts/index';\nimport { useFormWithValidation } from '../../hooks/index';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport { regExpImages } from '../../config/constants';\nimport {\n  Card,\n  Input,\n  Caption,\n  Rating,\n  Button,\n  ButtonRound,\n} from '../utils/index';\n\nfunction ProfileForm({\n  data,\n  sectionClass,\n  isEditMode,\n  isOpen,\n  onClose,\n  onSubmit,\n}) {\n  const classNames = ['card-container', 'profile-form', sectionClass]\n    .join(' ')\n    .trim();\n\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const [caption, setCaption] = useState(texts.rateCaptionText);\n  const [userImage, setUserImage] = useState(null);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!values?.mark) {\n      values.mark = 'neutral';\n    }\n    onSubmit(values);\n  };\n\n  const handleFocusDataInput = (evt) => {\n    // eslint-disable-next-line no-param-reassign\n    evt.currentTarget.type = 'date';\n  };\n\n  const handleChangeImage = () => {\n    if (values?.image) {\n      // ссылка-блоб для отображения загруженной картинки\n      const imageUrl = URL.createObjectURL(values.image);\n      setUserImage({ ...userImage, imageUrl });\n    }\n  };\n\n  const handleCloseForm = () => {\n    setUserImage(null);\n    resetForm();\n    clearError();\n    setCaption(texts.rateCaptionText);\n    onClose();\n  };\n\n  useEffect(() => {\n    if (values?.mark) setCaption(captions[values.mark]);\n    else setCaption(texts.rateCaptionText);\n  }, [values.mark]);\n\n  useEffect(() => {\n    handleChangeImage();\n  }, [values.image]);\n\n  useEffect(() => {\n    if (isOpen) {\n      if (data) {\n        setUserImage({ image: data.image });\n        setValues({\n          id: data?.id,\n          date: data?.date,\n          place: data?.place,\n          description: data?.description,\n          mark: data?.mark,\n        });\n      }\n    }\n  }, [isOpen, data]);\n\n  return (\n    <form\n      name=\"addStoryForm\"\n      onSubmit={(evt) => handleSubmit(evt)}\n      className={classNames}\n      noValidate\n    >\n      <Card sectionClass=\"profile-form__photo-upload\">\n        {(userImage?.imageUrl || userImage?.image) && (\n          <img\n            src={userImage.imageUrl || `${staticImageUrl}/${userImage.image}`}\n            alt={data?.place}\n            className=\"profile-form__uploaded-image\"\n          />\n        )}\n\n        <div\n          className={`profile-form__input-upload ${\n            (userImage?.imageUrl || userImage?.image) && !errors?.image\n              ? 'profile-form__input-upload_hidden'\n              : ''\n          } ${errors?.image ? 'profile-form__input-upload_error' : ''}\n          `}\n        >\n          <label htmlFor=\"input-upload\" className=\"profile-form__label-file\">\n            <input\n              id=\"input-upload\"\n              type=\"file\"\n              accept=\"image/*\"\n              name=\"image\"\n              className=\"profile-form__input-file\"\n              onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n            />\n            <ButtonRound\n              sectionClass={`profile-form__pseudo-button ${\n                errors?.image ? 'profile-form__pseudo-button_error' : ''\n              }`}\n              color={`${errors?.image ? 'error' : 'lightGray'}`}\n              isSpan\n            />\n          </label>\n          <Caption\n            title={errors?.image || texts.uploadCaptionText}\n            sectionClass={`profile-form__caption ${\n              errors?.image ? 'profile-form__caption_error' : ''\n            }`}\n          />\n        </div>\n      </Card>\n\n      <Card sectionClass=\"profile-form__text-container\">\n        <div className=\"profile-form__texts\">\n          <Input\n            id=\"profileInputPlace\"\n            type=\"text\"\n            name=\"place\"\n            placeholder={texts.placePlaceholder}\n            onChange={handleChange}\n            value={values.place}\n            required\n            minLength=\"5\"\n            maxLength=\"128\"\n            error={errors?.place}\n          />\n\n          <Input\n            id=\"profileInputDate\"\n            type=\"text\"\n            name=\"date\"\n            placeholder={texts.datePlaceholder}\n            onFocus={handleFocusDataInput}\n            onChange={handleChange}\n            value={values.date}\n            required\n            error={errors?.date}\n          />\n\n          <Input\n            id=\"profileInputTextarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={texts.descrPlaceholder}\n            sectionClass=\"profile-form__input-wrap profile-form__input-wrap_textarea\"\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength=\"1024\"\n            error={errors?.description}\n            isTextarea\n          />\n\n          <div className=\"profile-form__submit-zone\">\n            <span className=\"form-error-message\">{errorsString}</span>\n            <div className=\"profile-form__buttons\">\n              <div className=\"profile-form__ratings\">\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"good\"\n                  onChange={handleChange}\n                  value=\"good\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'good'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"neutral\"\n                  onChange={handleChange}\n                  value=\"neutral\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'neutral'}\n                />\n                <Rating\n                  type=\"radio\"\n                  name=\"mark\"\n                  ratingType=\"bad\"\n                  onChange={handleChange}\n                  value=\"bad\"\n                  sectionClass=\"profile-form__rating\"\n                  checked={data?.mark === 'bad'}\n                />\n                <Caption\n                  title={caption}\n                  sectionClass={`profile-form__ratings-text profile-form__ratings-text_type_${values.mark}`}\n                />\n              </div>\n              <div className=\"profile-form__buttons\">\n                <Button\n                  title={`${\n                    isEditMode ? texts.buttonCancelText : texts.buttonDeleteText\n                  }`}\n                  color=\"gray-borderless\"\n                  sectionClass=\"profile-form__button_el_delete\"\n                  onClick={handleCloseForm}\n                />\n                <Button\n                  title={`${\n                    isEditMode ? texts.buttonSaveText : texts.buttonAddText\n                  }`}\n                  sectionClass=\"profile-form__button_el_add\"\n                  isDisabled={!isValid}\n                  isSubmittable\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card>\n    </form>\n  );\n}\n\nProfileForm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  isEditMode: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nProfileForm.defaultProps = {\n  data: {},\n  sectionClass: '',\n  onClose: () => {},\n  isOpen: false,\n  isEditMode: false,\n  onSubmit: () => {},\n};\n\nexport default ProfileForm;\n","const texts = {\n  buttonShareText: 'Поделиться с куратором',\n  buttonEditText: 'Редактировать',\n  buttonDeleteText: 'Удалить',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/icon-logo-no-text.ebdb8e22.svg\";","import PropTypes from 'prop-types';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport { Caption } from '../../utils/index';\n\nfunction CardAnnotationContainer({ caption, children }) {\n  return (\n    <Scrollbars\n      renderThumbVertical={() => <div className=\"card-annotation__thumb\" />}\n    >\n      {caption && (\n        <Caption sectionClass=\"card-annotation__caption\" title={caption} />\n      )}\n\n      <div className=\"card-annotation__desc\">{children}</div>\n    </Scrollbars>\n  );\n}\n\nCardAnnotationContainer.propTypes = {\n  caption: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCardAnnotationContainer.defaultProps = {\n  caption: null,\n  children: null,\n};\n\nexport default CardAnnotationContainer;\n","import './ProfileDiary.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../utils/utils';\nimport captions from '../../utils/rating-captions';\nimport { staticImageUrl } from '../../config/config';\nimport defaultImage from '../../assets/icon-logo-no-text.svg';\nimport CardAnnotationContainer from '../Cards/CardAnnotation/CardAnnotationContainer';\nimport { Card, TitleH2, Rating, Caption, Button } from '../utils/index';\n\nfunction ProfileDiary({ data, onEdit, onDelete }) {\n  const { image, place, description, mark, date } = data;\n\n  const eventDay = formatDate(date);\n  const [caption, setCaption] = useState('');\n\n  useEffect(() => {\n    setCaption(captions[mark]);\n  }, [mark]);\n\n  const handleEditButtonClick = () => {\n    onEdit(data);\n  };\n\n  const handleDeleteButtonClick = () => {\n    onDelete(data);\n  };\n\n  return (\n    <div className=\"card-container profile-diary\">\n      <Card sectionClass=\"profile-diary__image-container\">\n        <img\n          className={\n            image ? 'profile-diary__image' : 'profile-diary__image_default'\n          }\n          src={image ? `${staticImageUrl}/${image}` : defaultImage}\n          alt={place}\n        />\n      </Card>\n      <Card sectionClass=\"profile-diary__date-container\">\n        <div className=\"profile-diary__text-wrap\">\n          <TitleH2 sectionClass=\"profile-diary__card-title\" title={place} />\n          <div className=\"profile-diary__card-text\">\n            <CardAnnotationContainer>\n              <p className=\"profile-diary__paragraph\">{description}</p>\n            </CardAnnotationContainer>\n          </div>\n        </div>\n        <div className=\"profile-diary__card-date\">\n          <p className=\"profile-diary__weekday\">{`${eventDay.monthName}, ${eventDay.year}`}</p>\n          <p className=\"profile-diary__day\">{eventDay.day}</p>\n        </div>\n        <div className=\"profile-diary__actions\">\n          <div className=\"profile-diary__rating\">\n            <Rating\n              type=\"radio\"\n              ratingType={mark}\n              value={mark}\n              checked\n              sectionClass=\"profile-diary__rate\"\n            />\n            <Caption\n              title={caption}\n              sectionClass={`profile-diary__ratings-text profile-diary__ratings-text_type_${\n                mark || 'neutral'\n              }`}\n            />\n          </div>\n          <div className=\"profile-diary__action-elements\">\n            <Button\n              title={texts.buttonShareText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n            />\n            <Button\n              title={texts.buttonEditText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleEditButtonClick}\n            />\n            <Button\n              title={texts.buttonDeleteText}\n              color=\"gray-borderless\"\n              sectionClass=\"profile-diary__button\"\n              onClick={handleDeleteButtonClick}\n            />\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nProfileDiary.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  onEdit: PropTypes.func,\n  onDelete: PropTypes.func,\n};\n\nProfileDiary.defaultProps = {\n  data: {},\n  onEdit: () => {},\n  onDelete: () => {},\n};\n\nexport default ProfileDiary;\n","const texts = {\n  title: 'Удалить встречу в',\n  submitButtonText: 'Удалить',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","const texts = {\n  closeButtonLabel: 'Закрыть попап',\n};\n\nexport default texts;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport './Popup.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Popup({\n  children,\n  type,\n  typeContainer,\n  isOpen,\n  onClose,\n  withoutCloseButton,\n  sectionClass,\n}) {\n  const closeAllPopupsOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n  return (\n    <div\n      className={`popup popup_type_${type} ${isOpen ? 'popup_opened' : ''} `}\n      onClick={closeAllPopupsOnOverlay}\n    >\n      <div\n        className={`popup__container popup__container_type_${typeContainer} ${sectionClass}`}\n      >\n        {!withoutCloseButton && (\n          <button\n            className=\"popup__close\"\n            type=\"button\"\n            aria-label={texts.closeButtonLabel}\n            onClick={onClose}\n          />\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  typeContainer: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  withoutCloseButton: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nPopup.defaultProps = {\n  children: null,\n  type: '',\n  typeContainer: '',\n  isOpen: false,\n  onClose: () => {},\n  sectionClass: '',\n  withoutCloseButton: false,\n};\n\nexport default Popup;\n","import './PopupDeleteDiary.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Button } from '../../utils/index';\n\nfunction PopupDeleteDiary({ isOpen, onClose, onCardDelete, cardData }) {\n  const { place, date } = cardData;\n  const day = formatDate(date);\n  const [month, setMonth] = useState(null);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onCardDelete(cardData);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      setMonth(formatMonthsGenitiveCase(day?.monthName));\n    }\n  }, [isOpen]);\n\n  return (\n    <Popup\n      type=\"confirm-delete-diary\"\n      typeContainer=\"confirm-diary\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n      sectionClass=\"popup-diary\"\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <TitleH2\n          title={`${texts.title} ${place} ${parseInt(day.day, 10)} ${month} ${\n            day.year\n          }?`}\n          sectionClass=\"popup-diary__title\"\n        />\n        <div className=\"popup-diary__buttons\">\n          <Button\n            color=\"gray\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.submitButtonText}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            sectionClass=\"popup-diary__button\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupDeleteDiary.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  onCardDelete: PropTypes.func,\n  cardData: PropTypes.objectOf(PropTypes.any),\n};\n\nPopupDeleteDiary.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  onCardDelete: () => {},\n  cardData: {},\n};\n\nexport default PopupDeleteDiary;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport './Profile.scss';\nimport profilePageTexts from '../../locales/profile-page-RU';\nimport { PopupsContext, ErrorsContext } from '../../contexts/index';\nimport {\n  useSmoothHorizontalScroll,\n  useScrollToTop,\n  useEventBooking,\n} from '../../hooks/index';\nimport {\n  getProfileDiariesData,\n  createDiary,\n  editDiary,\n  deleteDiary,\n} from '../../api/profile-page';\nimport { getBookedEvents } from '../../api/event-participants';\nimport { DELAY_RENDER, ERROR_CODES } from '../../config/constants';\nimport {\n  BasePage,\n  ProfileEventCard,\n  TitleH2,\n  ProfileForm,\n  ProfileDiary,\n  PopupDeleteDiary,\n  ButtonRound,\n  Loader,\n} from './index';\n\nfunction Profile() {\n  const {\n    headTitle,\n    headDescription,\n    eventsTitle,\n    eventsTitleNoResults,\n    formTitle,\n  } = profilePageTexts;\n\n  useScrollToTop();\n\n  const { openPopupAboutEvent, openPopupError } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [events, setEvents] = useState(null);\n  const [diaries, setDiaries] = useState(null);\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [formDataToEdit, setFormDataToEdit] = useState(null);\n  const [isDeleteDiaryPopupOpen, setIsDeleteDiaryPopupOpen] = useState(false);\n\n  useEffect(() => {\n    getBookedEvents()\n      .then((eventsData) =>\n        setEvents(() =>\n          eventsData.map(({ event }) => {\n            const updatedEvent = event;\n            updatedEvent.booked = true;\n            return updatedEvent;\n          })\n        )\n      )\n      .catch(() => openPopupError());\n  }, []);\n\n  useEffect(() => {\n    getProfileDiariesData()\n      .then(setDiaries)\n      .catch(() => openPopupError());\n  }, []);\n\n  // отписка от ивентов\n  const { selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setEvents(() =>\n        events.filter((event) =>\n          event?.id === selectedEvent?.id ? null : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // работа с карточками мероприятий календаря\n  const openEventCard = () => openPopupAboutEvent();\n\n  // скролл контейнера с карточками мероприятий\n  const containerEvents = useSmoothHorizontalScroll({ step: 3 });\n\n  // работа с формой\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const openForm = (data) => {\n    if (!data) setIsEditMode(false);\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n    setIsEditMode(false);\n    setFormDataToEdit(null);\n  };\n\n  const handleEditMode = (data) => {\n    setIsFormOpen(false);\n    //! необходима небольшая задержка перед ререндером\n    setTimeout(() => {\n      setIsEditMode(true);\n      setFormDataToEdit(data);\n      openForm(data);\n    }, DELAY_RENDER);\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data?.id) formData.append('id', data?.id);\n    if (data?.image) formData.append('image', data?.image);\n    formData.append('date', data?.date);\n    formData.append('place', data?.place);\n    formData.append('description', data?.description);\n    formData.append('mark', data?.mark);\n    return formData;\n  };\n\n  const handleErrorOnFormSubmit = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized) {\n      setError(err?.data);\n    } else openPopupError();\n  };\n\n  const handleCreateDiary = (data) => {\n    createDiary(createFormData(data))\n      .then((newDiary) => {\n        setDiaries([newDiary, ...diaries]);\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleEditDiary = (data) => {\n    editDiary(data?.id, createFormData(data))\n      .then((newDiary) => {\n        setDiaries(() =>\n          diaries.map((diary) =>\n            diary?.id === newDiary?.id ? newDiary : diary\n          )\n        );\n        closeForm();\n      })\n      .catch((err) => handleErrorOnFormSubmit(err));\n  };\n\n  const handleSubmitDiary = (data) => {\n    if (isEditMode) handleEditDiary(data);\n    else handleCreateDiary(data);\n  };\n\n  // удаление дневника\n  const [selectedDiary, setSelectedDiary] = useState({});\n\n  const openDeleteDiaryPopup = (diary) => {\n    setIsDeleteDiaryPopupOpen(true);\n    setSelectedDiary(diary);\n  };\n\n  const closeDeleteDiaryPopup = () => {\n    setIsDeleteDiaryPopupOpen(false);\n  };\n\n  const handleDeleteDiary = (diary) => {\n    deleteDiary(diary?.id, diary)\n      .then(() => {\n        setDiaries(() =>\n          diaries.filter((prevDiary) =>\n            prevDiary?.id === diary?.id ? null : prevDiary\n          )\n        );\n        closeDeleteDiaryPopup();\n      })\n      .catch(() => openPopupError());\n  };\n\n  // функции рендера\n  const titleH1 = events?.length > 0 ? eventsTitle : eventsTitleNoResults;\n\n  const renderEventCards = () => {\n    if (events && events?.length > 0) {\n      return (\n        <>\n          {events.map((item) => (\n            <ProfileEventCard\n              key={item?.id}\n              data={item}\n              onOpen={openEventCard}\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderAddDiaryButton = () => {\n    if (!isFormOpen && diaries && diaries?.length > 0) {\n      return (\n        <ButtonRound\n          sectionClass=\"profile__button-add-diary fade-in\"\n          color=\"blue\"\n          isSmall\n          onClick={openForm}\n        />\n      );\n    }\n    return null;\n  };\n\n  const renderDiaryForm = () => {\n    if (isFormOpen || (diaries && diaries?.length === 0)) {\n      return (\n        <>\n          {!isEditMode && (\n            <TitleH2 sectionClass=\"profile__title fade-in\" title={formTitle} />\n          )}\n          <ProfileForm\n            sectionClass=\"profile__diary-form fade-in\"\n            isEditMode={isEditMode}\n            isOpen={isFormOpen}\n            data={formDataToEdit}\n            onClose={closeForm}\n            onSubmit={handleSubmitDiary}\n          />\n        </>\n      );\n    }\n    return null;\n  };\n\n  const renderDiaries = () => {\n    if (diaries && diaries?.length > 0) {\n      return (\n        <>\n          {diaries.map((diary) => (\n            <ProfileDiary\n              key={diary?.id}\n              data={diary}\n              onEdit={handleEditMode}\n              onDelete={openDeleteDiaryPopup}\n            />\n          ))}\n        </>\n      );\n    }\n    return null;\n  };\n\n  if (!events && !diaries) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <>\n      <BasePage headTitle={headTitle} headDescription={headDescription}>\n        <section className=\"profile fade-in\">\n          <div className=\"profile__events-area page__section\">\n            <TitleH2 sectionClass=\"profile__title\" title={titleH1} />\n            <div className=\"profile__events\" ref={containerEvents}>\n              {renderEventCards()}\n            </div>\n          </div>\n\n          <div className=\"profile__diaries page__section\">\n            <span className=\"profile__scroll-anchor\" ref={scrollAnchorRef} />\n            <div className=\"profile__diaries-container\">\n              <div className=\"profile__form-container\">\n                {renderAddDiaryButton()}\n\n                {renderDiaryForm()}\n              </div>\n\n              {renderDiaries()}\n            </div>\n          </div>\n        </section>\n      </BasePage>\n      <PopupDeleteDiary\n        isOpen={isDeleteDiaryPopupOpen}\n        cardData={selectedDiary}\n        onClose={closeDeleteDiaryPopup}\n        onCardDelete={handleDeleteDiary}\n      />\n    </>\n  );\n}\n\nexport default Profile;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getProfileDiariesData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/diaries/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// создать дневник\nfunction createDiary(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/diaries/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// редактировать дневник\nfunction editDiary(diaryId, data) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// удалить дневник\nfunction deleteDiary(diaryId, data) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/profile/diaries/${diaryId}/`, data)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getProfileDiariesData, createDiary, editDiary, deleteDiary };\n","const calendarPageTexts = {\n  headTitle: 'Календарь',\n  headDescription: 'Календарь событий и мероприятий для наставников.',\n  title: 'Календарь',\n  textStubNoData: 'Мы работаем над планом мероприятий на ближайшие месяцы.',\n};\n\nexport default calendarPageTexts;\n","/* eslint-disable no-param-reassign */\nimport PseudoButtonTag from '../components/utils/PseudoButtonTag/PseudoButtonTag';\n//! удалить рендер, есть компонент TagsList\nexport const renderFilterTags = (filterList, name, handleClick) =>\n  filterList.map((item) => (\n    <li className=\"tags__list-item\" key={item.name}>\n      <PseudoButtonTag\n        name={name}\n        value={item.filter}\n        title={item.name}\n        isActive={item.isActive}\n        onClick={handleClick}\n      />\n    </li>\n  ));\n\nexport const handleCheckboxBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const handleRadioBehavior = (setState, { inputValue, isChecked }) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === inputValue) {\n        filterItem.isActive = isChecked;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const selectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = true;\n      } else {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectOneTag = (setState, tagName) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      if (filterItem.filter === tagName) {\n        filterItem.isActive = false;\n      }\n      return filterItem;\n    })\n  );\n};\n\nexport const deselectAllTags = (setState) => {\n  setState((stateFilters) =>\n    stateFilters.map((filterItem) => {\n      filterItem.isActive = false;\n      return filterItem;\n    })\n  );\n};\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import './CardCalendar.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  formatDate,\n  formatWordCase,\n  changeCaseOfFirstLetter,\n} from '../../../utils/utils';\nimport { ButtonDots, Button } from '../../utils/index';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction CardCalendar({\n  cardData,\n  onEventSignUpClick,\n  onEventDescriptionClick,\n  sectionClass,\n}) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n  } = texts;\n\n  const { booked, tags, title, startAt, endAt, address, contact, remainSeats } =\n    cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n\n  // будет ли заблокирована кнопка\n  const isDisabled = remainSeats < 1;\n\n  function changeStateOfEvent() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventSignUpClick(cardData);\n  }\n\n  function prepareDataForAboutEventPopup() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventDescriptionClick();\n  }\n\n  const classNames = [\n    'calendar',\n    booked ? 'calendar_selected' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <article className={classNames}>\n      <div className=\"calendar__caption\">\n        <div className=\"calendar__info\">\n          <p className=\"calendar__type\">\n            {changeCaseOfFirstLetter(tags?.name)}\n          </p>\n          <p className=\"calendar__weekday\">\n            {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n          </p>\n        </div>\n        <div className=\"calendar__about\">\n          <h2 className=\"section-title calendar__title\">{title}</h2>\n          <p className=\"calendar__date\">{startDateParts.day}</p>\n        </div>\n      </div>\n      <div className=\"calendar__meetup\">\n        <ul className=\"calendar__info-list\">\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__time\">\n              {`${startDateParts.hour}:${startDateParts.minutes} - ${endDayParts.hour}:${endDayParts.minutes}`}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__place\">{address}</p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p className=\"calendar__contact\">{contact}</p>\n          </li>\n        </ul>\n        <div className=\"calendar__submit\">\n          <Button\n            title={buttonTitle}\n            titleSelected={buttonTitleSelected}\n            color=\"blue\"\n            isDisabled={isDisabled}\n            onClick={changeStateOfEvent}\n            isBooked={booked}\n          />\n          <p className=\"calendar__place-left\">\n            {/* если запись закрыта, то карточка не должна быть выделенной */}\n            {(isDisabled && buttonTitleDisabled) ||\n              (!booked &&\n                `${remainSeatsText} ${remainSeats} ${formatWordCase(\n                  remainSeats\n                )}`)}\n          </p>\n          <ButtonDots handleClick={prepareDataForAboutEventPopup} />\n        </div>\n      </div>\n    </article>\n  );\n}\n\nCardCalendar.propTypes = {\n  cardData: PropTypes.objectOf(PropTypes.any),\n  onEventSignUpClick: PropTypes.func,\n  onEventDescriptionClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nCardCalendar.defaultProps = {\n  cardData: {},\n  onEventSignUpClick: () => {},\n  onEventDescriptionClick: () => {},\n  sectionClass: '',\n};\n\nexport default CardCalendar;\n","const texts = {\n  title404: '404',\n  buttonText: 'Вернуться на главную',\n};\n\nexport default texts;\n","import './AnimatedPageContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animation404 from '../../assets/animation/Illustration_404.json';\nimport { TitleH2 } from '../utils/index';\n\nfunction AnimatedPageContainer({ is404, titleText, buttonText }) {\n  const animationContainer = useRef();\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation404,\n    });\n  }, []);\n\n  return (\n    <div className=\"animated-section\">\n      <div ref={animationContainer} className=\"animated-section__animation\" />\n      {is404 && <h1 className=\"page-not-found-title\">{texts.title404}</h1>}\n      <TitleH2 title={titleText} sectionClass=\"animated-section__subtitle\" />\n      <Link className=\"button animated-section__link button_color_blue\" to=\"/\">\n        {buttonText}\n      </Link>\n    </div>\n  );\n}\n\nAnimatedPageContainer.propTypes = {\n  is404: PropTypes.bool,\n  titleText: PropTypes.string,\n  buttonText: PropTypes.string,\n};\n\nAnimatedPageContainer.defaultProps = {\n  is404: false,\n  titleText: '',\n  buttonText: texts.buttonText,\n};\n\nexport default AnimatedPageContainer;\n","import './TagsList.scss';\nimport PropTypes from 'prop-types';\nimport { PseudoButtonTag } from '../utils/index';\n\nfunction TagsList({ filterList, name, handleClick, sectionClass }) {\n  const classNames = ['tags', sectionClass].join(' ').trim();\n  const classNamesList = [\n    'tags__list',\n    filterList.length > 3 ? 'tags__list_mobile' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <ul className={classNamesList}>\n        {filterList.map((item) => (\n          <li className=\"tags__list-item\" key={item?.name}>\n            <PseudoButtonTag\n              name={name}\n              value={item?.filter}\n              title={item?.name}\n              isActive={item?.isActive}\n              onClick={handleClick}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nTagsList.propTypes = {\n  filterList: PropTypes.arrayOf(PropTypes.any),\n  sectionClass: PropTypes.string,\n  name: PropTypes.string,\n  handleClick: PropTypes.func,\n};\n\nTagsList.defaultProps = {\n  filterList: [],\n  sectionClass: '',\n  name: '',\n  handleClick: () => {},\n};\n\nexport default TagsList;\n","import './Calendar.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport calendarPageTexts from '../../locales/calendar-page-RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts/index';\nimport {\n  useScrollToTop,\n  useDebounce,\n  useEventBooking,\n} from '../../hooks/index';\nimport { months, DELAY_DEBOUNCE, DELAY_RENDER } from '../../config/constants';\nimport { handleRadioBehavior } from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  getCalendarPageData,\n  getActiveMonthTags,\n  getEventsByFilters,\n} from '../../api/afisha-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardCalendar,\n  AnimatedPageContainer,\n  Loader,\n  TagsList,\n} from './index';\n\nfunction Calendar() {\n  const { headTitle, headDescription, title, textStubNoData } =\n    calendarPageTexts;\n\n  useScrollToTop();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupLogin, openPopupAboutEvent } = useContext(PopupsContext);\n\n  // переход между фильтрами, лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // переход между городами, лоадер\n  const [isCityChanging, setIsCityChanging] = useState(false);\n\n  // загрузка данных страницы календаря, если ты залогиненный\n  const [calendarPageData, setCalendarPageData] = useState(null);\n\n  // весь список доступных фильтров\n  // { isActive, name, filter }\n  const [filters, setFilters] = useState(null);\n\n  // флаг использования фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n\n  // нужно ли рисовать фильтры (если месяц всего 1 - не рисуем)\n  const dataForCurrentCityExist = calendarPageData?.length > 0;\n\n  function getInitialPageData() {\n    setIsCityChanging(true);\n    getCalendarPageData()\n      .then((calendarEvents) => setCalendarPageData(calendarEvents))\n      .catch((error) => console.log(error))\n      .finally(() => {\n        setIsLoading(false);\n        setIsCityChanging(false);\n      });\n  }\n\n  // загрузка главной страницы при старте\n  useEffect(() => {\n    if (currentUser) {\n      getInitialPageData();\n    } else {\n      setTimeout(() => {\n        openPopupLogin();\n      }, DELAY_RENDER);\n    }\n  }, [currentUser]);\n\n  // загрузка фильтров страницы при старте\n  useEffect(() => {\n    if (currentUser) {\n      getActiveMonthTags()\n        .then((monthsTags) => {\n          const customFilters = monthsTags.map((tag) => {\n            const filterName = changeCaseOfFirstLetter(months[tag]);\n            return {\n              isActive: false,\n              name: filterName,\n              filter: tag,\n            };\n          });\n          setFilters(customFilters);\n        })\n        .catch((error) => console.log(error));\n    }\n  }, [currentUser?.city]);\n\n  function handleFiltration() {\n    if (isFiltersUsed) {\n      const activeFilter = filters.find((filter) => filter.isActive);\n      if (activeFilter) {\n        getEventsByFilters(activeFilter.filter)\n          .then((filteredEvents) => setCalendarPageData(filteredEvents))\n          .catch((error) => console.log(error))\n          .finally(() => setIsLoading(false));\n      } else {\n        getInitialPageData();\n      }\n      setIsFiltersUsed(false);\n    }\n  }\n\n  function handleFilterClick(inputValue, isChecked) {\n    handleRadioBehavior(setFilters, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  }\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  useEffect(() => {\n    // в дальнейшем надо изменить количество секунд\n    if (isFiltersUsed) {\n      setIsLoading(true);\n    }\n    debounceFiltration();\n  }, [isFiltersUsed]);\n\n  // подписка/отписка от ивентов\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setCalendarPageData(() =>\n        calendarPageData.map((event) =>\n          event.id === selectedEvent.id ? selectedEvent : event\n        )\n      );\n    }\n  }, [selectedEvent]);\n\n  // рендеринг\n  // отрисовка заглушки\n  function returnAnimatedContainer() {\n    return (\n      <>\n        {isCityChanging ? (\n          <Loader isNested />\n        ) : (\n          <AnimatedPageContainer titleText={textStubNoData} />\n        )}\n      </>\n    );\n  }\n\n  // отрисовка карточек ивентов\n  function renderEventCardsContainer() {\n    const cards = calendarPageData.map((cardData) => (\n      <CardCalendar\n        key={cardData.id}\n        cardData={cardData}\n        onEventSignUpClick={handleEventBooking}\n        onEventDescriptionClick={openPopupAboutEvent}\n        sectionClass=\"fade-in\"\n      />\n    ));\n    return cards;\n  }\n\n  // главная функция рендера\n  function renderPageContent() {\n    // залогинен и есть ивенты\n    if (currentUser && dataForCurrentCityExist) {\n      return (\n        <>\n          <TitleH1 title={title} sectionClass=\"calendar-page__title\" />\n\n          {isCityChanging ? (\n            <Loader isNested />\n          ) : (\n            <div className=\"calendar-page__container\">\n              {filters?.length > 1 && (\n                <TagsList\n                  filterList={filters}\n                  name=\"month\"\n                  handleClick={handleFilterClick}\n                />\n              )}\n\n              {isLoading ? (\n                <Loader isNested />\n              ) : (\n                <div className=\"calendar-page__grid\">\n                  {renderEventCardsContainer()}\n                </div>\n              )}\n            </div>\n          )}\n        </>\n      );\n    }\n\n    // залогинен и нет ивентов\n    if (currentUser && !dataForCurrentCityExist && calendarPageData) {\n      return returnAnimatedContainer();\n    }\n\n    return null;\n  }\n\n  // глобальный лоадер\n  if (!calendarPageData || !filters) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"calendar-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Calendar;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить дату страницы\nfunction getCalendarPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получить тегсы-месяцы (список фильтров)\nfunction getActiveMonthTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/months/`)\n    .then((response) => response.data.months)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// фильтрация по конкретному месяцу\nfunction getEventsByFilters(monthNumber) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/events/?months=${monthNumber}`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getCalendarPageData, getActiveMonthTags, getEventsByFilters };\n","const mainPageTexts = {\n  headTitle: 'наставники.про',\n  headDescription:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n};\n\nexport default mainPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные главной страницы\nfunction getMainPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/main/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getMainPageData;\n","import { bbbsLinks } from '../../../../utils/external-links';\n\nconst texts = {\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  link: bbbsLinks.about,\n};\n\nexport default texts;\n","import './CardStub.scss';\nimport texts from './locales/RU';\nimport { Card, LogoBlue, TitleH2 } from '../../utils/index';\n\nfunction CardStub() {\n  return (\n    <Card sectionClass=\"stub\" color=\"green\">\n      <div className=\"stub__upper-element\">\n        <a\n          className=\"stub__logo\"\n          href={texts.link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <LogoBlue />\n        </a>\n      </div>\n      <div className=\"stub__content\">\n        <TitleH2 sectionClass=\"stub__text\" title={texts.title} />\n      </div>\n    </Card>\n  );\n}\n\nexport default CardStub;\n","const texts = {\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  chosenTagText: 'Выбор наставника',\n  linkText: 'перейти на сайт',\n  activityTypeDefault: 'Развлекательный',\n};\n\nexport default texts;\n","import './CardAnnotation.scss';\nimport PropTypes from 'prop-types';\nimport { Card } from '../../utils/index';\nimport CardAnnotationContainer from './CardAnnotationContainer';\n\nfunction CardAnnotation({ info, description, isMain }) {\n  return (\n    <Card\n      sectionClass={`card-annotation ${isMain ? 'card-annotation_main' : ''}`}\n    >\n      <CardAnnotationContainer caption={info}>\n        <p className=\"paragraph card-annotation__paragraph\">{description}</p>\n      </CardAnnotationContainer>\n    </Card>\n  );\n}\n\nCardAnnotation.propTypes = {\n  info: PropTypes.string,\n  description: PropTypes.string,\n  isMain: PropTypes.bool,\n};\n\nCardAnnotation.defaultProps = {\n  info: undefined,\n  description: undefined,\n  isMain: false,\n};\n\nexport default CardAnnotation;\n","import './CardPlace.scss';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PLACES_URL } from '../../../config/routes';\nimport { staticImageUrl } from '../../../config/config';\nimport { Rubric, TitleH2, Card, Caption } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\n\nfunction CardPlace({\n  data: {\n    image,\n    title,\n    description,\n    link,\n    chosen,\n    address,\n    gender,\n    age,\n    activityType,\n  },\n  activityTypes,\n  color,\n  sectionClass,\n  isBig,\n  isMainPage,\n}) {\n  const {\n    genderMale,\n    genderFemale,\n    linkText,\n    chosenTagText,\n    activityTypeDefault,\n  } = texts;\n  const cardColor = isBig ? 'yellow' : color;\n  const cardSize = isBig ? 'card-place_main' : '';\n  const sex = gender === 'male' ? genderMale : genderFemale;\n\n  const types = activityTypes\n    ? activityTypes.reduce((obj, { id, name }) => {\n        // eslint-disable-next-line no-param-reassign\n        obj[id] = name;\n        return obj;\n      }, {})\n    : null;\n\n  const renderImage = () => {\n    if (isMainPage) {\n      return (\n        <Link\n          to={PLACES_URL}\n          className=\"card-place__link-wrap card-place__link-wrap_content_article-img\"\n        >\n          <img\n            src={`${staticImageUrl}/${image}`}\n            alt={title}\n            className=\"card-place__image\"\n          />\n        </Link>\n      );\n    }\n    if (!isMainPage && chosen && isBig) {\n      return (\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={title}\n          className=\"card-place__image card-place__image_type_article\"\n        />\n      );\n    }\n    return null;\n  };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass={`card-place ${cardSize}`} color={cardColor}>\n        {chosen && (\n          <Rubric title={chosenTagText} sectionClass=\"card-place__rubric\" />\n        )}\n\n        <div className=\"card-place__title-wrap\">\n          {isMainPage ? (\n            <Link to={PLACES_URL} className=\"card-place__link-wrap\">\n              <TitleH2 sectionClass=\"card-place__title\" title={title} />\n            </Link>\n          ) : (\n            <TitleH2 sectionClass=\"card-place__title\" title={title} />\n          )}\n          <Caption sectionClass=\"card-place__address\" title={address} />\n        </div>\n\n        {renderImage()}\n\n        {link && (\n          <a\n            href={link}\n            className=\"link card-place__link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {linkText}\n          </a>\n        )}\n      </Card>\n\n      <CardAnnotation\n        info={`${sex}, ${age} лет, ${\n          activityTypes ? types[activityType] : { activityTypeDefault }\n        } отдых`}\n        description={description}\n        isMain={isBig}\n      />\n    </article>\n  );\n}\n\nCardPlace.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  chosen: PropTypes.bool,\n  title: PropTypes.string,\n  address: PropTypes.string,\n  image: PropTypes.string,\n  link: PropTypes.string,\n  description: PropTypes.string,\n  gender: PropTypes.string,\n  age: PropTypes.number,\n  activityType: PropTypes.number,\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isBig: PropTypes.bool,\n  isMainPage: PropTypes.bool,\n};\n\nCardPlace.defaultProps = {\n  data: {},\n  chosen: false,\n  title: '',\n  address: '',\n  image: '',\n  link: '',\n  description: '',\n  gender: 'male',\n  age: 18,\n  activityType: 1,\n  activityTypes: [],\n  color: 'white',\n  isBig: false,\n  sectionClass: '',\n  isMainPage: false,\n};\n\nexport default CardPlace;\n","const texts = {\n  linkText: 'читать статью',\n};\n\nexport default texts;\n","import './CardArticleBig.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, TitleH3 } from '../../utils/index';\n\nfunction CardArticleBig({ title, color }) {\n  return (\n    <Card sectionClass=\"card-article\" color={color}>\n      <TitleH3 sectionClass=\"card-article__title\" title={title} />\n      <span className=\"link card-article__link\">{texts.linkText}</span>\n    </Card>\n  );\n}\n\nCardArticleBig.propTypes = {\n  color: PropTypes.string,\n  title: PropTypes.string,\n};\n\nCardArticleBig.defaultProps = {\n  color: 'white',\n  title: '',\n};\n\nexport default CardArticleBig;\n","const texts = {\n  altText: 'Превью к видео:',\n  linkText: 'смотреть трейлер',\n};\n\nexport default texts;\n","import './CardFilm.scss';\nimport PropTypes from 'prop-types';\nimport { useContext, useEffect, useState } from 'react';\nimport { PopupsContext } from '../../../contexts/index';\nimport { TitleH2, Card, Caption, Rubric } from '../../utils/index';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\n\nfunction CardFilm({ data: { image, title, info, link, tags, duration } }) {\n  const { openPopupVideo } = useContext(PopupsContext);\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    // записать дату в локал, ключ вынести в константы\n    setLocalStorageData(localStChosenVideo, {\n      image,\n      title,\n      info,\n      link,\n      tags,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  // Стейт записывает ширину окна\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Следит за шириной экрана и записывает в стейт\n  useEffect(() => {\n    const mobile = window.matchMedia('(max-width: 640px)');\n\n    const listener = () => {\n      if (mobile.matches) setIsMobile(true);\n      else setIsMobile(false);\n    };\n    listener();\n\n    mobile.addEventListener('change', listener);\n\n    return () => {\n      mobile.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Рендерим верхную часть с фоткой\n  const renderPrewiew = () => {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={`${texts.altText} ${title}`}\n          className=\"card-film__preview\"\n        />\n        {duration ? (\n          <span className=\"card-film__duration paragraph\">\n            {durationString}\n          </span>\n        ) : (\n          <ul className=\"card-film__rubric-list\">\n            {tags.map((tag) => (\n              <li key={tag.id}>\n                <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  };\n\n  // Редерим либо кнопку либо ссылку в зависимости от ширины\n  // Пробрасываем елементы в функцию в завизимости от положения\n  const renderVideoPlayback = (childrenElem) =>\n    !isMobile ? (\n      <button\n        className=\"link card-film__button\"\n        type=\"button\"\n        onClick={handleClick}\n      >\n        {childrenElem}\n      </button>\n    ) : (\n      <a\n        href={link}\n        className=\"link card-film__button\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        {childrenElem}\n      </a>\n    );\n\n  return (\n    <Card sectionClass=\"card-film\">\n      <div className=\"card-film__video\">\n        {renderVideoPlayback(renderPrewiew())}\n      </div>\n\n      <div className=\"card-film__video-info\">\n        <div className=\"card-film__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-film__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-film__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && renderVideoPlayback(texts.linkText)}\n      </div>\n    </Card>\n  );\n}\n\nCardFilm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nCardFilm.defaultProps = {\n  data: {},\n  image: '',\n  title: '',\n  info: '',\n  link: '',\n  tags: [],\n  duration: '',\n};\n\nexport default CardFilm;\n","const texts = {\n  linkText: 'смотреть видео',\n  imageAlt: 'Превью к видео',\n};\n\nexport default texts;\n","import './CardVideoMain.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext } from '../../../contexts/index';\nimport { Card, TitleH2, Caption } from '../../utils/index';\nimport { formatDuration, changeCaseOfFirstLetter } from '../../../utils/utils';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\n\nfunction CardVideoMain({ data: { title, info, link, image, duration } }) {\n  const { openPopupVideo } = useContext(PopupsContext);\n\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      title,\n      info,\n      link,\n      image,\n      duration,\n    });\n    openPopupVideo();\n    // записать дату в локал, ключ вынести в константы\n  };\n\n  // Стейт записывает ширину окна\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Следит за шириной экрана и записывает в стейт\n  useEffect(() => {\n    const mobile = window.matchMedia('(max-width: 640px)');\n\n    const listener = () => {\n      if (mobile.matches) setIsMobile(true);\n      else setIsMobile(false);\n    };\n    listener();\n\n    mobile.addEventListener('change', listener);\n\n    return () => {\n      mobile.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Рендерим верхную часть с фоткой и props.children из компонета выше\n  const renderPrewiew = () => {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={`${texts.imageAlt}: ${title}`}\n          className=\"card-video-main__image\"\n        />\n\n        <span className=\"card-video-main__duration paragraph\">\n          {durationString}\n        </span>\n      </>\n    );\n  };\n\n  // Редерим либо кнопку либо ссылку в зависимости от ширины\n  // Пробрасываем елементы в функцию в завизимости от положения\n  const renderVideoPlayback = (childrenElem) =>\n    !isMobile ? (\n      <button\n        className=\"link card-video-main__button\"\n        type=\"button\"\n        onClick={handleClick}\n      >\n        {childrenElem}\n      </button>\n    ) : (\n      <a\n        href={link}\n        className=\"link card-video-main__button\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        {childrenElem}\n      </a>\n    );\n\n  return (\n    <div className=\"card-container card-container_type_main-video\">\n      <Card sectionClass=\"card-video-main\" color=\"yellow\">\n        <div className=\"card-video-main__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-video-main__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-video-main__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && renderVideoPlayback(texts.linkText)}\n      </Card>\n\n      <Card sectionClass=\"card-video-main__video\">\n        {renderVideoPlayback(renderPrewiew())}\n      </Card>\n    </div>\n  );\n}\n\nCardVideoMain.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n};\n\nCardVideoMain.defaultProps = {\n  data: {},\n};\n\nexport default CardVideoMain;\n","const texts = {\n  labelText: 'Показать ответ',\n};\n\nexport default texts;\n","import './CardQuestion.scss';\nimport { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Rubric, TitleH2, Card, ButtonRound } from '../../utils/index';\n\nfunction CardQuestion({\n  data: { title, tags, answer },\n  sectionClass,\n  isQuestionsPage,\n}) {\n  const [isOpened, setIsOpened] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const ref = useRef();\n  function handleClickButton() {\n    if (isOpened) {\n      setIsAnimated(false);\n      setTimeout(() => {\n        setIsOpened(false);\n      }, 300);\n    } else {\n      setIsOpened(true);\n      setTimeout(() => {\n        setIsAnimated(true);\n      }, 300);\n    }\n  }\n\n  const getDynamicStyle = () => {\n    if (isOpened) {\n      return {\n        minHeight: ref.current.clientHeight,\n      };\n    }\n\n    return {\n      height: 0,\n    };\n  };\n\n  const answerWrapperClassNames = [\n    'card-question__answer',\n    isOpened ? 'card-question__answer_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Card sectionClass={`card-question ${sectionClass}`}>\n      <TitleH2 sectionClass=\"card-question__title\" title={title} />\n      <div className=\"card-question__wrap\">\n        <ul className=\"card-question__tags\">\n          {tags?.map((tag) => (\n            <li className=\"card-question__tag\" key={tag?.id}>\n              <Rubric title={tag?.name} sectionClass=\"card-question__rubric\" />\n            </li>\n          ))}\n        </ul>\n        {isQuestionsPage && (\n          <ButtonRound\n            label={texts.labelText}\n            sectionClass=\"button-round__questions-page\"\n            color=\"lightblue\"\n            onClick={handleClickButton}\n            isClick={isOpened}\n          />\n        )}\n      </div>\n      {isQuestionsPage && (\n        <div className={answerWrapperClassNames} style={getDynamicStyle()}>\n          <p\n            ref={ref}\n            className={`paragraph card-question__paragraph card-question__answer_text-hidden ${\n              isAnimated ? 'card-question__answer_text-active' : ''\n            }`}\n          >\n            {answer}\n          </p>\n        </div>\n      )}\n    </Card>\n  );\n}\n\nCardQuestion.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n  isQuestionsPage: PropTypes.bool,\n  answer: PropTypes.string,\n};\n\nCardQuestion.defaultProps = {\n  data: {},\n  title: '',\n  tags: [],\n  sectionClass: '',\n  isQuestionsPage: false,\n  answer: '',\n};\n\nexport default CardQuestion;\n","import './MainPage.scss';\nimport { Link } from 'react-router-dom';\nimport { useState, useContext, useEffect } from 'react';\nimport mainPageTexts from '../../locales/main-page-RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts/index';\nimport {\n  useScrollToTop,\n  useEventBooking,\n  useActivityTypes,\n} from '../../hooks/index';\nimport { QUESTIONS_URL } from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\nimport { randomizeArray } from '../../utils/utils';\nimport getMainPageData from '../../api/main-page';\nimport {\n  BasePage,\n  Loader,\n  Card,\n  CardStub,\n  CardCalendar,\n  CardPlace,\n  CardArticleBig,\n  CardFilm,\n  CardVideoMain,\n  Widget,\n  CardQuestion,\n  Rubric,\n} from './index';\n\n// количество отображаемых карточек с фильмами и вопросами\nconst MOVIES_COUNT = 4;\nconst QUESTIONS_COUNT = 3;\n\nfunction MainPage() {\n  const { headTitle, headDescription } = mainPageTexts;\n  useScrollToTop();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupAboutEvent } = useContext(PopupsContext);\n\n  const [mainPageData, setMainPageData] = useState(null);\n\n  const randomMovies = randomizeArray(mainPageData?.movies, MOVIES_COUNT);\n  const randomQuestions = randomizeArray(\n    mainPageData?.questions,\n    QUESTIONS_COUNT\n  );\n\n  const activityTypes = useActivityTypes();\n\n  // запись/отписка на мероприятия\n  const { handleEventBooking, selectedEvent } = useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setMainPageData({ ...mainPageData, event: selectedEvent });\n    }\n  }, [selectedEvent]);\n\n  const [isCityChanging, setIsCityChanging] = useState(false);\n\n  // запрос даты главной страницы при загрузке и при смене города\n  useEffect(() => {\n    if (currentUser) {\n      setIsCityChanging(true);\n      getMainPageData()\n        .then((data) => setMainPageData(data))\n        .catch((error) => console.log(error))\n        .finally(() => setIsCityChanging(false));\n    }\n  }, [currentUser?.city]);\n\n  useEffect(() => {\n    getMainPageData()\n      .then((data) => setMainPageData(data))\n      .catch((error) => console.log(error));\n  }, []);\n\n  // глобальный лоадер (без футера)\n  if (!mainPageData) {\n    return <Loader isCentered />;\n  }\n\n  function renderEventsSection() {\n    if (currentUser && mainPageData?.event) {\n      return (\n        <CardCalendar\n          key={mainPageData?.event?.id}\n          cardData={mainPageData?.event}\n          onEventSignUpClick={handleEventBooking}\n          onEventDescriptionClick={openPopupAboutEvent}\n        />\n      );\n    }\n\n    return <CardStub />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"lead page__section fade-in\">\n        <div className=\"card-container card-container_type_identical\">\n          {isCityChanging ? <Loader isNested /> : renderEventsSection()}\n\n          <Card sectionClass=\"lead__media\" key={mainPageData?.history?.id}>\n            <img\n              src={`${staticImageUrl}/${mainPageData?.history?.image}`}\n              alt={mainPageData?.history?.title}\n              className=\"card__media-img\"\n            />\n            <Link to=\"/stories\" className=\"lead__link\">\n              {mainPageData?.history?.title}\n            </Link>\n          </Card>\n        </div>\n      </section>\n\n      <section className=\"place main-section page__section fade-in\">\n        <CardPlace\n          key={mainPageData?.place?.id}\n          data={mainPageData?.place}\n          sectionClass=\"card-container_type_main-article\"\n          activityTypes={activityTypes}\n          isBig\n          isMainPage\n        />\n      </section>\n\n      {mainPageData?.articles.length > 0 && (\n        <section className=\"articles main-section page__section fade-in\">\n          <Link to=\"/articles\" className=\"main-section__link\">\n            <CardArticleBig\n              key={mainPageData?.articles[0]?.id}\n              title={mainPageData?.articles[0]?.title}\n              color=\"blue\"\n            />\n          </Link>\n        </section>\n      )}\n\n      <section className=\"movies main-section page__section cards-grid cards-grid_content_small-cards fade-in\">\n        {randomMovies.map((item) => (\n          <Link\n            to=\"/films\"\n            className={`main-section__link ${\n              randomMovies.length > 1\n                ? `movies_pagination movies_pagination_${randomMovies.length}`\n                : ''\n            }`}\n            key={item?.id}\n          >\n            <CardFilm data={item}>\n              <ul className=\"card-film__rubric-list\">\n                {item?.tags.map((tag) => (\n                  <li key={tag.id}>\n                    <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n                  </li>\n                ))}\n              </ul>\n            </CardFilm>\n          </Link>\n        ))}\n      </section>\n\n      <section className=\"video main-section page__section fade-in\">\n        <Link to=\"/video\" className=\"main-section__link\">\n          <CardVideoMain\n            key={mainPageData?.video?.id}\n            data={mainPageData?.video}\n          />\n        </Link>\n      </section>\n\n      <section className=\"main-questions main-section page__section fade-in\">\n        <div className=\"card-container card-container_type_iframe\">\n          <Widget\n            title=\"Facebook\"\n            link=\"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=420&height=627&small_header=false&adapt_container_width=false&hide_cover=false&show_facepile=true&appId\"\n          />\n          <div className=\"main-questions__container\">\n            {randomQuestions.map((item) => (\n              <Link\n                to={QUESTIONS_URL}\n                className={`main-section__link main-section__link_el_question ${\n                  randomQuestions.length > 2 ? ' main-questions_pagination' : ''\n                }`}\n                key={item?.id}\n              >\n                <CardQuestion data={item} />\n              </Link>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {mainPageData?.articles.length > 1 && (\n        <section className=\"articles main-section page__section fade-in\">\n          <Link to=\"/articles\" className=\"main-section__link\">\n            <CardArticleBig\n              key={mainPageData?.articles[1]?.id}\n              title={mainPageData?.articles[1]?.title}\n              color=\"green\"\n            />\n          </Link>\n        </section>\n      )}\n    </BasePage>\n  );\n}\n\nexport default MainPage;\n","const page404Texts = {\n  headTitle: 'Страницы не существует',\n  headDescription: 'Запрашиваемая страница не найдена.',\n  animatedContainerText:\n    'К сожалению, запрашиваемая страница не найдена. Попробуйте перейти на главную страницу',\n};\n\nexport default page404Texts;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport Header from '../components/Header/Header';\n\nfunction PageNoFooter({ children, headTitle, headDescription }) {\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header />\n      <main className=\"main\">{children}</main>\n    </>\n  );\n}\n\nPageNoFooter.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n};\n\nPageNoFooter.defaultProps = {\n  children: null,\n};\n\nexport default PageNoFooter;\n","import './PageNotFound.scss';\nimport page404Texts from '../../locales/404-page-RU';\nimport { useScrollToTop } from '../../hooks/index';\nimport { PageNoFooter, AnimatedPageContainer } from './index';\n\nfunction PageNotFound() {\n  const { headTitle, headDescription, animatedContainerText } = page404Texts;\n\n  useScrollToTop();\n\n  return (\n    <PageNoFooter headTitle={headTitle} headDescription={headDescription}>\n      <AnimatedPageContainer titleText={animatedContainerText} is404 />\n    </PageNoFooter>\n  );\n}\n\nexport default PageNotFound;\n","const catalogPageTexts = {\n  headTitle: 'Справочник',\n  headDescription: 'Справочник полезных статей.',\n  title: 'Справочник',\n  subtitle: `Памятка новичка${'\\u00A0'}– наши материалы, где сможете найти всю базовую информацию, рассказанную на вводном тренинге. Если вы захотите освежить свои знания, и${'\\u00A0'}напомнить себе о${'\\u00A0'}чем-то.`,\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default catalogPageTexts;\n","//! хардкод\n// eslint-disable-next-line consistent-return\nfunction renderThoseDamnedLines(dataLength, pageSize, isTablet) {\n  const renderOneLine = () => (\n    <>\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderTwoLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  const renderThreeLines = () => (\n    <>\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n      <div className=\"cards-section__line\" />\n    </>\n  );\n\n  if (isTablet) {\n    if (dataLength < 2) return null;\n\n    if (dataLength < 3) return renderOneLine();\n\n    if (dataLength < 4) return renderTwoLines();\n\n    return renderThreeLines();\n  }\n\n  switch (pageSize) {\n    case 16: {\n      if (dataLength < 5) return null;\n\n      if (dataLength < 9) return renderOneLine();\n\n      if (dataLength < 13) return renderTwoLines();\n\n      return renderThreeLines();\n    }\n    case 9: {\n      if (dataLength < 4) return null;\n\n      if (dataLength < 7) return renderOneLine();\n\n      return renderTwoLines();\n    }\n    default: {\n      if (dataLength < 3) return null;\n\n      return renderOneLine();\n    }\n  }\n}\n\nexport default renderThoseDamnedLines;\n","import PropTypes from 'prop-types';\nimport './CardsSectionWithLines.scss';\nimport { useEffect, useState } from 'react';\nimport { Paginate, Loader } from '../../utils/index';\nimport renderThoseDamnedLines from '../../../utils/render-lines';\n\nfunction CardsSectionWithLines({\n  pageCount,\n  children,\n  pageNumber,\n  setPageNumber,\n  sectionClass,\n  isLoading,\n  dataLength,\n  pageSize,\n}) {\n  const [isTablet, setIsTablet] = useState(false);\n\n  useEffect(() => {\n    const tablet = window.matchMedia('(max-width: 900px)');\n\n    const listener = () => {\n      if (tablet.matches) setIsTablet(true);\n      else setIsTablet(false);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader isNested />\n      ) : (\n        <>\n          <section className={`cards-section ${sectionClass}`}>\n            {renderThoseDamnedLines(dataLength, pageSize, isTablet)}\n            {children}\n          </section>\n        </>\n      )}\n\n      {pageCount > 1 && (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      )}\n    </>\n  );\n}\n\nCardsSectionWithLines.propTypes = {\n  pageCount: PropTypes.number,\n  children: PropTypes.node,\n  pageNumber: PropTypes.number,\n  setPageNumber: PropTypes.func,\n  sectionClass: PropTypes.string,\n  isLoading: PropTypes.bool,\n  dataLength: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n};\n\nCardsSectionWithLines.defaultProps = {\n  pageCount: 0,\n  children: null,\n  pageNumber: 0,\n  setPageNumber: () => {},\n  sectionClass: '',\n  isLoading: false,\n};\n\nexport default CardsSectionWithLines;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы каталога\nfunction getCatalogPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/catalog/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCatalogPageData;\n","import './CardCatalog.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { TitleH2 } from '../../utils/index';\nimport CardFigure from '../CardFigure/CardFigure';\nimport { staticImageUrl } from '../../../config/config';\n\nfunction CardCatalog({ title, shape, image, sectionClass, link }) {\n  return (\n    <div className={`card-catalog ${sectionClass}`}>\n      <Link to={link} className=\"card-catalog__link-wrap\">\n        <div className=\"card-catalog__image-wrap\">\n          <CardFigure\n            sectionClass=\"card-catalog_type_shaped\"\n            shape={shape}\n            color=\"white\"\n          >\n            <img\n              className=\"card-catalog__image\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n            />\n          </CardFigure>\n        </div>\n        <TitleH2 sectionClass=\"card-catalog__title\" title={title} />\n      </Link>\n    </div>\n  );\n}\n\nCardCatalog.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  image: PropTypes.string,\n  sectionClass: PropTypes.string,\n  link: PropTypes.string,\n};\n\nCardCatalog.defaultProps = {\n  title: '',\n  shape: 'square',\n  image: '',\n  sectionClass: '',\n  link: '',\n};\n\nexport default CardCatalog;\n","import './Catalog.scss';\nimport { useEffect, useState } from 'react';\nimport catalogPageTexts from '../../locales/catalog-page-RU';\nimport {\n  BasePage,\n  TitleH1,\n  TitleH2,\n  CardsSectionWithLines,\n  AnimatedPageContainer,\n  Loader,\n} from './index';\nimport getCatalogPageData from '../../api/catalog-page';\nimport CardCatalog from '../../components/Cards/CardCatalog/CardCatalog';\nimport { FIGURES } from '../../config/constants';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 9,\n  big: 16,\n};\n\nfunction Catalog() {\n  const { headTitle, headDescription, title, subtitle, textStubNoData } =\n    catalogPageTexts;\n\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [catalogPageData, setCatalogPageData] = useState([]);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  function getPageData() {\n    const offset = pageSize * pageNumber;\n\n    getCatalogPageData({ limit: pageSize, offset })\n      .then(({ results, count }) => {\n        setCatalogPageData(results);\n        setPageCount(Math.ceil(count / pageSize));\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsLoadingPage(false);\n      });\n  }\n\n  useEffect(() => {\n    if (pageSize) {\n      getPageData();\n    }\n\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  function renderCards() {\n    return (\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        isLoading={isLoadingPaginate}\n        dataLength={catalogPageData.length}\n        pageSize={pageSize}\n      >\n        {catalogPageData.map((item, i) => (\n          <CardCatalog\n            sectionClass=\"cards-section__item\"\n            key={item?.id}\n            title={item?.title}\n            image={item?.image}\n            shape={FIGURES[i % FIGURES.length]}\n          />\n        ))}\n      </CardsSectionWithLines>\n    );\n  }\n\n  function renderPageContent() {\n    if (!catalogPageData && !isLoadingPage) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <section className=\"catalog page__section fade-in\">\n        <TitleH1 sectionClass=\"catalog__title\" title={title} />\n        <TitleH2 sectionClass=\"catalog__subtitle\" title={subtitle} />\n        {renderCards()}\n      </section>\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {renderPageContent()}\n    </BasePage>\n  );\n}\n\nexport default Catalog;\n","const questionsPageTexts = {\n  headTitle: 'Ответы на вопросы',\n  headDescription: 'Страница с ответами на основные вопросы.',\n  title: 'Ответы на вопросы',\n  textStubNoData:\n    'В данный момент страница вопросов пуста. Возвращайтесь позже!',\n  formPlaceholder: 'Введите вопрос',\n  formSubmitButton: 'Отправить',\n};\n\nexport default questionsPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные страницы\nfunction getQuestionsPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получить тагсы (список фильтров)\nfunction getQuestionsPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получить вопросы по фильтрам\nfunction getQuestionsByFilters(query) {\n  return axios\n    .get(`${baseURL}${apiUrl}/questions/?tags=${query}`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// постинг вопроса\nfunction postQuestion(question) {\n  return axios\n    .post(`${baseURL}${apiUrl}/questions/`, question)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport {\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  getQuestionsByFilters,\n  postQuestion,\n};\n","import './Questions.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport questionsPageTexts from '../../locales/questions-page-RU';\nimport { CurrentUserContext, ErrorsContext } from '../../contexts/index';\nimport {\n  useScrollToTop,\n  useDebounce,\n  useFormWithValidation,\n} from '../../hooks/index';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  ERROR_CODES,\n} from '../../config/constants';\nimport { questionForm, changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport {\n  BasePage,\n  TitleH1,\n  TitleH2,\n  CardQuestion,\n  Input,\n  Button,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport {\n  getQuestionsPageData,\n  getQuestionsPageTags,\n  getQuestionsByFilters,\n  postQuestion,\n} from '../../api/questions-page';\n\nfunction Questions() {\n  const {\n    headTitle,\n    headDescription,\n    title,\n    textStubNoData,\n    formPlaceholder,\n    formSubmitButton,\n  } = questionsPageTexts;\n\n  useScrollToTop();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { serverError, setError, clearError } = useContext(ErrorsContext);\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  // крутилка-лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // начальная дата с API\n  const [questionsPageData, setQuestionsPageData] = useState(null);\n\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // категории фильтрации, состояние кнопок фильтров\n  const [categories, setCategories] = useState(null);\n\n  // форма\n  const [questionFormState, setQuestionFormState] = useState(\n    questionForm.beforeSubmit\n  );\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  const setFormState = (isError) => {\n    if (isError) {\n      // форму не чистим!\n      setQuestionFormState(questionForm.errorSubmit);\n    } else {\n      setQuestionFormState(questionForm.successSubmit);\n      // вернулись к изначальной\n      setTimeout(() => {\n        resetForm();\n        clearError();\n        setQuestionFormState(questionForm.beforeSubmit);\n      }, 4000);\n    }\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    const { question } = values;\n    postQuestion({ title: question })\n      .then(() => setFormState(false))\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized)\n          setError(err?.data);\n        else setFormState(true);\n      });\n  };\n\n  // хэндлер клика по фильтру\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    }\n    setIsLoading(true);\n    setIsFiltersUsed(true);\n  };\n\n  // фильтрация\n  const handleFiltration = () => {\n    const activeCategories = categories\n      .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n      .map((filter) => filter.filter);\n\n    // то есть активных нету и сейчас нажато \"ВСЕ\"\n    if (activeCategories.length === 0) {\n      getQuestionsPageData()\n        .then((allQuestions) => {\n          setQuestionsPageData(allQuestions);\n        })\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      const query = activeCategories.join();\n      getQuestionsByFilters(query)\n        .then((filteredQuestions) => setQuestionsPageData(filteredQuestions))\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n  };\n\n  // запуск фильтрации\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  // API\n  useEffect(() => {\n    Promise.all([getQuestionsPageData(), getQuestionsPageTags()])\n      .then(([questionsData, tagsFilters]) => {\n        setQuestionsPageData(questionsData);\n\n        const customFilters = tagsFilters.map((tag) => {\n          const filterName = changeCaseOfFirstLetter(tag.name);\n          return {\n            isActive: false,\n            name: filterName,\n            filter: tag.slug,\n          };\n        });\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...customFilters,\n        ]);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  // рендеринг\n  // заглушка, если нет даты\n  function returnAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // форма вопросов\n  const renderQuestionForm = () => (\n    <>\n      <section className=\"add-question fade-in\">\n        <TitleH2\n          sectionClass={`add-question__title ${questionFormState.titleClass}`}\n          title={questionFormState.title}\n        />\n        <form\n          className={`question-form ${questionFormState.formVisibilityClass}`}\n          onSubmit={(evt) => handleSubmit(evt)}\n          noValidate\n        >\n          <fieldset className=\"question-form__add-question\">\n            <Input\n              id=\"questionsFormInput\"\n              type=\"text\"\n              name=\"question\"\n              placeholder={formPlaceholder}\n              onChange={handleChange}\n              value={values?.question}\n              minLength=\"10\"\n              maxLength=\"200\"\n              required\n              error={errors?.question}\n              sectionClass=\"input__question-form\"\n            />\n            <Button\n              title={formSubmitButton}\n              color=\"black\"\n              sectionClass=\"question-form__button\"\n              isSubmittable\n              isDisabled={!isValid}\n            />\n          </fieldset>\n          <span className=\"form-error-message\">{errorsString}</span>\n        </form>\n      </section>\n    </>\n  );\n\n  // контейнер с вопросами\n  const renderQuestionsContainer = () => (\n    <ul className=\"questions\">\n      {questionsPageData.map((question) => (\n        <li className=\"questions__list-item fade-in\" key={question.id}>\n          <CardQuestion\n            data={question}\n            sectionClass=\"card__questions_type_questions-page\"\n            isQuestionsPage\n          />\n        </li>\n      ))}\n    </ul>\n  );\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (questionsPageData.length > 0) {\n      return (\n        <>\n          <TitleH1 title={title} sectionClass=\"questions__title\" />\n\n          {/* рендер фильтров */}\n          {categories?.length > 1 && (\n            <TagsList\n              filterList={categories}\n              name=\"tag\"\n              handleClick={changeCategory}\n            />\n          )}\n\n          {/* рендерим сами вопросы */}\n          {isLoading ? <Loader isNested /> : renderQuestionsContainer()}\n\n          {/* если залогинен рендерим форму */}\n          {currentUser && renderQuestionForm()}\n        </>\n      );\n    }\n\n    // залогинен и нет ивентов\n    const isDataForPage = questionsPageData.length > 1;\n    if (!isDataForPage) {\n      return returnAnimatedContainer();\n    }\n\n    return null;\n  };\n\n  // глобальный лоадер\n  if (!questionsPageData || !categories) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"questions-page page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Questions;\n","const placesPageTexts = {\n  headTitle: 'Куда пойти',\n  headDescription: 'Куда вы можете пойти, что рекомендуют наши наставники.',\n  title: 'Куда пойти',\n  textStubNoData:\n    'Рекомендуемых мест для выбранного города ещё нет, но они обязательно появятся!',\n  paragraphNoContent: 'По вашему запросу ничего не нашлось.',\n  mentorTag: 'Выбор наставников',\n  ageFilterNames: [\n    { filter: '8-10', name: '8-10 лет' },\n    { filter: '11-13', name: '11-13 лет' },\n    { filter: '14-17', name: '14-17 лет' },\n    { filter: '18', name: '18+ лет' },\n  ],\n};\n\nexport default placesPageTexts;\n","const texts = {\n  closeButtonlabel: 'Закрыть форму',\n  recommendadionTextPart1: `Если вы были в интересном месте и хотите порекомендовать его другим${'\\u00A0'}наставникам –${'\\u00A0'}`,\n  recommendadionButton: `заполните${'\\u00A0'}форму`,\n  recommendadionTextPart2: `, и мы добавим вашу${'\\u00A0'}рекомендацию.`,\n};\n\nexport default texts;\n","const texts = {\n  titlePlaceholder: 'Название*',\n  linkPlaceholder: 'Сайт',\n  addressPlaceholder: 'Адрес*',\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  agePlaceholder: 'Возраст*',\n  activityPlaceholder: 'Тип отдыха*',\n  cityPlaceholder: 'Город*',\n  descPlaceholder:\n    'Комментарий* Поделитесь впечатлениями о проведенном времени',\n  descPlaceholderMobile: 'Комментарий*',\n  buttonText: 'Отправить',\n};\n\nexport default texts;\n","import './FormRecommendation.scss';\nimport { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { CitiesContext, ErrorsContext } from '../../contexts/index';\nimport { regExpImages } from '../../config/constants';\nimport { useFormWithValidation } from '../../hooks/index';\nimport { Input, Button, ButtonRound, DropDownSelect } from '../utils/index';\n\nfunction FormRecommendation({ isOpen, onSubmit, activityTypes }) {\n  const {\n    titlePlaceholder,\n    linkPlaceholder,\n    addressPlaceholder,\n    genderMale,\n    genderFemale,\n    agePlaceholder,\n    activityPlaceholder,\n    cityPlaceholder,\n    descPlaceholder,\n    descPlaceholderMobile,\n    buttonText,\n  } = texts;\n\n  const [textAreaPlaceholder, setTextAreaPlaceholder] = useState('');\n\n  useEffect(() => {\n    const tablet = window.matchMedia('(max-width: 900px)');\n\n    const listener = () => {\n      if (tablet.matches) setTextAreaPlaceholder(descPlaceholderMobile);\n      else setTextAreaPlaceholder(descPlaceholder);\n    };\n    listener();\n\n    tablet.addEventListener('change', listener);\n\n    return () => {\n      tablet.removeEventListener('change', listener);\n    };\n  }, []);\n\n  const cities = useContext(CitiesContext);\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const [isAnimated, setIsAnimated] = useState(false);\n\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n    handleChangeFiles,\n  } = useFormWithValidation();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onSubmit(values);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      resetForm();\n      setTimeout(() => {\n        setIsAnimated(true);\n      }, 600);\n    } else {\n      setIsAnimated(false);\n    }\n    clearError();\n  }, [isOpen]);\n\n  const formClassNames = [\n    'form-recom',\n    isOpen ? 'form-recom_opened' : '',\n    isAnimated ? 'form-recom_animated' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <form\n      className={formClassNames}\n      name=\"formRecomendation\"\n      onSubmit={handleSubmit}\n      noValidate\n    >\n      {isOpen && (\n        <>\n          <div className=\"form-recom__input-container\">\n            <Input\n              id=\"formRecommendTitle\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium form-recom__input-wrap_indentation\"\n              type=\"text\"\n              name=\"title\"\n              placeholder={titlePlaceholder}\n              onChange={handleChange}\n              value={values.title}\n              required\n              minLength=\"5\"\n              maxLength=\"50\"\n              error={errors?.title}\n            />\n\n            <Input\n              id=\"formRecommendLink\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_medium\"\n              type=\"text\"\n              name=\"link\"\n              placeholder={linkPlaceholder}\n              onChange={handleChange}\n              value={values.link}\n              error={errors?.link}\n            />\n          </div>\n\n          <Input\n            id=\"formRecommendAddress\"\n            sectionClass=\"form-recom__input-wrap\"\n            type=\"text\"\n            name=\"address\"\n            placeholder={addressPlaceholder}\n            onChange={handleChange}\n            value={values.address}\n            required\n            minLength=\"5\"\n            maxLength=\"50\"\n            error={errors?.address}\n          />\n\n          <div className=\"form-recom__input-container\">\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationBoy\"\n            >\n              <input\n                id=\"formRecommendationBoy\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"male\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderMale}\n              </span>\n            </label>\n            <label\n              className=\"form-recom__label\"\n              htmlFor=\"formRecommendationGirl\"\n            >\n              <input\n                id=\"formRecommendationGirl\"\n                className=\"form-recom__input-radio\"\n                type=\"radio\"\n                name=\"gender\"\n                onChange={handleChange}\n                value=\"female\"\n                required\n              />\n              <span\n                className={`form-recom__pseudo-radio ${\n                  errors?.gender ? 'form-recom__pseudo-radio_error' : ''\n                }`}\n              >\n                {genderFemale}\n              </span>\n            </label>\n\n            <Input\n              id=\"formRecommendAge\"\n              sectionClass=\"form-recom__input-wrap form-recom__input-wrap_narrow\"\n              type=\"number\"\n              name=\"age\"\n              placeholder={agePlaceholder}\n              onChange={handleChange}\n              value={values.age}\n              required\n              max=\"25\"\n              min=\"1\"\n              error={errors?.age}\n            />\n          </div>\n\n          <DropDownSelect\n            placeholder={activityPlaceholder}\n            options={activityTypes}\n            inputName=\"activityType\"\n            onChange={handleChange}\n            error={errors?.activityType}\n            isFormOpen={isOpen}\n          />\n\n          <DropDownSelect\n            placeholder={cityPlaceholder}\n            options={cities}\n            inputName=\"city\"\n            onChange={handleChange}\n            error={errors?.city}\n            isFormOpen={isOpen}\n          />\n\n          <Input\n            id=\"formRecommendDescription\"\n            sectionClass=\"form-recom__input form-recom__input_textarea\"\n            type=\"text\"\n            name=\"description\"\n            placeholder={textAreaPlaceholder}\n            onChange={handleChange}\n            value={values.description}\n            required\n            maxLength=\"200\"\n            error={errors?.description}\n            isTextarea\n          />\n\n          <span className=\"form-error-message\">{errorsString}</span>\n\n          <div className=\"form-recom__submit-zone\">\n            <div className=\"form-recom__add-photo\">\n              {errors?.image && (\n                <span className=\"form-recom__add-photo_error\">\n                  {errors?.image}\n                </span>\n              )}\n              <label htmlFor=\"formRecomInputUpload\">\n                <input\n                  id=\"formRecomInputUpload\"\n                  type=\"file\"\n                  name=\"image\"\n                  accept=\"image/png, image/jpeg\"\n                  className=\"form-recom__input-radio\"\n                  onChange={(evt) => handleChangeFiles(evt, regExpImages)}\n                  required\n                />\n                <ButtonRound\n                  sectionClass={`form-recom__add-photo-btn ${\n                    errors?.image ? 'form-recom__add-photo-btn_error' : ''\n                  }`}\n                  color={`${errors?.image ? 'error' : 'lightGray'}`}\n                  isSmall\n                  isSpan\n                />\n              </label>\n            </div>\n\n            <Button\n              title={buttonText}\n              color=\"blue\"\n              isDisabled={!isValid}\n              isSubmittable\n            />\n          </div>\n        </>\n      )}\n    </form>\n  );\n}\n\nFormRecommendation.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  isOpen: PropTypes.bool,\n  onSubmit: PropTypes.func,\n};\n\nFormRecommendation.defaultProps = {\n  activityTypes: [],\n  isOpen: false,\n  onSubmit: () => {},\n};\n\nexport default FormRecommendation;\n","import './PlacesRecommend.scss';\nimport { useState, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext, ErrorsContext } from '../../contexts/index';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../config/constants';\nimport FormRecommendation from '../FormRecommendation/FormRecommendation';\nimport { postPlace } from '../../api/places-page';\n\nfunction PlacesRecommend({ sectionClass, activityTypes }) {\n  const { openPopupRecommendSuccess } = useContext(PopupsContext);\n  const { setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isFormOpen, setIsFormOpen] = useState(false);\n\n  const scrollAnchorRef = useRef(null);\n  const scrollToForm = () => {\n    scrollAnchorRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const closeForm = () => {\n    setIsFormOpen(false);\n  };\n\n  const openForm = () => {\n    setIsFormOpen(true);\n    scrollToForm();\n  };\n\n  const createFormData = (data) => {\n    const formData = new FormData();\n    if (data.link) formData.append('link', data.link);\n    formData.append('image', data.image);\n    formData.append('title', data.title);\n    formData.append('description', data.description);\n    formData.append('address', data.address);\n    formData.append('gender', data.gender);\n    formData.append('age', data.age);\n    formData.append('city', data.city);\n    formData.append('activityType', data.activityType);\n    return formData;\n  };\n\n  const handleFormSubmit = (data) => {\n    postPlace(createFormData(data))\n      .then(() => {\n        openPopupRecommendSuccess(true);\n      })\n      .catch((err) => {\n        if (err?.status === badRequest || err?.status === unauthorized) {\n          setError(err?.data);\n          closeForm();\n        } else\n          setError({\n            message: generalErrorMessage,\n          });\n      });\n  };\n\n  const classNames = [\n    'recommendation',\n    'recommendation_place_page',\n    'fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <>\n      <section className={classNames} ref={scrollAnchorRef}>\n        <div className=\"recommendation__container\">\n          {isFormOpen && (\n            <button\n              className=\"recommendation__close-button\"\n              type=\"button\"\n              aria-label={texts.closeButtonlabel}\n              onClick={closeForm}\n            />\n          )}\n          <p className=\"section-title recommendation__text\">\n            {texts.recommendadionTextPart1}\n            <button\n              className=\"recommendation__text-link\"\n              type=\"button\"\n              onClick={openForm}\n            >\n              {texts.recommendadionButton}\n            </button>\n            {texts.recommendadionTextPart2}\n          </p>\n          <FormRecommendation\n            isOpen={isFormOpen}\n            onSubmit={handleFormSubmit}\n            activityTypes={activityTypes}\n          />\n        </div>\n      </section>\n    </>\n  );\n}\n\nPlacesRecommend.propTypes = {\n  activityTypes: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n};\n\nPlacesRecommend.defaultProps = {\n  activityTypes: [],\n  sectionClass: '',\n};\n\nexport default PlacesRecommend;\n","import './Places.scss';\nimport { useEffect, useState, useContext } from 'react';\nimport placesPageTexts from '../../locales/places-page-RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts/index';\nimport {\n  useDebounce,\n  useActivityTypes,\n  useLocalStorage,\n} from '../../hooks/index';\nimport {\n  COLORS,\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  DELAY_RENDER,\n  localStUserCity,\n} from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n  deselectAllTags,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport {\n  BasePage,\n  TitleH1,\n  CardPlace,\n  PlacesRecommend,\n  AnimatedPageContainer,\n  Loader,\n  TagsList,\n  NoDataNotificationBox,\n} from './index';\nimport { getPlaces, getPlacesTags } from '../../api/places-page';\n\nfunction Places() {\n  const {\n    headTitle,\n    headDescription,\n    title,\n    textStubNoData,\n    paragraphNoContent,\n    mentorTag,\n    ageFilterNames,\n  } = placesPageTexts;\n\n  const ageFilters = [\n    {\n      filter: ageFilterNames[0].filter,\n      name: ageFilterNames[0].name,\n      isActive: false,\n    },\n    {\n      filter: ageFilterNames[1].filter,\n      name: ageFilterNames[1].name,\n      isActive: false,\n    },\n    {\n      filter: ageFilterNames[2].filter,\n      name: ageFilterNames[2].name,\n      isActive: false,\n    },\n    {\n      filter: ageFilterNames[3].filter,\n      name: ageFilterNames[3].name,\n      isActive: false,\n    },\n  ];\n\n  const activityTypes = useActivityTypes();\n\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupCities } = useContext(PopupsContext);\n\n  const getLocalStorageItem = useLocalStorage(localStUserCity);\n\n  // сохранённый в localStorage город анонимуса\n  const currentAnonymousCity = getLocalStorageItem();\n  const userCity = currentUser?.city || currentAnonymousCity;\n\n  // места из API\n  const [places, setPlaces] = useState(null);\n  const [chosenPlace, setChosenPlace] = useState(null);\n\n  // переход между фильтрами, лоадер\n  const [isLoading, setIsLoading] = useState(false);\n  // переход между городами, лоадер\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  // триггер фильтра для useEffect\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // видна ли главная карточка\n  const [isChosenCardHidden, setIsChosenCardHidden] = useState(false);\n  // стейт для определения первой отрисовки страницы\n  const [isFirstRender, setIsFirstRender] = useState(false);\n  // категории фильтрации\n  const [ages, setAges] = useState(ageFilters); // состояние кнопок фильтра возраста\n  const [categories, setCategories] = useState([]); // состояние кнопок фильтра категорий\n\n  // хэндлер клика по фильтру КАТЕГОРИИ\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // хэндлер клика по фильтру ВОЗРАСТ\n  const changeAge = (inputValue, isChecked) => {\n    handleCheckboxBehavior(setAges, { inputValue, isChecked });\n    setIsFiltersUsed(true);\n  };\n\n  // функция, определяющая теги категорий в зависимости от того, есть ли рубрика \"Выбор наставника\"\n  const defineCategories = (tags, chosenPlaceLast) => {\n    const categoriesArray = tags.map((tag) => ({\n      filter: tag?.slug.toLowerCase(),\n      name: changeCaseOfFirstLetter(tag?.name),\n      isActive: false,\n    }));\n    if (chosenPlaceLast) {\n      return [\n        { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n        { filter: mentorTag, name: mentorTag, isActive: false },\n        ...categoriesArray,\n      ];\n    }\n    return [\n      { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n      ...categoriesArray,\n    ];\n  };\n\n  // функция, определяющая карточки по флагу \"Выбор наставника\"\n  // chosenPlaceLast - самая \"свежая\" карточка \"Выбор наставника\"\n  // restOfPlaces - массив без этой карточки\n  const definePlaces = (placesData) => {\n    const chosenPlaces = placesData.filter((place) => place?.chosen);\n    const chosenPlaceLast = chosenPlaces[chosenPlaces.length - 1];\n    const restOfPlaces = chosenPlaceLast\n      ? placesData.filter((place) => place?.id !== chosenPlaceLast?.id)\n      : placesData;\n    return { chosenPlaceLast, restOfPlaces };\n  };\n\n  // функция-фильтратор\n  const handleFiltration = () => {\n    const activeCategories = categories.filter(\n      (category) => category.isActive && category.filter !== ALL_CATEGORIES\n    );\n\n    const activeTags = activeCategories\n      .filter((tag) => tag.filter !== mentorTag)\n      .map((tag) => tag.filter)\n      .join(',');\n\n    const activeAges = ages\n      .filter((age) => age.isActive)\n      .map((age) => age.filter)\n      .join(',');\n\n    const isMentorFlag = activeCategories.some(\n      (tag) => tag.filter === mentorTag\n    );\n\n    // ВСЕ\n    if (activeCategories.length === 0) {\n      if (activeAges.length === 0) {\n        // + БЕЗ ВОЗРАСТА (по умолчанию)\n        getPlaces({ city: userCity })\n          .then((placesData) => {\n            const { chosenPlaceLast, restOfPlaces } = definePlaces(placesData);\n            setChosenPlace(chosenPlaceLast);\n            setPlaces(restOfPlaces);\n            setIsChosenCardHidden(false);\n          })\n          .catch(console.log)\n          .finally(() => setIsLoading(false));\n      } else {\n        // + ВОЗРАСТ\n        getPlaces({\n          age_restriction: activeAges,\n          city: userCity,\n        })\n          .then((placesData) => {\n            setPlaces(placesData);\n            setIsChosenCardHidden(true);\n          })\n          .catch(console.log)\n          .finally(() => setIsLoading(false));\n      }\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      return;\n    }\n\n    // КАТЕГОРИИ + ВОЗРАСТ (или без него)\n    if (activeCategories.length > 0) {\n      getPlaces({\n        chosen: isMentorFlag,\n        tags: activeTags,\n        age_restriction: activeAges,\n        city: userCity,\n      })\n        .then((placesData) => {\n          setPlaces(placesData);\n          setIsChosenCardHidden(true);\n        })\n        .catch(console.log)\n        .finally(() => setIsLoading(false));\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  // запуск фильтрации\n  useEffect(() => {\n    if (isFiltersUsed) {\n      setIsLoading(true);\n      debounceFiltration();\n    }\n    setIsFiltersUsed(false);\n    setIsFirstRender(false);\n  }, [isFiltersUsed]);\n\n  // Promise.all нужен для формирования тега \"Выбор наставников\" по метке на карточках\n  useEffect(() => {\n    if (userCity) {\n      deselectAllTags(setAges);\n      setIsFirstRender(true);\n      setIsCityChanging(true);\n      Promise.all([getPlaces({ city: userCity }), getPlacesTags()])\n        .then(([placesData, tagsData]) => {\n          const { chosenPlaceLast, restOfPlaces } = definePlaces(placesData);\n          setChosenPlace(chosenPlaceLast);\n          setPlaces(restOfPlaces);\n          setCategories(defineCategories(tagsData, chosenPlaceLast));\n          setIsChosenCardHidden(false);\n        })\n        .catch(console.log)\n        .finally(() => setIsCityChanging(false));\n    }\n  }, [userCity]);\n\n  useEffect(() => {\n    if (!userCity) {\n      setTimeout(() => {\n        openPopupCities();\n      }, DELAY_RENDER);\n    }\n  }, []);\n\n  const renderPlaces = () => {\n    if (places?.length > 0) {\n      return (\n        <>\n          {chosenPlace && !isChosenCardHidden && (\n            <section className=\"places__main fade-in\">\n              <CardPlace\n                key={chosenPlace?.id}\n                data={chosenPlace}\n                activityTypes={activityTypes}\n                sectionClass=\"card-container_type_main-article\"\n                isBig\n              />\n            </section>\n          )}\n\n          <section className=\"places__cards-grid\">\n            {places.map((place, i) => (\n              <CardPlace\n                key={place?.id}\n                data={place}\n                activityTypes={activityTypes}\n                color={COLORS[i % COLORS.length]}\n                sectionClass=\"card-container_type_article fade-in\"\n              />\n            ))}\n          </section>\n        </>\n      );\n    }\n    return (\n      <NoDataNotificationBox\n        text={paragraphNoContent}\n        sectionClass=\"no-data-text_padding-top\"\n      />\n    );\n  };\n\n  const renderAnimatedContainer = () => (\n    <>\n      {!isCityChanging ? (\n        <>\n          <AnimatedPageContainer titleText={textStubNoData} />\n          {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n        </>\n      ) : (\n        <Loader isNested />\n      )}\n    </>\n  );\n\n  const renderPageContent = () => {\n    if (isFirstRender && places?.length === 0) {\n      return renderAnimatedContainer();\n    }\n    return (\n      <>\n        <TitleH1 title={title} sectionClass=\"places__title\" />\n        {!isCityChanging ? (\n          <>\n            <TagsList\n              filterList={categories}\n              name=\"categories\"\n              handleClick={changeCategory}\n            />\n            <TagsList\n              filterList={ages}\n              name=\"ages\"\n              handleClick={changeAge}\n              sectionClass=\"places__tags\"\n            />\n            {currentUser && <PlacesRecommend activityTypes={activityTypes} />}\n\n            {!isLoading ? <>{renderPlaces()}</> : <Loader isNested />}\n          </>\n        ) : (\n          <Loader isNested />\n        )}\n      </>\n    );\n  };\n\n  if (!places) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"places page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Places;\n","const rightsPageTexts = {\n  headTitle: 'Права детей',\n  headDescription: 'Информационные рубрики о правах детей',\n  title: 'Права детей',\n  textStubNoData:\n    'В данный момент страница со статьями о правах детей пуста. Возвращайтесь позже!',\n};\n\nexport default rightsPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение всех \"прав\" на странице Права\nfunction getRightsData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/`, {\n      params: { tags, limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий прав (список фильтров)\nfunction getRightsTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/rights/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getRightsData, getRightsTags };\n","import React from 'react';\nimport './CardRights.scss';\nimport PropTypes from 'prop-types';\nimport { Rubric } from '../../utils/index';\nimport CardFigure from '../CardFigure/CardFigure';\n\nfunction CardRights({ title, tags, shape, color, sectionClass }) {\n  return (\n    <div className={`rights-card ${sectionClass}`}>\n      <a href=\"/\" className=\"rights-card__link\">\n        <CardFigure shape={shape} title={title} color={color}>\n          <div className=\"rights-card__block\">\n            {tags.map((tag) => (\n              <Rubric\n                key={tag.id}\n                sectionClass=\"rights-card__rubric\"\n                title={tag.name}\n              />\n            ))}\n          </div>\n        </CardFigure>\n      </a>\n    </div>\n  );\n}\n\nCardRights.propTypes = {\n  title: PropTypes.string,\n  shape: PropTypes.string,\n  tags: PropTypes.arrayOf(Array),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardRights.defaultProps = {\n  title: '',\n  shape: 'square',\n  tags: [],\n  color: '',\n  sectionClass: '',\n};\n\nexport default CardRights;\n","import React, { useState, useEffect } from 'react';\nimport rightsPageTexts from '../../locales/rights-page-RU';\nimport './Rights.scss';\nimport {\n  ALL_CATEGORIES,\n  FIGURES,\n  COLORS,\n  DELAY_DEBOUNCE,\n} from '../../config/constants';\nimport {\n  renderFilterTags,\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport { getRightsData, getRightsTags } from '../../api/rights-page';\nimport {\n  BasePage,\n  Loader,\n  TitleH1,\n  CardRights,\n  CardsSectionWithLines,\n  AnimatedPageContainer,\n} from './index';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 9,\n  big: 16,\n};\n\nconst Rights = () => {\n  const { headTitle, headDescription, title, textStubNoData } = rightsPageTexts;\n\n  useScrollToTop();\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [articles, setArticles] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // Фильтры страницы\n  const renderTagsContainer = () => {\n    if (articles && !isLoadingPage) {\n      return (\n        <div className=\"tags\">\n          <ul className=\"tags__list\">\n            {renderFilterTags(categories, 'checkbox', changeCategory)}\n          </ul>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  // Карточки с видео страницы\n  const renderCards = () => (\n    <>\n      <CardsSectionWithLines\n        pageCount={pageCount}\n        pageNumber={pageNumber}\n        setPageNumber={setPageNumber}\n        isLoading={isLoadingPaginate}\n        dataLength={articles.length}\n        pageSize={pageSize}\n      >\n        {articles.map((item, i) => (\n          <CardRights\n            key={item?.id}\n            sectionClass=\"cards-section__item\"\n            title={item?.title}\n            tags={item?.tags}\n            shape={FIGURES[i % FIGURES.length]}\n            color={COLORS[i % COLORS.length]}\n          />\n        ))}\n      </CardsSectionWithLines>\n    </>\n  );\n\n  // Контент страницы\n  const renderMainContent = () => {\n    if (!articles && !isLoadingPage) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return isFiltersUsed ? <Loader isNested /> : renderCards();\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getArticlesData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const activeTags = activeCategories || getActiveTags();\n\n    getRightsData({\n      limit: pageSize,\n      offset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => setArticles(results))\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsFiltersUsed(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  // Промис олл для плавного отображения\n  const getFirstPageData = () => {\n    Promise.all([\n      getRightsTags(),\n      getRightsData({\n        limit: pageSize,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        setPageCount(Math.ceil(count / pageSize));\n        setArticles(results);\n\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n      }\n      getArticlesData(activeCategories);\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getArticlesData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (isLoadingPage && pageSize) {\n      getFirstPageData();\n    }\n\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  // Резайз пагинации при первой загрузке\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"rights page__section fade-in\">\n        <TitleH1 title={title} sectionClass=\"rights__title\" />\n        {categories?.length > 1 && renderTagsContainer()}\n        {renderMainContent()}\n      </section>\n    </BasePage>\n  );\n};\n\nexport default Rights;\n","const moviesPageTexts = {\n  headTitle: 'Фильмы',\n  headDescription:\n    'Подборка фильмов, которые можно посмотреть, с аннотацией к ним.',\n  title: 'Фильмы',\n  textStubNoData:\n    'В данный момент страница c фильмами пуста. Возвращайтесь позже!',\n};\n\nexport default moviesPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей фильмы\nfunction getMoviesPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getMoviesPageFilter() {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// фильмы по конкретному тегу\nfunction getActualMoviesPageFilter(movies) {\n  return axios\n    .get(`${baseURL}${apiUrl}/movies/?tags=${movies}`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getMoviesPageData, getMoviesPageFilter, getActualMoviesPageFilter };\n","import './Movies.scss';\nimport { useEffect, useState } from 'react';\nimport moviesPageTexts from '../../locales/movies-page-RU';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport {\n  getMoviesPageData,\n  getMoviesPageFilter,\n  getActualMoviesPageFilter,\n} from '../../api/movies-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardFilm,\n  CardAnnotation,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport Paginate from '../../components/utils/Paginate/Paginate';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { ALL_CATEGORIES, DELAY_DEBOUNCE } from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\n\nfunction Movies() {\n  const { headTitle, headDescription, title, textStubNoData } = moviesPageTexts;\n\n  useScrollToTop();\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingPagination, setIsLoadingPagination] = useState(false);\n  // Стейты с данными Фильмов, Теги\n  const [moviesPageData, setMoviesPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(16);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  useEffect(() => {\n    const offset = pageSize * pageNumber;\n    getMoviesPageData({ limit: pageSize, offset })\n      .then((booksData) => {\n        setMoviesPageData(booksData.results);\n        setPageCount(Math.ceil(booksData.count / pageSize));\n      })\n      .catch((error) => console.log(error));\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    getMoviesPageFilter()\n      .then((tagsFilters) => {\n        const customFilters = tagsFilters.map((tag) => {\n          const filterName = changeCaseOfFirstLetter(tag.name);\n          return {\n            isActive: false,\n            name: filterName,\n            filter: tag.slug,\n          };\n        });\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...customFilters,\n        ]);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    const mobileQuery = window.matchMedia('(max-width: 767px)');\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (mobileQuery.matches) {\n        setPageSize(2);\n      } else if (smallQuery.matches) {\n        setPageSize(4);\n      } else if (largeQuery.matches) {\n        setPageSize(12);\n      } else {\n        setPageSize(16);\n      }\n    };\n    listener();\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    }\n    setIsLoading(true);\n    setIsFiltersUsed(true);\n  };\n\n  const handleFiltration = () => {\n    const activeCategories = categories\n      .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n      .map((filter) => filter.filter);\n    console.log(activeCategories);\n\n    if (activeCategories.length === 0) {\n      const offset = pageSize * pageNumber;\n      getMoviesPageData({ limit: pageSize, offset })\n        .then((moviesData) => {\n          setMoviesPageData(moviesData.results);\n          setPageCount(Math.ceil(moviesData.count / pageSize));\n        })\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      const query = activeCategories.join();\n      getActualMoviesPageFilter(query)\n        .then((filteredBooks) => {\n          setMoviesPageData(filteredBooks);\n          setPageCount(Math.ceil(filteredBooks.length / pageSize));\n        })\n        .catch((error) => console.log(error))\n        .finally(() => {\n          setIsLoading(false);\n          setIsLoadingPagination(false);\n        });\n\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // контейнер с фильмами\n  const renderMoviesContainer = () =>\n    isLoadingPagination ? (\n      <Loader isNested />\n    ) : (\n      <ul className=\"movies__cards cards-grid cards-grid_content_small-cards fade-in\">\n        {moviesPageData.map((movie) => (\n          <li className=\"card-container\" key={movie.id}>\n            <CardFilm\n              data={movie}\n              pageCount={pageCount}\n              pageNumber={pageNumber}\n              setPageNumber={setPageNumber}\n            />\n            <CardAnnotation description={movie.annotation} />\n          </li>\n        ))}\n      </ul>\n    );\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (moviesPageData.length > 0) {\n      return (\n        <>\n          <TitleH1 title={title} sectionClass=\"movies__title\" />\n\n          {/* рендер фильтров */}\n          {categories?.length > 1 && (\n            <TagsList\n              filterList={categories}\n              name=\"tag\"\n              handleClick={changeCategory}\n            />\n          )}\n\n          {/* рендерим фильмы */}\n          {isLoading ? <Loader isNested /> : renderMoviesContainer()}\n\n          {pageCount > 1 && (\n            <Paginate\n              sectionClass=\"cards-section__pagination\"\n              pageCount={pageCount}\n              value={pageNumber}\n              onChange={setPageNumber}\n            />\n          )}\n        </>\n      );\n    }\n    const isDataForPage = moviesPageData.length > 1;\n    if (!isDataForPage) {\n      return renderAnimatedContainer();\n    }\n    return null;\n  };\n\n  // глобальный лоадер\n  if (!moviesPageData || !categories) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"movies page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Movies;\n","const articlesPageTexts = {\n  headTitle: 'Статьи',\n  headDescription: 'Статьи, которые рекомендуют наши наставники.',\n  title: 'Статьи',\n  textStubNoData: 'Информация появится в ближайшее время.',\n};\n\nexport default articlesPageTexts;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import './CardArticle.scss';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport { TitleH2, Card, Caption } from '../../utils/index';\n\nfunction CardArticle({\n  data: { title, info, annotation, image, articleUrl },\n  isMain,\n  color,\n}) {\n  const cardColor = isMain ? 'yellow' : color;\n\n  return (\n    <article\n      className={`card-container ${\n        isMain\n          ? 'card-container_type_main-article'\n          : 'card-container_type_article fade-in'\n      }`}\n    >\n      <Card\n        sectionClass={`article-card ${isMain ? 'article-card_main' : ''}`}\n        color={cardColor}\n      >\n        <div className=\"article-card__title-wrap\">\n          <Link to={articleUrl} className=\"article-card__link-wrap\">\n            <TitleH2 sectionClass=\"article-card__title\" title={title} />\n          </Link>\n          <Caption sectionClass=\"article-card__info\" title={info} />\n        </div>\n\n        {isMain && (\n          <Link\n            to={articleUrl}\n            className=\"article-card__link-wrap article-card__link-wrap_content_article-img\"\n          >\n            <img\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n              className=\"article-card__image\"\n            />\n          </Link>\n        )}\n\n        <a\n          href={articleUrl}\n          className=\"link article-card__link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {texts.linkText}\n        </a>\n      </Card>\n      <CardAnnotation description={annotation} isMain={isMain} />\n    </article>\n  );\n}\n\nCardArticle.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  info: PropTypes.string,\n  image: PropTypes.string,\n  articleUrl: PropTypes.string,\n  annotation: PropTypes.string,\n  color: PropTypes.string,\n  isMain: PropTypes.bool,\n};\n\nCardArticle.defaultProps = {\n  data: {},\n  title: '',\n  info: '',\n  image: '',\n  articleUrl: '',\n  annotation: '',\n  color: 'white',\n  isMain: false,\n};\n\nexport default CardArticle;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getArticlesPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/articles/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getArticlesPageData;\n","import './Articles.scss';\nimport { useEffect, useState } from 'react';\nimport articlesPageTexts from '../../locales/articles-page-RU';\nimport { useScrollToTop } from '../../hooks/index';\nimport { COLORS } from '../../config/constants';\nimport {\n  BasePage,\n  TitleH1,\n  CardArticle,\n  Paginate,\n  AnimatedPageContainer,\n  Loader,\n} from './index';\nimport getArticlesPageData from '../../api/articles-page';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 2,\n  big: 12,\n};\n\nfunction Articles() {\n  const { headTitle, headDescription, title, textStubNoData } =\n    articlesPageTexts;\n  useScrollToTop();\n\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const [articlesPageData, setArticlesPageData] = useState([]);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n\n  function getPageData() {\n    const offset = pageSize * pageNumber;\n    const fixedPageSize = pageNumber === 0 ? pageSize + 1 : pageSize;\n    const fixedOffset = pageNumber > 0 ? offset + 1 : offset;\n\n    getArticlesPageData({ limit: fixedPageSize, offset: fixedOffset })\n      .then(({ results, count }) => {\n        setArticlesPageData(results);\n        setPageCount(Math.ceil(count / pageSize));\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoadingPaginate(false);\n        setIsLoadingPage(false);\n      });\n  }\n\n  useEffect(() => {\n    if (pageSize) {\n      getPageData();\n    }\n\n    if (!isLoadingPage) {\n      setIsLoadingPaginate(true);\n    }\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1024px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  const mainCard = articlesPageData.find((item) => item?.pinnedFullSize);\n  const cardsWithoutMain = articlesPageData.filter(\n    (item) => !item?.pinnedFullSize\n  );\n\n  // отрисовка заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  function renderPagination() {\n    if (pageCount > 1) {\n      return (\n        <Paginate\n          sectionClass=\"cards-section__pagination\"\n          pageCount={pageCount}\n          value={pageNumber}\n          onChange={setPageNumber}\n        />\n      );\n    }\n    return null;\n  }\n\n  function renderCards() {\n    return (\n      <>\n        {mainCard && (\n          <section className=\"articles__main fade-in\">\n            <CardArticle\n              data={mainCard}\n              // никита, 12.07\n              // sectionClass=\"card-container_type_main-article\"\n              isMain\n            />\n          </section>\n        )}\n\n        <section className=\"articles__cards-grid\">\n          {cardsWithoutMain.map((item, i) => (\n            <CardArticle\n              key={item.id}\n              color={COLORS[(i + 1) % COLORS.length]}\n              data={item}\n              // никита, 12.07\n              // sectionClass=\"card-container_type_article fade-in\"\n            />\n          ))}\n        </section>\n      </>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <section className=\"articles page__section fade-in\">\n        <TitleH1 title={title} />\n\n        {isLoadingPaginate ? <Loader isNested /> : renderCards()}\n\n        {renderPagination()}\n      </section>\n    );\n  }\n\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {!articlesPageData && !isLoadingPage\n        ? renderAnimatedContainer()\n        : renderPageContent()}\n    </BasePage>\n  );\n}\n\nexport default Articles;\n","const readAndWatchPageTexts = {\n  headTitle: 'Читать и смотреть',\n  headDescription: 'Превью основных публичных информационных разделов сайта.',\n  pageTitles: {\n    catalogTitle: 'Справочник',\n    articlesTitle: 'Статьи',\n    moviesTitle: 'Фильмы',\n    videosTitle: 'Видео',\n    booksTitle: 'Книги',\n  },\n  paragraphNoContent: 'В данной категории пока ничего нет.',\n};\n\nexport default readAndWatchPageTexts;\n","import './CardBook.scss';\nimport PropTypes from 'prop-types';\nimport { Card, TitleH2 } from '../../utils/index';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\n\nfunction CardBook({\n  data: {\n    title,\n    author,\n    year,\n    type: { color },\n    url,\n    annotation,\n  },\n}) {\n  const backgroundColor = { backgroundColor: color };\n\n  return (\n    <article className=\"card-container\">\n      <Card sectionClass=\"card-book\">\n        <a\n          className=\"card-book__cover\"\n          style={backgroundColor}\n          href={url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <TitleH2 sectionClass=\"card-book__title\" title={title} />\n          <div className=\"card-book__info\">\n            <div className=\"card-book__border\" />\n            <p className=\"caption card-book__text\">{author}</p>\n            <p className=\"caption card-book__text\">{year}</p>\n          </div>\n        </a>\n      </Card>\n      <CardAnnotation description={annotation} />\n    </article>\n  );\n}\nCardBook.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  type: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  author: PropTypes.string,\n  year: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  url: PropTypes.string,\n  annotation: PropTypes.string,\n};\n\nCardBook.defaultProps = {\n  data: {},\n  type: {},\n  title: '',\n  author: '',\n  year: '',\n  url: '',\n  annotation: '',\n};\n\nexport default CardBook;\n","// Страница \"Read and watch\" (RAW)\nexport const RAW_DELAY_SLIDER_TRANSITION = 1250;\nexport const RAW_SLIDER_PADDINGS = [0, 15, 0, 15];\nexport const RAW_SLIDER_BREAKPOINTS = {\n  S: 700,\n  M: 1120,\n  L: 1440,\n  ХL: 1441,\n};\nexport const ELEMS_PER_SLIDE = {\n  one: 1,\n  two: 2,\n  three: 3,\n  four: 4,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Carousel from 'react-elastic-carousel';\nimport {\n  PAGES_TO_LOAD,\n  INDEX_ERROR_FOR_PENULTIMATE_PAGE,\n  INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX,\n} from './constants';\nimport {\n  TitleH3,\n  LinkableHeading,\n  NoDataNotificationBox,\n  Loader,\n} from '../utils/index';\nimport { FIGURES, COLORS } from '../../config/constants';\n\nfunction ReadAndWatchSection({\n  pageSize,\n  getDataFromApi,\n  CardTemplateComponent,\n  path,\n  sectionTitle,\n  breakpoints,\n  elemPaddings,\n  transitionDelay,\n  paragraphNoContentText,\n  sectionClass,\n}) {\n  // console.log('ReadAndWatchSection', sectionTitle);\n  const { S, M, L, XL } = breakpoints;\n  const ref = useRef();\n\n  // индекс страницы\n  const [pageIndex, setPageIndex] = useState(0);\n  // всего возможных страниц при текущем разрешении\n  const [totalPages, setTotalPages] = useState(null);\n  const [sectionData, setSectionData] = useState(null);\n\n  const [isLoading, setIsLoading] = useState(true);\n\n  // console.log(`размер страницы сейчас: ${pageSize}`);\n  // console.log(`я на ${pageIndex} странице из ${totalPages} страниц`);\n\n  const breakPoints = [\n    { width: S, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: M, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: L, itemsToShow: pageSize, itemsToScroll: pageSize },\n    { width: XL, itemsToShow: pageSize, itemsToScroll: pageSize },\n  ];\n\n  function addNewData() {\n    // Логика: при добавлении новых блоков нужно загрузить 3 страницы начиная с последнего имеющегося элемента\n    const offset = sectionData.length;\n    const loadThreePages = pageSize * PAGES_TO_LOAD;\n    return getDataFromApi({ limit: loadThreePages, offset });\n  }\n\n  useEffect(() => {\n    const offset = pageSize * pageIndex;\n    const loadThreePages = pageSize * 3;\n    // console.log(`загрузим данные на ${loadThreePages} элементов`);\n    // console.log('offset', offset);\n    // console.log('pageSize', pageSize);\n\n    getDataFromApi({ limit: loadThreePages, offset })\n      .then(({ results, count }) => {\n        setTotalPages(Math.ceil(count / pageSize));\n        setSectionData(results);\n        setIsLoading(false);\n      })\n      .catch((error) => console.log(error));\n  }, [pageSize]);\n\n  function slideBackHandler() {\n    // console.log('=== slideBackHandler FUNC');\n    setPageIndex((prevIndex) => prevIndex - 1);\n  }\n\n  // если хочешь вставить дебаунс, то придется на событие onchange ориентироваться и добавлять одинаковое поведение везде\n  // либо надо в slideBackHandler и slideNextHandler прогонять через дебаунс\n  function slideNextHandler(currentItem, newPageIndex) {\n    // console.log('=== slideToNextHandler FUNC');\n    // console.log('newPageIndex', newPageIndex);\n    // console.log('totalPages', totalPages);\n\n    const pagesLoadedNow = ref.current.getNumOfPages();\n    // console.log('pagesLoadedNow', pagesLoadedNow);\n    const isPenultimatePage =\n      pagesLoadedNow - INDEX_ERROR_FOR_PENULTIMATE_PAGE === newPageIndex;\n    const isLastPage =\n      pagesLoadedNow - INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX === newPageIndex;\n    // console.log('pageIndex', pageIndex);\n    // console.log('isLastPage', isLastPage);\n\n    const isNoMoreDataToLoad = pagesLoadedNow === totalPages;\n    if (isNoMoreDataToLoad) {\n      // console.log('==Больше загружать нечего!==');\n      return;\n    }\n\n    // значит произошел скрол вперед + это предпоследняя страница\n    if (isPenultimatePage || isLastPage) {\n      // console.log('ЭТО ПРЕДПОСЛЕДНЯЯ ИЛИ ПОСЛЕДНЯЯ СТРАНИЦА');\n\n      addNewData()\n        .then(({ results }) => {\n          // console.log(\n          //   'мы загрузили дополнительные данные и прибавили к текущим'\n          // );\n          setSectionData((previousData) => [...previousData, ...results]);\n          setPageIndex((prevIndex) => prevIndex + 1);\n        })\n        .catch((error) => console.log(error));\n    } else {\n      setPageIndex((prevIndex) => prevIndex + 1);\n    }\n  }\n\n  function renderCardsForSlider() {\n    if (sectionData) {\n      const cardArray = sectionData.map((item, i) => (\n        <CardTemplateComponent\n          key={`${sectionTitle}-${item?.id}`}\n          sectionClass=\"cards-section__item\"\n          // для \"статей\" надо добавлять card-container_type_article\n          // для секции Фильмы, Книги, Видео, Статьи\n          data={item}\n          // для секции Справочник\n          shape={FIGURES[i % FIGURES.length]}\n          // для секции Статьи\n          color={COLORS[(i + 1) % COLORS.length]}\n          {...item}\n        />\n      ));\n\n      return cardArray;\n    }\n    return [];\n  }\n\n  // <NoDataNotificationBox text={paragraphNoContentText} sectionClass=\"no-data-text_padding-both\" />\n  function renderSliderSection() {\n    // console.log('renderSliderSection');\n    if (!isLoading && sectionData && sectionData?.length === 0) {\n      // console.log('renderSliderSection === NoDataNotificationBox');\n      return (\n        <NoDataNotificationBox\n          text={paragraphNoContentText}\n          sectionClass=\"no-data-text_padding-both\"\n        />\n      );\n    }\n\n    // console.log(pageIndex, totalPages, sectionData);\n    if (!isLoading && totalPages && sectionData) {\n      // console.log('renderSliderSection === Carousel');\n      return (\n        <Carousel\n          ref={ref}\n          transitionMs={transitionDelay}\n          pagination={false}\n          outerSpacing={0}\n          itemPadding={elemPaddings}\n          breakPoints={breakPoints}\n          disableArrowsOnEnd\n          showEmptySlots\n          onNextEnd={slideNextHandler}\n          onPrevEnd={slideBackHandler}\n        >\n          {renderCardsForSlider()}\n        </Carousel>\n      );\n    }\n\n    // console.log('NUL-L');\n    return <Loader isNested />;\n  }\n\n  return (\n    <section className=\"readwatch__section\">\n      <div className=\"readwatch__container\">\n        <LinkableHeading\n          title={sectionTitle}\n          path={path}\n          titleSectionClass=\"readwatch__heading\"\n          linkSectionClass=\"readwatch__heading-link\"\n          Component={TitleH3}\n        />\n      </div>\n      <div className={`readwatch__slider-container ${sectionClass}`}>\n        {renderSliderSection()}\n      </div>\n    </section>\n  );\n}\n\nReadAndWatchSection.propTypes = {\n  pageSize: PropTypes.number.isRequired,\n  getDataFromApi: PropTypes.func.isRequired,\n  CardTemplateComponent: PropTypes.func.isRequired,\n  path: PropTypes.string.isRequired,\n  sectionTitle: PropTypes.string.isRequired,\n  breakpoints: PropTypes.objectOf(PropTypes.number).isRequired,\n  elemPaddings: PropTypes.arrayOf(PropTypes.number).isRequired,\n  transitionDelay: PropTypes.number.isRequired,\n  paragraphNoContentText: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nReadAndWatchSection.defaultProps = {\n  sectionClass: '',\n};\n\nexport default ReadAndWatchSection;\n","export const PAGES_TO_LOAD = 3;\nexport const INDEX_ERROR_FOR_PENULTIMATE_PAGE = 2;\nexport const INDEX_ERROR_BETWEEN_NUMBER_AND_INDEX = 1;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение/фильтрация видео на странице \"Видео\"\nfunction getVideoPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/`, {\n      params: { limit, offset, tags },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий видео (список фильтров)\nfunction getVideoPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getVideoPageTags, getVideoPageData };\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// работа со страницей книги\nfunction getBooksPageData({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// все активные теги (фильтры)\nfunction getActiveBooksTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/types/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// фильмы по конкретному тегу\nfunction getActualBooksForFilter(books) {\n  return axios\n    .get(`${baseURL}${apiUrl}/books/?types=${books}`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getBooksPageData, getActiveBooksTags, getActualBooksForFilter };\n","import { useState, useEffect } from 'react';\nimport './ReadAndWatch.scss';\nimport readAndWatchPageTexts from '../../locales/read-and-watch-page-RU';\nimport {\n  BasePage,\n  CardCatalog,\n  CardArticle,\n  CardFilm,\n  CardBook,\n} from './index';\nimport {\n  CATALOG_URL,\n  ARTICLES_URL,\n  MOVIES_URL,\n  VIDEO_URL,\n  BOOKS_URL,\n} from '../../config/routes';\nimport {\n  RAW_DELAY_SLIDER_TRANSITION,\n  RAW_SLIDER_PADDINGS,\n  RAW_SLIDER_BREAKPOINTS,\n  ELEMS_PER_SLIDE,\n} from './constants';\nimport ReadAndWatchSection from '../../components/ReadAndWatchSection/ReadAndWatchSection';\n// АПИ\nimport getCatalogPageDatа from '../../api/catalog-page';\nimport { getVideoPageData } from '../../api/videos-page';\nimport getArticlesPageData from '../../api/articles-page';\nimport { getMoviesPageData } from '../../api/movies-page';\nimport { getBooksPageData } from '../../api/books-page';\n\n// константы страницы\nconst { headTitle, headDescription, pageTitles, paragraphNoContent } =\n  readAndWatchPageTexts;\nconst { catalogTitle, articlesTitle, moviesTitle, videosTitle, booksTitle } =\n  pageTitles;\nconst { S, M, L } = RAW_SLIDER_BREAKPOINTS;\nconst { one, two, three, four } = ELEMS_PER_SLIDE;\n\nfunction ReadAndWatch() {\n  // определяет сколько объектов показывать в ряду\n  const [pageSize, setPageSize] = useState(null);\n  // console.log('ReadAndWatch');\n\n  useEffect(() => {\n    // 1 элемент в ряду\n    const querySizeS = window.matchMedia(`(max-width: ${S}px)`);\n    // 2 элемента в ряду\n    const querySizeM = window.matchMedia(`(max-width: ${M}px)`);\n    // 3 элемента в ряду\n    const querySizeL = window.matchMedia(`(max-width: ${L}px)`);\n    // больше 1440px будет 4 элемента в ряду\n\n    const listener = () => {\n      if (querySizeS.matches) {\n        setPageSize(one);\n      } else if (querySizeM.matches) {\n        setPageSize(two);\n      } else if (querySizeL.matches) {\n        setPageSize(three);\n      } else {\n        setPageSize(four);\n      }\n    };\n    listener();\n\n    querySizeS.addEventListener('change', listener);\n    querySizeM.addEventListener('change', listener);\n    querySizeL.addEventListener('change', listener);\n    return () => {\n      querySizeS.removeEventListener('change', listener);\n      querySizeM.removeEventListener('change', listener);\n      querySizeL.removeEventListener('change', listener);\n    };\n  }, []);\n\n  function renderUniqueSliderSections() {\n    return (\n      <>\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getCatalogPageDatа}\n          CardTemplateComponent={CardCatalog}\n          path={CATALOG_URL}\n          sectionTitle={catalogTitle}\n          sectionClass=\"readwatch__slider-container_el_catalog\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getVideoPageData}\n          CardTemplateComponent={CardFilm}\n          path={VIDEO_URL}\n          sectionTitle={videosTitle}\n          sectionClass=\"readwatch__slider-container_el_video\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getArticlesPageData}\n          CardTemplateComponent={CardArticle}\n          path={ARTICLES_URL}\n          sectionTitle={articlesTitle}\n          sectionClass=\"readwatch__slider-container_el_articles\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getMoviesPageData}\n          CardTemplateComponent={CardFilm}\n          path={MOVIES_URL}\n          sectionTitle={moviesTitle}\n          sectionClass=\"readwatch__slider-container_el_movies\"\n        />\n        <ReadAndWatchSection\n          breakpoints={RAW_SLIDER_BREAKPOINTS}\n          elemPaddings={RAW_SLIDER_PADDINGS}\n          transitionDelay={RAW_DELAY_SLIDER_TRANSITION}\n          paragraphNoContentText={paragraphNoContent}\n          pageSize={pageSize}\n          getDataFromApi={getBooksPageData}\n          CardTemplateComponent={CardBook}\n          path={BOOKS_URL}\n          sectionTitle={booksTitle}\n          sectionClass=\"readwatch__slider-container_el_books\"\n        />\n      </>\n    );\n  }\n\n  // useEffect(() => {\n  //   renderUniqueSliderSections();\n  // }, []);\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"readwatch-page page__section fade-in\">\n        {pageSize && renderUniqueSliderSections()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default ReadAndWatch;\n","const videoPageTexts = {\n  headTitle: 'Видео',\n  headDescription: 'Страница с видео контентом',\n  title: 'Видео',\n  textStubNoData:\n    'В данный момент страница с видео пуста. Возвращайтесь позже!',\n};\n\nexport default videoPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получение/фильтрация видео на странице \"Видео\"\nfunction getVideoPageData({ limit, offset, tags }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/`, {\n      params: { limit, offset, tags },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение категорий видео (список фильтров)\nfunction getVideoPageTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/videos/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport { getVideoPageTags, getVideoPageData };\n","import React, { useEffect, useState, useContext } from 'react';\nimport './Video.scss';\nimport videoPageTexts from '../../locales/video-page-RU';\nimport {\n  BasePage,\n  Loader,\n  TitleH1,\n  Paginate,\n  CardVideoMain,\n  CardFilm,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport {\n  ALL_CATEGORIES,\n  DELAY_DEBOUNCE,\n  localStChosenVideo,\n} from '../../config/constants';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\nimport { getVideoPageTags, getVideoPageData } from '../../api/video-page';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { getLocalStorageData } from '../../hooks/useLocalStorage';\nimport { PopupsContext } from '../../contexts/index';\n\nconst PAGE_SIZE_PAGINATE = {\n  small: 4,\n  medium: 12,\n  big: 16,\n};\n\nconst Video = () => {\n  useScrollToTop();\n  const { openPopupVideo } = useContext(PopupsContext);\n  const chosenVideoOnRedirectFromMainPage =\n    getLocalStorageData(localStChosenVideo);\n\n  const { headTitle, headDescription, title, textStubNoData } = videoPageTexts;\n\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  // Стейты с данными\n  const [mainVideo, setMainVideo] = useState({});\n  const [video, setVideo] = useState(null);\n  const [categories, setCategories] = useState(null);\n\n  // const [selectedVideo, setSelectedVideo] = useState({});\n\n  // Стейты состояний\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  const [isLoadingPaginate, setIsLoadingPaginate] = useState(false);\n  const [isShowMainCard, setIsShowMainCard] = useState(true);\n\n  // При клике на карточку открываем попап\n  // записываем ДАТУ в стейт, а стейт пробрасываем в попап\n  // const handleVideoClick = (data) => {\n  //   setIsVideoPopupOpen(true);\n\n  //   setSelectedVideo({\n  //     ...data,\n  //   });\n  // };\n\n  // Закрытие попапа\n  // const closeAllPopups = () => {\n  //   setIsVideoPopupOpen(false);\n  // };\n\n  // Функция состояний чекбоксов фильтра\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(true);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n      setIsShowMainCard(false);\n    }\n    setIsFiltersUsed(true);\n  };\n\n  // ---!!!! Наверное стоит вынести это куда то раз повторяется на разных страницах?\n  const getMainCard = (arr) => arr.find((item) => item?.pinnedFullSize);\n  const getCardsWithoutMain = (arr) =>\n    arr.filter((item) => !item?.pinnedFullSize);\n\n  // Фильтры страницы\n  const renderTagsContainer = () => (\n    <TagsList\n      filterList={categories}\n      name=\"video\"\n      handleClick={changeCategory}\n    />\n  );\n\n  // Карточки с видео страницы\n  // const renderCards = () => (\n  //   <>\n  //     {video.map((item) => {\n  //       const { hours, minutes, seconds } = formatDuration(item.duration);\n\n  //       return (\n  //         <CardFilm key={item.id} data={item} onClick={handleVideoClick}>\n  //           {hours > 0 ? (\n  //             <p className=\"card-film__duration paragraph\">{`${hours}:${minutes}:${seconds}`}</p>\n  //           ) : (\n  //             <p className=\"card-film__duration paragraph\">{`${minutes}:${seconds}`}</p>\n  //           )}\n  //         </CardFilm>\n  //       );\n  //     })}\n  //   </>\n  // );\n\n  // Загрузка карточек при нажатии на пагинацию\n  const loadingContentPagination = () =>\n    isLoadingPaginate ? (\n      <Loader isNested />\n    ) : (\n      <>\n        {mainVideo && isShowMainCard && (\n          <section className=\"video__main-card page__section\">\n            <CardVideoMain data={mainVideo} />\n          </section>\n        )}\n\n        <section className=\"video__cards cards-grid cards-grid_content_small-cards page__section\">\n          {video.map((item) => (\n            <CardFilm key={item?.id} data={item} />\n          ))}\n        </section>\n      </>\n    );\n\n  // Контент страницы\n  const renderMainContent = () => {\n    if (!video && !mainVideo && !isLoadingPage) {\n      return <AnimatedPageContainer titleText={textStubNoData} />;\n    }\n\n    return (\n      <>\n        {isFiltersUsed ? (\n          <Loader isNested />\n        ) : (\n          <>\n            {loadingContentPagination()}\n\n            {pageCount > 1 && (\n              <section className=\"video__cards-paginate\">\n                <Paginate\n                  sectionClass=\"cards-section__pagination \"\n                  pageCount={pageCount}\n                  value={pageNumber}\n                  onChange={setPageNumber}\n                />\n              </section>\n            )}\n          </>\n        )}\n      </>\n    );\n  };\n\n  // Сортировка значений Тэгов для АПИ\n  const getActiveTags = () => {\n    if (categories) {\n      return categories\n        .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n        .map((filter) => filter.filter)\n        .join(',');\n    }\n    return null;\n  };\n\n  // Функция обработки запроса АПИ с карточками\n  const getVideoData = (activeCategories) => {\n    const offset = isFiltersUsed ? 0 : pageSize * pageNumber;\n    const fixedPageSize =\n      pageNumber === 0 && isShowMainCard ? pageSize + 1 : pageSize;\n    const fixedOffset = pageNumber && isShowMainCard > 0 ? offset + 1 : offset;\n    const activeTags = activeCategories || getActiveTags();\n\n    getVideoPageData({\n      limit: fixedPageSize,\n      offset: fixedOffset,\n      tags: activeTags,\n    })\n      .then(({ results, count }) => {\n        setPageCount(Math.ceil(count / pageSize));\n        return results;\n      })\n      .then((results) => {\n        setMainVideo(getMainCard(results));\n\n        if (isShowMainCard) {\n          setVideo(getCardsWithoutMain(results));\n        } else {\n          setVideo(results);\n        }\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsFiltersUsed(false);\n        setIsLoadingPaginate(false);\n      });\n  };\n\n  // Функция обработки запросов АПИ для первой загрузки страницы\n  const getFirstPageData = () => {\n    Promise.all([\n      getVideoPageTags(),\n      getVideoPageData({\n        limit: pageSize + 1,\n      }),\n    ])\n      .then(([tags, { results, count }]) => {\n        setPageCount(Math.ceil(count / pageSize));\n\n        setMainVideo(getMainCard(results));\n        setVideo(getCardsWithoutMain(results));\n\n        const categoriesArr = tags.map((tag) => ({\n          filter: tag?.slug.toLowerCase(),\n          name: changeCaseOfFirstLetter(tag?.name),\n          isActive: false,\n        }));\n\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...categoriesArr,\n        ]);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoadingPage(false);\n      });\n  };\n\n  // Функция-фильтратор с использованием АПИ\n  const handleFiltration = () => {\n    if (categories && isFiltersUsed) {\n      const activeCategories = getActiveTags();\n\n      if (activeCategories.length === 0) {\n        selectOneTag(setCategories, ALL_CATEGORIES);\n        getVideoData(activeCategories);\n      }\n\n      getVideoData(activeCategories);\n    }\n  };\n\n  // Дэлеи для динамических запросов\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  const debouncePaginate = useDebounce(getVideoData, DELAY_DEBOUNCE);\n  // Динамические фильтры\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n  }, [isFiltersUsed]);\n\n  // Загрузка страницы, динамическая пагинация, динамический ресайз\n  useEffect(() => {\n    if (isLoadingPage && pageSize) {\n      getFirstPageData();\n    }\n\n    if (!isLoadingPage && !isFiltersUsed) {\n      setIsLoadingPaginate(true);\n      debouncePaginate();\n    }\n  }, [pageSize, pageNumber]);\n\n  // Резайз пагинации\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1023px)');\n    const largeQuery = window.matchMedia('(max-width: 1439px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.small);\n      } else if (largeQuery.matches) {\n        setPageSize(PAGE_SIZE_PAGINATE.medium);\n      } else {\n        setPageSize(PAGE_SIZE_PAGINATE.big);\n      }\n    };\n    listener();\n\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  // Лоадер при загрузке страницы\n  if (isLoadingPage) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"lead page__section\">\n        <TitleH1 title={title} sectionClass=\"video__title\" />\n        {categories?.length > 1 && !isLoadingPage && renderTagsContainer()}\n      </section>\n      {/* Открытие попапа Видео при переходе с Главной страницы */}\n      {chosenVideoOnRedirectFromMainPage && openPopupVideo()}\n\n      {renderMainContent()}\n    </BasePage>\n  );\n};\n\nexport default Video;\n","const booksPageTexts = {\n  headTitle: 'Книги',\n  headDescription: 'Подборка книг, которые можно почитать, с аннотацией к ним.',\n  title: 'Книги',\n  textStubNoData:\n    'В данный момент страница с книгами пуста. Возвращайтесь позже!',\n};\n\nexport default booksPageTexts;\n","import './Books.scss';\nimport { useEffect, useState } from 'react';\nimport booksPageTexts from '../../locales/books-page-RU';\nimport { useScrollToTop, useDebounce } from '../../hooks/index';\nimport {\n  getBooksPageData,\n  getActiveBooksTags,\n  getActualBooksForFilter,\n} from '../../api/books-page';\nimport {\n  BasePage,\n  TitleH1,\n  CardBook,\n  Loader,\n  AnimatedPageContainer,\n  TagsList,\n} from './index';\nimport Paginate from '../../components/utils/Paginate/Paginate';\nimport { changeCaseOfFirstLetter } from '../../utils/utils';\nimport { ALL_CATEGORIES, DELAY_DEBOUNCE } from '../../config/constants';\nimport {\n  handleCheckboxBehavior,\n  selectOneTag,\n  deselectOneTag,\n} from '../../utils/filter-tags';\n\nfunction Books() {\n  const { headTitle, headDescription, title, textStubNoData } = booksPageTexts;\n\n  useScrollToTop();\n\n  // Загрузка данных\n  const [isLoading, setIsLoading] = useState(false);\n  // Стейты с данными Книг, Теги\n  const [booksPageData, setBooksPageData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  // флаг применения фильтров\n  const [isFiltersUsed, setIsFiltersUsed] = useState(false);\n  // Стейты для пагинации\n  const [pageSize, setPageSize] = useState(16);\n  const [pageCount, setPageCount] = useState(0);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  useEffect(() => {\n    const offset = pageSize * pageNumber;\n    getBooksPageData({ limit: pageSize, offset })\n      .then((booksData) => {\n        setBooksPageData(booksData.results);\n        setPageCount(Math.ceil(booksData.count / pageSize));\n      })\n      .catch((error) => console.log(error));\n  }, [pageSize, pageNumber]);\n\n  useEffect(() => {\n    getActiveBooksTags()\n      .then((tagsFilters) => {\n        const customFilters = tagsFilters.map((tag) => {\n          const filterName = changeCaseOfFirstLetter(tag.name);\n          return {\n            isActive: false,\n            name: filterName,\n            filter: tag.slug,\n          };\n        });\n        setCategories([\n          { filter: ALL_CATEGORIES, name: ALL_CATEGORIES, isActive: true },\n          ...customFilters,\n        ]);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  useEffect(() => {\n    const smallQuery = window.matchMedia('(max-width: 1399px)');\n    const largeQuery = window.matchMedia('(max-width: 1640px)');\n\n    const listener = () => {\n      if (smallQuery.matches) {\n        setPageSize(2);\n      } else if (largeQuery.matches) {\n        setPageSize(12);\n      } else {\n        setPageSize(16);\n      }\n    };\n    listener();\n    smallQuery.addEventListener('change', listener);\n    largeQuery.addEventListener('change', listener);\n\n    return () => {\n      smallQuery.removeEventListener('change', listener);\n      largeQuery.removeEventListener('change', listener);\n    };\n  }, []);\n\n  const changeCategory = (inputValue, isChecked) => {\n    if (inputValue === ALL_CATEGORIES) {\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      handleCheckboxBehavior(setCategories, { inputValue, isChecked });\n    }\n    setIsLoading(true);\n    setIsFiltersUsed(true);\n  };\n\n  const handleFiltration = () => {\n    const activeCategories = categories\n      .filter((filter) => filter.isActive && filter.filter !== ALL_CATEGORIES)\n      .map((filter) => filter.filter);\n    console.log(activeCategories);\n\n    if (activeCategories.length === 0) {\n      const offset = pageSize * pageNumber;\n      getBooksPageData({ limit: pageSize, offset })\n        .then((booksData) => {\n          setBooksPageData(booksData.results);\n          setPageCount(Math.ceil(booksData.count / pageSize));\n        })\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n\n      selectOneTag(setCategories, ALL_CATEGORIES);\n    } else {\n      const query = activeCategories.join();\n      getActualBooksForFilter(query)\n        .then((filteredBooks) => {\n          setBooksPageData(filteredBooks);\n          setPageCount(Math.ceil(filteredBooks.length / pageSize));\n        })\n        .catch((error) => console.log(error))\n        .finally(() => setIsLoading(false));\n\n      deselectOneTag(setCategories, ALL_CATEGORIES);\n    }\n  };\n\n  const debounceFiltration = useDebounce(handleFiltration, DELAY_DEBOUNCE);\n  useEffect(() => {\n    if (isFiltersUsed) {\n      debounceFiltration();\n    }\n    setIsFiltersUsed(false);\n  }, [isFiltersUsed]);\n\n  // контейнер заглушки\n  function renderAnimatedContainer() {\n    return <AnimatedPageContainer titleText={textStubNoData} />;\n  }\n\n  // контейнер с книгами\n  const renderBooksContainer = () => (\n    <ul className=\"books__cards cards-grid cards-grid_content_small-cards fade-in\">\n      {booksPageData.map((books) => (\n        <CardBook\n          key={books.id}\n          data={books}\n          pageCount={pageCount}\n          pageNumber={pageNumber}\n          setPageNumber={setPageNumber}\n        />\n      ))}\n    </ul>\n  );\n\n  // главная функция рендеринга\n  const renderPageContent = () => {\n    if (booksPageData.length > 0) {\n      return (\n        <>\n          <TitleH1 title={title} sectionClass=\"books__title\" />\n\n          {/* рендер фильтров */}\n          {categories?.length > 1 && (\n            <TagsList\n              filterList={categories}\n              name=\"tag\"\n              handleClick={changeCategory}\n            />\n          )}\n\n          {/* рендерим книги */}\n          {isLoading ? <Loader isNested /> : renderBooksContainer()}\n\n          {pageCount > 1 && (\n            <Paginate\n              sectionClass=\"cards-section__pagination\"\n              pageCount={pageCount}\n              value={pageNumber}\n              onChange={setPageNumber}\n            />\n          )}\n        </>\n      );\n    }\n    const isDataForPage = booksPageData.length > 1;\n    if (!isDataForPage) {\n      return renderAnimatedContainer();\n    }\n\n    return null;\n  };\n\n  // глобальный лоадер\n  if (!booksPageData || !categories) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      <section className=\"books page__section fade-in\">\n        {renderPageContent()}\n      </section>\n    </BasePage>\n  );\n}\n\nexport default Books;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/index';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() => (currentUser ? <Component {...props} /> : <Redirect to=\"/\" />)}\n    </Route>\n  );\n}\n\nProtectedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n};\n\nexport default ProtectedRoute;\n","import { Route, Switch } from 'react-router-dom';\nimport {\n  AboutUs,\n  Profile,\n  Calendar,\n  MainPage,\n  PageNotFound,\n  Catalog,\n  Questions,\n  Places,\n  Rights,\n  Movies,\n  ReadAndWatch,\n  Video,\n  Articles,\n  Books,\n} from '../pages/index';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport {\n  MAIN_PAGE_URL,\n  ABOUT_US_URL,\n  AFISHA_URL,\n  QUESTIONS_URL,\n  PLACES_URL,\n  RIGHTS_URL,\n  MOVIES_URL,\n  READ_AND_WATCH_URL,\n  CATALOG_URL,\n  PROFILE_URL,\n  VIDEO_URL,\n  ARTICLES_URL,\n  BOOKS_URL,\n} from '../config/routes';\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route exact path={MAIN_PAGE_URL}>\n        <MainPage />\n      </Route>\n\n      <Route exact path={ABOUT_US_URL}>\n        <AboutUs />\n      </Route>\n\n      <Route exact path={AFISHA_URL}>\n        <Calendar />\n      </Route>\n\n      <Route exact path={QUESTIONS_URL}>\n        <Questions />\n      </Route>\n\n      <ProtectedRoute exact path={PROFILE_URL} component={Profile} />\n\n      <Route exact path={PLACES_URL}>\n        <Places />\n      </Route>\n\n      <Route exact path={RIGHTS_URL}>\n        <Rights />\n      </Route>\n\n      <Route exact path={MOVIES_URL}>\n        <Movies />\n      </Route>\n\n      <Route exact path={READ_AND_WATCH_URL}>\n        <ReadAndWatch />\n      </Route>\n\n      <Route exact path={CATALOG_URL}>\n        <Catalog />\n      </Route>\n\n      <Route exact path={VIDEO_URL}>\n        <Video />\n      </Route>\n\n      <Route exact path={BOOKS_URL}>\n        <Books />\n      </Route>\n      <Route exact path={ARTICLES_URL}>\n        <Articles />\n      </Route>\n\n      <Route path=\"*\">\n        <PageNotFound />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default Router;\n","const texts = {\n  title: 'Подтвердить запись на мероприятие',\n  submitButtonText: 'Подтвердить запись',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","import './PopupConfirmation.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks/index';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils/index';\n\nfunction PopupConfirmation({ isOpen, onClose }) {\n  const { registerOnEvent } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    registerOnEvent(card);\n  };\n\n  return (\n    <Popup\n      type=\"confirmation\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <p className=\"section-title popup__title_type_calendar\">\n          {texts.title}\n        </p>\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`«${card?.title}»`}\n        />\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`${startDay?.day} ${startDay?.monthName} с ${startDay?.hour}:${startDay?.minutes} - ${endDay?.hour}:${endDay?.minutes}`}\n        />\n        <div className=\"popup__buttons_type_calendar\">\n          <Button\n            color=\"blue\"\n            title={texts.submitButtonText}\n            sectionClass=\"popup__button_type_calendar\"\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupConfirmation.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupConfirmation.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupConfirmation;\n","const texts = {\n  popupTitle: 'Вы записаны на мероприятие',\n  paragraph: 'Если у вас не получится прийти — отмените, пожалуйста, запись.',\n  buttonText: 'Вернуться к календарю',\n};\n\nexport default texts;\n","import { useRef, useEffect } from 'react';\nimport './PopupSuccessfully.scss';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\nimport texts from './locales/RU';\nimport { formatDate } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Button } from '../../utils/index';\n\nfunction PopupSuccessfully({ isOpen, onClose }) {\n  const card = getLocalStorageData(localStAfishaEvent);\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"successfully\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-success\" />\n      <p className=\"section-title popup__title_type_calendar\">\n        {texts.popupTitle}\n      </p>\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`«${card?.title}»`}\n      />\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`${startDay?.day} ${startDay?.monthName} с ${startDay?.hour}:${startDay?.minutes} - ${endDay?.hour}:${endDay?.minutes}`}\n      />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_successfully\">\n        {texts.paragraph}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupSuccessfully.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupSuccessfully.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupSuccessfully;\n","const texts = {\n  title:\n    'Спасибо, мы проверим информацию, и скоро все пользователи смогут увидеть вашу рекомендацию',\n  buttonText: 'Вернуться к рекомендациям',\n};\n\nexport default texts;\n","import './PopupRecommendSuccess.scss';\nimport { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport texts from './locales/RU';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils/index';\n\nfunction PopupRecommendSuccess({ isOpen, onClose }) {\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"recommend-success\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.title}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupRecommendSuccess.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupRecommendSuccess.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupRecommendSuccess;\n","const texts = {\n  title: 'Вход',\n  firstParagraph:\n    'Вход в личный кабинет доступен наставникам программы «Старшие Братья Старшие Сёстры».',\n  secondParagraph:\n    'Пожалуйста, введите логин и пароль из письма. Если вам не приходило письмо, свяжитесь с вашим куратором.',\n  loginPlaceholder: 'Логин',\n  passwordPlaceholder: 'Пароль',\n  forgotButtonText: 'Забыли пароль?',\n  submitButtonText: 'Войти',\n};\n\nexport default texts;\n","import './PopupLogin.scss';\nimport { useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport texts from './locales/RU';\nimport { CurrentUserContext, ErrorsContext } from '../../../contexts/index';\nimport { useAuth, useFormWithValidation } from '../../../hooks/index';\nimport { AFISHA_URL } from '../../../config/routes';\nimport Popup from '../Popup/Popup';\nimport { Input, Button, TitleH2 } from '../../utils/index';\n\nfunction PopupLogin({ isOpen, onClose }) {\n  const { updateUser } = useContext(CurrentUserContext);\n  const { serverError, clearError } = useContext(ErrorsContext);\n\n  const errorsString = serverError\n    ? Object.values(serverError)\n        .map((err) => err)\n        .join(' ')\n        .trim()\n    : '';\n\n  const { handleLogin } = useAuth(updateUser);\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(values);\n  }\n\n  //! аварийный перевод на главную, если не хочешь логиниться\n  const history = useHistory();\n  const { pathname } = useLocation();\n  function closePopup() {\n    if (pathname === AFISHA_URL) {\n      history.push('/');\n    }\n    onClose();\n  }\n\n  useEffect(() => {\n    resetForm();\n    clearError();\n  }, [isOpen]);\n\n  return (\n    <Popup\n      type=\"sign-in\"\n      typeContainer=\"sign-in\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      <form\n        className=\"popup__form\"\n        onSubmit={(evt) => handleSubmit(evt)}\n        noValidate\n      >\n        <TitleH2 sectionClass=\"popup__title_type_sign-in\" title={texts.title} />\n        <p className=\"paragraph popup__sign-in\">{texts.firstParagraph}</p>\n        <p className=\"paragraph popup__sign-in\">{texts.secondParagraph}</p>\n\n        <Input\n          id=\"loginUsernameInput\"\n          sectionClass=\"popup__input\"\n          type=\"text\"\n          name=\"username\"\n          placeholder={texts.loginPlaceholder}\n          onChange={handleChange}\n          value={values?.username}\n          error={errors?.username}\n          minLength=\"2\"\n          required\n        />\n\n        <Input\n          id=\"loginPasswordInput\"\n          sectionClass=\"popup__input\"\n          type=\"password\"\n          name=\"password\"\n          placeholder={texts.passwordPlaceholder}\n          onChange={handleChange}\n          value={values?.password}\n          error={errors?.password}\n          minLength=\"8\"\n          required\n        />\n\n        <a href=\"/\" className=\"popup__forgot-password\">\n          {texts.forgotButtonText}\n        </a>\n        <span className=\"form-error-message\">{errorsString}</span>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title={texts.submitButtonText}\n          isDisabled={!isValid}\n          isSubmittable\n        />\n      </form>\n    </Popup>\n  );\n}\n\nPopupLogin.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default PopupLogin;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport texts from './locales/RU';\nimport {\n  formatDate,\n  formatWordCase,\n  changeCaseOfFirstLetter,\n} from '../../../utils/utils';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils/index';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks/index';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction PopupAboutEvent({ isOpen, onClose }) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n  } = texts;\n\n  const { handleEventBooking } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDateParts = formatDate(card?.startAt);\n  const endDayParts = formatDate(card?.endAt);\n  const isDisabled = card?.remainSeats < 1;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleEventBooking(card);\n  }\n\n  return (\n    <Popup\n      type=\"about-event\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      {card && (\n        <form className=\"popup__form\" onSubmit={handleSubmit}>\n          <div className=\"calendar__caption\">\n            <div className=\"calendar__info\">\n              <p className=\"calendar__type\">\n                {changeCaseOfFirstLetter(card?.tags?.name)}\n              </p>\n              <p className=\"calendar__weekday\">\n                {`${startDateParts?.monthName} / ${startDateParts?.weekdayName}`}\n              </p>\n            </div>\n            <div className=\"calendar__about calendar__about_modal\">\n              <TitleH2\n                title={card?.title}\n                sectionClass=\"calendar__title calendar__title_type_popup\"\n              />\n              <p className=\"calendar__date\">{startDateParts?.day}</p>\n            </div>\n          </div>\n          <div className=\"calendar__meetup\">\n            <ul className=\"calendar__info-list\">\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__time\">\n                  {`${startDateParts?.hour}:${startDateParts?.minutes} - ${endDayParts?.hour}:${endDayParts?.minutes}`}\n                </p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__place\">{card?.address}</p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__contact\">{card?.contact}</p>\n              </li>\n            </ul>\n            <div className=\"calendar__description\">\n              <Scrollbars\n                renderThumbVertical={() => <div className=\"calendar__thumb\" />}\n              >\n                <p className=\"paragraph calendar__desc-paragraph\">\n                  {card?.description}\n                </p>\n              </Scrollbars>\n            </div>\n\n            <div className=\"calendar__submit\">\n              <Button\n                color=\"blue\"\n                title={buttonTitle}\n                titleSelected={buttonTitleSelected}\n                sectionClass=\"button_action_confirm\"\n                isSubmittable\n                isBooked={card?.booked}\n                isDisabled={isDisabled}\n              />\n              <p className=\"calendar__place-left\">\n                {/* если запись закрыта, то карточка не должна быть выделенной */}\n                {(isDisabled && buttonTitleDisabled) ||\n                  (!card?.booked &&\n                    `${remainSeatsText} ${card?.remainSeats} ${formatWordCase(\n                      card?.remainSeats\n                    )}`)}\n              </p>\n            </div>\n          </div>\n        </form>\n      )}\n    </Popup>\n  );\n}\n\nPopupAboutEvent.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupAboutEvent.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupAboutEvent;\n","const texts = {\n  title: 'Выберите ваш город',\n};\n\nexport default texts;\n","import './PopupCities.scss';\nimport { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { CurrentUserContext, CitiesContext } from '../../../contexts/index';\nimport { updateUserProfile } from '../../../api/user';\nimport { localStUserCity, DELAY_DEBOUNCE } from '../../../config/constants';\nimport { dispatchLocalStorageEvent } from '../../../hooks/useLocalStorage';\nimport { useDebounce } from '../../../hooks/index';\nimport Popup from '../Popup/Popup';\nimport { TitleH2 } from '../../utils/index';\n\nfunction PopupCities({ isOpen, onClose }) {\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const cities = useContext(CitiesContext);\n\n  function submitCity(evt) {\n    const cityId = parseInt(evt.target.value, 10);\n    if (currentUser) {\n      updateUserProfile({ city: cityId })\n        .then((res) => {\n          updateUser(res);\n          onClose();\n        })\n        .catch(console.log);\n    } else {\n      dispatchLocalStorageEvent(localStUserCity, cityId);\n      onClose();\n    }\n  }\n\n  const debounceSubmitCity = useDebounce(submitCity, DELAY_DEBOUNCE);\n\n  return (\n    cities && (\n      <Popup\n        type=\"cities\"\n        typeContainer=\"cities\"\n        isOpen={isOpen}\n        onClose={onClose}\n        withoutCloseButton\n      >\n        <div className=\"popup__form\">\n          <TitleH2 title={texts.title} sectionClass=\"cities__title\" />\n          <div className=\"cities__container\">\n            <ul className=\"cities__list cities__list_type_primary\">\n              {cities &&\n                cities\n                  .filter((item) => item?.isPrimary === true)\n                  .map((item) => (\n                    <li className=\"cities__list-item\" key={item?.id}>\n                      <button\n                        className=\"cities__city\"\n                        type=\"button\"\n                        value={item?.id}\n                        onClick={(evt) => debounceSubmitCity(evt)}\n                      >\n                        {item?.name}\n                      </button>\n                    </li>\n                  ))}\n            </ul>\n            <ul className=\"cities__list\">\n              {cities &&\n                cities\n                  .filter((item) => item?.isPrimary !== true)\n                  .map((item) => (\n                    <li className=\"cities__list-item\" key={item?.id}>\n                      <button\n                        className=\"cities__city\"\n                        type=\"button\"\n                        value={item?.id}\n                        onClick={(evt) => debounceSubmitCity(evt)}\n                      >\n                        {item?.name}\n                      </button>\n                    </li>\n                  ))}\n            </ul>\n          </div>\n        </div>\n      </Popup>\n    )\n  );\n}\n\nPopupCities.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupCities.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupCities;\n","import './PopupError.scss';\nimport PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils/index';\n//! текст прокинуть через пропс\n\nfunction PopupError({ isOpen, onClose }) {\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keyup', closeOnEsc);\n    return () => window.removeEventListener('keyup', closeOnEsc);\n  }, []);\n\n  return (\n    <Popup\n      type=\"error\"\n      typeContainer=\"calendar\"\n      sectionClass=\"popup__container_error\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar popup__title_type_error\"\n        title=\"Что-то пошло не так, попробуйте записаться снова\"\n      />\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title=\"Вернуться к мероприятию\"\n          sectionClass=\"popup__button_type_error\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupError.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupError.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupError;\n","const parserLinkYoutube = (link) => {\n  const regExp =\n    /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n\n  if (link) {\n    const match = link.match(regExp);\n    const idVideo = match && match[7].length === 11 ? match[7] : '';\n    const frameSrc = `https://www.youtube.com/embed/${idVideo}`;\n\n    // Нужно ли нам превью к видео?\n    // const imagePreview = `http://img.youtube.com/vi/${idVideo}/maxresdefault.jpg`;\n\n    return frameSrc;\n  }\n  // По хорошому ставить заглушку когда нету ссылки или ссылка не подходит\n  return null;\n};\n\nexport default parserLinkYoutube;\n","import React, { useState } from 'react';\nimport './PopupVideo.scss';\nimport PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport { TitleH2, Caption } from '../../utils/index';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport Loader from '../../utils/Loader/Loader';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\n\nconst PopupVideo = ({ isOpen, onClose }) => {\n  console.log('PopupVideo COMPONENT');\n  const data = getLocalStorageData(localStChosenVideo);\n  const embedSrc = parserLinkYoutube(data?.link);\n\n  console.log('data', data);\n\n  const [iframeIsLoading, setIframeIsLoading] = useState(true);\n\n  const onCloseHandler = () => {\n    removeLocalStorageData(localStChosenVideo);\n    onClose();\n  };\n\n  return (\n    <Popup\n      type=\"video\"\n      typeContainer=\"video\"\n      isOpen={isOpen}\n      onClose={onCloseHandler}\n      withoutCloseButton\n    >\n      {iframeIsLoading ? <Loader isNested /> : null}\n      <>\n        <iframe\n          title=\"youTubePlayer\"\n          id=\"playeryt\"\n          onLoad={() => setIframeIsLoading(false)}\n          className=\"popup__video-iframe\"\n          src={embedSrc}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          seamless\n        />\n        <TitleH2 sectionClass=\"popup__video-title\" title={data?.title} />\n        <Caption sectionClass=\"popup__video-caption\" title={data?.info} />\n      </>\n    </Popup>\n  );\n};\n\nPopupVideo.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupVideo.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupVideo;\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { useLocation } from 'react-router-dom';\nimport Router from './navigation/Router';\nimport Loader from './components/utils/Loader/Loader';\n// попапы\nimport {\n  PopupConfirmation,\n  PopupSuccessfully,\n  PopupAboutEvent,\n  PopupError,\n  PopupCities,\n  PopupLogin,\n  PopupRecommendSuccess,\n  PopupVideo,\n} from './components/Popups/index';\n// логины, авторизация\nimport {\n  CurrentUserContext,\n  CitiesContext,\n  PopupsContext,\n  ErrorsContext,\n} from './contexts/index';\n// хуки\nimport { useCities, useAuth } from './hooks/index';\n\nfunction App() {\n  const { pathname } = useLocation();\n\n  // стейт переменные попапов\n  const [isPopupConfirmationOpen, setIsPopupConfirmationOpen] = useState(false);\n  const [isPopupSuccessfullyOpen, setIsPopupSuccessfullyOpen] = useState(false);\n  const [isPopupAboutDescriptionOpen, setIsPopupAboutDescriptionOpen] =\n    useState(false);\n  const [isPopupErrorOpen, setIsPopupErrorOpen] = useState(false);\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = useState(false);\n  const [isPopupCitiesOpen, setIsPopupCitiesOpen] = useState(false);\n  const [isPopupRecommendSuccessOpen, setIsPopupRecommendSuccessOpen] =\n    useState(false);\n  const [isVideoPopupOpen, setIsVideoPopupOpen] = useState(false);\n\n  // управление попапами (открыть/закрыть)\n  function closeAllPopups() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(false);\n    setIsPopupAboutDescriptionOpen(false);\n    setIsPopupLoginOpen(false);\n    setIsPopupCitiesOpen(false);\n    setIsPopupRecommendSuccessOpen(false);\n    setIsVideoPopupOpen(false);\n  }\n\n  function openPopupConfirmation() {\n    setIsPopupConfirmationOpen(true);\n  }\n\n  function openPopupSuccessfully() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(true);\n  }\n\n  function openPopupAboutEvent() {\n    setIsPopupAboutDescriptionOpen(true);\n  }\n\n  function openPopupError() {\n    setIsPopupErrorOpen(true);\n  }\n\n  function closePopupError() {\n    setIsPopupErrorOpen(false);\n  }\n\n  function openPopupCities() {\n    setIsPopupCitiesOpen(true);\n  }\n\n  function openPopupLogin() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function openPopupRecommendSuccess() {\n    setIsPopupRecommendSuccessOpen(true);\n  }\n\n  function openPopupVideo() {\n    setIsVideoPopupOpen(true);\n  }\n\n  // текущий юзер/контекст\n  const [currentUser, setCurrentUser] = useState(null);\n  const updateUser = (value) => setCurrentUser(value);\n\n  // список городов/контекст\n  const cities = useCities();\n\n  // серверные ошибки контекст\n  const [serverError, setServerError] = useState(null);\n  const setError = (value) => setServerError(value);\n  const clearError = () => setServerError(null);\n\n  const { isCheckingToken, checkToken } = useAuth(updateUser);\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  // закрытие всех попапов при смене страницы\n  useEffect(() => {\n    closeAllPopups();\n    closePopupError();\n  }, [pathname]);\n\n  // эффект закрытия модалок по Escape\n  useEffect(() => {\n    window.addEventListener('keyup', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    });\n  }, []);\n\n  return (\n    <HelmetProvider>\n      <CitiesContext.Provider value={cities}>\n        <CurrentUserContext.Provider value={{ currentUser, updateUser }}>\n          <ErrorsContext.Provider value={{ serverError, setError, clearError }}>\n            <PopupsContext.Provider\n              value={{\n                closeAllPopups,\n                openPopupConfirmation,\n                openPopupSuccessfully,\n                openPopupAboutEvent,\n                openPopupError,\n                openPopupCities,\n                openPopupLogin,\n                openPopupRecommendSuccess,\n                openPopupVideo,\n              }}\n            >\n              <div className=\"page\">\n                {!isCheckingToken ? <Router /> : <Loader isCentered />}\n                <PopupConfirmation\n                  isOpen={isPopupConfirmationOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupSuccessfully\n                  isOpen={isPopupSuccessfullyOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupAboutEvent\n                  isOpen={isPopupAboutDescriptionOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupLogin\n                  isOpen={isPopupLoginOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupCities\n                  isOpen={isPopupCitiesOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupError\n                  isOpen={isPopupErrorOpen}\n                  onClose={closePopupError}\n                />\n                <PopupRecommendSuccess\n                  isOpen={isPopupRecommendSuccessOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupVideo\n                  isOpen={isVideoPopupOpen}\n                  onClose={closeAllPopups}\n                />\n              </div>\n            </PopupsContext.Provider>\n          </ErrorsContext.Provider>\n        </CurrentUserContext.Provider>\n      </CitiesContext.Provider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}