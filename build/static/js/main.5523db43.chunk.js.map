{"version":3,"sources":["components/utils/Blockquote/Blockquote.js","components/utils/Button/Button.js","components/utils/ButtonDots/ButtonDots.js","components/utils/ButtonRound/ButtonRound.js","components/utils/Caption/Caption.js","components/utils/Card/Card.js","components/utils/NavItem/NavItem.js","utils/drop-down-menu-link.js","components/utils/DropDownMenu/DropDownMenu.js","components/utils/DropDownSelect/locales/RU.js","components/utils/DropDownSelect/DropDownSelect.js","components/utils/Input/Input.js","components/utils/LinkableHeading/LinkableHeading.js","components/utils/Logo/locales/RU.js","assets/logo.svg","assets/footer-logo.svg","components/utils/Logo/Logo.js","components/utils/ModificatedScrollbars/ModificatedScrollbars.js","components/utils/NoDataNotificationBox/locales/RU.js","components/utils/NoDataNotificationBox/NoDataNotificationBox.js","components/utils/PseudoButtonTag/PseudoButtonTag.js","components/utils/Rating/Rating.js","components/utils/Rubric/Rubric.js","components/utils/ScrollableContainer/locales/RU.js","components/utils/ScrollableContainer/ScrollableContainer.js","components/utils/SearchButton/locales/RU.js","components/utils/SearchButton/SearchButton.js","components/utils/TitleH1/TitleH1.js","components/utils/TitleH2/TitleH2.js","components/utils/TitleH3/TitleH3.js","components/utils/UserIconButton/UserIconButton.js","components/utils/UserMenuButton/UserMenuButton.js","components/utils/Widget/locales/RU.js","components/utils/Widget/Widget.js","components/utils/NextArticleLink/NextArticleLink.js","config/routes.js","config/constants.js","config/config.js","hooks/useClickOutside.js","hooks/useScrollToTop.js","api/auth.js","hooks/useAuth.js","api/cities.js","hooks/useDebounce.js","hooks/useCities.js","hooks/useActivityTypes.js","hooks/useEventBooking.js","hooks/useFormWithValidation.js","hooks/useInfiniteScroll.js","hooks/useCloseOnEscape.js","contexts/CurrentUserContext.js","contexts/CitiesContext.js","contexts/PopupsContext.js","contexts/ErrorsContext.js","hooks/useLocalStorage.js","utils/utils.js","components/Popups/Popup/locales/RU.js","components/Popups/Popup/Popup.js","utils/external-links.js","components/Popups/PopupConfirmation/locales/RU.js","components/Popups/PopupConfirmation/PopupConfirmation.js","components/Popups/PopupSuccessfully/locales/RU.js","components/Popups/PopupSuccessfully/PopupSuccessfully.js","components/Popups/PopupRecommendSuccess/locales/RU.js","components/Popups/PopupRecommendSuccess/PopupRecommendSuccess.js","components/Popups/PopupLogin/locales/RU.js","components/Popups/PopupLogin/PopupLogin.js","components/Popups/PopupAboutEvent/locales/RU.js","components/Popups/PopupAboutEvent/PopupAboutEvent.js","components/Popups/PopupCities/locales/RU.js","components/Popups/PopupCities/PopupCities.js","components/Popups/PopupError/PopupError.js","components/Popups/PopupVideo/PopupVideo.js","components/Popups/PopupPhoto/PopupPhoto.js","components/Popups/PopupArticle/PopupArticle.js","components/Popups/PopupBook/PopupBook.js","components/Popups/PopupPlace/PopupPlace.js","api/user.js","components/Cards/CardAnnotation/CardAnnotation.js","utils/parser-link-youtube.js","components/Cards/CardPlace/locales/RU.js","components/Cards/CardPlace/CardPlace.js","components/utils/Loader/Loader.js","api/event-participants.js","components/Header/locales/RU.js","components/NavBar/locales/RU.js","components/NavItemWithDropdown/NavItemWithDropdown.js","components/Search/locales/RU.js","api/search.js","components/Search/Search.js","components/NavBar/NavBar.js","components/Header/Header.js","components/Footer/locales/RU.js","components/Footer/Footer.js","layout/BasePage.js","components/AnimatedPageContainer/locales/RU.js","components/AnimatedPageContainer/AnimatedPageContainer.js","components/Cards/CardFilm/locales/RU.js","components/Cards/CardFilm/CardFilm.js","components/Cards/CardBook/CardBook.js","components/Cards/CardArticle/locales/RU.js","components/Cards/CardArticle/CardArticle.js","utils/form-errors.js","components/Cards/CardCalendar/locales/RU.js","components/Cards/CardCalendar/CardCalendar.js","components/Cards/CardVideoMain/locales/RU.js","components/Cards/CardVideoMain/CardVideoMain.js","components/Cards/CardQuestion/locales/RU.js","components/Cards/CardQuestion/CardQuestion.js","api/places-page.js","components/utils/Paginate/Paginate.js","components/Cards/CardAnnotation/CardAnnotationContainer.js","components/ProtectedRoute/ProtectedRoute.js","pages/MainPage/locales/RU.js","api/main-page.js","components/Cards/CardStub/locales/RU.js","components/Cards/CardStub/CardStub.js","components/Cards/CardArticleBig/locales/RU.js","components/Cards/CardArticleBig/CardArticleBig.js","components/Cards/CardAnimatedPlug/CardAnimatedPlug.js","pages/MainPage/MainPage.js","navigation/Router.js","App.js","index.js"],"names":["Blockquote","sectionWrapperClass","sectionTitleClass","text","className","defaultProps","Button","title","titleSelected","color","isSubmittable","isDisabled","onClick","isBooked","sectionClass","classNames","join","trim","type","disabled","undefined","ButtonDots","handleClick","ButtonRound","label","isSmall","isSpan","isClick","aria-label","Caption","Card","children","NavItem","sectionLinkClass","href","linkText","rel","target","to","dropDownMenuLink","CATALOG_TITLE","url","CATALOG_URL","VIDEO_TITLE","VIDEO_URL","ARTICLES_TITLE","ARTICLES_URL","MOVIES_TITLE","MOVIES_URL","BOOKS_TITLE","BOOKS_URL","DropDownMenu","map","item","texts","buttonAriaLabel","DropDownSelect","placeholder","options","inputName","onChange","error","isFormOpen","useState","isOpen","setIsOpen","optionSelected","setOptionSelected","classNamesButton","classNamesDropDown","classNamesArrow","dropdownRef","useClickOutside","useEffect","viewBox","fill","xmlns","d","ref","aria-hidden","option","name","htmlFor","id","value","Input","required","max","min","minLength","maxLength","pattern","isTextarea","onFocus","errorMessage","classNamesWrap","classNamesInput","classNamesTextarea","LinkableHeading","HeadingComponent","Component","path","titleSectionClass","linkSectionClass","altText","Logo","isWhite","src","whiteLogo","blueLogo","alt","ModificatedScrollbars","horizontalScrollClass","useRef","renderTrackHorizontal","style","opacity","renderThumbVertical","defaultText","NoDataNotificationBox","PseudoButtonTag","isActive","checked","event","Rating","ratingType","pseudoButtonClassNames","defaultChecked","Rubric","ariaLabelPrevButton","ariaLabelNextButton","ScrollableContainer","reference","step","onScrollCallback","useButtons","disableMouseDrag","prevButtonClass","nextButtonClass","parentRef","firstChildRef","lastChildRef","isPrevButtonDisabled","setIsPrevButtonDisabled","isNextButtonDisabled","setIsNextButtonDisabled","useInfiniteScroll","isScrolling","clientX","scrollX","state","setState","scrollHandler","deltaY","current","scrollTo","left","scrollLeft","behavior","scrollByWheel","useCallback","evt","preventDefault","scrollByButtons","useLayoutEffect","addEventListener","removeEventListener","onMouseDown","contains","setTimeout","onMouseMove","onMouseUp","onMouseLeave","ariaLabelText","SearchButton","handleClickButton","width","height","cx","cy","r","stroke","strokeLinecap","TitleH1","TitleH2","TitleH3","authorizedColor","UserIconButton","isAuthorized","PROFILE_TITLE","UserMenuButton","textStub","Widget","link","allow","NextArticleLink","fillRule","clipRule","MAIN_PAGE_URL","AFISHA_URL","ABOUT_US_URL","QUESTIONS_URL","PROFILE_URL","PLACES_URL","RIGHTS_URL","RIGHTS_ARTICLE_URL","READ_AND_WATCH_URL","CATALOG_ITEM_URL","STORIES_URL","NOT_FOUND_URL","MAIN_PAGE_TITLE","AFISHA_TITLE","ABOUT_US_TITLE","QUESTIONS_TITLE","PLACES_TITLE","RIGHTS_TITLE","READ_AND_WATCH_TITLE","STORIES_TITLE","NOT_FOUND_TITLE","weekdays","months","COLORS","FIGURES","ALL_CATEGORIES","DEFAULT_CITY","regExpImages","DELAY_DEBOUNCE","DELAY_RENDER","localStUserCity","localStAfishaEvent","jwt","jwtRefresh","localStChosenVideo","ERROR_MESSAGES","generalErrorMessage","button","eventAddErrorMessage","eventCancelErrorMessage","citiesErrorMessage","filterErrorMessage","ERROR_CODES","badRequest","unauthorized","notFound","baseURL","apiUrl","staticImageUrl","callback","clickListener","document","useScrollToTop","deps","window","top","AuthApi","accessToken","axios","defaults","headers","common","Authorization","loginData","post","then","response","data","catch","err","Promise","reject","refreshToken","useAuth","setCurrentUser","isCheckingToken","setIsCheckingToken","isWaitingResponse","setIsWaitingResponse","popups","useContext","PopupsContext","errors","ErrorsContext","history","useHistory","handleError","status","setError","message","handleTokenError","removeLocalStorageData","handleLogout","clearAuth","clearLocalStorage","push","handleLogin","authorize","token","access","refresh","Error","setAuth","setLocalStorageData","getUserData","userData","closePopupLogin","finally","checkToken","getLocalStorageData","getCities","timer","get","useCities","cities","setCities","defaultCity","setDefaultCity","citiesData","mainCity","find","city","console","useDebounce","delay","args","clearTimeout","useActivityTypes","activityTypes","setActivityTypes","activityTypesSimplified","reduce","obj","getActivityTypes","openPopupError","useEventBooking","openPopupSuccessfully","openPopupConfirmation","closeAllPopups","selectedEvent","setSelectedEvent","listenCancel","newEvent","booked","listenRegister","registerOnEvent","card","makeEventRegistration","register","Event","dispatchEvent","setRegisterEvent","cancelRegistration","cancelEventRegistration","cancel","setCancelRegisterEvent","handleEventBooking","noConfirm","useFormWithValidation","values","setValues","setErrors","isValid","setIsValid","resetForm","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","handleChangeFiles","file","files","test","childRef","callbackOnIntersect","callbackOnHide","observer","root","rootMargin","threshold","IntersectionObserver","isIntersecting","observe","unobserve","useCloseOnEscape","closeOnEsc","key","CurrentUserContext","createContext","CitiesContext","localStorage","setItem","JSON","stringify","removeItem","clear","parse","getItem","dispatchLocalStorageEvent","useLocalStorage","getLocalStorageItem","formatDuration","duration","hours","Math","floor","minutes","seconds","format","formatDate","date","parsedDate","Date","day","getDate","month","getMonth","weekdayName","getDay","monthName","hour","String","getHours","year","getFullYear","getMinutes","formatWordCase","remainSeats","lastTwoDigits","lastDigit","changeCaseOfFirstLetter","str","toUpperCase","slice","formatMonthsGenitiveCase","randomizeArray","arr","size","length","array","Array","splice","random","formatPhoneNumber","phoneNum","str1","str2","str3","str4","str5","closeButtonLabel","Popup","typeContainer","onClose","withoutCloseButton","currentTarget","socialLinks","bbbsLinks","about","donations","volunteering","partners","developmentLinks","praktikum","design","submitButtonText","submitButtonTextLoading","cancelButtonText","PopupConfirmation","startDay","startAt","endDay","endAt","onSubmit","parseInt","popupTitle","paragraph","buttonTextCalendarPage","buttonTextDefault","PopupSuccessfully","pathname","useLocation","buttonText","actionOnButtonClick","animationContainer","Lottie","loadAnimation","container","renderer","loop","autoplay","animationData","animationSuccess","PopupRecommendSuccess","animationRecommendSuccess","firstParagraph","secondParagraph","loginPlaceholder","passwordPlaceholder","forgotButtonText","loadingButtonTextLogin","titleForgotForm","paragraphForgotForm","emailPlaceholder","backButtonText","submitButtonTextForgot","loadingButtonTextForgot","validationSettings","PopupLogin","updateUser","serverError","clearError","isForgotPassword","setIsForgotPassword","isSuccess","setIsSuccess","isRecoveringPassword","setIsRecoveringPassword","successMessage","setSuccessMessage","errorsString","getServerErrors","handleClickForgotPassword","successForgotPassword","closePopup","closePopupOnEsc","classNameAuth","classForgotPassword","classNameSuccess","handleSubmit","noValidate","username","password","recoverPassword","res","email","handleSubmitForgotPassword","buttonTitle","buttonTitleLoading","buttonTitleSelected","buttonCancelLoading","buttonTitleDisabled","remainSeatsText","PopupAboutEvent","isWithoutRegister","startDateParts","endDayParts","isCanceling","isRegistering","tags","address","contact","phoneNumber","description","PopupCities","currentUser","currentUserCity","debounceSubmitCity","cityId","updateUserProfile","filter","isPrimary","renderCityItem","PopupError","PopupVideo","frameSrc","parserLinkYoutube","frameBorder","allowFullScreen","seamless","info","PopupPhoto","currentPhoto","photoSrc","caption","PopupArticle","article","CardArticle","PopupBook","book","CardBook","PopupPlace","place","CardPlace","dataToUpdate","patch","CardAnnotation","isMain","idVideo","getYouTubeID","imagePreview","genderMale","genderFemale","chosenTagText","activityTypeDefault","image","chosen","gender","age","activityType","isBig","isMainPage","cardColor","cardSize","sexType","imageClassNames","renderImage","Loader","isNested","isCentered","isSmallGrid","isPaginate","eventId","delete","getBookedEvents","limit","offset","params","results","getArchiveOfBookedEvents","changeCity","changeCityDefault","logoutText","searchPlaceholder","NavItemWithDropdown","notFoundText","searchText","ariaLabelCloseButton","search","Search","isOpenSearch","setIsOpenSearch","isMobileMenuOpen","setIsMobileMenuOpen","currentAnonymousCity","userCity","searchResults","setSearchResults","isVoidSearch","setIsVoidSearch","isLoadingSearch","setIsLoadingSearch","inputRef","getPathName","animateListItem","idx","animation","animateLink","handleClickLink","handleSearchRequest","a","searchParams","currentRequest","count","handleDebouncedRequest","focus","autoComplete","page","modelName","toLowerCase","NavBar","onUserButtonClick","onBurgerButtonClick","onCityChangeClick","onLogout","userCityName","React","Children","toArray","renderUserMenuButtons","Header","isTransparentOnTop","openPopupCities","openPopupLogin","setUserCityName","currentCity","debounceTimer","headerRef","handleCloseMobileMenu","classList","isHeaderActive","setIsHeaderActive","isHeaderOnTop","setIsHeaderOnTop","prevScrollPos","detectScrollUp","scrollY","currentScrollPos","pageYOffset","debouncedScrollUp","classNamesHeader","onKeyPress","renderExitButton","logoAlt","logoLink","helpButtonText","helpButtonLink","devText","devLink","devOrg","designText","designLink","designOrg","copyright","Footer","BasePage","headTitle","headDescription","scrollUpDeps","isNoFooter","isHeaderTransparentOnTop","sectionClassMain","classNamesMain","content","title404","AnimatedPageContainer","is404","titleText","staticPage","urlBack","animation404","linkTextMovie","linkTextVideo","CardFilm","isVideo","openPopupVideo","renderVideoPlayback","durationString","draggable","tag","renderPreview","childrenElem","author","annotation","backgroundColor","articleUrl","serverErrorObj","isArray","Object","eventCanceled","CardCalendar","cardData","onEventSignUpClick","onEventDescriptionClick","loadingEventId","canceled","changeStateOfEvent","prepareDataForAboutEventPopup","imageAlt","CardVideoMain","labelText","CardQuestion","childElement","answer","isQuestionsPage","isOpenByDefault","isOpened","setIsOpened","isAnimated","setIsAnimated","tagsClassNames","answerWrapperClassNames","role","tabIndex","minHeight","clientHeight","getPlacesTags","getPlaces","age_restriction","query","getChosenPlace","postPlace","getPlace","Paginate","props","pageCount","dontUseScrollUp","containerClassName","pageClassName","pageLinkClassName","activeLinkClassName","previousClassName","breakClassName","nextClassName","disabledClassName","pageRangeDisplayed","marginPagesDisplayed","forcePage","onPageChange","selected","initialPage","CardAnnotationContainer","classNamesDesc","ProtectedRoute","component","mainPageTexts","CardAnimatedPlugText","getMainPageData","CardStub","CardArticleBig","CardAnimatedPlug","MainPage","openPopupAboutEvent","mainPageData","setMainPageData","randomQuestions","setRandomQuestions","randomMovies","setRandomMovies","isCityChanging","setIsCityChanging","isPageError","setIsPageError","isPageLoading","setIsPageLoading","prevData","questions","movies","renderEventsBlock","renderHistoryBlock","fromMainPage","question","renderPlaceSection","articles","renderArticleSection","renderMoviesSection","video","renderVideoSection","renderPageContent","additionalMoviesClasses","movie","AboutUs","lazy","Calendar","Questions","Profile","Places","Rights","RightsArticle","Movies","ReadAndWatch","Catalog","CatalogArticle","Video","Books","Articles","Stories","PageNotFound","Router","fallback","exact","App","isPopupConfirmationOpen","setIsPopupConfirmationOpen","isPopupSuccessfullyOpen","setIsPopupSuccessfullyOpen","isPopupAboutDescriptionOpen","setIsPopupAboutDescriptionOpen","isPopupErrorOpen","setIsPopupErrorOpen","isPopupLoginOpen","setIsPopupLoginOpen","isPopupCitiesOpen","setIsPopupCitiesOpen","isVideoPopupOpen","setIsVideoPopupOpen","setIsWithoutRegister","closePopupError","closePopupCities","popupsContextValue","withoutRegister","currentUserContextValue","useMemo","citiesContextValue","setServerError","errorsContextValue","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5523db43.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\n\nfunction Blockquote({ sectionWrapperClass, sectionTitleClass, text }) {\n  return (\n    <blockquote className={sectionWrapperClass}>\n      <h3 className={`chapter-title ${sectionTitleClass}`}>{text}</h3>\n    </blockquote>\n  );\n}\n\nBlockquote.propTypes = {\n  sectionWrapperClass: PropTypes.string,\n  sectionTitleClass: PropTypes.string,\n  text: PropTypes.string,\n};\n\nBlockquote.defaultProps = {\n  sectionWrapperClass: '',\n  sectionTitleClass: '',\n  text: '',\n};\n\nexport default Blockquote;\n","import './Button.scss';\nimport PropTypes from 'prop-types';\n\nfunction Button({\n  title,\n  titleSelected,\n  color,\n  isSubmittable,\n  isDisabled,\n  onClick,\n  isBooked,\n  sectionClass,\n}) {\n  const classNames = [\n    'button',\n    `button_color_${color}`,\n    sectionClass,\n    isBooked ? `button_color_${color}_selected` : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <button\n      className={classNames}\n      type={isSubmittable ? 'submit' : 'button'}\n      disabled={isDisabled}\n      onClick={onClick}\n    >\n      {!isBooked ? title : titleSelected || title}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  title: PropTypes.string,\n  titleSelected: PropTypes.string,\n  color: PropTypes.string,\n  isSubmittable: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  onClick: PropTypes.func,\n  isBooked: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nButton.defaultProps = {\n  title: '',\n  color: 'blue',\n  isSubmittable: false,\n  titleSelected: undefined,\n  onClick: () => {},\n  isDisabled: false,\n  isBooked: false,\n  sectionClass: '',\n};\n\nexport default Button;\n","import './ButtonDots.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonDots({ handleClick }) {\n  return (\n    <button className=\"button-dots\" type=\"button\" onClick={handleClick}>\n      &#8226;&#8226;&#8226;\n    </button>\n  );\n}\n\nButtonDots.propTypes = {\n  handleClick: PropTypes.func,\n};\n\nButtonDots.defaultProps = {\n  handleClick: () => {},\n};\n\nexport default ButtonDots;\n","import './ButtonRound.scss';\nimport PropTypes from 'prop-types';\n\nfunction ButtonRound({\n  label,\n  sectionClass,\n  color,\n  isSmall,\n  isDisabled,\n  isSpan,\n  onClick,\n  isClick,\n}) {\n  const classNames = [\n    'button-round',\n    `button-round_color_${color}`,\n    isSmall ? 'button-round_small' : '',\n    sectionClass,\n    isClick ? 'button-round_active' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  if (isSpan) {\n    return <span className={classNames} />;\n  }\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={isDisabled}\n      aria-label={label}\n    />\n  );\n}\n\nButtonRound.propTypes = {\n  label: PropTypes.string,\n  sectionClass: PropTypes.string,\n  color: PropTypes.string,\n  isSmall: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isSpan: PropTypes.bool,\n  onClick: PropTypes.func,\n  isClick: PropTypes.bool,\n};\n\nButtonRound.defaultProps = {\n  label: '',\n  sectionClass: '',\n  color: '',\n  isSmall: false,\n  isDisabled: false,\n  isSpan: false,\n  onClick: undefined,\n  isClick: false,\n};\n\nexport default ButtonRound;\n","import PropTypes from 'prop-types';\n\nfunction Caption({ title, sectionClass }) {\n  return <p className={`caption ${sectionClass}`}>{title}</p>;\n}\n\nCaption.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCaption.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Caption;\n","import './Card.scss';\nimport PropTypes from 'prop-types';\n\nfunction Card({ color, sectionClass, children }) {\n  const classNames = ['card', `card_color_${color}`, sectionClass]\n    .join(' ')\n    .trim();\n\n  return <div className={classNames}>{children}</div>;\n}\n\nCard.propTypes = {\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCard.defaultProps = {\n  color: 'white',\n  sectionClass: '',\n  children: null,\n};\n\nexport default Card;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavItem({\n  sectionWrapperClass,\n  sectionLinkClass,\n  href,\n  linkText,\n  rel,\n  target,\n}) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className={sectionLinkClass} to={href} rel={rel} target={target}>\n        {linkText}\n      </NavLink>\n    </li>\n  );\n}\n\nNavItem.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  sectionLinkClass: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  linkText: PropTypes.string.isRequired,\n  rel: PropTypes.string,\n  target: PropTypes.string,\n};\n\nNavItem.defaultProps = {\n  rel: '',\n  target: '_self',\n  href: '',\n};\n\nexport default NavItem;\n","import {\n  ARTICLES_TITLE,\n  ARTICLES_URL,\n  BOOKS_TITLE,\n  BOOKS_URL,\n  CATALOG_TITLE,\n  CATALOG_URL,\n  MOVIES_TITLE,\n  MOVIES_URL,\n  VIDEO_TITLE,\n  VIDEO_URL,\n} from '../config/routes';\n\nconst dropDownMenuLink = [\n  {\n    title: CATALOG_TITLE,\n    url: CATALOG_URL,\n  },\n  {\n    title: VIDEO_TITLE,\n    url: VIDEO_URL,\n  },\n  {\n    title: ARTICLES_TITLE,\n    url: ARTICLES_URL,\n  },\n  {\n    title: MOVIES_TITLE,\n    url: MOVIES_URL,\n  },\n  {\n    title: BOOKS_TITLE,\n    url: BOOKS_URL,\n  },\n];\n\nexport default dropDownMenuLink;\n","import PropTypes from 'prop-types';\nimport NavItem from '../NavItem/NavItem';\nimport './DropDownMenu.scss';\nimport dropDownMenuLink from '../../../utils/drop-down-menu-link';\n\nfunction DropDownMenu({ sectionWrapperClass }) {\n  return (\n    <ul className={sectionWrapperClass}>\n      {dropDownMenuLink.map((item) => (\n        <NavItem\n          key={item.title}\n          sectionWrapperClass=\"menu__dropdown-list-item\"\n          sectionLinkClass=\"link menu__dropdown-link\"\n          href={item.url}\n          linkText={item.title}\n        />\n      ))}\n    </ul>\n  );\n}\n\nDropDownMenu.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n};\n\nexport default DropDownMenu;\n","const texts = {\n  buttonAriaLabel: 'Выберите опцию',\n};\n\nexport default texts;\n","import './DropDownSelect.scss';\nimport { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { useClickOutside } from '../../../hooks';\n\nfunction DropDownSelect({\n  placeholder,\n  options,\n  inputName,\n  onChange,\n  error,\n  sectionClass,\n  isFormOpen,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [optionSelected, setOptionSelected] = useState(null);\n\n  const classNames = ['select', sectionClass].join(' ').trim();\n  const classNamesButton = [\n    'select__button',\n    isOpen ? 'select__button_pressed' : '',\n    optionSelected ? 'select__button_selected' : '',\n    error ? 'select__button_error' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesDropDown = [\n    'select__dropdown',\n    isOpen ? 'select__dropdown_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n  const classNamesArrow = [\n    'select__arrow',\n    isOpen ? 'select__arrow_pressed' : '',\n    error ? 'select__arrow_error' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const dropdownRef = useClickOutside(() => setIsOpen(false));\n\n  useEffect(() => {\n    if (isFormOpen) {\n      setOptionSelected(null);\n      setIsOpen(false);\n    }\n  }, [isFormOpen]);\n\n  return (\n    <div className={classNames}>\n      <button\n        aria-label={`${texts.buttonAriaLabel} ${placeholder}`}\n        className={classNamesButton}\n        type=\"button\"\n        onClick={() => setIsOpen(true)}\n      >\n        {optionSelected || placeholder}\n        <svg\n          viewBox=\"0 0 24 19\"\n          fill=\"none\"\n          className={classNamesArrow}\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path d=\"M5 7L11.8814 14L19 7\" />\n        </svg>\n      </button>\n      <ul className={classNamesDropDown} ref={dropdownRef}>\n        <li aria-hidden=\"true\">\n          <button\n            className=\"select__option_hidden\"\n            aria-hidden=\"true\"\n            type=\"button\"\n            onClick={() => setIsOpen(false)}\n          />\n        </li>\n        {options &&\n          options.map((option) => (\n            <li key={option?.id} className=\"select__option\">\n              <label\n                aria-label={option?.name}\n                htmlFor={`${option?.id}-${option?.name}`}\n                className=\"select__label\"\n              >\n                <input\n                  id={`${option?.id}-${option?.name}`}\n                  className=\"select__input\"\n                  type=\"radio\"\n                  name={inputName}\n                  value={option?.id}\n                  onClick={() => {\n                    setOptionSelected(option?.name);\n                    setIsOpen(!isOpen);\n                  }}\n                  onChange={onChange}\n                />\n                <span className=\"select__span\">{option?.name}</span>\n              </label>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nDropDownSelect.propTypes = {\n  placeholder: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.any),\n  inputName: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isFormOpen: PropTypes.bool,\n};\n\nDropDownSelect.defaultProps = {\n  placeholder: '',\n  options: [],\n  inputName: '',\n  onChange: () => {},\n  error: undefined,\n  sectionClass: '',\n  isFormOpen: false,\n};\n\nexport default DropDownSelect;\n","import './Input.scss';\nimport PropTypes from 'prop-types';\n\nfunction Input({\n  id,\n  type,\n  name,\n  placeholder,\n  value,\n  required,\n  max,\n  min,\n  minLength,\n  maxLength,\n  pattern,\n  error,\n  sectionClass,\n  isTextarea,\n  onFocus,\n  onChange,\n}) {\n  const errorMessage = error ? `${placeholder}*` : '';\n\n  const classNamesWrap = ['input-wrap', sectionClass].join(' ').trim();\n\n  const classNamesInput = ['input', error ? 'input__error' : '']\n    .join(' ')\n    .trim();\n  const classNamesTextarea = ['input', error ? 'input__error' : '', 'textarea']\n    .join(' ')\n    .trim();\n\n  if (isTextarea) {\n    return (\n      <label className={classNamesWrap} htmlFor={id}>\n        <textarea\n          id={id}\n          className={classNamesTextarea}\n          name={name}\n          placeholder={errorMessage || placeholder}\n          onFocus={onFocus}\n          onChange={onChange}\n          value={value}\n          maxLength={maxLength}\n          minLength={minLength}\n          required={required}\n        />\n        {error && <span className=\"input__error-message\">{error}</span>}\n      </label>\n    );\n  }\n\n  return (\n    <label className={classNamesWrap} htmlFor={id}>\n      <input\n        id={id}\n        className={classNamesInput}\n        type={type}\n        name={name}\n        placeholder={errorMessage || placeholder}\n        onFocus={onFocus}\n        onChange={onChange}\n        value={value}\n        maxLength={maxLength}\n        minLength={minLength}\n        max={max}\n        min={min}\n        pattern={pattern}\n        required={required}\n      />\n      {error && <span className=\"input__error-message\">{error}</span>}\n    </label>\n  );\n}\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  sectionClass: PropTypes.string,\n  isTextarea: PropTypes.bool,\n  onChange: PropTypes.func,\n  required: PropTypes.bool,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  maxLength: PropTypes.number,\n  minLength: PropTypes.number,\n  pattern: PropTypes.string,\n  error: PropTypes.string,\n  onFocus: PropTypes.func,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  value: '',\n  sectionClass: '',\n  isTextarea: false,\n  onChange: () => {},\n  required: false,\n  max: undefined,\n  min: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  pattern: undefined,\n  error: undefined,\n  onFocus: () => {},\n};\n\nexport default Input;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction LinkableHeading({\n  Component: HeadingComponent,\n  title,\n  path,\n  titleSectionClass,\n  linkSectionClass,\n}) {\n  return (\n    <Link className={linkSectionClass} to={path}>\n      <HeadingComponent title={title} sectionClass={titleSectionClass} />\n    </Link>\n  );\n}\n\nLinkableHeading.propTypes = {\n  Component: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  titleSectionClass: PropTypes.string,\n  linkSectionClass: PropTypes.string,\n};\n\nLinkableHeading.defaultProps = {\n  titleSectionClass: '',\n  linkSectionClass: '',\n};\n\nexport default LinkableHeading;\n","const texts = {\n  altText: 'Логотип Старшие Братья Старшие Сестры России',\n};\n\nexport default texts;\n","export default __webpack_public_path__ + \"static/media/logo.44535fba.svg\";","export default __webpack_public_path__ + \"static/media/footer-logo.6f701154.svg\";","import './Logo.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport blueLogo from '../../../assets/logo.svg';\nimport whiteLogo from '../../../assets/footer-logo.svg';\n\nfunction Logo({ isWhite, sectionClass }) {\n  const classNames = ['logo', sectionClass].join(' ').trim();\n\n  return (\n    <img\n      src={isWhite ? whiteLogo : blueLogo}\n      alt={texts.altText}\n      className={classNames}\n    />\n  );\n}\n\nLogo.propTypes = {\n  isWhite: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nLogo.defaultProps = {\n  isWhite: false,\n  sectionClass: '',\n};\n\nexport default Logo;\n","import { Scrollbars } from 'react-custom-scrollbars';\nimport { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ModificatedScrollbars({ horizontalScrollClass, children }) {\n  const ref = useRef();\n\n  return (\n    <Scrollbars\n      ref={ref}\n      renderTrackHorizontal={() => <div style={{ opacity: 'none' }} />}\n      renderThumbVertical={() => <div className={horizontalScrollClass} />}\n    >\n      {children}\n    </Scrollbars>\n  );\n}\n\nModificatedScrollbars.propTypes = {\n  children: PropTypes.node,\n  horizontalScrollClass: PropTypes.string,\n};\n\nModificatedScrollbars.defaultProps = {\n  children: null,\n  horizontalScrollClass: '',\n};\n\nexport default ModificatedScrollbars;\n","const texts = {\n  defaultText: 'Данных нет',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport './NoDataNotificationBox.scss';\nimport texts from './locales/RU';\n\nfunction NoDataNotificationBox({ text, sectionClass }) {\n  return <p className={`no-data-text ${sectionClass}`}>{text}</p>;\n}\n\nNoDataNotificationBox.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nNoDataNotificationBox.defaultProps = {\n  text: texts.defaultText,\n  sectionClass: '',\n};\n\nexport default NoDataNotificationBox;\n","import './PseudoButtonTag.scss';\nimport PropTypes from 'prop-types';\n\nfunction PseudoButtonTag({\n  name,\n  value,\n  title,\n  isActive,\n  onClick,\n  sectionClass,\n}) {\n  const id = `filter-button-${value}`;\n\n  const classNames = ['pseudo-button-label', sectionClass].join(' ').trim();\n\n  function handleClick(event) {\n    onClick(value, event.target.checked);\n  }\n\n  return (\n    <label className={classNames} htmlFor={id}>\n      <input\n        id={id}\n        className=\"pseudo-button-checkbox\"\n        type=\"checkbox\"\n        name={name}\n        value={value}\n        checked={isActive}\n        onChange={() => {}}\n        onClick={handleClick}\n      />\n      <span className=\"button pseudo-button\">{title}</span>\n    </label>\n  );\n}\n\nPseudoButtonTag.propTypes = {\n  name: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nPseudoButtonTag.defaultProps = {\n  name: '',\n  value: '',\n  title: '',\n  isActive: false,\n  onClick: () => {},\n  sectionClass: '',\n};\n\nexport default PseudoButtonTag;\n","import './Rating.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rating({\n  type,\n  name,\n  value,\n  ratingType,\n  sectionClass,\n  checked,\n  onChange,\n}) {\n  const classNames = ['rating', sectionClass].join(' ').trim();\n\n  const pseudoButtonClassNames = [\n    'rating__pseudo-button',\n    `rating__pseudo-button_type_${ratingType}_default`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <label className={classNames} htmlFor={`rating-${name}-${value}`}>\n      <input\n        id={`rating-${name}-${value}`}\n        className=\"rating__checkbox\"\n        type={type}\n        name={name}\n        value={value}\n        defaultChecked={checked}\n        onChange={onChange}\n      />\n      <span className={pseudoButtonClassNames} />\n    </label>\n  );\n}\n\nRating.propTypes = {\n  type: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  ratingType: PropTypes.string,\n  sectionClass: PropTypes.string,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nRating.defaultProps = {\n  name: '',\n  value: 'neutral',\n  ratingType: 'neutral',\n  sectionClass: '',\n  checked: false,\n  onChange: () => {},\n};\n\nexport default Rating;\n","import './Rubric.scss';\nimport PropTypes from 'prop-types';\n\nfunction Rubric({ title, sectionClass }) {\n  return <span className={`rubric ${sectionClass}`}>{title}</span>;\n}\n\nRubric.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nRubric.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default Rubric;\n","const texts = {\n  ariaLabelPrevButton: 'Предыдущие',\n  ariaLabelNextButton: 'Следующие',\n};\n\nexport default texts;\n","import './ScrollableContainer.scss';\nimport PropTypes from 'prop-types';\nimport { useCallback, useLayoutEffect, useRef, useState } from 'react';\nimport texts from './locales/RU';\nimport { useInfiniteScroll } from '../../../hooks';\n\nconst DELAY_NO_POINTER_EVENTS = 150;\nconst DEFAULT_DELTA_Y = 100;\n\nfunction ScrollableContainer({\n  reference,\n  children,\n  step,\n  sectionClass,\n  onScrollCallback,\n  useButtons,\n  disableMouseDrag,\n  prevButtonClass,\n  nextButtonClass,\n}) {\n  const parentRef = reference ?? useRef(null);\n  const firstChildRef = useRef(null);\n  const lastChildRef = useRef(null);\n\n  const [isPrevButtonDisabled, setIsPrevButtonDisabled] = useState(true);\n  const [isNextButtonDisabled, setIsNextButtonDisabled] = useState(false);\n\n  const disablePrevButton = () => {\n    setIsPrevButtonDisabled(true);\n  };\n\n  const enablePrevButton = () => {\n    setIsPrevButtonDisabled(false);\n  };\n\n  const disableNextButton = () => {\n    setIsNextButtonDisabled(true);\n  };\n\n  const enableNextButton = () => {\n    setIsNextButtonDisabled(false);\n  };\n\n  // колбэк при достижении правой границы скролла (для подгрузки данных, например)\n  if (onScrollCallback) {\n    useInfiniteScroll(parentRef, lastChildRef, onScrollCallback);\n  }\n\n  // скрытие стрелки Prev\n  if (useButtons) {\n    useInfiniteScroll(\n      parentRef,\n      firstChildRef,\n      disablePrevButton,\n      enablePrevButton\n    );\n  }\n\n  // скрытие стрелки Next\n  if (useButtons) {\n    useInfiniteScroll(\n      parentRef,\n      lastChildRef,\n      disableNextButton,\n      enableNextButton\n    );\n  }\n\n  const [state, setState] = useState({\n    isScrolling: false,\n    clientX: 0,\n    scrollX: 0,\n  });\n\n  const scrollHandler = (deltaY) => {\n    parentRef.current.scrollTo({\n      left: parentRef.current.scrollLeft + deltaY * step,\n      behavior: 'smooth',\n    });\n  };\n\n  const scrollByWheel = useCallback(\n    (evt) => {\n      if (parentRef && parentRef.current) {\n        evt.preventDefault();\n        scrollHandler(evt.deltaY);\n      }\n    },\n    [parentRef.current]\n  );\n\n  const scrollByButtons = (type) => {\n    const deltaY = type === 'prev' ? -DEFAULT_DELTA_Y : DEFAULT_DELTA_Y;\n    scrollHandler(deltaY);\n  };\n\n  // eslint-disable-next-line consistent-return\n  useLayoutEffect(() => {\n    if (parentRef && parentRef.current) {\n      parentRef.current.addEventListener('wheel', scrollByWheel);\n      return () =>\n        parentRef.current.removeEventListener('wheel', scrollByWheel);\n    }\n  }, [parentRef.current]);\n\n  const onMouseDown = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setTimeout(() => {\n      setState({\n        ...state,\n        isScrolling: true,\n        clientX: evt.clientX,\n      });\n    }, DELAY_NO_POINTER_EVENTS);\n  };\n\n  const onMouseUp = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const onMouseMove = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    const { clientX, scrollX, isScrolling } = state;\n    if (isScrolling) {\n      parentRef.current.scrollLeft = scrollX - evt.clientX + clientX;\n      setState({\n        ...state,\n        scrollX: scrollX - evt.clientX + clientX,\n        clientX: evt.clientX,\n      });\n    }\n  };\n\n  const onMouseLeave = (evt) => {\n    if (\n      parentRef &&\n      parentRef.current &&\n      !parentRef.current.contains(evt.target)\n    ) {\n      return;\n    }\n    evt.preventDefault();\n    setState({\n      ...state,\n      isScrolling: false,\n    });\n  };\n\n  const classNames = [\n    'scrollable-container',\n    state.isScrolling && !disableMouseDrag\n      ? 'scrollable-container_scrolling'\n      : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <>\n      {useButtons && renderButtons()}\n\n      {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n      <div\n        className={classNames}\n        onMouseDown={disableMouseDrag ? undefined : onMouseDown}\n        onMouseMove={disableMouseDrag ? undefined : onMouseMove}\n        onMouseUp={disableMouseDrag ? undefined : onMouseUp}\n        onMouseLeave={disableMouseDrag ? undefined : onMouseLeave}\n        ref={parentRef}\n      >\n        <div\n          className=\"scrollable-container__callback-anchor\"\n          ref={firstChildRef}\n          aria-hidden\n        >\n          .\n        </div>\n        {children}\n        <div\n          className=\"scrollable-container__callback-anchor\"\n          ref={lastChildRef}\n          aria-hidden\n        >\n          .\n        </div>\n      </div>\n    </>\n  );\n\n  function renderButtons() {\n    return (\n      <>\n        <button\n          className={`scrollable-container__button scrollable-container__button_prev ${prevButtonClass}`}\n          type=\"button\"\n          aria-label={texts.ariaLabelPrevButton}\n          onClick={() => scrollByButtons('prev')}\n          disabled={isPrevButtonDisabled}\n        />\n        <button\n          className={`scrollable-container__button scrollable-container__button_next ${nextButtonClass}`}\n          type=\"button\"\n          aria-label={texts.ariaLabelNextButton}\n          onClick={() => scrollByButtons('next')}\n          disabled={isNextButtonDisabled}\n        />\n      </>\n    );\n  }\n}\n\nScrollableContainer.propTypes = {\n  reference: PropTypes.node,\n  sectionClass: PropTypes.string,\n  children: PropTypes.node,\n  step: PropTypes.number,\n  onScrollCallback: PropTypes.func,\n  useButtons: PropTypes.bool,\n  prevButtonClass: PropTypes.string,\n  nextButtonClass: PropTypes.string,\n  disableMouseDrag: PropTypes.bool,\n};\n\nScrollableContainer.defaultProps = {\n  reference: null,\n  sectionClass: '',\n  children: null,\n  step: 1,\n  onScrollCallback: undefined,\n  useButtons: false,\n  prevButtonClass: '',\n  nextButtonClass: '',\n  disableMouseDrag: false,\n};\n\nexport default ScrollableContainer;\n","const texts = {\n  ariaLabelText: 'Поиск',\n};\n\nexport default texts;\n","import './SearchButton.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction SearchButton({ handleClickButton }) {\n  return (\n    <button\n      className=\"search-button search__button\"\n      type=\"button\"\n      aria-label={texts.ariaLabelText}\n      title={texts.ariaLabelText}\n      onClick={handleClickButton}\n    >\n      <svg\n        width=\"22\"\n        height=\"22\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"9\" cy=\"9.364\" r=\"8\" stroke=\"#000\" />\n        <path\n          d=\"m14.999 15.364 5.333 5.333\"\n          stroke=\"#000\"\n          strokeLinecap=\"square\"\n        />\n      </svg>\n    </button>\n  );\n}\n\nSearchButton.propTypes = {\n  handleClickButton: PropTypes.func,\n};\n\nSearchButton.defaultProps = {\n  handleClickButton: () => {},\n};\n\nexport default SearchButton;\n","import './TitleH1.scss';\nimport PropTypes from 'prop-types';\n\nfunction TitleH1({ title, sectionClass }) {\n  return <h1 className={`main-title ${sectionClass}`}>{title}</h1>;\n}\n\nTitleH1.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH1.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH1;\n","import PropTypes from 'prop-types';\n\nfunction TitleH2({ title, sectionClass }) {\n  return <h2 className={`section-title ${sectionClass}`}>{title}</h2>;\n}\n\nTitleH2.propTypes = {\n  title: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nTitleH2.defaultProps = {\n  title: '',\n  sectionClass: '',\n};\n\nexport default TitleH2;\n","import PropTypes from 'prop-types';\n\nfunction TitleH3({ title, sectionClass }) {\n  return <h3 className={`chapter-title ${sectionClass}`}>{title}</h3>;\n}\n\nTitleH3.propTypes = {\n  title: PropTypes.string.isRequired,\n  sectionClass: PropTypes.string,\n};\n\nTitleH3.defaultProps = {\n  sectionClass: '',\n};\n\nexport default TitleH3;\n","import './UserIconButton.scss';\nimport PropTypes from 'prop-types';\nimport { PROFILE_TITLE } from '../../../config/routes';\n\nconst authorizedColor = '#224CFF';\nconst unauthorizedColor = '#000';\n\nfunction UserIconButton({ sectionClass, isAuthorized, handleClick }) {\n  const classNames = ['user-button', sectionClass].join(' ').trim();\n\n  return (\n    <button\n      className={classNames}\n      type=\"button\"\n      aria-label={PROFILE_TITLE}\n      title={PROFILE_TITLE}\n      onClick={handleClick}\n    >\n      <svg\n        width=\"20\"\n        height=\"21\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M14.5 5.364c0 2.486-2.014 4.5-4.5 4.5a4.499 4.499 0 0 1-4.5-4.5c0-2.487 2.014-4.5 4.5-4.5s4.5 2.013 4.5 4.5zm-14 12.5c0-.648.32-1.252.932-1.817.616-.568 1.491-1.061 2.502-1.466 2.023-.81 4.46-1.217 6.066-1.217 1.606 0 4.043.407 6.066 1.217 1.01.405 1.887.898 2.502 1.466.612.565.932 1.169.932 1.817v2H.5v-2z\"\n          stroke={`${isAuthorized ? authorizedColor : unauthorizedColor}`}\n          fill={`${isAuthorized ? authorizedColor : 'none'}`}\n        />\n      </svg>\n    </button>\n  );\n}\n\nUserIconButton.propTypes = {\n  sectionClass: PropTypes.string,\n  isAuthorized: PropTypes.bool,\n  handleClick: PropTypes.func,\n};\n\nUserIconButton.defaultProps = {\n  sectionClass: '',\n  isAuthorized: false,\n  handleClick: () => {},\n};\n\nexport default UserIconButton;\n","import './UserMenuButton.scss';\nimport PropTypes from 'prop-types';\n\nfunction UserMenuButton({ title, handleClick, sectionClass }) {\n  const classNames = ['user-menu-button', sectionClass].join(' ').trim();\n\n  return (\n    <button className={classNames} type=\"button\" onClick={handleClick}>\n      {title}\n    </button>\n  );\n}\n\nUserMenuButton.propTypes = {\n  title: PropTypes.string,\n  handleClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n};\n\nUserMenuButton.defaultProps = {\n  title: '',\n  handleClick: () => {},\n  sectionClass: '',\n};\n\nexport default UserMenuButton;\n","const texts = {\n  textStub: 'Ваш браузер случайно заблокировал наш виджет',\n};\n\nexport default texts;\n","import './Widget.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Widget({ link, title }) {\n  return (\n    <div className=\"widget\">\n      <iframe\n        className=\"widget__iframe\"\n        title={title}\n        src={link}\n        allow=\"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share\"\n      />\n      <p className=\"widget__stub\">{texts.textStub}</p>\n    </div>\n  );\n}\n\nWidget.propTypes = {\n  link: PropTypes.string,\n  title: PropTypes.string,\n};\n\nWidget.defaultProps = {\n  link: '#',\n  title: '',\n};\n\nexport default Widget;\n","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './NextArticleLink.scss';\n\nfunction NextArticleLink({ text, href, sectionClass, onClick }) {\n  const classNames = ['next-article-link', sectionClass].join(' ').trim();\n\n  return (\n    <Link className={classNames} to={href} onClick={onClick}>\n      <span className=\"next-article-link__text\">{text}</span>\n      <svg\n        className=\"next-article-link__arrow\"\n        width=\"30\"\n        height=\"30\"\n        viewBox=\"0 0 30 30\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M16.5916 0L30 14.3793L15.5318 30H13.4987L23.3441 19.3448C25.5145 17.1724 24.9357 15.3103 22.1865 15.1552H0V13.6034H22.0418C24.791 13.4483 25.3698 11.8966 23.6334 9.72414L14.5659 0H16.5916Z\"\n          fill=\"#224CFF\"\n        />\n      </svg>\n    </Link>\n  );\n}\n\nNextArticleLink.propTypes = {\n  text: PropTypes.string,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  sectionClass: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nNextArticleLink.defaultProps = {\n  text: 'Link',\n  href: '/',\n  sectionClass: '',\n  onClick: () => {},\n};\n\nexport default NextArticleLink;\n","export const MAIN_PAGE_URL = '/';\nexport const AFISHA_URL = '/afisha';\nexport const ABOUT_US_URL = '/about-us';\nexport const QUESTIONS_URL = '/questions';\nexport const PROFILE_URL = '/profile';\nexport const PLACES_URL = '/places';\nexport const RIGHTS_URL = '/rights';\nexport const RIGHTS_ARTICLE_URL = '/rights/:articleId';\nexport const READ_AND_WATCH_URL = '/read-and-watch';\nexport const CATALOG_URL = '/catalog';\nexport const CATALOG_ITEM_URL = '/catalog/:articleId';\nexport const VIDEO_URL = '/video';\nexport const ARTICLES_URL = '/articles';\nexport const MOVIES_URL = '/movies';\nexport const BOOKS_URL = '/books';\nexport const STORIES_URL = '/stories';\nexport const NOT_FOUND_URL = '/*';\n\nexport const MAIN_PAGE_TITLE = 'наставники.про';\nexport const AFISHA_TITLE = 'Календарь';\nexport const ABOUT_US_TITLE = 'О проекте';\nexport const QUESTIONS_TITLE = 'Вопросы';\nexport const PROFILE_TITLE = 'Личный кабинет';\nexport const PLACES_TITLE = 'Куда пойти';\nexport const RIGHTS_TITLE = 'Права детей';\nexport const READ_AND_WATCH_TITLE = 'Читать и смотреть';\nexport const CATALOG_TITLE = 'Справочник';\nexport const VIDEO_TITLE = 'Видео';\nexport const ARTICLES_TITLE = 'Статьи';\nexport const MOVIES_TITLE = 'Фильмы';\nexport const BOOKS_TITLE = 'Книги';\nexport const STORIES_TITLE = 'Истории';\nexport const NOT_FOUND_TITLE = 'Страницы не существует';\n","export const weekdays = [\n  'воскресенье',\n  'понедельник',\n  'вторник',\n  'среда',\n  'четверг',\n  'пятница',\n  'суббота',\n];\n\nexport const months = [\n  'январь',\n  'февраль',\n  'март',\n  'апрель',\n  'май',\n  'июнь',\n  'июль',\n  'август',\n  'сентябрь',\n  'октябрь',\n  'ноябрь',\n  'декабрь',\n];\n\nexport const COLORS = [\n  'yellow',\n  'green',\n  'yellow',\n  'pink',\n  'blue',\n  'pink',\n  'green',\n  'yellow',\n  'green',\n  'blue',\n  'pink',\n  'blue',\n];\n\nexport const FIGURES = [\n  'square',\n  'circle',\n  'arch',\n  'circle',\n  'arch',\n  'square',\n  'arch',\n  'square',\n  'circle',\n];\n\nexport const ALL_CATEGORIES = 'Все';\nexport const DEFAULT_CITY = 'Москва';\n\nexport const regExpImages = /^[\\W\\w\\S\\s]+\\.(jpe?g|png|webp|jfif|bmp)$/i;\n\nexport const DELAY_DEBOUNCE = 300;\nexport const DELAY_RENDER = 100;\n\nexport const localStUserCity = 'userCity';\nexport const localStAfishaEvent = 'afishaEvent';\nexport const jwt = 'jwt';\nexport const jwtRefresh = 'jwtRefresh';\nexport const localStChosenVideo = 'chosenVideo';\n\nexport const ERROR_MESSAGES = {\n  generalErrorMessage: {\n    title: 'При передаче данных произошла ошибка. Повторите попытку позже.',\n    button: 'Вернуться',\n  },\n  eventAddErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте записаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  eventCancelErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте отписаться снова',\n    button: 'Вернуться к мероприятию',\n  },\n  citiesErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать город снова',\n    button: 'Вернуться',\n  },\n  filterErrorMessage: {\n    title: 'Что-то пошло не так, попробуйте выбрать фильтр снова',\n    button: 'Вернуться',\n  },\n};\n\nexport const ERROR_CODES = {\n  badRequest: 400,\n  unauthorized: 401,\n  notFound: 404,\n};\n","export const baseURL = 'http://195.24.66.127';\nexport const apiUrl = '/api/v1';\nexport const adminUrl = 'http://195.24.66.127';\nexport const staticImageUrl = `${adminUrl}/media`;\n","import { useCallback, useEffect, useRef } from 'react';\n\n// отслеживает, что клик произошёл вне контейнера-рефа и запускает колбэк\nconst useClickOutside = (callback) => {\n  const ref = useRef(null);\n\n  const clickListener = useCallback(\n    (evt) => {\n      if (ref && ref.current) {\n        if (!ref.current.contains(evt.target)) {\n          callback();\n        }\n      }\n    },\n    [ref.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('mousedown', clickListener);\n    return () => document.removeEventListener('mousedown', clickListener);\n  }, []);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","import { useEffect } from 'react';\n\n// прокрутка к верху страницы\nconst useScrollToTop = (...deps) => {\n  useEffect(() => {\n    window.scrollTo({ top: 0 });\n  }, [...deps]);\n};\n\nexport default useScrollToTop;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nclass AuthApi {\n  // установить заголовки авторизации\n  static setAuth(accessToken) {\n    axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\n  }\n\n  // очистить заголовки авторизации\n  static clearAuth() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n\n  // функция авторизации\n  static authorize(loginData) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/`, loginData)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n\n  // функция рефреша токена\n  static refreshToken(refreshToken) {\n    return axios\n      .post(`${baseURL}${apiUrl}/token/refresh/`, refreshToken)\n      .then((response) => response.data)\n      .catch((err) => Promise.reject(err?.response));\n  }\n}\n\nexport default AuthApi;\n","import { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport AuthApi from '../api/auth';\nimport { getUserData } from '../api/user';\nimport { MAIN_PAGE_URL } from '../config/routes';\nimport {\n  clearLocalStorage,\n  getLocalStorageData,\n  removeLocalStorageData,\n  setLocalStorageData,\n} from './useLocalStorage';\nimport {\n  ERROR_CODES,\n  ERROR_MESSAGES,\n  jwt,\n  jwtRefresh,\n} from '../config/constants';\n\nconst useAuth = (setCurrentUser) => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { unauthorized, badRequest } = ERROR_CODES;\n\n  const [isCheckingToken, setIsCheckingToken] = useState(true);\n  // для попапа логина\n  const [isWaitingResponse, setIsWaitingResponse] = useState(false);\n\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const history = useHistory();\n\n  const handleError = (err) => {\n    if (err?.status === badRequest || err?.status === unauthorized)\n      errors.setError(err?.data);\n    else\n      errors.setError({\n        message: generalErrorMessage.title,\n      });\n  };\n\n  const handleLogout = () => {\n    AuthApi.clearAuth();\n    setCurrentUser(null);\n    clearLocalStorage();\n    history.push(MAIN_PAGE_URL);\n  };\n\n  const handleLogin = (loginData) => {\n    setIsWaitingResponse(true);\n    AuthApi.authorize(loginData)\n      .then((token) => {\n        const { access, refresh } = token;\n        if (refresh && access) {\n          AuthApi.setAuth(access);\n          setLocalStorageData(jwt, access);\n          setLocalStorageData(jwtRefresh, refresh);\n          getUserData()\n            .then((userData) => setCurrentUser(userData))\n            .then(() => popups.closePopupLogin())\n            .catch((err) => handleError(err))\n            .finally(() => setIsWaitingResponse(false));\n        } else {\n          throw new Error(generalErrorMessage.title);\n        }\n      })\n      .catch((err) => handleError(err)) // авторизация (работа с сервером) закончилась ошибкой\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const handleTokenError = () => {\n    removeLocalStorageData(jwt);\n    removeLocalStorageData(jwtRefresh);\n    setIsCheckingToken(false);\n  };\n\n  const checkRefreshToken = (refresh) => {\n    AuthApi.refreshToken({ refresh })\n      .then(({ access }) => {\n        AuthApi.setAuth(access);\n        setLocalStorageData(jwt, access);\n        getUserData()\n          .then((userData) => setCurrentUser(userData))\n          .catch((err) => handleError(err))\n          .finally(() => setIsCheckingToken(false));\n      })\n      .catch(() => handleTokenError());\n  };\n\n  // происходит фоном\n  const checkToken = () => {\n    const token = getLocalStorageData(jwt);\n    const refreshToken = getLocalStorageData(jwtRefresh);\n    if (token) {\n      AuthApi.setAuth(token);\n      getUserData()\n        .then((userData) => {\n          setCurrentUser(userData);\n          setIsCheckingToken(false);\n        })\n        .catch((err) => {\n          // токен просрочен\n          AuthApi.clearAuth();\n          if (err?.status === unauthorized && refreshToken) {\n            checkRefreshToken(refreshToken);\n          } else {\n            handleTokenError();\n          }\n        });\n    } else {\n      handleTokenError();\n    }\n  };\n\n  return {\n    isCheckingToken,\n    isWaitingResponse,\n    handleLogout,\n    handleLogin,\n    checkToken,\n  };\n};\n\nexport default useAuth;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить города\nfunction getCities() {\n  return axios\n    .get(`${baseURL}${apiUrl}/cities/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getCities;\n","import { useCallback } from 'react';\n\nlet timer;\nconst useDebounce = (callback, delay) =>\n  useCallback(\n    (...args) => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(() => {\n        callback(...args);\n      }, delay);\n    },\n    [callback, delay]\n  );\n\nexport default useDebounce;\n","import { useEffect, useState } from 'react';\nimport getCities from '../api/cities';\nimport { DEFAULT_CITY } from '../config/constants';\n\nconst useCities = () => {\n  const [cities, setCities] = useState(null);\n  const [defaultCity, setDefaultCity] = useState({});\n\n  useEffect(() => {\n    getCities()\n      .then((citiesData) => {\n        setCities(citiesData);\n        const mainCity = citiesData.find((city) => city?.name === DEFAULT_CITY);\n        setDefaultCity(mainCity);\n      })\n      .catch(console.error);\n  }, []);\n\n  return { cities, defaultCity };\n};\n\nexport default useCities;\n","import { useContext, useEffect, useState } from 'react';\nimport { getActivityTypes } from '../api/places-page';\nimport { ErrorsContext, PopupsContext } from '../contexts/index';\nimport { ERROR_MESSAGES } from '../config/constants';\n\nconst useActivityTypes = () => {\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  // не деструктурируется, на момент чтения undefined\n  const popups = useContext(PopupsContext);\n  const errors = useContext(ErrorsContext);\n\n  const [activityTypes, setActivityTypes] = useState(null);\n  // для карточек Куда пойти\n  const activityTypesSimplified = activityTypes?.reduce(\n    (obj, { id, name }) => ({\n      ...obj,\n      [id]: name,\n    }),\n    {}\n  );\n\n  useEffect(() => {\n    getActivityTypes()\n      .then(setActivityTypes)\n      .catch(() => {\n        errors.setError(generalErrorMessage);\n        popups.openPopupError();\n      });\n  }, []);\n\n  return { activityTypes, activityTypesSimplified };\n};\n\nexport default useActivityTypes;\n","import { useContext, useEffect, useState } from 'react';\nimport {\n  cancelEventRegistration,\n  makeEventRegistration,\n} from '../api/event-participants';\nimport { ErrorsContext, PopupsContext } from '../contexts';\nimport { getLocalStorageData } from './useLocalStorage';\nimport { ERROR_MESSAGES, localStAfishaEvent } from '../config/constants';\n\n// хук отслеживает события записи и отписки от ивента\nconst useEventBooking = () => {\n  const {\n    openPopupSuccessfully,\n    openPopupConfirmation,\n    closeAllPopups,\n    openPopupError,\n  } = useContext(PopupsContext);\n\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [isWaitingResponse, setIsWaitingResponse] = useState(false);\n  const { setError } = useContext(ErrorsContext);\n\n  // события отписки и регистрации на мероприятие\n  const setRegisterEvent = () => {\n    const register = new Event('registerEvent');\n    window.dispatchEvent(register);\n  };\n\n  const setCancelRegisterEvent = () => {\n    const cancel = new Event('cancelRegisterEvent');\n    window.dispatchEvent(cancel);\n  };\n\n  // объект кладётся в localStorage при клике на карточку на странице\n  // обработчики событий берут объект произошедшего события из localStorage и меняют им свойство booked\n  // затем этот объект передается на страницу для отрисовки\n  const listenCancel = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = false;\n    setSelectedEvent(newEvent);\n  };\n\n  const listenRegister = () => {\n    const newEvent = getLocalStorageData(localStAfishaEvent);\n    newEvent.booked = true;\n    setSelectedEvent(newEvent);\n  };\n\n  useEffect(() => {\n    window.addEventListener('cancelRegisterEvent', listenCancel);\n    window.addEventListener('registerEvent', listenRegister);\n    return () => {\n      window.removeEventListener('cancelRegisterEvent', listenCancel);\n      window.removeEventListener('registerEvent', listenRegister);\n    };\n  }, []);\n\n  // функции-утилиты, запускающие события, их используют компоненты\n  const registerOnEvent = (card) => {\n    setIsWaitingResponse(true);\n    makeEventRegistration({ event: card.id })\n      .then(() => setRegisterEvent())\n      .then(() => closeAllPopups())\n      .then(() => openPopupSuccessfully())\n      .catch(() => {\n        setError(ERROR_MESSAGES.eventAddErrorMessage);\n        openPopupError();\n      })\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const cancelRegistration = (card) => {\n    setIsWaitingResponse(true);\n    cancelEventRegistration(card.id)\n      .then(() => setCancelRegisterEvent())\n      .then(() => closeAllPopups())\n      .catch(() => {\n        setError(ERROR_MESSAGES.eventCancelErrorMessage);\n        openPopupError();\n      })\n      .finally(() => setIsWaitingResponse(false));\n  };\n\n  const handleEventBooking = (card, noConfirm) => {\n    if (card.booked) {\n      // мы записаны на ивент, надо отписаться\n      cancelRegistration(card);\n    } else if (noConfirm) {\n      registerOnEvent(card);\n    } else {\n      // мы НЕ записаны на ивент\n      closeAllPopups(); // закрываем попап подробно\n      openPopupConfirmation(); // открываем попап \"подтвердите\"\n    }\n  };\n\n  return {\n    handleEventBooking,\n    registerOnEvent,\n    selectedEvent,\n    isWaitingResponse,\n  };\n};\n\nexport default useEventBooking;\n","import { useCallback, useState } from 'react';\n\nconst useFormWithValidation = () => {\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { name, value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const handleChangeFiles = (evt, pattern) => {\n    const file = evt.target.files[0];\n    const { name } = evt.target;\n\n    if (!file) {\n      return;\n    }\n\n    if (file && pattern.test(file.name)) {\n      setValues({ ...values, [name]: file });\n      setErrors({ ...errors, [name]: '' });\n    } else {\n      setErrors({ ...errors, [name]: 'Некорректный формат файла' });\n    }\n    setIsValid(evt.target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return {\n    values,\n    handleChange,\n    handleChangeFiles,\n    errors,\n    isValid,\n    resetForm,\n    setValues,\n  };\n};\n\nexport default useFormWithValidation;\n","import { useLayoutEffect, useRef } from 'react';\n\n// хук используется для подгрузки данных и других манипуляций при появлении childRef в parentRef\nconst useInfiniteScroll = (\n  parentRef,\n  childRef,\n  callbackOnIntersect,\n  callbackOnHide\n) => {\n  const observer = useRef();\n\n  // eslint-disable-next-line consistent-return\n  useLayoutEffect(() => {\n    if (parentRef && parentRef.current && childRef && childRef.current) {\n      const options = {\n        root: parentRef.current,\n        rootMargin: '0px',\n        threshold: 0,\n      };\n\n      observer.current = new IntersectionObserver(([target]) => {\n        if (target.isIntersecting) {\n          callbackOnIntersect();\n        } else if (callbackOnHide) {\n          callbackOnHide();\n        }\n      }, options);\n\n      observer.current.observe(childRef.current);\n\n      return () => {\n        observer.current.unobserve(childRef.current);\n      };\n    }\n  }, [callbackOnIntersect, callbackOnHide, parentRef, childRef]);\n};\n\nexport default useInfiniteScroll;\n","import { useEffect } from 'react';\n\nconst useCloseOnEscape = (isOpen, callback) => {\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      callback();\n    }\n  };\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keyup', closeOnEsc);\n      return () => window.removeEventListener('keyup', closeOnEsc);\n    }\n  }, [isOpen]);\n};\n\nexport default useCloseOnEscape;\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext();\nexport default CurrentUserContext;\n","import { createContext } from 'react';\n\nconst CitiesContext = createContext();\nexport default CitiesContext;\n","import { createContext } from 'react';\n\nconst PopupsContext = createContext();\nexport default PopupsContext;\n","import { createContext } from 'react';\n\nconst ErrorsContext = createContext();\nexport default ErrorsContext;\n","import { useCallback, useEffect } from 'react';\n\n// вспомогательные функции\nexport const setLocalStorageData = (key, value) =>\n  localStorage.setItem(key, JSON.stringify(value));\n\nexport const removeLocalStorageData = (key) => localStorage.removeItem(key);\n\nexport const clearLocalStorage = () => localStorage.clear();\n\nexport const getLocalStorageData = (key) =>\n  JSON.parse(localStorage.getItem(key));\n\nexport const dispatchLocalStorageEvent = (key, value) => {\n  const event = new Event('changeLocalStorage');\n  setLocalStorageData(key, value);\n  window.dispatchEvent(event);\n};\n\n// хук слушает изменение определённого ключа в localStorage и возвращает его значение при любом изменении\n// работает в связке с dispatchLocalStorageEvent\nexport const useLocalStorage = (key) => {\n  const getLocalStorageItem = useCallback(\n    () => getLocalStorageData(key),\n    [key]\n  );\n\n  useEffect(() => {\n    window.addEventListener('changeLocalStorage', getLocalStorageItem);\n    return () =>\n      window.removeEventListener('changeLocalStorage', getLocalStorageItem);\n  }, []);\n\n  return getLocalStorageItem;\n};\n","import { months, weekdays } from '../config/constants';\n\n// форматирует секунды в часы, минуты и секунды, принимает на вход number\nexport const formatDuration = (duration) => {\n  const hours = Math.floor(duration / (60 * 60));\n  const minutes = Math.floor((duration / 60) % 60);\n  const seconds = duration % 60;\n  const format = (value) => (value < 10 ? `0${value}` : `${value}`);\n\n  return {\n    hours: format(hours),\n    minutes: format(minutes),\n    seconds: format(seconds),\n  };\n};\n\n// форматирует дату в объект по разным ключам, принимает на вход string вида \"2021-05-08T21:22:00Z\"\nexport const formatDate = (date) => {\n  const parsedDate = new Date(date);\n  let day = parsedDate.getDate();\n  let month = parsedDate.getMonth() + 1;\n  const weekdayName = weekdays[parsedDate.getDay()];\n  const monthName = months[parsedDate.getMonth()];\n  const hour = String(parsedDate.getHours());\n  const year = String(parsedDate.getFullYear());\n  let minutes = parsedDate.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  if (day < 10) {\n    day = `0${day}`;\n  }\n\n  if (month < 10) {\n    month = `0${month}`;\n  }\n\n  return {\n    year,\n    day,\n    month,\n    weekdayName,\n    monthName,\n    hour,\n    minutes,\n  };\n};\n\n// форматирует дату типа \"2021-05-08T21:22:00Z\" в 'YYYY/MM/DD'\nexport const parseDate = (dateString) => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  let month = date.getMonth() + 1;\n  let day = date.getDate();\n  if (day < 10) {\n    day = `0${day}`;\n  }\n  if (month < 10) {\n    month = `0${month}`;\n  }\n  return `${year}-${month}-${day}`;\n};\n\n// падеж слова \"место\" в зависимости от числа мест\n// принимает на вход количество оставшихся мест из чего формирует падеж слова\n// нужно в карточках, попапах\nexport const formatWordCase = (remainSeats) => {\n  // промежуток 11 - 14\n  const lastTwoDigits = remainSeats % 100;\n  if (lastTwoDigits > 10 && lastTwoDigits < 15) {\n    return 'мест';\n  }\n  // если кончается на 1 - окончание О\n  // если кончается на 2 3 4 - окончание A\n  // если кончается на другое - окончания нет\n  const lastDigit = remainSeats % 10;\n\n  if (lastDigit === 1) {\n    return 'место';\n  }\n  if (lastDigit === 2 || lastDigit === 3 || lastDigit === 4) {\n    return 'местa';\n  }\n  return 'мест';\n};\n\n// меняет в слове первую букву на заглавную\nexport const changeCaseOfFirstLetter = (str) => {\n  if (!str) return str;\n\n  return str[0].toUpperCase() + str.slice(1);\n};\n\n// управление падежами месяцев\nexport const formatMonthsGenitiveCase = (month) => {\n  if (month) {\n    if (month === 'март' || month === 'август') return `${month}а`;\n    return `${month.slice(0, -1)}я`;\n  }\n  return month;\n};\n\nexport const randomizeArray = (arr, size) => {\n  if (arr && size < arr.length) {\n    const array = arr.slice();\n    return [...Array(size)].map(\n      () => array.splice(Math.floor(Math.random() * array.length), 1)[0]\n    );\n  }\n  return arr;\n};\n\nexport const formatPhoneNumber = (phoneNum) => {\n  if (phoneNum?.length === 12) {\n    const str1 = phoneNum.slice(0, 2);\n    const str2 = phoneNum.slice(2, 5);\n    const str3 = phoneNum.slice(5, 8);\n    const str4 = phoneNum.slice(8, 10);\n    const str5 = phoneNum.slice(10, 12);\n    return `${str1} ${str2} ${str3}-${str4}-${str5}`;\n  }\n  return phoneNum;\n};\n","const texts = {\n  closeButtonLabel: 'Закрыть попап',\n};\n\nexport default texts;\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport './Popup.scss';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\n\nfunction Popup({\n  children,\n  type,\n  typeContainer,\n  isOpen,\n  onClose,\n  withoutCloseButton,\n  sectionClass,\n}) {\n  const closeAllPopupsOnOverlay = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div\n      className={`popup popup_type_${type} ${isOpen ? 'popup_opened' : ''} `}\n      onClick={closeAllPopupsOnOverlay}\n    >\n      <div\n        className={`popup__container popup__container_type_${typeContainer} ${sectionClass}`}\n      >\n        {!withoutCloseButton && (\n          <button\n            className={`popup__close popup__close_type_${typeContainer}`}\n            type=\"button\"\n            aria-label={texts.closeButtonLabel}\n            onClick={onClose}\n          />\n        )}\n        {children}\n      </div>\n    </div>\n  );\n}\n\nPopup.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.string,\n  typeContainer: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  withoutCloseButton: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nPopup.defaultProps = {\n  children: null,\n  type: '',\n  typeContainer: '',\n  isOpen: false,\n  onClose: () => {},\n  sectionClass: '',\n  withoutCloseButton: false,\n};\n\nexport default Popup;\n","export const socialLinks = [\n  {\n    url: 'https://www.facebook.com/BigBrothers.BigSisters.Russia/',\n    title: 'facebook',\n  },\n  {\n    url: 'https://vk.com/big.brothers.big.sisters',\n    title: 'vkontakte',\n  },\n  {\n    url: 'https://www.instagram.com/nastavniki_org/',\n    title: 'instagram',\n  },\n  {\n    url: 'https://www.youtube.com/user/Nastavniki/',\n    title: 'youtube',\n  },\n];\n\nexport const bbbsLinks = {\n  about: 'https://www.nastavniki.org/o-nas/ob-organizaczii/',\n  donations: 'https://www.nastavniki.org/campaign/pomoch-dengami/',\n  volunteering: 'https://www.nastavniki.org/volontyorstvo/kak-stat-volonterom/',\n  partners: 'https://www.nastavniki.org/oficzialno/nashi-partneryi/',\n};\n\nexport const developmentLinks = {\n  praktikum: {\n    title: 'Яндекс.Практикум',\n    url: 'https://praktikum.yandex.ru/',\n  },\n  design: {\n    title: 'krkr.design',\n    url: 'https://krkr.design/',\n  },\n};\n","const texts = {\n  title: 'Подтвердить запись на мероприятие',\n  submitButtonText: 'Подтвердить запись',\n  submitButtonTextLoading: 'Идёт запись...',\n  cancelButtonText: 'Отменить',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupConfirmation.scss';\n\nfunction PopupConfirmation({ isOpen, onClose }) {\n  const { registerOnEvent, isWaitingResponse } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    registerOnEvent(card);\n  };\n\n  return (\n    <Popup\n      type=\"confirmation\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <form className=\"popup__form\" onSubmit={handleSubmit}>\n        <p className=\"section-title popup__title_type_calendar\">\n          {texts.title}\n        </p>\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`«${card?.title}»`}\n        />\n        <TitleH2\n          sectionClass=\"popup__title_type_calendar\"\n          title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n            startDay?.minutes\n          }—${endDay?.hour}:${endDay?.minutes}`}\n        />\n        <div className=\"popup__buttons_type_calendar\">\n          <Button\n            color=\"blue\"\n            title={\n              isWaitingResponse\n                ? texts.submitButtonTextLoading\n                : texts.submitButtonText\n            }\n            sectionClass=\"popup__button_type_calendar\"\n            isDisabled={isWaitingResponse}\n            isSubmittable\n          />\n          <Button\n            color=\"black\"\n            title={texts.cancelButtonText}\n            onClick={onClose}\n          />\n        </div>\n      </form>\n    </Popup>\n  );\n}\n\nPopupConfirmation.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupConfirmation.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupConfirmation;\n","const texts = {\n  popupTitle: 'Вы записаны на мероприятие',\n  paragraph: 'Если у вас не получится прийти — отмените, пожалуйста, запись.',\n  buttonTextCalendarPage: 'Вернуться к календарю',\n  buttonTextDefault: 'Перейти в календарь',\n};\n\nexport default texts;\n","import { useEffect, useRef } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationSuccess from '../../../assets/animation/ill_popup_success.json';\nimport texts from './locales/RU';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { formatDate, formatMonthsGenitiveCase } from '../../../utils/utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport './PopupSuccessfully.scss';\n\nconst { popupTitle, paragraph, buttonTextCalendarPage, buttonTextDefault } =\n  texts;\n\nfunction PopupSuccessfully({ isOpen, onClose }) {\n  const { pathname } = useLocation();\n  const history = useHistory();\n\n  const card = getLocalStorageData(localStAfishaEvent);\n  const startDay = formatDate(card?.startAt);\n  const endDay = formatDate(card?.endAt);\n  const month = formatMonthsGenitiveCase(startDay?.monthName);\n\n  const pushToCalendar = () => {\n    history.push(AFISHA_URL);\n  };\n\n  const buttonText =\n    pathname === AFISHA_URL ? buttonTextCalendarPage : buttonTextDefault;\n\n  const actionOnButtonClick =\n    pathname === AFISHA_URL ? onClose : pushToCalendar;\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"successfully\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-success\" />\n      <p className=\"section-title popup__title_type_calendar\">{popupTitle}</p>\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`«${card?.title}»`}\n      />\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar\"\n        title={`${parseInt(startDay?.day, 10)} ${month} с ${startDay?.hour}:${\n          startDay?.minutes\n        }—${endDay?.hour}:${endDay?.minutes}`}\n      />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_successfully\">\n        {paragraph}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={actionOnButtonClick}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupSuccessfully.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupSuccessfully.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupSuccessfully;\n","const texts = {\n  title:\n    'Спасибо, мы проверим информацию, и скоро все пользователи смогут увидеть вашу рекомендацию',\n  buttonText: 'Вернуться к рекомендациям',\n};\n\nexport default texts;\n","import { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animationRecommendSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport texts from './locales/RU';\nimport { useCloseOnEscape } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport { Button } from '../../utils';\nimport './PopupRecommendSuccess.scss';\n\nfunction PopupRecommendSuccess({ isOpen, onClose }) {\n  useCloseOnEscape(isOpen, onClose);\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationRecommendSuccess,\n    });\n  }, []);\n\n  return (\n    <Popup\n      type=\"recommend-success\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      sectionClass=\"popup__container_recommend-success\"\n    >\n      <div ref={animationContainer} className=\"popup__animation-recommend\" />\n      <p className=\"section-title popup__title_type_calendar popup__title_type_recommend-success\">\n        {texts.title}\n      </p>\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={texts.buttonText}\n          sectionClass=\"popup__button_type_successfully\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupRecommendSuccess.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupRecommendSuccess.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupRecommendSuccess;\n","const texts = {\n  title: 'Вход',\n  firstParagraph:\n    'Вход в личный кабинет доступен наставникам программы «Старшие Братья Старшие Сёстры».',\n  secondParagraph:\n    'Пожалуйста, введите логин и пароль из письма. Если вам не приходило письмо, свяжитесь с вашим куратором.',\n  loginPlaceholder: 'Логин',\n  passwordPlaceholder: 'Пароль',\n  forgotButtonText: 'Забыли пароль?',\n  submitButtonText: 'Войти',\n  loadingButtonTextLogin: 'Авторизация...',\n  titleForgotForm: 'Восстановление пароля',\n  paragraphForgotForm:\n    'Пожалуйста, для восстановления пароля введите email, который вы указывали при регистрации.',\n  emailPlaceholder: 'Email',\n  backButtonText: 'Я вспомнил пароль',\n  submitButtonTextForgot: 'Отправить',\n  loadingButtonTextForgot: 'Отправка...',\n};\n\nexport default texts;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport { CurrentUserContext, ErrorsContext } from '../../../contexts';\nimport { useAuth, useFormWithValidation } from '../../../hooks';\nimport getServerErrors from '../../../utils/form-errors';\nimport { AFISHA_URL } from '../../../config/routes';\nimport { ERROR_CODES, ERROR_MESSAGES } from '../../../config/constants';\nimport { recoverPassword } from '../../../api/user';\nimport Popup from '../Popup/Popup';\nimport { Button, Input, TitleH2 } from '../../utils';\nimport animationSuccess from '../../../assets/animation/ill_popup_recommend-success.json';\nimport './PopupLogin.scss';\n\nconst {\n  title,\n  firstParagraph,\n  secondParagraph,\n  loginPlaceholder,\n  passwordPlaceholder,\n  forgotButtonText,\n  submitButtonText,\n  titleForgotForm,\n  paragraphForgotForm,\n  emailPlaceholder,\n  backButtonText,\n  submitButtonTextForgot,\n  loadingButtonTextLogin,\n  loadingButtonTextForgot,\n} = texts;\n\nconst validationSettings = {\n  username: {\n    maxLength: 150,\n  },\n  password: {\n    minLength: 8,\n  },\n};\n\nfunction PopupLogin({ isOpen, onClose }) {\n  const { updateUser } = useContext(CurrentUserContext);\n  const { serverError, clearError, setError } = useContext(ErrorsContext);\n  const { generalErrorMessage } = ERROR_MESSAGES;\n  const { badRequest } = ERROR_CODES;\n\n  const [isForgotPassword, setIsForgotPassword] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isRecoveringPassword, setIsRecoveringPassword] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const animationContainer = useRef(null);\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animationSuccess,\n    });\n  }, []);\n\n  const errorsString = serverError ? getServerErrors(serverError) : '';\n\n  const { handleLogin, isWaitingResponse } = useAuth(updateUser);\n\n  function handleClickForgotPassword() {\n    setIsForgotPassword(!isForgotPassword);\n  }\n\n  function successForgotPassword() {\n    setIsSuccess(false);\n    setIsForgotPassword(false);\n  }\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    handleLogin(values);\n  }\n\n  function handleError(err) {\n    if (err?.status === badRequest) setError(err?.data);\n    else setError({ message: generalErrorMessage.title });\n  }\n\n  function handleSubmitForgotPassword(evt) {\n    setIsRecoveringPassword(true);\n    evt.preventDefault();\n    recoverPassword(values)\n      .then((res) => {\n        setSuccessMessage(res?.email);\n        resetForm();\n        clearError();\n        setIsSuccess(true);\n        setTimeout(successForgotPassword, 6000);\n      })\n      .catch(handleError)\n      .finally(() => setIsRecoveringPassword(false));\n  }\n\n  //! аварийный перевод на главную, если не хочешь логиниться\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  function closePopup() {\n    if (pathname === AFISHA_URL) {\n      history.push('/');\n    }\n    setSuccessMessage('');\n    onClose();\n  }\n\n  function closePopupOnEsc(evt) {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (isOpen) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [pathname, isOpen]);\n\n  useEffect(() => {\n    resetForm();\n    clearError();\n  }, [isOpen, isForgotPassword]);\n\n  useEffect(() => {\n    setIsForgotPassword(false);\n  }, [isOpen]);\n\n  const classNameAuth = [\n    'popup__form',\n    'popup__form_type_sign-in',\n    `${isOpen && !isForgotPassword ? 'popup__form_type_sign-in_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const classForgotPassword = [\n    'popup__form',\n    'popup__form_type_email',\n    `${isForgotPassword && !isSuccess ? 'popup__form_type_email_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  const classNameSuccess = [\n    'popup__login-container_success',\n    `${isSuccess ? 'popup__login-container_success_opened' : ''}`,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Popup\n      type=\"sign-in\"\n      typeContainer=\"sign-in\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      {renderFormAuth()}\n      {renderFormForgotPassword()}\n      {renderSuccessLoginContainer()}\n    </Popup>\n  );\n\n  function renderFormAuth() {\n    return (\n      <form\n        className={classNameAuth}\n        onSubmit={(evt) => handleSubmit(evt)}\n        noValidate\n      >\n        <TitleH2 sectionClass=\"popup__title_type_sign-in\" title={title} />\n        <p className=\"paragraph popup__sign-in\">{firstParagraph}</p>\n        <p className=\"paragraph popup__sign-in\">{secondParagraph}</p>\n\n        <Input\n          id=\"loginUsernameInput\"\n          sectionClass=\"popup__input\"\n          type=\"text\"\n          name=\"username\"\n          placeholder={loginPlaceholder}\n          onChange={handleChange}\n          value={values?.username}\n          error={errors?.username}\n          maxLength={validationSettings.username.maxLength}\n          required\n        />\n\n        <Input\n          id=\"loginPasswordInput\"\n          sectionClass=\"popup__input\"\n          type=\"password\"\n          name=\"password\"\n          placeholder={passwordPlaceholder}\n          onChange={handleChange}\n          value={values?.password}\n          error={errors?.password}\n          minLength={validationSettings.password.minLength}\n          required\n        />\n\n        <button\n          className=\"popup__forgot-password\"\n          type=\"button\"\n          onClick={handleClickForgotPassword}\n        >\n          {forgotButtonText}\n        </button>\n        <span className=\"form-error-message\">{errorsString}</span>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title={isWaitingResponse ? loadingButtonTextLogin : submitButtonText}\n          isDisabled={isWaitingResponse || !isValid}\n          isSubmittable\n        />\n      </form>\n    );\n  }\n\n  function renderFormForgotPassword() {\n    return (\n      <form\n        className={classForgotPassword}\n        onSubmit={(evt) => handleSubmitForgotPassword(evt)}\n        noValidate\n      >\n        <TitleH2\n          sectionClass=\"popup__title_type_sign-in\"\n          title={titleForgotForm}\n        />\n        <p className=\"paragraph popup__sign-in\">{paragraphForgotForm}</p>\n\n        <Input\n          id=\"loginUseremailInput\"\n          sectionClass=\"popup__input\"\n          type=\"email\"\n          name=\"email\"\n          placeholder={emailPlaceholder}\n          onChange={handleChange}\n          value={values?.email}\n          error={errors?.email}\n          required\n        />\n        <button\n          className=\"popup__forgot-password\"\n          type=\"button\"\n          onClick={handleClickForgotPassword}\n        >\n          {backButtonText}\n        </button>\n        <span className=\"form-error-message\">{errorsString}</span>\n        <Button\n          sectionClass=\"popup__button_type_sign-in\"\n          color=\"blue\"\n          title={\n            isRecoveringPassword\n              ? loadingButtonTextForgot\n              : submitButtonTextForgot\n          }\n          isDisabled={isRecoveringPassword || !isValid}\n          isSubmittable\n        />\n      </form>\n    );\n  }\n\n  function renderSuccessLoginContainer() {\n    return (\n      <div className={classNameSuccess}>\n        <div\n          ref={animationContainer}\n          className=\"popup__login-container_success-animation\"\n        />\n        <TitleH2 title={successMessage} />\n      </div>\n    );\n  }\n}\n\nPopupLogin.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default PopupLogin;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleLoading: 'Идёт запись...',\n  buttonTitleSelected: 'Отменить запись',\n  buttonCancelLoading: 'Отмена записи...',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  changeCaseOfFirstLetter,\n  formatDate,\n  formatPhoneNumber,\n  formatWordCase,\n} from '../../../utils/utils';\nimport '../../Cards/CardCalendar/CardCalendar.scss';\nimport Popup from '../Popup/Popup';\nimport { Button, ModificatedScrollbars, TitleH2 } from '../../utils';\nimport { getLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { useEventBooking } from '../../../hooks';\nimport { localStAfishaEvent } from '../../../config/constants';\n\nfunction PopupAboutEvent({ isWithoutRegister, isOpen, onClose }) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n    buttonCancelLoading,\n    buttonTitleLoading,\n  } = texts;\n\n  const { handleEventBooking, isWaitingResponse } = useEventBooking();\n  const card = getLocalStorageData(localStAfishaEvent);\n\n  const startDateParts = formatDate(card?.startAt);\n  const endDayParts = formatDate(card?.endAt);\n  const isDisabled = card?.remainSeats < 1 && !card?.booked;\n  const isCanceling = isWaitingResponse && card?.booked;\n  const isRegistering = isWaitingResponse && !card?.booked;\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    // передаем карточку и сообщаем функции, что запись без подтверждения\n    handleEventBooking(card, true);\n  }\n\n  return (\n    <Popup\n      type=\"about-event\"\n      typeContainer=\"calendar\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      {card && (\n        <form className=\"popup__form\" onSubmit={handleSubmit}>\n          <div className=\"calendar__caption\">\n            <div className=\"calendar__info\">\n              <p className=\"calendar__type\">\n                {changeCaseOfFirstLetter(card?.tags?.name)}\n              </p>\n              <p className=\"calendar__weekday\">\n                {`${startDateParts?.monthName} / ${startDateParts?.weekdayName}`}\n              </p>\n            </div>\n            <div className=\"calendar__about calendar__about_modal\">\n              <TitleH2\n                title={card?.title}\n                sectionClass=\"calendar__title calendar__title_type_popup\"\n              />\n              <p className=\"calendar__date\">{startDateParts?.day}</p>\n            </div>\n          </div>\n          <div className=\"calendar__meetup\">\n            <ul className=\"calendar__info-list\">\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__time\">\n                  {`${startDateParts?.hour}:${startDateParts?.minutes}–${endDayParts?.hour}:${endDayParts?.minutes}`}\n                </p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__place\">{card?.address}</p>\n              </li>\n              <li className=\"calendar__info-item\">\n                <p className=\"calendar__contact\">\n                  {`${card?.contact}, `}\n                  {renderPhone()}\n                </p>\n              </li>\n            </ul>\n            <div className=\"calendar__description\">\n              <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n                <p className=\"paragraph calendar__desc-paragraph\">\n                  {card?.description}\n                </p>\n              </ModificatedScrollbars>\n            </div>\n\n            {!isWithoutRegister && (\n              <div className=\"calendar__submit\">\n                <Button\n                  color=\"blue\"\n                  title={isRegistering ? buttonTitleLoading : buttonTitle}\n                  titleSelected={\n                    isCanceling ? buttonCancelLoading : buttonTitleSelected\n                  }\n                  sectionClass=\"button_action_confirm\"\n                  isSubmittable\n                  isBooked={card?.booked}\n                  isDisabled={isCanceling || isRegistering || isDisabled}\n                />\n                <p className=\"calendar__place-left\">\n                  {(isDisabled && buttonTitleDisabled) ||\n                    (!card?.booked &&\n                      `${remainSeatsText} ${card?.remainSeats} ${formatWordCase(\n                        card?.remainSeats\n                      )}`)}\n                </p>\n              </div>\n            )}\n          </div>\n        </form>\n      )}\n    </Popup>\n  );\n\n  function renderPhone() {\n    return (\n      <a className=\"calendar__phone\" href={`tel:${card?.phoneNumber}`}>\n        {formatPhoneNumber(card?.phoneNumber)}\n      </a>\n    );\n  }\n}\n\nPopupAboutEvent.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  isWithoutRegister: PropTypes.bool,\n};\n\nPopupAboutEvent.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n  isWithoutRegister: false,\n};\n\nexport default PopupAboutEvent;\n","const texts = {\n  title: 'Выберите ваш город',\n};\n\nexport default texts;\n","import { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from '../../../contexts';\nimport { updateUserProfile } from '../../../api/user';\nimport {\n  DELAY_DEBOUNCE,\n  ERROR_MESSAGES,\n  localStUserCity,\n} from '../../../config/constants';\nimport {\n  dispatchLocalStorageEvent,\n  getLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { useDebounce } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport { ModificatedScrollbars, TitleH2 } from '../../utils';\nimport './PopupCities.scss';\n\nfunction PopupCities({ isOpen, onClose }) {\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { cities, defaultCity } = useContext(CitiesContext);\n  const { setError } = useContext(ErrorsContext);\n  const { openPopupError } = useContext(PopupsContext);\n\n  const currentUserCity =\n    currentUser?.city || getLocalStorageData(localStUserCity);\n\n  function closePopup() {\n    if (!currentUser && !getLocalStorageData(localStUserCity)) {\n      dispatchLocalStorageEvent(localStUserCity, defaultCity?.id);\n    }\n    onClose();\n  }\n\n  const closePopupOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      closePopup();\n    }\n  };\n\n  const submitCity = (evt) => {\n    const cityId = parseInt(evt.target.value, 10);\n    if (currentUser) {\n      updateUserProfile({ city: cityId })\n        .then((res) => {\n          updateUser(res);\n          onClose();\n        })\n        .catch(() => {\n          setError(ERROR_MESSAGES.citiesErrorMessage);\n          openPopupError();\n        });\n    } else {\n      dispatchLocalStorageEvent(localStUserCity, cityId);\n      onClose();\n    }\n  };\n\n  const debounceSubmitCity = useDebounce(submitCity, DELAY_DEBOUNCE);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (defaultCity) {\n      window.addEventListener('keyup', closePopupOnEsc);\n      return () => window.removeEventListener('keyup', closePopupOnEsc);\n    }\n  }, [defaultCity]);\n\n  return (\n    <Popup\n      type=\"cities\"\n      typeContainer=\"cities\"\n      isOpen={isOpen}\n      onClose={closePopup}\n      withoutCloseButton\n    >\n      <div className=\"popup__form\">\n        <TitleH2 title={texts.title} sectionClass=\"cities__title\" />\n        <div className=\"cities__container\">\n          <ul className=\"cities__list cities__list_type_primary\">\n            {cities &&\n              cities\n                .filter((city) => city?.isPrimary === true)\n                .map((city) => renderCityItem(city))}\n          </ul>\n          <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n            <ul className=\"cities__list\">\n              {cities &&\n                cities\n                  .filter((city) => city?.isPrimary !== true)\n                  .map((city) => renderCityItem(city))}\n            </ul>\n          </ModificatedScrollbars>\n        </div>\n      </div>\n    </Popup>\n  );\n\n  function renderCityItem(city) {\n    return (\n      <li className=\"cities__list-item\" key={city?.id}>\n        <button\n          className={`cities__city ${\n            currentUserCity === city?.id ? 'cities__city_current' : ''\n          }`}\n          type=\"button\"\n          value={city?.id}\n          onClick={(evt) => debounceSubmitCity(evt)}\n        >\n          {city?.name}\n        </button>\n      </li>\n    );\n  }\n}\n\nPopupCities.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupCities.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupCities;\n","import PropTypes from 'prop-types';\nimport { useContext, useEffect } from 'react';\nimport Popup from '../Popup/Popup';\nimport { Button, TitleH2 } from '../../utils';\nimport { ErrorsContext } from '../../../contexts';\nimport './PopupError.scss';\n\nfunction PopupError({ isOpen, onClose }) {\n  const { serverError } = useContext(ErrorsContext);\n\n  const closeOnEsc = (evt) => {\n    if (evt.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keyup', closeOnEsc);\n    return () => window.removeEventListener('keyup', closeOnEsc);\n  }, []);\n\n  return (\n    <Popup\n      type=\"error\"\n      typeContainer=\"calendar\"\n      sectionClass=\"popup__container_error\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <TitleH2\n        sectionClass=\"popup__title_type_calendar popup__title_type_error\"\n        title={serverError?.title}\n      />\n      <div className=\"popup__buttons_type_calendar\">\n        <Button\n          color=\"black\"\n          title={serverError?.button}\n          sectionClass=\"popup__button_type_error\"\n          onClick={onClose}\n        />\n      </div>\n    </Popup>\n  );\n}\n\nPopupError.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupError.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupError;\n","import PropTypes from 'prop-types';\nimport Popup from '../Popup/Popup';\nimport { Caption, TitleH2 } from '../../utils/index';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport {\n  getLocalStorageData,\n  removeLocalStorageData,\n} from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport './PopupVideo.scss';\n\nconst PopupVideo = ({ isOpen, onClose }) => {\n  const data = getLocalStorageData(localStChosenVideo);\n  const { frameSrc } = parserLinkYoutube(data?.link);\n\n  const closePopup = () => {\n    removeLocalStorageData(localStChosenVideo);\n    onClose();\n  };\n\n  return (\n    <Popup\n      type=\"video\"\n      typeContainer=\"video\"\n      isOpen={isOpen}\n      onClose={closePopup}\n    >\n      <>\n        <iframe\n          title=\"youTubePlayer\"\n          id=\"playeryt\"\n          className=\"popup__video-iframe\"\n          src={frameSrc}\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          seamless\n        />\n        <TitleH2 sectionClass=\"popup__video-title\" title={data?.title} />\n        <Caption sectionClass=\"popup__video-caption\" title={data?.info} />\n      </>\n    </Popup>\n  );\n};\n\nPopupVideo.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nPopupVideo.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupVideo;\n","import PropTypes from 'prop-types';\nimport { useCloseOnEscape } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport './PopupPhoto.scss';\n\nfunction PopupPhoto({ isOpen, onClose, currentPhoto }) {\n  useCloseOnEscape(isOpen, onClose);\n\n  return (\n    <Popup isOpen={isOpen} onClose={onClose} type=\"photo\" typeContainer=\"photo\">\n      <figure className=\"popup__photo-figure\">\n        <img\n          className=\"popup__full-image\"\n          src={currentPhoto?.photoSrc}\n          alt={currentPhoto?.caption}\n        />\n        <figcaption className=\"popup__full-caption\">\n          {currentPhoto?.caption}\n        </figcaption>\n      </figure>\n    </Popup>\n  );\n}\n\nPopupPhoto.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  currentPhoto: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default PopupPhoto;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useCloseOnEscape } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport { COLORS } from '../../../config/constants';\nimport CardArticle from '../../Cards/CardArticle/CardArticle';\nimport './PopupArticle.scss';\n\nconst PopupArticle = ({ isOpen, onClose, article }) => {\n  const getRandomColor = (max) => Math.floor(Math.random() * max);\n\n  useCloseOnEscape(isOpen, onClose);\n\n  return (\n    <Popup\n      type=\"article\"\n      typeContainer=\"article\"\n      sectionClass=\"popup__container_article\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n    >\n      <CardArticle\n        color={COLORS[getRandomColor(COLORS.length)]}\n        data={article}\n        sectionClass=\"scale-in\"\n      />\n    </Popup>\n  );\n};\n\nPopupArticle.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  article: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nPopupArticle.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupArticle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useCloseOnEscape } from '../../../hooks';\nimport Popup from '../Popup/Popup';\nimport CardBook from '../../Cards/CardBook/CardBook';\nimport './PopupBook.scss';\n\nconst PopupBook = ({ isOpen, onClose, book }) => {\n  useCloseOnEscape(isOpen, onClose);\n\n  return (\n    <Popup\n      type=\"book\"\n      typeContainer=\"book\"\n      sectionClass=\"popup__container_book\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n    >\n      <CardBook data={book} />\n    </Popup>\n  );\n};\n\nPopupBook.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  book: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nPopupBook.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupBook;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useCloseOnEscape } from '../../../hooks';\nimport { COLORS } from '../../../config/constants';\nimport Popup from '../Popup/Popup';\nimport CardPlace from '../../Cards/CardPlace/CardPlace';\nimport './PopupPlace.scss';\n\nconst PopupPlace = ({ isOpen, onClose, place, activityTypesSimplified }) => {\n  const getRandomColor = (max) => Math.floor(Math.random() * max);\n\n  useCloseOnEscape(isOpen, onClose);\n\n  return (\n    <Popup\n      type=\"place\"\n      typeContainer=\"place\"\n      sectionClass=\"popup__container_place\"\n      isOpen={isOpen}\n      onClose={onClose}\n      withoutCloseButton\n    >\n      <CardPlace\n        data={place}\n        activityTypesSimplified={activityTypesSimplified}\n        color={COLORS[getRandomColor(COLORS.length)]}\n        sectionClass=\"card-container_type_article scale-in\"\n      />\n    </Popup>\n  );\n};\n\nPopupPlace.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func,\n  place: PropTypes.objectOf(PropTypes.any).isRequired,\n  activityTypesSimplified: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nPopupPlace.defaultProps = {\n  isOpen: false,\n  onClose: () => {},\n};\n\nexport default PopupPlace;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить юзера с сервера\nfunction getUserData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/profile/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// обновить профиль пользователя\nfunction updateUserProfile(dataToUpdate) {\n  return axios\n    .patch(`${baseURL}${apiUrl}/profile/`, dataToUpdate)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// восстановить пароль\nfunction recoverPassword(email) {\n  return axios\n    .post(`${baseURL}${apiUrl}/profile/send_password/`, email)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nexport { getUserData, updateUserProfile, recoverPassword };\n","import PropTypes from 'prop-types';\nimport { Card } from '../../utils';\nimport CardAnnotationContainer from './CardAnnotationContainer';\nimport './CardAnnotation.scss';\n\nfunction CardAnnotation({ info, description, isMain, sectionClass }) {\n  const classNames = [\n    'card-annotation',\n    isMain ? 'card-annotation_main' : '',\n    info && isMain ? '' : 'card-annotation_main_center',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <Card sectionClass={classNames}>\n      <CardAnnotationContainer caption={info}>\n        <p className=\"paragraph card-annotation__paragraph\">{description}</p>\n      </CardAnnotationContainer>\n    </Card>\n  );\n}\n\nCardAnnotation.propTypes = {\n  info: PropTypes.string,\n  description: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardAnnotation.defaultProps = {\n  info: undefined,\n  description: undefined,\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardAnnotation;\n","import getYouTubeID from 'get-youtube-id';\n\nconst parserLinkYoutube = (link) => {\n  if (link) {\n    const idVideo = getYouTubeID(link);\n    const frameSrc = `https://www.youtube.com/embed/${idVideo}`;\n    const imagePreview = `http://img.youtube.com/vi/${idVideo}/maxresdefault.jpg`;\n\n    return { frameSrc, imagePreview };\n  }\n  return '';\n};\n\nexport default parserLinkYoutube;\n","const texts = {\n  genderMale: 'Мальчик',\n  genderFemale: 'Девочка',\n  chosenTagText: 'Выбор наставника',\n  linkText: 'перейти на сайт',\n  activityTypeDefault: 'Развлекательный',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { PLACES_TITLE } from '../../../config/routes';\nimport { Caption, Card, Rubric, TitleH2 } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport './CardPlace.scss';\n\nfunction CardPlace({\n  data: {\n    image,\n    title,\n    description,\n    link,\n    chosen,\n    address,\n    gender,\n    age,\n    activityType,\n  },\n  activityTypesSimplified,\n  color,\n  sectionClass,\n  isBig,\n  isMainPage,\n}) {\n  const {\n    genderMale,\n    genderFemale,\n    linkText,\n    chosenTagText,\n    activityTypeDefault,\n  } = texts;\n\n  const cardColor = isBig ? 'yellow' : color;\n  const cardSize = isBig ? 'card-place_main' : '';\n  const sexType = gender === 'male' ? genderMale : genderFemale;\n\n  const imageClassNames = [\n    'card-place__image',\n    'card-place__image_type_article',\n    link ? '' : 'card-place__image_big',\n  ]\n    .join(' ')\n    .trim();\n\n  const info = chosen\n    ? `${sexType}, ${age} лет, ${\n        activityTypesSimplified\n          ? activityTypesSimplified[activityType]\n          : activityTypeDefault\n      } отдых`\n    : '';\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass={`card-place ${cardSize}`} color={cardColor}>\n        {isMainPage && (\n          <Rubric title={PLACES_TITLE} sectionClass=\"card-place__rubric\" />\n        )}\n\n        {chosen && !isMainPage && (\n          <Rubric title={chosenTagText} sectionClass=\"card-place__rubric\" />\n        )}\n\n        <div className=\"card-place__title-wrap\">\n          <TitleH2 sectionClass=\"card-place__title\" title={title} />\n          <Caption sectionClass=\"card-place__address\" title={address} />\n        </div>\n\n        {renderImage()}\n\n        {link && (\n          <a\n            href={link}\n            className=\"link card-place__link\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {linkText}\n          </a>\n        )}\n      </Card>\n\n      <CardAnnotation info={info} description={description} isMain={isBig} />\n    </article>\n  );\n\n  function renderImage() {\n    if ((chosen && isBig) || isMainPage) {\n      return (\n        <img\n          src={`${staticImageUrl}/${image}`}\n          alt={title}\n          className={imageClassNames}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nCardPlace.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  chosen: PropTypes.bool,\n  title: PropTypes.string,\n  address: PropTypes.string,\n  image: PropTypes.string,\n  link: PropTypes.string,\n  description: PropTypes.string,\n  gender: PropTypes.string,\n  age: PropTypes.number,\n  activityType: PropTypes.number,\n  activityTypesSimplified: PropTypes.objectOf(PropTypes.any),\n  color: PropTypes.string,\n  sectionClass: PropTypes.string,\n  isBig: PropTypes.bool,\n  isMainPage: PropTypes.bool,\n};\n\nCardPlace.defaultProps = {\n  data: {},\n  chosen: false,\n  title: '',\n  address: '',\n  image: '',\n  link: '',\n  description: '',\n  gender: 'male',\n  age: 18,\n  activityType: 1,\n  activityTypesSimplified: {},\n  color: 'white',\n  isBig: false,\n  sectionClass: '',\n  isMainPage: false,\n};\n\nexport default CardPlace;\n","import './Loader.scss';\nimport PropTypes from 'prop-types';\n\nfunction Loader({ isNested, isCentered, isSmallGrid, isPaginate }) {\n  const classNames = [\n    'spinner',\n    isNested ? 'spinner_nested' : '',\n    isCentered ? 'spinner_centered' : '',\n    isSmallGrid ? 'spinner_small-grid' : '',\n    isPaginate ? 'spinner_paginate' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <div className={classNames}>\n      <div className=\"spinner__container\">\n        <div className=\"spinner__circle spinner__circle_1\" />\n        <div className=\"spinner__circle spinner__circle_2\" />\n        <div className=\"spinner__circle spinner__circle_3\" />\n        <div className=\"spinner__circle spinner__circle_4\" />\n        <div className=\"spinner__circle spinner__circle_5\" />\n        <div className=\"spinner__circle spinner__circle_6\" />\n        <div className=\"spinner__circle spinner__circle_7\" />\n        <div className=\"spinner__circle spinner__circle_8\" />\n        <div className=\"spinner__circle spinner__circle_9\" />\n        <div className=\"spinner__circle spinner__circle_10\" />\n        <div className=\"spinner__circle spinner__circle_11\" />\n        <div className=\"spinner__circle spinner__circle_12\" />\n      </div>\n    </div>\n  );\n}\n\nLoader.propTypes = {\n  isNested: PropTypes.bool,\n  isCentered: PropTypes.bool,\n  isSmallGrid: PropTypes.bool,\n  isPaginate: PropTypes.bool,\n};\n\nLoader.defaultProps = {\n  isNested: false,\n  isCentered: false,\n  isSmallGrid: false,\n  isPaginate: false,\n};\n\nexport default Loader;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// запись на мероприятие\nfunction makeEventRegistration(eventId) {\n  return axios\n    .post(`${baseURL}${apiUrl}/afisha/event-participants/`, eventId)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// отписка регистрации на мероприятие\nfunction cancelEventRegistration(eventId) {\n  return axios\n    .delete(`${baseURL}${apiUrl}/afisha/event-participants/${eventId}/`)\n    .then((response) => response)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\n// получение списка всех мероприятий на которые записан юзер\nfunction getBookedEvents({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nfunction getArchiveOfBookedEvents({ limit, offset }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/afisha/event-participants/archive/`, {\n      params: { limit, offset },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  makeEventRegistration,\n  cancelEventRegistration,\n  getBookedEvents,\n  getArchiveOfBookedEvents,\n};\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n};\n\nexport default texts;\n","const texts = {\n  changeCity: 'Изменить город',\n  changeCityDefault: 'Изменить ваш город',\n  logoutText: 'Выйти',\n  searchPlaceholder: 'Поиск',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { DropDownMenu } from '../utils';\nimport './NavItemWithDropdown.scss';\n\nfunction NavItemWithDropdown({ sectionWrapperClass, linkText, href }) {\n  return (\n    <li className={sectionWrapperClass}>\n      <NavLink className=\"menu__link\" to={href}>\n        {linkText}\n      </NavLink>\n\n      <DropDownMenu sectionWrapperClass=\"menu__dropdown-list\" />\n    </li>\n  );\n}\n\nNavItemWithDropdown.propTypes = {\n  sectionWrapperClass: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nNavItemWithDropdown.defaultProps = {\n  href: '',\n};\n\nexport default NavItemWithDropdown;\n","const texts = {\n  notFoundText: 'По вашему запросу ничего не найдено',\n  searchText: 'Введите свой запрос',\n  ariaLabelCloseButton: 'Закрыть',\n};\n\nexport default texts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nconst search = ({ text = '', city }) =>\n  axios\n    .get(`${baseURL}${apiUrl}/search/`, {\n      params: { text, city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n\nexport default search;\n","import { useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport texts from './locales/RU';\nimport { Loader, SearchButton } from '../utils';\nimport { useDebounce, useFormWithValidation } from '../../hooks';\nimport { getLocalStorageData } from '../../hooks/useLocalStorage';\nimport search from '../../api/search';\nimport { CATALOG_URL, RIGHTS_URL, STORIES_URL } from '../../config/routes';\nimport { CurrentUserContext } from '../../contexts';\nimport { DELAY_DEBOUNCE, localStUserCity } from '../../config/constants';\nimport './Search.scss';\n\nfunction Search({\n  isOpenSearch,\n  setIsOpenSearch,\n  isMobileMenuOpen,\n  setIsMobileMenuOpen,\n}) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  // приоритет города у авторизованного, затем у выбранного на странице Куда пойти\n  const currentAnonymousCity = getLocalStorageData(localStUserCity);\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  const { values, handleChange, resetForm } = useFormWithValidation();\n  const [searchResults, setSearchResults] = useState([]);\n  const [isVoidSearch, setIsVoidSearch] = useState(false);\n  const [isLoadingSearch, setIsLoadingSearch] = useState(false);\n\n  const inputRef = useRef(null);\n\n  const getPathName = (url, id) => {\n    if (`/${url}` === RIGHTS_URL) return `/${url}/${id}`;\n    if (`/${url}` === CATALOG_URL) return `/${url}/${id}`;\n    if (`/${url}` === STORIES_URL) return `/${url}/${id}`;\n    return `/${url}`;\n  };\n\n  const animateListItem = (idx) => ({\n    opacity: '0',\n    animation: `fade-in 0.5s ease-out ${idx / 12}s forwards`,\n  });\n\n  const animateLink = (idx) => ({\n    opacity: '0',\n    animation: `slide-in 0.5s ease-out ${idx / 10}s forwards`,\n  });\n\n  const handleClickButton = () => {\n    setIsOpenSearch(!isOpenSearch);\n    resetForm();\n    setSearchResults([]);\n    setIsVoidSearch(false);\n  };\n\n  const handleClickLink = () => {\n    setIsOpenSearch(!isOpenSearch);\n  };\n\n  const handleSearchRequest = async () => {\n    const searchParams = userCity\n      ? { text: values.search, city: userCity }\n      : { text: values.search };\n    const currentRequest = search(searchParams);\n    const { count, results } = await currentRequest;\n    setSearchResults(results);\n    setIsLoadingSearch(false);\n    return count === 0 ? setIsVoidSearch(true) : setIsVoidSearch(false);\n  };\n\n  const handleDebouncedRequest = useDebounce(\n    handleSearchRequest,\n    DELAY_DEBOUNCE\n  );\n\n  useEffect(() => {\n    // проверка на пустой запрос и запрос из пробелов\n    if (values.search && values.search.trim()) {\n      setIsLoadingSearch(true);\n      handleDebouncedRequest();\n    }\n  }, [values]);\n\n  useEffect(() => {\n    if (isMobileMenuOpen) setIsOpenSearch(false);\n  }, [isMobileMenuOpen]);\n\n  useEffect(() => {\n    if (isOpenSearch) setIsMobileMenuOpen(false);\n    // автофокус при открытии поиска\n    if (isOpenSearch && inputRef && inputRef.current) inputRef.current.focus();\n  }, [isOpenSearch]);\n\n  return (\n    <form\n      className=\"search\"\n      name=\"search-form\"\n      onSubmit={(evt) => evt.preventDefault()}\n    >\n      <SearchButton\n        isOpenSearch={isOpenSearch}\n        handleClickButton={handleClickButton}\n      />\n      <div\n        className={`search__options menu__search-options ${\n          isOpenSearch ? 'search__options_visible' : ''\n        }`}\n      >\n        <div className=\"search__container-input\">\n          <div className=\"search__input-wrap\">\n            <input\n              ref={inputRef}\n              type=\"text\"\n              name=\"search\"\n              placeholder=\"\"\n              className=\"search__input paragraph\"\n              autoComplete=\"off\"\n              onChange={handleChange}\n              value={values.search || ''}\n            />\n            <button\n              type=\"button\"\n              aria-label={texts.ariaLabelCloseButton}\n              className=\"search__close-button\"\n              onClick={handleClickButton}\n            />\n          </div>\n          <span className=\"search__input-border\" />\n        </div>\n\n        {renderSearchContent()}\n      </div>\n    </form>\n  );\n\n  function renderSearchItems() {\n    if (isVoidSearch)\n      return <p className=\"search__content_type_void\">{texts.notFoundText}</p>;\n\n    if (searchResults.length > 0) {\n      return (\n        <ul className=\"search__option-list\">\n          {searchResults.map((item, idx) => (\n            <li\n              key={item.page + item.id}\n              className=\"search__option-item\"\n              style={animateListItem(idx)}\n            >\n              <Link\n                onClick={handleClickLink}\n                to={{\n                  pathname: getPathName(item.page, item.id),\n                  state: { id: item.id },\n                }}\n                className=\"section-title section-title_clickable search__title-link\"\n                style={animateLink(idx)}\n              >\n                {item.title}\n              </Link>\n              <Link\n                to={`/${item.page}`}\n                className=\"link search__link\"\n                style={animateLink(idx)}\n                onClick={handleClickLink}\n              >\n                {item.modelName.toLowerCase()}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      );\n    }\n\n    return <p className=\"search__content_type_ask\">{texts.searchText}</p>;\n  }\n\n  function renderSearchContent() {\n    return isLoadingSearch ? <Loader isNested /> : renderSearchItems();\n  }\n}\n\nSearch.propTypes = {\n  isOpenSearch: PropTypes.bool,\n  setIsOpenSearch: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  setIsMobileMenuOpen: PropTypes.func,\n};\n\nSearch.defaultProps = {\n  isOpenSearch: false,\n  setIsOpenSearch: () => {},\n  isMobileMenuOpen: false,\n  setIsMobileMenuOpen: () => {},\n};\n\nexport default Search;\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts';\nimport texts from './locales/RU';\nimport {\n  ABOUT_US_TITLE,\n  ABOUT_US_URL,\n  AFISHA_TITLE,\n  AFISHA_URL,\n  MAIN_PAGE_TITLE,\n  PLACES_TITLE,\n  PLACES_URL,\n  QUESTIONS_TITLE,\n  QUESTIONS_URL,\n  READ_AND_WATCH_TITLE,\n  READ_AND_WATCH_URL,\n  RIGHTS_TITLE,\n  RIGHTS_URL,\n  STORIES_TITLE,\n  STORIES_URL,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport NavItemWithDropdown from '../NavItemWithDropdown/NavItemWithDropdown';\nimport Search from '../Search/Search';\nimport { NavItem, UserIconButton, UserMenuButton } from '../utils';\nimport './NavBar.scss';\n\nfunction NavBar({\n  isMobileMenuOpen,\n  onUserButtonClick,\n  onBurgerButtonClick,\n  onCityChangeClick,\n  onLogout,\n  userCityName,\n  setIsMobileMenuOpen,\n  isOpenSearch,\n  setIsOpenSearch,\n}) {\n  const { pathname } = useLocation();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const handleClick = () => {\n    setIsOpenSearch(false);\n  };\n\n  return (\n    <nav className={`menu ${isOpenSearch ? 'menu_state_search' : ''}`}>\n      {/* логотип */}\n      <Link\n        to=\"/\"\n        target=\"_self\"\n        className=\"menu__logo mobile-link\"\n        onClick={handleClick}\n      >\n        {MAIN_PAGE_TITLE}\n      </Link>\n      {/* обычное меню */}\n      <div\n        className={`menu__lists-wrap ${\n          !isMobileMenuOpen ? 'menu__lists-wrap_hidden' : ''\n        }`}\n      >\n        <ul className=\"menu__list\">\n          {/* О проекте, скрытый */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item menu__list-item_hidden\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          {/* Календарь */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          {/* Куда пойти */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          {/* Вопросы */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          {/* выпадающее меню  \"Читать и смотреть\" */}\n          <NavItemWithDropdown\n            sectionWrapperClass=\"menu__list-item menu__dropdown-item\"\n            linkText={READ_AND_WATCH_TITLE}\n            href={READ_AND_WATCH_URL}\n          />\n          {/* Права детей */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          {/* Истории */}\n          <NavItem\n            sectionWrapperClass=\"menu__list-item\"\n            sectionLinkClass=\"menu__link mobile-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n\n        <ul\n          className={`menu__list menu__list_type_social ${\n            !isMobileMenuOpen ? 'menu__list_hidden' : ''\n          }`}\n        >\n          {React.Children.toArray(\n            socialLinks.map((link) => (\n              <li className=\"menu__list-item\">\n                <a\n                  className=\"menu__link mobile-link\"\n                  href={link.url}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {link.title}\n                </a>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n\n      {renderUserMenuButtons()}\n\n      <button\n        onClick={onBurgerButtonClick}\n        className={`menu__burger ${\n          isMobileMenuOpen ? 'menu__burger_active' : ''\n        }`}\n        type=\"button\"\n      >\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n        <span className=\"menu__burger-line\" />\n      </button>\n\n      <ul className=\"menu__button-list\">\n        <li className=\"menu__button-item\">\n          <Search\n            isOpenSearch={isOpenSearch}\n            setIsOpenSearch={setIsOpenSearch}\n            isMobileMenuOpen={isMobileMenuOpen}\n            setIsMobileMenuOpen={setIsMobileMenuOpen}\n          />\n        </li>\n        <li className=\"menu__button-item\">\n          <UserIconButton\n            sectionClass=\"mobile-link\"\n            isAuthorized={!!currentUser}\n            handleClick={onUserButtonClick}\n          />\n        </li>\n      </ul>\n    </nav>\n  );\n\n  function renderLogoutButton() {\n    return (\n      <UserMenuButton\n        title={texts.logoutText}\n        sectionClass=\"mobile-link\"\n        handleClick={onLogout}\n      />\n    );\n  }\n\n  function renderUserMenuButtons() {\n    if (currentUser || pathname === PLACES_URL) {\n      return (\n        <div\n          className={`menu__user-info ${\n            !isMobileMenuOpen ? 'menu__user-info_hidden' : ''\n          }`}\n        >\n          <UserMenuButton\n            title={\n              userCityName\n                ? `${userCityName}. ${texts.changeCity}`\n                : texts.changeCityDefault\n            }\n            handleClick={onCityChangeClick}\n            sectionClass={`mobile-link ${\n              !currentUser ? 'menu__user-info_center' : ''\n            }`}\n          />\n          {currentUser && renderLogoutButton()}\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nNavBar.propTypes = {\n  onUserButtonClick: PropTypes.func,\n  onBurgerButtonClick: PropTypes.func,\n  onCityChangeClick: PropTypes.func,\n  onLogout: PropTypes.func,\n  isMobileMenuOpen: PropTypes.bool,\n  userCityName: PropTypes.string,\n  setIsMobileMenuOpen: PropTypes.func,\n  isOpenSearch: PropTypes.bool,\n  setIsOpenSearch: PropTypes.func,\n};\n\nNavBar.defaultProps = {\n  onUserButtonClick: () => {},\n  onBurgerButtonClick: () => {},\n  onCityChangeClick: () => {},\n  onLogout: () => {},\n  isMobileMenuOpen: false,\n  userCityName: '',\n  setIsMobileMenuOpen: () => {},\n  isOpenSearch: false,\n  setIsOpenSearch: () => {},\n};\n\nexport default NavBar;\n","import { useContext, useEffect, useLayoutEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  PopupsContext,\n} from '../../contexts';\nimport { useAuth, useClickOutside, useLocalStorage } from '../../hooks';\nimport { AFISHA_URL, PLACES_URL, PROFILE_URL } from '../../config/routes';\nimport { localStUserCity } from '../../config/constants';\nimport NavBar from '../NavBar/NavBar';\nimport { UserMenuButton } from '../utils';\nimport './Header.scss';\n\nconst onScrollUpDelay = 100;\n\nfunction Header({ isTransparentOnTop }) {\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const { currentUser, updateUser } = useContext(CurrentUserContext);\n  const { openPopupCities, openPopupLogin } = useContext(PopupsContext);\n  const { cities } = useContext(CitiesContext);\n\n  const { handleLogout } = useAuth(updateUser);\n\n  const [userCityName, setUserCityName] = useState('');\n  let currentAnonymousCity;\n\n  if (pathname === PLACES_URL) {\n    const getLocalStorageItem = useLocalStorage(localStUserCity);\n    currentAnonymousCity = getLocalStorageItem();\n  }\n\n  // сохранённый в localStorage город анонимуса\n  const userCity = currentUser?.city ?? currentAnonymousCity;\n\n  // определение города пользователя, используется в кнопках\n  useEffect(() => {\n    if (cities && userCity) {\n      const currentCity = cities.find((city) => city?.id === userCity);\n      setUserCityName(currentCity?.name);\n    }\n  }, [cities, userCity]);\n\n  // клик по иконке человечка\n  const handleUserButtonClick = () => {\n    if (currentUser) history.push(PROFILE_URL);\n    else openPopupLogin();\n  };\n\n  // меню бургер\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n  };\n\n  // закрытие мобильного меню по клику вне хедера\n  const headerRef = useClickOutside(() => setIsMobileMenuOpen(false));\n\n  // закрытие мобильного меню по клику на ссылки\n  const handleCloseMobileMenu = (evt) => {\n    const { target } = evt;\n    if (isMobileMenuOpen && target.classList.contains('mobile-link')) {\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  // состояние поиска\n  const [isOpenSearch, setIsOpenSearch] = useState(false);\n\n  // состояния хедера\n  const [isHeaderActive, setIsHeaderActive] = useState(true);\n  const [isHeaderOnTop, setIsHeaderOnTop] = useState(true);\n  let prevScrollPos = 0;\n\n  const detectHeaderOnTop = () => {\n    if (window.scrollY === 0) setIsHeaderOnTop(true);\n    else if (window.scrollY > 0 && isHeaderOnTop) setIsHeaderOnTop(false);\n  };\n\n  const detectScrollUp = () => {\n    if (isTransparentOnTop) detectHeaderOnTop();\n\n    const currentScrollPos = window.pageYOffset;\n    // если prevScrollPos больше currentScrollPos значит мы скролим наверх\n    if (prevScrollPos > currentScrollPos) {\n      setIsHeaderActive(true);\n    } else {\n      setIsHeaderActive(false);\n      setIsMobileMenuOpen(false);\n    }\n\n    if (currentScrollPos === 0) {\n      setIsHeaderActive(true);\n    }\n    prevScrollPos = currentScrollPos;\n  };\n\n  let debounceTimer;\n  const debouncedScrollUp = () => {\n    if (debounceTimer) {\n      clearTimeout(debounceTimer);\n    }\n    debounceTimer = setTimeout(() => {\n      detectScrollUp();\n    }, onScrollUpDelay);\n  };\n\n  useLayoutEffect(() => {\n    window.addEventListener('scroll', debouncedScrollUp);\n    return () => window.removeEventListener('scroll', debouncedScrollUp);\n  }, []);\n\n  const classNamesHeader = [\n    'header',\n    isTransparentOnTop && isHeaderOnTop && !isOpenSearch\n      ? 'header_transparent'\n      : '',\n    isMobileMenuOpen ? 'header_displayed' : '',\n    !isHeaderActive && !isOpenSearch ? 'header__on-scroll-up' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <header\n      className={classNamesHeader}\n      ref={headerRef}\n      onClick={handleCloseMobileMenu}\n      onKeyPress={handleCloseMobileMenu}\n    >\n      <div className=\"header__container\">\n        <NavBar\n          onUserButtonClick={handleUserButtonClick}\n          onBurgerButtonClick={toggleMobileMenu}\n          userCityName={userCityName}\n          onCityChangeClick={openPopupCities}\n          onLogout={handleLogout}\n          isMobileMenuOpen={isMobileMenuOpen}\n          setIsMobileMenuOpen={setIsMobileMenuOpen}\n          isOpenSearch={isOpenSearch}\n          setIsOpenSearch={setIsOpenSearch}\n        />\n\n        {(pathname === AFISHA_URL ||\n          pathname === PLACES_URL ||\n          pathname === PROFILE_URL) && (\n          <div className=\"header__user-info\">\n            <UserMenuButton\n              title={\n                userCityName\n                  ? `${userCityName}. ${texts.changeCity}`\n                  : texts.changeCityDefault\n              }\n              handleClick={openPopupCities}\n              sectionClass=\"mobile-link\"\n            />\n            {renderExitButton()}\n          </div>\n        )}\n      </div>\n    </header>\n  );\n\n  function renderExitButton() {\n    if (pathname === PROFILE_URL) {\n      return (\n        <UserMenuButton\n          title={texts.logoutText}\n          sectionClass=\"mobile-link\"\n          handleClick={handleLogout}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nHeader.propTypes = {\n  isTransparentOnTop: PropTypes.bool,\n};\n\nHeader.defaultProps = {\n  isTransparentOnTop: false,\n};\n\nexport default Header;\n","import { bbbsLinks, developmentLinks } from '../../../utils/external-links';\n\nconst texts = {\n  logoAlt: 'Логотип Старшие Братья Старшие Сестры России',\n  logoLink: bbbsLinks.about,\n  helpButtonText: 'Помочь деньгами',\n  helpButtonLink: bbbsLinks.donations,\n  devText: 'Разработка – студенты ',\n  devLink: developmentLinks.praktikum.url,\n  devOrg: developmentLinks.praktikum.title,\n  designText: 'Концепция и дизайн – ',\n  designLink: developmentLinks.design.url,\n  designOrg: developmentLinks.design.title,\n  copyright: `${'\\u00A9'} Старшие Братья Старшие Сестры`,\n};\n\nexport default texts;\n","import React from 'react';\nimport texts from './locales/RU';\nimport {\n  ABOUT_US_TITLE,\n  ABOUT_US_URL,\n  AFISHA_TITLE,\n  AFISHA_URL,\n  PLACES_TITLE,\n  PLACES_URL,\n  QUESTIONS_TITLE,\n  QUESTIONS_URL,\n  READ_AND_WATCH_TITLE,\n  READ_AND_WATCH_URL,\n  RIGHTS_TITLE,\n  RIGHTS_URL,\n  STORIES_TITLE,\n  STORIES_URL,\n} from '../../config/routes';\nimport { socialLinks } from '../../utils/external-links';\nimport { Logo, NavItem } from '../utils';\nimport './Footer.scss';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <a\n        href={texts.logoLink}\n        className=\"footer__logo\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Logo isWhite sectionClass=\"footer__logo-image\" />\n      </a>\n      <a\n        className=\"button footer__button\"\n        href={texts.helpButtonLink}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.helpButtonText}\n      </a>\n      <div className=\"footer__column footer__column_content_concept\">\n        <p className=\"footer__brand\">{texts.copyright}</p>\n        <div className=\"footer__copyright\">\n          <p className=\"footer__authors\">\n            {texts.devText}\n            <a\n              href={texts.devLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.devOrg}\n            </a>\n          </p>\n          <p className=\"footer__design\">\n            {texts.designText}\n            <a\n              href={texts.designLink}\n              className=\"footer__production\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {texts.designOrg}\n            </a>\n          </p>\n        </div>\n      </div>\n      <div className=\"footer__column footer__column_content_info\">\n        <ul className=\"footer__column-list\">\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={ABOUT_US_URL}\n            linkText={ABOUT_US_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={AFISHA_URL}\n            linkText={AFISHA_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={PLACES_URL}\n            linkText={PLACES_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={QUESTIONS_URL}\n            linkText={QUESTIONS_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={READ_AND_WATCH_URL}\n            linkText={READ_AND_WATCH_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={RIGHTS_URL}\n            linkText={RIGHTS_TITLE}\n          />\n          <NavItem\n            sectionWrapperClass=\"footer__column-links\"\n            sectionLinkClass=\"footer__column-link\"\n            href={STORIES_URL}\n            linkText={STORIES_TITLE}\n          />\n        </ul>\n      </div>\n      <div className=\"footer__column footer__column_content_social\">\n        <ul className=\"footer__column-list\">\n          {React.Children.toArray(\n            socialLinks.map((link) => (\n              <li className=\"footer__column-links\">\n                <a\n                  className=\"footer__column-link\"\n                  href={link.url}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  {link.title}\n                </a>\n              </li>\n            ))\n          )}\n        </ul>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { useScrollToTop } from '../hooks/index';\nimport Header from '../components/Header/Header';\nimport Footer from '../components/Footer/Footer';\n\nfunction BasePage({\n  children,\n  headTitle,\n  headDescription,\n  scrollUpDeps,\n  isNoFooter,\n  isHeaderTransparentOnTop,\n  sectionClassMain,\n}) {\n  useScrollToTop(scrollUpDeps);\n\n  const classNamesMain = ['main', sectionClassMain].join(' ').trim();\n\n  return (\n    <>\n      <Helmet>\n        <title>{headTitle}</title>\n        <meta name=\"description\" content={headDescription} />\n      </Helmet>\n      <Header isTransparentOnTop={isHeaderTransparentOnTop} />\n      <main className={classNamesMain}>{children}</main>\n      {!isNoFooter && <Footer />}\n    </>\n  );\n}\n\nBasePage.propTypes = {\n  children: PropTypes.node,\n  headTitle: PropTypes.string.isRequired,\n  headDescription: PropTypes.string.isRequired,\n  scrollUpDeps: PropTypes.arrayOf(PropTypes.any),\n  isNoFooter: PropTypes.bool,\n  isHeaderTransparentOnTop: PropTypes.bool,\n  sectionClassMain: PropTypes.string,\n};\n\nBasePage.defaultProps = {\n  children: null,\n  scrollUpDeps: [],\n  isNoFooter: false,\n  isHeaderTransparentOnTop: false,\n  sectionClassMain: '',\n};\n\nexport default BasePage;\n","const texts = {\n  title404: '404',\n  buttonText: 'Вернуться на главную',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport Lottie from 'lottie-web';\nimport texts from './locales/RU';\nimport animation404 from '../../assets/animation/Illustration_404.json';\nimport { TitleH2 } from '../utils';\nimport './AnimatedPageContainer.scss';\n\nfunction AnimatedPageContainer({\n  is404,\n  titleText,\n  buttonText,\n  staticPage,\n  urlBack,\n}) {\n  const animationContainer = useRef();\n\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation404,\n    });\n  }, []);\n\n  return (\n    <div className=\"animated-section\">\n      <div ref={animationContainer} className=\"animated-section__animation\" />\n      {is404 && <h1 className=\"page-not-found-title\">{texts.title404}</h1>}\n      <TitleH2 title={titleText} sectionClass=\"animated-section__subtitle\" />\n      <Link\n        className=\"button animated-section__link button_color_blue\"\n        to={staticPage ? `${urlBack}` : '/'}\n      >\n        {buttonText}\n      </Link>\n    </div>\n  );\n}\n\nAnimatedPageContainer.propTypes = {\n  is404: PropTypes.bool,\n  titleText: PropTypes.string,\n  buttonText: PropTypes.string,\n  staticPage: PropTypes.bool,\n  urlBack: PropTypes.string,\n};\n\nAnimatedPageContainer.defaultProps = {\n  is404: false,\n  titleText: '',\n  buttonText: texts.buttonText,\n  staticPage: false,\n  urlBack: '',\n};\n\nexport default AnimatedPageContainer;\n","const texts = {\n  altText: 'Превью к видео:',\n  linkTextMovie: 'смотреть трейлер',\n  linkTextVideo: 'смотреть видео',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { PopupsContext } from '../../../contexts';\nimport { Caption, Card, Rubric, TitleH2 } from '../../utils';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport './CardFilm.scss';\n\nfunction CardFilm({\n  data: { image, title, info, link, tags, duration },\n  sectionClass,\n  isVideo,\n}) {\n  const { openPopupVideo } = useContext(PopupsContext);\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      image,\n      title,\n      info,\n      link,\n      tags,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  return (\n    <Card sectionClass={`card-film ${sectionClass}`}>\n      <div className=\"card-film__video\">\n        {renderVideoPlayback(renderPreview())}\n      </div>\n\n      <div className=\"card-film__video-info\">\n        <div className=\"card-film__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-film__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-film__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link &&\n          renderVideoPlayback(\n            isVideo ? texts.linkTextVideo : texts.linkTextMovie\n          )}\n      </div>\n    </Card>\n  );\n\n  // Рендерим верхную часть с фоткой\n  function renderPreview() {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          draggable=\"false\"\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.altText} ${title}`}\n          className=\"card-film__preview image-scale\"\n        />\n        {duration ? (\n          <span className=\"card-film__duration paragraph\">\n            {durationString}\n          </span>\n        ) : (\n          <ul className=\"card-film__rubric-list\">\n            {tags.map((tag) => (\n              <li key={tag.id}>\n                <Rubric title={tag.name} sectionClass=\"card-film__rubric\" />\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n\n  function renderVideoPlayback(childrenElem) {\n    return (\n      <button\n        className=\"link card-film__button\"\n        type=\"button\"\n        onClick={handleClick}\n        draggable=\"false\"\n      >\n        {childrenElem}\n      </button>\n    );\n  }\n}\n\nCardFilm.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  image: PropTypes.string,\n  title: PropTypes.string,\n  info: PropTypes.string,\n  link: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  sectionClass: PropTypes.string,\n  isVideo: PropTypes.bool,\n};\n\nCardFilm.defaultProps = {\n  data: {},\n  image: '',\n  title: '',\n  info: '',\n  link: '',\n  tags: [],\n  duration: '',\n  sectionClass: '',\n  isVideo: false,\n};\n\nexport default CardFilm;\n","import PropTypes from 'prop-types';\nimport { Card, TitleH2 } from '../../utils';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport './CardBook.scss';\n\nfunction CardBook({\n  data: { title, author, year, type, annotation },\n  sectionClass,\n}) {\n  const backgroundColor = { backgroundColor: type?.color };\n\n  return (\n    <article className={`card-container ${sectionClass}`}>\n      <Card sectionClass=\"card-book\">\n        <div className=\"card-book__cover\" style={backgroundColor || ''}>\n          <TitleH2 sectionClass=\"card-book__title\" title={title} />\n          <div className=\"card-book__info\">\n            <div className=\"card-book__border\" />\n            <p className=\"caption card-book__text\">{author}</p>\n            <p className=\"caption card-book__text\">{year}</p>\n          </div>\n        </div>\n      </Card>\n      <CardAnnotation description={annotation} />\n    </article>\n  );\n}\nCardBook.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  type: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  author: PropTypes.string,\n  year: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  annotation: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardBook.defaultProps = {\n  data: {},\n  type: {},\n  title: '',\n  author: '',\n  year: '',\n  annotation: '',\n  sectionClass: '',\n};\n\nexport default CardBook;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { staticImageUrl } from '../../../config/config';\nimport CardAnnotation from '../CardAnnotation/CardAnnotation';\nimport { Caption, Card, TitleH2 } from '../../utils';\nimport './CardArticle.scss';\n\nfunction CardArticle({\n  data: { title, info, annotation, image, articleUrl },\n  isMain,\n  color,\n  sectionClass,\n}) {\n  const classNames = [\n    'card-container',\n    isMain\n      ? 'card-container_type_main-article'\n      : 'card-container_type_article fade-in',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n  const cardColor = isMain ? 'yellow' : color;\n\n  return (\n    <article className={classNames}>\n      <Card\n        sectionClass={`article-card ${isMain ? 'article-card_main' : ''}`}\n        color={cardColor}\n      >\n        <div className=\"article-card__title-wrap\">\n          <a\n            draggable=\"false\"\n            href={articleUrl}\n            className=\"article-card__link-wrap\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <TitleH2 sectionClass=\"article-card__title\" title={title} />\n          </a>\n          <Caption sectionClass=\"article-card__info\" title={info} />\n        </div>\n\n        {isMain && (\n          <div className=\"article-card__link-wrap article-card__link-wrap_content_article-img\">\n            <img\n              draggable=\"false\"\n              src={`${staticImageUrl}/${image}`}\n              alt={title}\n              className=\"article-card__image\"\n            />\n          </div>\n        )}\n\n        <a\n          draggable=\"false\"\n          href={articleUrl}\n          className=\"link article-card__link\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {texts.linkText}\n        </a>\n      </Card>\n      <CardAnnotation description={annotation} isMain={isMain} />\n    </article>\n  );\n}\n\nCardArticle.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  info: PropTypes.string,\n  image: PropTypes.string,\n  articleUrl: PropTypes.string,\n  annotation: PropTypes.string,\n  color: PropTypes.string,\n  isMain: PropTypes.bool,\n  sectionClass: PropTypes.string,\n};\n\nCardArticle.defaultProps = {\n  data: {},\n  title: '',\n  info: '',\n  image: '',\n  articleUrl: '',\n  annotation: '',\n  color: 'white',\n  isMain: false,\n  sectionClass: '',\n};\n\nexport default CardArticle;\n","const getServerErrors = (serverErrorObj) => {\n  if (\n    !(\n      typeof serverErrorObj === 'object' &&\n      !Array.isArray(serverErrorObj) &&\n      serverErrorObj !== null\n    )\n  ) {\n    throw Error('Invalid input');\n  }\n\n  return Object.values(serverErrorObj)\n    .map((err) => err)\n    .join(' ')\n    .trim();\n};\n\nexport default getServerErrors;\n","const texts = {\n  buttonTitle: 'Записаться',\n  buttonTitleSelected: 'Отменить запись',\n  buttonCancelLoading: 'Отмена записи...',\n  buttonTitleDisabled: 'Запись закрыта',\n  remainSeatsText: 'Осталось',\n  eventCanceled: 'Извините, мы отменили это мероприятие',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport {\n  changeCaseOfFirstLetter,\n  formatDate,\n  formatPhoneNumber,\n  formatWordCase,\n} from '../../../utils/utils';\nimport { Button, ButtonDots } from '../../utils';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStAfishaEvent } from '../../../config/constants';\nimport './CardCalendar.scss';\n\nfunction CardCalendar({\n  cardData,\n  onEventSignUpClick,\n  onEventDescriptionClick,\n  sectionClass,\n  isWaitingResponse,\n  loadingEventId,\n}) {\n  const {\n    buttonTitle,\n    buttonTitleSelected,\n    buttonTitleDisabled,\n    remainSeatsText,\n    eventCanceled,\n    buttonCancelLoading,\n  } = texts;\n\n  const {\n    id,\n    booked,\n    tags,\n    title,\n    startAt,\n    endAt,\n    address,\n    contact,\n    remainSeats,\n    phoneNumber,\n    canceled,\n  } = cardData;\n\n  const startDateParts = formatDate(startAt);\n  const endDayParts = formatDate(endAt);\n\n  // будет ли заблокирована кнопка\n  const isDisabled = (remainSeats < 1 && !booked) || canceled;\n  const isCanceling = isWaitingResponse && booked && loadingEventId === id;\n\n  function changeStateOfEvent() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventSignUpClick(cardData);\n  }\n\n  function prepareDataForAboutEventPopup() {\n    setLocalStorageData(localStAfishaEvent, cardData);\n    onEventDescriptionClick();\n  }\n\n  const classNames = [\n    'calendar',\n    booked ? 'calendar_selected' : '',\n    canceled ? 'calendar_canceled' : '',\n    sectionClass,\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <article className={classNames}>\n      <div className=\"calendar__caption\">\n        <div className=\"calendar__info\">\n          <p\n            className={`calendar__type ${\n              canceled ? 'calendar__type_canceled' : ''\n            }`}\n          >\n            {changeCaseOfFirstLetter(tags?.name)}\n          </p>\n          <p\n            className={`calendar__weekday ${\n              canceled ? 'calendar__weekday_canceled' : ''\n            }`}\n          >\n            {`${startDateParts.monthName} / ${startDateParts.weekdayName}`}\n          </p>\n        </div>\n        <div className=\"calendar__about\">\n          <h2\n            className={`section-title calendar__title ${\n              canceled ? 'calendar__title_canceled' : ''\n            }`}\n          >\n            {title}\n          </h2>\n          <p\n            className={`calendar__date ${\n              canceled ? 'calendar__date_canceled' : ''\n            }`}\n          >\n            {startDateParts.day}\n          </p>\n        </div>\n      </div>\n      <div className=\"calendar__meetup\">\n        <ul className=\"calendar__info-list\">\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__time ${\n                canceled ? 'calendar__time_canceled' : ''\n              }`}\n            >\n              {`${startDateParts.hour}:${startDateParts.minutes}–${endDayParts.hour}:${endDayParts.minutes}`}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__place ${\n                canceled ? 'calendar__place_canceled' : ''\n              }`}\n            >\n              {address}\n            </p>\n          </li>\n          <li className=\"calendar__info-item\">\n            <p\n              className={`calendar__contact ${\n                canceled ? 'calendar__contact_canceled' : ''\n              }`}\n            >\n              {`${contact}, `}\n              {renderPhone()}\n            </p>\n          </li>\n        </ul>\n        <div className=\"calendar__submit\">{renderSubmitZone()}</div>\n      </div>\n    </article>\n  );\n\n  function renderPhone() {\n    return (\n      <a\n        className={`calendar__phone ${\n          canceled ? 'calendar__phone_canceled' : ''\n        }`}\n        href={`tel:${phoneNumber}`}\n      >\n        {formatPhoneNumber(phoneNumber)}\n      </a>\n    );\n  }\n\n  function renderSubmitZone() {\n    if (canceled)\n      return <p className=\"calendar__text-canceled\">{eventCanceled}</p>;\n\n    return (\n      <>\n        <Button\n          title={buttonTitle}\n          titleSelected={\n            isCanceling ? buttonCancelLoading : buttonTitleSelected\n          }\n          color=\"blue\"\n          isDisabled={isCanceling || isDisabled}\n          onClick={changeStateOfEvent}\n          isBooked={booked}\n        />\n        <p className=\"calendar__place-left\">\n          {/* если запись закрыта, то карточка не должна быть выделенной */}\n          {(isDisabled && buttonTitleDisabled) ||\n            (!booked &&\n              `${remainSeatsText} ${remainSeats} ${formatWordCase(\n                remainSeats\n              )}`)}\n        </p>\n        <ButtonDots handleClick={prepareDataForAboutEventPopup} />\n      </>\n    );\n  }\n}\n\nCardCalendar.propTypes = {\n  cardData: PropTypes.objectOf(PropTypes.any),\n  onEventSignUpClick: PropTypes.func,\n  onEventDescriptionClick: PropTypes.func,\n  sectionClass: PropTypes.string,\n  isWaitingResponse: PropTypes.bool,\n  loadingEventId: PropTypes.number,\n};\n\nCardCalendar.defaultProps = {\n  cardData: {},\n  onEventSignUpClick: () => {},\n  onEventDescriptionClick: () => {},\n  sectionClass: '',\n  isWaitingResponse: false,\n  loadingEventId: undefined,\n};\n\nexport default CardCalendar;\n","const texts = {\n  linkText: 'смотреть видео',\n  imageAlt: 'Превью к видео',\n};\n\nexport default texts;\n","import { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { PopupsContext } from '../../../contexts';\nimport { Caption, Card, TitleH2 } from '../../utils';\nimport { changeCaseOfFirstLetter, formatDuration } from '../../../utils/utils';\nimport { staticImageUrl } from '../../../config/config';\nimport { setLocalStorageData } from '../../../hooks/useLocalStorage';\nimport { localStChosenVideo } from '../../../config/constants';\nimport parserLinkYoutube from '../../../utils/parser-link-youtube';\nimport './CardVideoMain.scss';\n\nfunction CardVideoMain({ data: { title, info, link, image, duration } }) {\n  const { openPopupVideo } = useContext(PopupsContext);\n\n  // Пробрасываем данные в попап\n  const handleClick = () => {\n    setLocalStorageData(localStChosenVideo, {\n      title,\n      info,\n      link,\n      image,\n      duration,\n    });\n    openPopupVideo();\n  };\n\n  const { imagePreview } = parserLinkYoutube(link);\n\n  return (\n    <div className=\"card-container card-container_type_main-video\">\n      <Card sectionClass=\"card-video-main\" color=\"yellow\">\n        <div className=\"card-video-main__title-wrap\">\n          <TitleH2\n            sectionClass=\"card-video-main__title\"\n            title={changeCaseOfFirstLetter(title)}\n          />\n          <Caption\n            sectionClass=\"card-video-main__info\"\n            title={changeCaseOfFirstLetter(info)}\n          />\n        </div>\n        {link && renderVideoPlayback(texts.linkText)}\n      </Card>\n\n      <Card sectionClass=\"card-video-main__video\">\n        {renderVideoPlayback(renderPreview())}\n      </Card>\n    </div>\n  );\n\n  // Рендерим верхную часть с фоткой и props.children из компонета выше\n  function renderPreview() {\n    let durationString = '';\n\n    if (duration) {\n      const { hours, minutes, seconds } = formatDuration(duration);\n      durationString =\n        hours > 0 ? `${hours}:${minutes}:${seconds}` : `${minutes}:${seconds}`;\n    }\n\n    return (\n      <>\n        <img\n          src={`${staticImageUrl}/${image}` || imagePreview}\n          alt={`${texts.imageAlt}: ${title}`}\n          className=\"card-video-main__image image-scale\"\n        />\n\n        <span className=\"card-video-main__duration paragraph\">\n          {durationString}\n        </span>\n      </>\n    );\n  }\n\n  function renderVideoPlayback(childrenElem) {\n    return (\n      <button\n        className=\"link card-video-main__button\"\n        type=\"button\"\n        onClick={handleClick}\n      >\n        {childrenElem}\n      </button>\n    );\n  }\n}\n\nCardVideoMain.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n};\n\nCardVideoMain.defaultProps = {\n  data: {},\n};\n\nexport default CardVideoMain;\n","const texts = {\n  labelText: 'Показать ответ',\n};\n\nexport default texts;\n","import { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { QUESTIONS_URL } from '../../../config/routes';\nimport { ButtonRound, Card, Rubric, TitleH2 } from '../../utils';\nimport './CardQuestion.scss';\n\nconst animationTransition = 300;\n\nfunction CardQuestion({\n  data: { title, tags, answer },\n  sectionClass,\n  href,\n  isQuestionsPage,\n  isOpenByDefault,\n}) {\n  const [isOpened, setIsOpened] = useState(false);\n  const [isAnimated, setIsAnimated] = useState(false);\n  const ref = useRef();\n\n  const handleClickButton = () => {\n    if (isQuestionsPage) {\n      if (isOpened) {\n        setIsAnimated(false);\n        setTimeout(() => {\n          setIsOpened(false);\n        }, animationTransition);\n      } else {\n        setIsOpened(true);\n        setTimeout(() => {\n          setIsAnimated(true);\n        }, animationTransition);\n      }\n    }\n  };\n\n  const getDynamicStyle = () => {\n    if (ref && ref.current && isOpened) {\n      return {\n        minHeight: ref.current.clientHeight,\n      };\n    }\n\n    if (isOpenByDefault && isAnimated) return { height: 'auto' };\n\n    return { height: 0 };\n  };\n\n  const tagsClassNames = [\n    'card-question__tags',\n    isQuestionsPage ? 'card-question__tags_questions-page' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  const answerWrapperClassNames = [\n    'card-question__answer',\n    isOpened ? 'card-question__answer_opened' : '',\n  ]\n    .join(' ')\n    .trim();\n\n  useEffect(() => {\n    if (ref && ref.current && isOpenByDefault) {\n      setIsOpened(true);\n      setIsAnimated(true);\n    }\n  }, [ref.current]);\n\n  return (\n    <Card sectionClass={`card-question ${sectionClass}`}>\n      <div className=\"card-question__wrap\">\n        {isQuestionsPage && (\n          <ButtonRound\n            label={texts.labelText}\n            sectionClass=\"button-round__questions-page clickable\"\n            color=\"lightblue\"\n            onClick={handleClickButton}\n            isClick={isOpened}\n          />\n        )}\n\n        {renderTitleWrap(\n          <TitleH2\n            sectionClass=\"card-question__title clickable\"\n            title={title}\n          />\n        )}\n\n        <ul className={tagsClassNames}>\n          {tags?.map((tag) => (\n            <li className=\"card-question__tag\" key={tag?.id}>\n              <Rubric title={tag?.name} sectionClass=\"card-question__rubric\" />\n            </li>\n          ))}\n        </ul>\n      </div>\n      {isQuestionsPage && (\n        <div className={answerWrapperClassNames} style={getDynamicStyle()}>\n          <p\n            ref={ref}\n            className={`paragraph card-question__paragraph card-question__answer_text-hidden ${\n              isAnimated ? 'card-question__answer_text-active' : ''\n            }`}\n          >\n            {answer}\n          </p>\n        </div>\n      )}\n    </Card>\n  );\n\n  function renderTitleWrap(childElement) {\n    if (isQuestionsPage)\n      return (\n        <div\n          className=\"card-question__title-wrap\"\n          onClick={handleClickButton}\n          onKeyPress={handleClickButton}\n          role=\"button\"\n          tabIndex=\"0\"\n          aria-label={texts.labelText}\n        >\n          {childElement}\n        </div>\n      );\n\n    return (\n      <Link\n        to={href}\n        className=\"card-question__title-wrap\"\n        onClick={handleClickButton}\n      >\n        {childElement}\n      </Link>\n    );\n  }\n}\n\nCardQuestion.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  title: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.object),\n  sectionClass: PropTypes.string,\n  answer: PropTypes.string,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  isQuestionsPage: PropTypes.bool,\n  isOpenByDefault: PropTypes.bool,\n};\n\nCardQuestion.defaultProps = {\n  data: {},\n  title: '',\n  tags: [],\n  sectionClass: '',\n  answer: '',\n  href: QUESTIONS_URL,\n  isQuestionsPage: false,\n  isOpenByDefault: false,\n};\n\nexport default CardQuestion;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\nfunction getPlacesTags() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/tags/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// python was here :)\n// eslint-disable-next-line camelcase\nfunction getPlaces({ chosen, tags, age_restriction, city, limit, offset }) {\n  const query = chosen\n    ? { city, chosen, tags, age_restriction, limit, offset }\n    : { city, tags, age_restriction, limit, offset };\n  return axios\n    .get(`${baseURL}${apiUrl}/places/`, {\n      params: query,\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getChosenPlace({ city }) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/first/`, {\n      params: { city },\n    })\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction postPlace(data) {\n  return axios\n    .post(`${baseURL}${apiUrl}/places/`, data, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\nfunction getActivityTypes() {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/activity-types/`)\n    .then((response) => response.data.results)\n    .catch((err) => Promise.reject(err?.response));\n}\n\n// получение одного места\nfunction getPlace(id) {\n  return axios\n    .get(`${baseURL}${apiUrl}/places/${id}`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport {\n  getPlacesTags,\n  getPlaces,\n  postPlace,\n  getActivityTypes,\n  getChosenPlace,\n  getPlace,\n};\n","import './Paginate.scss';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\nimport { useScrollToTop } from '../../../hooks';\n\nconst Paginate = (props) => {\n  const { pageCount, sectionClass, value, onChange, dontUseScrollUp } = props;\n\n  if (!dontUseScrollUp) {\n    useScrollToTop(value);\n  }\n\n  return (\n    <ReactPaginate\n      containerClassName={`pagination ${sectionClass}`}\n      pageClassName=\"pagination__element\"\n      pageLinkClassName=\"pagination__element-link\"\n      activeLinkClassName=\"pagination__element-link_type_active\"\n      previousClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_previous\"\n      breakClassName=\"pagination__element\"\n      nextClassName=\"pagination__element pagination__arrow-element pagination__arrow-element_type_next\"\n      disabledClassName=\"pagination__arrow-element_type_disabled\"\n      pageCount={pageCount}\n      pageRangeDisplayed={3}\n      marginPagesDisplayed={1}\n      forcePage={value}\n      onPageChange={({ selected }) => onChange(selected)}\n      initialPage={0}\n    />\n  );\n};\n\nPaginate.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func,\n  pageCount: PropTypes.number.isRequired,\n  sectionClass: PropTypes.string,\n  dontUseScrollUp: PropTypes.bool,\n};\n\nPaginate.defaultProps = {\n  onChange: () => {},\n  sectionClass: '',\n  dontUseScrollUp: false,\n};\n\nexport default Paginate;\n","import PropTypes from 'prop-types';\nimport { Caption, ModificatedScrollbars } from '../../utils';\n\nfunction CardAnnotationContainer({ caption, children }) {\n  const classNamesDesc = [\n    'card-annotation__desc',\n    caption ? '' : 'card-annotation__desc_center',\n  ]\n    .join(' ')\n    .trim();\n\n  return (\n    <ModificatedScrollbars horizontalScrollClass=\"scroll-thumb\">\n      {caption && (\n        <Caption sectionClass=\"card-annotation__caption\" title={caption} />\n      )}\n\n      <div className={classNamesDesc}>{children}</div>\n    </ModificatedScrollbars>\n  );\n}\n\nCardAnnotationContainer.propTypes = {\n  caption: PropTypes.string,\n  children: PropTypes.node,\n};\n\nCardAnnotationContainer.defaultProps = {\n  caption: null,\n  children: null,\n};\n\nexport default CardAnnotationContainer;\n","import PropTypes from 'prop-types';\nimport { useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  const { currentUser } = useContext(CurrentUserContext);\n\n  return (\n    <Route>\n      {() => (currentUser ? <Component {...props} /> : <Redirect to=\"/\" />)}\n    </Route>\n  );\n}\n\nProtectedRoute.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n};\n\nexport default ProtectedRoute;\n","import { MAIN_PAGE_TITLE } from '../../../config/routes';\n\nconst mainPageTexts = {\n  headTitle: MAIN_PAGE_TITLE,\n  headDescription:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  CardAnimatedPlugText: 'Пока тут ничего нет',\n};\n\nexport default mainPageTexts;\n","import axios from 'axios';\nimport { apiUrl, baseURL } from '../config/config';\n\n// получить данные главной страницы\nfunction getMainPageData() {\n  return axios\n    .get(`${baseURL}${apiUrl}/main/`)\n    .then((response) => response.data)\n    .catch((err) => Promise.reject(new Error(`${err.message}`)));\n}\n\nexport default getMainPageData;\n","import { bbbsLinks } from '../../../../utils/external-links';\n\nconst texts = {\n  title:\n    'Наставники.про – цифровая информационная платформа организации «Старшие Братья Старшие Сестры». Созданная для поддержки наставников программы.',\n  link: bbbsLinks.about,\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, Logo, TitleH2 } from '../../utils';\nimport './CardStub.scss';\n\nfunction CardStub({ sectionClass }) {\n  return (\n    <Card sectionClass={`stub ${sectionClass}`} color=\"green\">\n      <div className=\"stub__upper-element\">\n        <a\n          className=\"stub__logo\"\n          href={texts.link}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Logo />\n        </a>\n      </div>\n      <div className=\"stub__content\">\n        <TitleH2 sectionClass=\"stub__text\" title={texts.title} />\n      </div>\n    </Card>\n  );\n}\n\nCardStub.propTypes = {\n  sectionClass: PropTypes.string,\n};\n\nCardStub.defaultProps = {\n  sectionClass: '',\n};\n\nexport default CardStub;\n","const texts = {\n  linkText: 'читать на сайте',\n};\n\nexport default texts;\n","import PropTypes from 'prop-types';\nimport texts from './locales/RU';\nimport { Card, TitleH3 } from '../../utils';\nimport './CardArticleBig.scss';\n\nfunction CardArticleBig({ title, color, articleUrl }) {\n  return (\n    <Card sectionClass=\"card-article\" color={color}>\n      <a\n        href={articleUrl}\n        className=\"card-article__link\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <TitleH3 sectionClass=\"card-article__title\" title={title} />\n      </a>\n      <a\n        className=\"link card-article__link\"\n        href={articleUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {texts.linkText}\n      </a>\n    </Card>\n  );\n}\n\nCardArticleBig.propTypes = {\n  color: PropTypes.string,\n  title: PropTypes.string,\n  articleUrl: PropTypes.string,\n};\n\nCardArticleBig.defaultProps = {\n  color: 'white',\n  title: '',\n  articleUrl: '#',\n};\n\nexport default CardArticleBig;\n","import { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Lottie from 'lottie-web';\nimport animation from '../../../assets/animation/ill_popup_recommend-success.json';\nimport { Card } from '../../utils';\nimport './CardAnimatedPlug.scss';\n\nfunction CardAnimatedPlug({ text, sectionClass }) {\n  const animationContainer = useRef(null);\n  useEffect(() => {\n    Lottie.loadAnimation({\n      container: animationContainer.current,\n      renderer: 'svg',\n      loop: true,\n      autoplay: true,\n      animationData: animation,\n    });\n  }, []);\n\n  return (\n    <Card sectionClass={sectionClass}>\n      <div className=\"card-animatedbox\">\n        <div className=\"card-animatedbox__animation\" ref={animationContainer} />\n        <p className=\"paragraph card-animatedbox__text\">{text}</p>\n      </div>\n    </Card>\n  );\n}\n\nCardAnimatedPlug.propTypes = {\n  text: PropTypes.string,\n  sectionClass: PropTypes.string,\n};\n\nCardAnimatedPlug.defaultProps = {\n  text: '',\n  sectionClass: '',\n};\n\nexport default CardAnimatedPlug;\n","import { Link } from 'react-router-dom';\nimport { useContext, useEffect, useState } from 'react';\nimport mainPageTexts from './locales/RU';\nimport { CurrentUserContext, PopupsContext } from '../../contexts';\nimport { useActivityTypes, useEventBooking } from '../../hooks';\nimport { QUESTIONS_URL, STORIES_URL } from '../../config/routes';\nimport { staticImageUrl } from '../../config/config';\nimport { ERROR_MESSAGES, localStAfishaEvent } from '../../config/constants';\nimport { randomizeArray } from '../../utils/utils';\nimport getMainPageData from '../../api/main-page';\nimport {\n  AnimatedPageContainer,\n  BasePage,\n  Card,\n  CardAnimatedPlug,\n  CardArticleBig,\n  CardCalendar,\n  CardFilm,\n  CardPlace,\n  CardQuestion,\n  CardStub,\n  CardVideoMain,\n  Loader,\n  Widget,\n} from './index';\nimport './MainPage.scss';\nimport { getLocalStorageData } from '../../hooks/useLocalStorage';\n\n// количество отображаемых карточек с фильмами и вопросами\nconst MOVIES_COUNT = 4;\nconst QUESTIONS_COUNT = 3;\n\nconst { headTitle, headDescription, CardAnimatedPlugText } = mainPageTexts;\n\nfunction MainPage() {\n  const { currentUser } = useContext(CurrentUserContext);\n  const { openPopupAboutEvent } = useContext(PopupsContext);\n\n  const [mainPageData, setMainPageData] = useState(null);\n  const [randomQuestions, setRandomQuestions] = useState([]);\n  const [randomMovies, setRandomMovies] = useState([]);\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  const [isPageError, setIsPageError] = useState(false);\n  const [isPageLoading, setIsPageLoading] = useState(true);\n  const { activityTypesSimplified } = useActivityTypes();\n\n  // запись/отписка на мероприятия\n  const { handleEventBooking, selectedEvent, isWaitingResponse } =\n    useEventBooking();\n\n  useEffect(() => {\n    if (selectedEvent) {\n      setMainPageData((prevData) => ({ ...prevData, event: selectedEvent }));\n    }\n  }, [selectedEvent]);\n\n  // запрос даты главной страницы при загрузке и при смене города\n  const getMainPageDataOnLoad = () => {\n    getMainPageData()\n      .then((data) => setMainPageData(data))\n      .catch(() => setIsPageError(true))\n      .finally(() => setIsCityChanging(false));\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      setIsCityChanging(true);\n    }\n    getMainPageDataOnLoad();\n  }, [currentUser?.city]);\n\n  // рандомизируем вопросы и фильмы 1 раз при загрузке страницы\n  useEffect(() => {\n    if (mainPageData && isPageLoading) {\n      setRandomQuestions(\n        randomizeArray(mainPageData.questions, QUESTIONS_COUNT)\n      );\n      setRandomMovies(randomizeArray(mainPageData.movies, MOVIES_COUNT));\n      setIsPageLoading(false);\n    }\n  }, [mainPageData]);\n\n  // глобальный лоадер (без футера)\n  if (!mainPageData && !isPageError) {\n    return <Loader isCentered />;\n  }\n\n  return (\n    <BasePage headTitle={headTitle} headDescription={headDescription}>\n      {isPageError ? (\n        <AnimatedPageContainer\n          titleText={ERROR_MESSAGES.generalErrorMessage.title}\n        />\n      ) : (\n        renderPageContent()\n      )}\n    </BasePage>\n  );\n\n  function renderEventsBlock() {\n    // карточка ивента\n    if (currentUser && mainPageData?.event) {\n      return (\n        <CardCalendar\n          sectionClass=\"scale-in\"\n          key={mainPageData.event?.id}\n          cardData={mainPageData.event}\n          onEventSignUpClick={handleEventBooking}\n          onEventDescriptionClick={openPopupAboutEvent}\n          isWaitingResponse={isWaitingResponse}\n          loadingEventId={\n            isWaitingResponse\n              ? getLocalStorageData(localStAfishaEvent)?.id\n              : undefined\n          }\n        />\n      );\n    }\n\n    // красно-зеленая заглушка\n    return <CardStub sectionClass=\"scale-in\" />;\n  }\n\n  function renderHistoryBlock() {\n    if (mainPageData?.history) {\n      return (\n        <Card\n          sectionClass=\"lead__media scale-in\"\n          key={mainPageData?.history?.id}\n        >\n          <Link\n            to={`${STORIES_URL}/${mainPageData?.history?.id}`}\n            className=\"lead__link\"\n          >\n            {mainPageData?.history?.title}\n          </Link>\n          <img\n            src={`${staticImageUrl}/${mainPageData?.history?.image}`}\n            alt={mainPageData.history.title}\n            className=\"lead__media-img\"\n          />\n        </Card>\n      );\n    }\n\n    return (\n      <CardAnimatedPlug\n        text={CardAnimatedPlugText}\n        sectionClass=\"lead__media scale-in\"\n      />\n    );\n  }\n\n  function renderPlaceSection() {\n    return (\n      <section className=\"place main-section page__section\">\n        <CardPlace\n          key={mainPageData?.place?.id}\n          data={mainPageData?.place}\n          sectionClass=\"card-container_type_main-article scale-in\"\n          activityTypesSimplified={activityTypesSimplified}\n          isBig\n          isMainPage\n        />\n      </section>\n    );\n  }\n\n  function renderArticleSection(article, color) {\n    return (\n      <section className=\"articles main-section page__section scale-in\">\n        <CardArticleBig\n          key={article?.id}\n          title={article?.title}\n          color={color}\n          articleUrl={article?.articleUrl}\n        />\n      </section>\n    );\n  }\n\n  function renderMoviesSection() {\n    const additionalMoviesClasses =\n      randomMovies.length > 1\n        ? `movies_pagination movies_pagination_${randomMovies.length} scale-in`\n        : '';\n    // возвращаем\n    return (\n      <section className=\"movies main-section page__section cards-grid cards-grid_content_small-cards\">\n        {randomMovies.map((movie) => (\n          <CardFilm\n            data={movie}\n            key={movie.id}\n            sectionClass={additionalMoviesClasses}\n          />\n        ))}\n      </section>\n    );\n  }\n\n  function renderVideoSection() {\n    return (\n      <section className=\"video main-section page__section scale-in\">\n        <CardVideoMain\n          key={mainPageData?.video?.id}\n          data={mainPageData?.video}\n        />\n      </section>\n    );\n  }\n\n  function renderQuestionBlock() {\n    return (\n      <div className=\"main-questions__container\">\n        {randomQuestions.map((item) => (\n          <CardQuestion\n            key={item?.id}\n            data={item}\n            href={{\n              pathname: QUESTIONS_URL,\n              state: { fromMainPage: true, question: item },\n            }}\n            sectionClass={`main-section__question scale-in ${\n              randomQuestions.length > 2 ? ' main-questions_pagination' : ''\n            }`}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  function renderPageContent() {\n    return (\n      <>\n        <section className=\"lead page__section\">\n          <div className=\"card-container card-container_type_identical\">\n            {isCityChanging ? <Loader isNested /> : renderEventsBlock()}\n            {renderHistoryBlock()}\n          </div>\n        </section>\n\n        <section className=\"main-questions main-section page__section fade-in\">\n          <div className=\"card-container card-container_type_iframe\">\n            <Widget\n              title=\"Facebook\"\n              link=\"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FBigBrothers.BigSisters.Russia&tabs=timeline&width=420&height=627&small_header=false&adapt_container_width=false&hide_cover=false&show_facepile=true&appId\"\n            />\n            {randomQuestions?.length > 0 && renderQuestionBlock()}\n          </div>\n        </section>\n\n        {mainPageData?.place && renderPlaceSection()}\n\n        {mainPageData?.articles?.length > 0 &&\n          renderArticleSection(mainPageData?.articles[0], 'blue')}\n\n        {randomMovies?.length > 0 && renderMoviesSection()}\n\n        {mainPageData?.video && renderVideoSection()}\n\n        {mainPageData?.articles?.length > 1 &&\n          renderArticleSection(mainPageData?.articles[1], 'green')}\n      </>\n    );\n  }\n}\n\nexport default MainPage;\n","import { lazy, Suspense } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProtectedRoute from '../components/ProtectedRoute/ProtectedRoute';\nimport {\n  ABOUT_US_URL,\n  AFISHA_URL,\n  ARTICLES_URL,\n  BOOKS_URL,\n  CATALOG_ITEM_URL,\n  CATALOG_URL,\n  MAIN_PAGE_URL,\n  MOVIES_URL,\n  NOT_FOUND_URL,\n  PLACES_URL,\n  PROFILE_URL,\n  QUESTIONS_URL,\n  READ_AND_WATCH_URL,\n  RIGHTS_ARTICLE_URL,\n  RIGHTS_URL,\n  STORIES_URL,\n  VIDEO_URL,\n} from '../config/routes';\nimport { Loader } from '../components/utils';\nimport MainPage from '../pages/MainPage/MainPage';\n\n// ленивая загрузка страниц\nconst AboutUs = lazy(() => import('../pages/AboutUs/AboutUs'));\nconst Calendar = lazy(() => import('../pages/Calendar/Calendar'));\nconst Questions = lazy(() => import('../pages/Questions/Questions'));\nconst Profile = lazy(() => import('../pages/Profile/Profile'));\nconst Places = lazy(() => import('../pages/Places/Places'));\nconst Rights = lazy(() => import('../pages/Rights/Rights'));\nconst RightsArticle = lazy(() =>\n  import('../pages/RightsArticle/RightsArticle')\n);\nconst Movies = lazy(() => import('../pages/Movies/Movies'));\nconst ReadAndWatch = lazy(() => import('../pages/ReadAndWatch/ReadAndWatch'));\nconst Catalog = lazy(() => import('../pages/Catalog/Catalog'));\nconst CatalogArticle = lazy(() =>\n  import('../pages/CatalogArticle/CatalogArticle')\n);\nconst Video = lazy(() => import('../pages/Video/Video'));\nconst Books = lazy(() => import('../pages/Books/Books'));\nconst Articles = lazy(() => import('../pages/Articles/Articles'));\nconst Stories = lazy(() => import('../pages/Stories/Stories'));\nconst PageNotFound = lazy(() => import('../pages/PageNotFound/PageNotFound'));\n\nfunction Router() {\n  return (\n    <Suspense fallback={<Loader isCentered />}>\n      <Switch>\n        <Route exact path={MAIN_PAGE_URL} component={MainPage} />\n\n        <Route exact path={ABOUT_US_URL} component={AboutUs} />\n\n        <Route exact path={AFISHA_URL} component={Calendar} />\n\n        <Route exact path={QUESTIONS_URL} component={Questions} />\n\n        <ProtectedRoute exact path={PROFILE_URL} component={Profile} />\n\n        <Route exact path={PLACES_URL} component={Places} />\n\n        <Route exact path={RIGHTS_URL} component={Rights} />\n\n        <Route path={RIGHTS_ARTICLE_URL} component={RightsArticle} />\n\n        <Route exact path={MOVIES_URL} component={Movies} />\n\n        <Route exact path={READ_AND_WATCH_URL} component={ReadAndWatch} />\n\n        <Route exact path={CATALOG_URL} component={Catalog} />\n\n        <Route path={CATALOG_ITEM_URL} component={CatalogArticle} />\n\n        <Route exact path={VIDEO_URL} component={Video} />\n\n        <Route exact path={BOOKS_URL} component={Books} />\n\n        <Route exact path={ARTICLES_URL} component={Articles} />\n\n        <Route path={`${STORIES_URL}/:storyId?`} component={Stories} />\n\n        <Route path={NOT_FOUND_URL} component={PageNotFound} />\n      </Switch>\n    </Suspense>\n  );\n}\n\nexport default Router;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport './App.scss';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { useLocation } from 'react-router-dom';\nimport Router from './navigation/Router';\nimport Loader from './components/utils/Loader/Loader';\n// попапы\nimport {\n  PopupAboutEvent,\n  PopupCities,\n  PopupConfirmation,\n  PopupError,\n  PopupLogin,\n  PopupSuccessfully,\n  PopupVideo,\n} from './components/Popups';\n// логины, авторизация\nimport {\n  CitiesContext,\n  CurrentUserContext,\n  ErrorsContext,\n  PopupsContext,\n} from './contexts';\n// хуки\nimport { useAuth, useCities } from './hooks';\n\nfunction App() {\n  const { pathname } = useLocation();\n\n  // стейт переменные попапов\n  const [isPopupConfirmationOpen, setIsPopupConfirmationOpen] = useState(false);\n  const [isPopupSuccessfullyOpen, setIsPopupSuccessfullyOpen] = useState(false);\n  const [isPopupAboutDescriptionOpen, setIsPopupAboutDescriptionOpen] =\n    useState(false);\n  const [isPopupErrorOpen, setIsPopupErrorOpen] = useState(false);\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = useState(false);\n  const [isPopupCitiesOpen, setIsPopupCitiesOpen] = useState(false);\n  const [isVideoPopupOpen, setIsVideoPopupOpen] = useState(false);\n  const [isWithoutRegister, setIsWithoutRegister] = useState(false);\n\n  // управление общими попапами (открыть/закрыть)\n  function closeAllPopups() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(false);\n    setIsPopupAboutDescriptionOpen(false);\n    setIsVideoPopupOpen(false);\n  }\n\n  function openPopupConfirmation() {\n    setIsPopupConfirmationOpen(true);\n  }\n\n  function openPopupSuccessfully() {\n    setIsPopupConfirmationOpen(false);\n    setIsPopupSuccessfullyOpen(true);\n  }\n\n  function openPopupAboutEvent(withoutRegister) {\n    if (withoutRegister) {\n      setIsWithoutRegister(true);\n    } else {\n      setIsWithoutRegister(false);\n    }\n    setIsPopupAboutDescriptionOpen(true);\n  }\n\n  function openPopupError() {\n    setIsPopupErrorOpen(true);\n  }\n\n  function closePopupError() {\n    setIsPopupErrorOpen(false);\n  }\n\n  function openPopupCities() {\n    setIsPopupCitiesOpen(true);\n  }\n\n  function closePopupCities() {\n    setIsPopupCitiesOpen(false);\n  }\n\n  function openPopupLogin() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function closePopupLogin() {\n    setIsPopupLoginOpen(false);\n  }\n\n  function openPopupVideo() {\n    setIsVideoPopupOpen(true);\n  }\n\n  // контекст попапов\n  const popupsContextValue = {\n    closeAllPopups,\n    closePopupLogin,\n    openPopupConfirmation,\n    openPopupSuccessfully,\n    openPopupAboutEvent,\n    openPopupError,\n    openPopupCities,\n    openPopupLogin,\n    openPopupVideo,\n  };\n\n  // текущий юзер/контекст\n  const [currentUser, setCurrentUser] = useState(null);\n  const updateUser = (value) => setCurrentUser(value);\n\n  const currentUserContextValue = useMemo(\n    () => ({ currentUser, updateUser }),\n    [currentUser]\n  );\n\n  // список городов/контекст\n  const { cities, defaultCity } = useCities();\n\n  const citiesContextValue = useMemo(\n    () => ({ cities, defaultCity }),\n    [cities, defaultCity]\n  );\n\n  // серверные ошибки/контекст\n  const [serverError, setServerError] = useState(null);\n  const setError = (value) => setServerError(value);\n  const clearError = () => setServerError(null);\n\n  const errorsContextValue = useMemo(\n    () => ({ serverError, setError, clearError }),\n    [serverError]\n  );\n\n  const { isCheckingToken, checkToken } = useAuth(updateUser);\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  // закрытие всех попапов при смене страницы, очистка ошибок\n  useEffect(() => {\n    closeAllPopups();\n    closePopupError();\n    closePopupCities();\n    clearError();\n  }, [pathname]);\n\n  // эффект закрытия модалок по Escape\n  useEffect(() => {\n    window.addEventListener('keyup', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    });\n  }, []);\n\n  return (\n    <HelmetProvider>\n      <CitiesContext.Provider value={citiesContextValue}>\n        <CurrentUserContext.Provider value={currentUserContextValue}>\n          <ErrorsContext.Provider value={errorsContextValue}>\n            <PopupsContext.Provider value={popupsContextValue}>\n              <div className=\"page\">\n                {!isCheckingToken ? <Router /> : <Loader isCentered />}\n                <PopupConfirmation\n                  isOpen={isPopupConfirmationOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupSuccessfully\n                  isOpen={isPopupSuccessfullyOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupAboutEvent\n                  isWithoutRegister={isWithoutRegister}\n                  isOpen={isPopupAboutDescriptionOpen}\n                  onClose={closeAllPopups}\n                />\n                <PopupLogin\n                  isOpen={isPopupLoginOpen}\n                  onClose={closePopupLogin}\n                />\n                <PopupCities\n                  isOpen={isPopupCitiesOpen}\n                  onClose={closePopupCities}\n                />\n                <PopupError\n                  isOpen={isPopupErrorOpen}\n                  onClose={closePopupError}\n                />\n                <PopupVideo\n                  isOpen={isVideoPopupOpen}\n                  onClose={closeAllPopups}\n                />\n              </div>\n            </PopupsContext.Provider>\n          </ErrorsContext.Provider>\n        </CurrentUserContext.Provider>\n      </CitiesContext.Provider>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}