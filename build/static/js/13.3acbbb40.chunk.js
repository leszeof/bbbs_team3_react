(this.webpackJsonpbbbs_team3_react=this.webpackJsonpbbbs_team3_react||[]).push([[13],{180:function(t,e,n){"use strict";var c=n(2),i=(n(182),n(0));function r(t){var e=t.filterList,n=t.name,r=t.handleClick,a=["tags",t.sectionClass].join(" ").trim(),u=["tags__list",e.length>3?"tags__list_mobile":""].join(" ").trim();return Object(i.jsx)("div",{className:a,children:Object(i.jsx)("ul",{className:u,children:e.map((function(t){return Object(i.jsx)("li",{className:"tags__list-item",children:Object(i.jsx)(c.r,{name:n,value:null===t||void 0===t?void 0:t.filter,title:null===t||void 0===t?void 0:t.name,isActive:null===t||void 0===t?void 0:t.isActive,onClick:r})},null===t||void 0===t?void 0:t.name)}))})})}r.defaultProps={filterList:[],sectionClass:"",name:"",handleClick:function(){}},e.a=r},181:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var c=function(t,e){var n=e.inputValue,c=e.isChecked;t((function(t){return t.map((function(t){return t.filter===n&&(t.isActive=c),t}))}))},i=function(t,e){var n=e.inputValue,c=e.isChecked;t((function(t){return t.map((function(t){return t.filter===n?t.isActive=c:t.isActive=!1,t}))}))},r=function(t,e){t((function(t){return t.map((function(t){return t.filter===e?t.isActive=!0:t.isActive=!1,t}))}))},a=function(t,e){t((function(t){return t.map((function(t){return t.filter===e&&(t.isActive=!1),t}))}))},u=function(t){t((function(t){return t.map((function(t){return t.isActive=!1,t}))}))}},182:function(t,e,n){},194:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));var c=n(14),i=n.n(c),r=n(6);function a(t){var e=t.limit,n=t.offset,c=t.tags,a=t.resource_group,u=a?{limit:e,offset:n,tags:c,resource_group:a}:{limit:e,offset:n,tags:c};return i.a.get("".concat(r.b).concat(r.a,"/videos/"),{params:u}).then((function(t){return t.data})).catch((function(t){return Promise.reject(new Error("".concat(t.message)))}))}function u(){return i.a.get("".concat(r.b).concat(r.a,"/videos/tags/")).then((function(t){return t.data})).catch((function(t){return Promise.reject(new Error("".concat(t.message)))}))}function o(t){return i.a.get("".concat(r.b).concat(r.a,"/videos/").concat(t)).then((function(t){return t.data})).catch((function(t){return Promise.reject(new Error("".concat(t.message)))}))}},236:function(t,e,n){},264:function(t,e,n){"use strict";n.r(e);var c=n(13),i=n(46),r=n(5),a=n(1),u=n(16),o=n(3),s={headTitle:"".concat(o.l," | ").concat(o.E),headDescription:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u0432\u0438\u0434\u0435\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c",title:o.E,resourceGroupTag:"\u0420\u0435\u0441\u0443\u0440\u0441\u043d\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430",textStubNoData:"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u0432\u0438\u0434\u0435\u043e \u043f\u0443\u0441\u0442\u0430. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u043e\u0437\u0436\u0435!"},l=n(4),f=n(8),j=n(7),d=n(181),b=n(194),v=n(11),O=n(10),m=n(44),h=n(53),g=n(47),p=n(45),x=n(180),_=n(2),C=(n(236),n(0)),E=8,S=12,A=16,w=1023,k=1450,N=s.headTitle,P=s.headDescription,T=s.title,L=s.resourceGroupTag,M=s.textStubNoData;e.default=function(){var t=Object(u.h)().state,e=Object(a.useContext)(f.d).openPopupVideo,n=Object(a.useContext)(f.b).currentUser,o=Object(a.useContext)(f.c).setError,s=Object(a.useContext)(f.d).openPopupError,F=Object(a.useState)(null),D=Object(r.a)(F,2),G=D[0],V=D[1],z=Object(a.useState)(0),R=Object(r.a)(z,2),y=R[0],J=R[1],q=Object(a.useState)(0),U=Object(r.a)(q,2),B=U[0],H=U[1],I=Object(a.useState)({}),K=Object(r.a)(I,2),Q=K[0],W=K[1],X=Object(a.useState)(null),Y=Object(r.a)(X,2),Z=Y[0],$=Y[1],tt=Object(a.useState)(null),et=Object(r.a)(tt,2),nt=et[0],ct=et[1],it=Object(a.useState)(!0),rt=Object(r.a)(it,2),at=rt[0],ut=rt[1],ot=Object(a.useState)(!1),st=Object(r.a)(ot,2),lt=st[0],ft=st[1],jt=Object(a.useState)(!1),dt=Object(r.a)(jt,2),bt=dt[0],vt=dt[1],Ot=Object(a.useState)(!0),mt=Object(r.a)(Ot,2),ht=mt[0],gt=mt[1],pt=Object(a.useState)(!1),xt=Object(r.a)(pt,2),_t=xt[0],Ct=xt[1],Et=function(t,e){t===l.a?(Object(d.e)(ct,l.a),gt(!0)):(Object(d.c)(ct,{inputValue:t,isChecked:e}),Object(d.b)(ct,l.a),gt(!1)),ft(!0)},St=function(){var t=nt.filter((function(t){return t.isActive&&t.filter!==l.a}));return{activeTags:t.filter((function(t){return t.filter!==L})).map((function(t){return t.filter})).join(","),isResourceGroup:t.some((function(t){return t.filter===L}))}},At=function(t,e){var n=lt?0:G*B,i=0===B&&Q&&!e?G+1:G,r=B>0&&Q&&!e?n+1:n;Object(b.b)(Object(c.a)({limit:i,offset:r},t)).then((function(t){var n=t.results,c=t.count;J(Q&&!e?Math.ceil((c-1)/G):Math.ceil(c/G)),0===B&&Q&&!e?($((function(){return n.filter((function(t){return!(null===t||void 0===t?void 0:t.pinnedFullSize)}))})),gt(!0)):$(n)})).catch((function(){lt?(o(l.g.filterErrorMessage),s()):Ct(!0)})).finally((function(){ft(!1),vt(!1)}))},wt=function(){Promise.all([Object(b.c)(),Object(b.b)({limit:G+1})]).then((function(t){var e=Object(r.a)(t,2),c=e[0],a=e[1],u=a.results,o=a.count,s=u,f=s.find((function(t){return null===t||void 0===t?void 0:t.pinnedFullSize}));W(f),f?($((function(){return s.filter((function(t){return!(null===t||void 0===t?void 0:t.pinnedFullSize)}))})),J(Math.ceil((o-1)/G))):(s.pop(),$(s),J(Math.ceil(o/G))),function(t){var e=t.map((function(t){return{filter:null===t||void 0===t?void 0:t.slug.toLowerCase(),name:Object(v.a)(null===t||void 0===t?void 0:t.name),isActive:!1}})),c=[{filter:l.a,name:l.a,isActive:!0}].concat(Object(i.a)(e)),r=[{filter:l.a,name:l.a,isActive:!0},{filter:L,name:L,isActive:!1}].concat(Object(i.a)(e));n&&Object(b.b)({resource_group:!0}).then((function(t){t.count>0&&ct(r)})).catch((function(){return Ct(!0)})),ct(c)}(c)})).catch((function(){return Ct(!0)})).finally((function(){ut(!1)}))},kt=Object(j.f)((function(){if(nt&&lt){var t=St(),e=t.activeTags,n=t.isResourceGroup;e||n?At({tags:e,resource_group:n},!0):(Object(d.e)(ct,l.a),At({tags:e,resource_group:n},!1))}}),l.d),Nt=Object(j.f)(At,l.d);return Object(a.useEffect)((function(){lt&&kt()}),[lt]),Object(a.useEffect)((function(){t&&Object(b.a)(t.id).then((function(t){Object(O.e)(l.l,t),e()})).catch((function(){return Ct(!0)}))}),[t]),Object(a.useEffect)((function(){G&&wt()}),[G,n]),Object(a.useEffect)((function(){if(!at&&!lt){vt(!0);var t=St(),e=t.activeCategories,n=t.isResourceGroup,c={tags:e,resource_group:n};Nt(c,!(!e&&!n))}}),[B]),Object(a.useEffect)((function(){var t=window.matchMedia("(max-width: ".concat(w,"px)")),e=window.matchMedia("(max-width: ".concat(k,"px)")),n=function(){t.matches?V(E):e.matches?V(S):V(A)};return n(),t.addEventListener("change",n),e.addEventListener("change",n),function(){t.removeEventListener("change",n),e.removeEventListener("change",n)}}),[]),at?Object(C.jsx)(_.k,{isCentered:!0}):Object(C.jsx)(m.a,{headTitle:N,headDescription:P,children:_t?Object(C.jsx)(p.a,{titleText:l.g.generalErrorMessage.title}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("section",{className:"lead page__section",children:[Object(C.jsx)(_.w,{title:T,sectionClass:"video__title"}),(null===nt||void 0===nt?void 0:nt.length)>0&&!at&&Object(C.jsx)(x.a,{filterList:nt,name:"video",handleClick:Et})]}),function(){if(!Z&&!nt)return Object(C.jsx)(p.a,{titleText:M});return Object(C.jsx)(C.Fragment,{children:lt?Object(C.jsx)(_.k,{isPaginate:!0}):Object(C.jsxs)(C.Fragment,{children:[Pt(),y>1&&Object(C.jsx)("section",{className:"video__cards-paginate",children:Object(C.jsx)(_.q,{sectionClass:"cards-section__pagination ",pageCount:y,value:B,onChange:H})})]})})}()]})});function Pt(){return bt?Object(C.jsx)(_.k,{isPaginate:!0}):Object(C.jsxs)(C.Fragment,{children:[Q&&ht&&!B&&Object(C.jsx)("section",{className:"video__main-card page__section scale-in",children:Object(C.jsx)(h.a,{data:Q})}),Object(C.jsx)("section",{className:"video__cards-grid page__section",children:Z&&Z.map((function(t){return Object(C.jsx)(g.a,{data:t,sectionClass:"scale-in",isVideo:!0},null===t||void 0===t?void 0:t.id)}))})]})}}}}]);
//# sourceMappingURL=13.3acbbb40.chunk.js.map